(self.webpackChunkGboardPlus=self.webpackChunkGboardPlus||[]).push([[768],{9520:function(ti){ti.exports=function(){"use strict";var _i=function(x,w){return(_i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,E){M.__proto__=E}||function(M,E){for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&(M[O]=E[O])})(x,w)};function ge(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=x}_i(x,w),x.prototype=null===w?Object.create(w):(M.prototype=w.prototype,new M)}var R=function(){return R=Object.assign||function(w){for(var M,E=1,O=arguments.length;E<O;E++)for(var Z in M=arguments[E])Object.prototype.hasOwnProperty.call(M,Z)&&(w[Z]=M[Z]);return w},R.apply(this,arguments)};function G(x,w,M,E){return new(M||(M=Promise))(function(Z,Ae){function Me($e){try{Ye(E.next($e))}catch(rt){Ae(rt)}}function Ee($e){try{Ye(E.throw($e))}catch(rt){Ae(rt)}}function Ye($e){$e.done?Z($e.value):function O(Z){return Z instanceof M?Z:new M(function(Ae){Ae(Z)})}($e.value).then(Me,Ee)}Ye((E=E.apply(x,w||[])).next())})}function Dt(x,w){var E,O,Z,Ae,M={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return Ae={next:Me(0),throw:Me(1),return:Me(2)},"function"==typeof Symbol&&(Ae[Symbol.iterator]=function(){return this}),Ae;function Me(Ye){return function($e){return function Ee(Ye){if(E)throw new TypeError("Generator is already executing.");for(;M;)try{if(E=1,O&&(Z=2&Ye[0]?O.return:Ye[0]?O.throw||((Z=O.return)&&Z.call(O),0):O.next)&&!(Z=Z.call(O,Ye[1])).done)return Z;switch(O=0,Z&&(Ye=[2&Ye[0],Z.value]),Ye[0]){case 0:case 1:Z=Ye;break;case 4:return M.label++,{value:Ye[1],done:!1};case 5:M.label++,O=Ye[1],Ye=[0];continue;case 7:Ye=M.ops.pop(),M.trys.pop();continue;default:if(!(Z=(Z=M.trys).length>0&&Z[Z.length-1])&&(6===Ye[0]||2===Ye[0])){M=0;continue}if(3===Ye[0]&&(!Z||Ye[1]>Z[0]&&Ye[1]<Z[3])){M.label=Ye[1];break}if(6===Ye[0]&&M.label<Z[1]){M.label=Z[1],Z=Ye;break}if(Z&&M.label<Z[2]){M.label=Z[2],M.ops.push(Ye);break}Z[2]&&M.ops.pop(),M.trys.pop();continue}Ye=w.call(x,M)}catch($e){Ye=[6,$e],O=0}finally{E=Z=0}if(5&Ye[0])throw Ye[1];return{value:Ye[0]?Ye[1]:void 0,done:!0}}([Ye,$e])}}}function jt(x,w,M){if(M||2===arguments.length)for(var Z,E=0,O=w.length;E<O;E++)(Z||!(E in w))&&(Z||(Z=Array.prototype.slice.call(w,0,E)),Z[E]=w[E]);return x.concat(Z||w)}for(var h=function(){function x(w,M,E,O){this.left=w,this.top=M,this.width=E,this.height=O}return x.prototype.add=function(w,M,E,O){return new x(this.left+w,this.top+M,this.width+E,this.height+O)},x.fromClientRect=function(w,M){return new x(M.left+w.windowBounds.left,M.top+w.windowBounds.top,M.width,M.height)},x.fromDOMRectList=function(w,M){var E=Array.from(M).find(function(O){return 0!==O.width});return E?new x(E.left+w.windowBounds.left,E.top+w.windowBounds.top,E.width,E.height):x.EMPTY},x.EMPTY=new x(0,0,0,0),x}(),Qt=function(x,w){return h.fromClientRect(x,w.getBoundingClientRect())},Wt=function(x){for(var w=[],M=0,E=x.length;M<E;){var O=x.charCodeAt(M++);if(O>=55296&&O<=56319&&M<E){var Z=x.charCodeAt(M++);56320==(64512&Z)?w.push(((1023&O)<<10)+(1023&Z)+65536):(w.push(O),M--)}else w.push(O)}return w},_t=function(){for(var x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,x);var M=x.length;if(!M)return"";for(var E=[],O=-1,Z="";++O<M;){var Ae=x[O];Ae<=65535?E.push(Ae):E.push(55296+((Ae-=65536)>>10),Ae%1024+56320),(O+1===M||E.length>16384)&&(Z+=String.fromCharCode.apply(String,E),E.length=0)}return Z},qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kn=typeof Uint8Array>"u"?[]:new Uint8Array(256),Et=0;Et<64;Et++)kn[qi.charCodeAt(Et)]=Et;for(var Lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Si=typeof Uint8Array>"u"?[]:new Uint8Array(256),sn=0;sn<64;sn++)Si[Lt.charCodeAt(sn)]=sn;for(var Fa=function(x,w,M){return x.slice?x.slice(w,M):new Uint16Array(Array.prototype.slice.call(x,w,M))},Ml=function(){function x(w,M,E,O,Z,Ae){this.initialValue=w,this.errorValue=M,this.highStart=E,this.highValueIndex=O,this.index=Z,this.data=Ae}return x.prototype.get=function(w){var M;if(w>=0){if(w<55296||w>56319&&w<=65535)return this.data[M=((M=this.index[w>>5])<<2)+(31&w)];if(w<=65535)return this.data[M=((M=this.index[2048+(w-55296>>5)])<<2)+(31&w)];if(w<this.highStart)return M=this.index[M=2080+(w>>11)],this.data[M=((M=this.index[M+=w>>5&63])<<2)+(31&w)];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},x}(),pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ms=typeof Uint8Array>"u"?[]:new Uint8Array(256),Rs=0;Rs<64;Rs++)ms[pa.charCodeAt(Rs)]=Rs;var M,E,O,Ae,Me,st=10,gn=13,ma=15,Qs=17,io=18,Tl=19,Qe=20,fe=21,qt=22,pi=24,At=25,Ri=26,we=27,We=28,fi=30,fn=32,as=33,$n=34,Bs=35,yn=37,wo=38,$r=39,bo=40,ro=42,dc=[9001,65288],Nn="\xd7",fc=(M=function(x){var E,Z,Ae,Me,Ee,w=.75*x.length,M=x.length,O=0;"="===x[x.length-1]&&(w--,"="===x[x.length-2]&&w--);var Ye=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),$e=Array.isArray(Ye)?Ye:new Uint8Array(Ye);for(E=0;E<M;E+=4)Z=Si[x.charCodeAt(E)],Ae=Si[x.charCodeAt(E+1)],Me=Si[x.charCodeAt(E+2)],Ee=Si[x.charCodeAt(E+3)],$e[O++]=Z<<2|Ae>>4,$e[O++]=(15&Ae)<<4|Me>>2,$e[O++]=(3&Me)<<6|63&Ee;return Ye}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),E=Array.isArray(M)?function(x){for(var w=x.length,M=[],E=0;E<w;E+=4)M.push(x[E+3]<<24|x[E+2]<<16|x[E+1]<<8|x[E]);return M}(M):new Uint32Array(M),O=Array.isArray(M)?function(x){for(var w=x.length,M=[],E=0;E<w;E+=2)M.push(x[E+1]<<8|x[E]);return M}(M):new Uint16Array(M),Ae=Fa(O,12,E[4]/2),Me=2===E[5]?Fa(O,(24+E[4])/2):function(x,w,M){return x.slice?x.slice(w,M):new Uint32Array(Array.prototype.slice.call(x,w,M))}(E,Math.ceil((24+E[4])/4)),new Ml(E[0],E[1],E[2],E[3],Ae,Me)),so=[fi,36],Mr=[1,2,3,5],ga=[st,8],pc=[we,Ri],sA=Mr.concat(ga),La=[wo,$r,bo,$n,Bs],Yc=[ma,gn],Vc=function(x,w,M,E){var O=E[M];if(Array.isArray(x)?-1!==x.indexOf(O):x===O)for(var Z=M;Z<=E.length;){if((Ae=E[++Z])===w)return!0;if(Ae!==st)break}if(O===st)for(Z=M;Z>0;){var Me=E[--Z];if(Array.isArray(x)?-1!==x.indexOf(Me):x===Me)for(var Ee=M;Ee<=E.length;){var Ae;if((Ae=E[++Ee])===w)return!0;if(Ae!==st)break}if(Me!==st)break}return!1},yh=function(x,w){for(var M=x;M>=0;){var E=w[M];if(E!==st)return E;M--}return 0},No=function(x,w,M,E,O){if(0===M[E])return Nn;var Z=E-1;if(Array.isArray(O)&&!0===O[Z])return Nn;var Ae=Z-1,Me=Z+1,Ee=w[Z],Ye=Ae>=0?w[Ae]:0,$e=w[Me];if(2===Ee&&3===$e)return Nn;if(-1!==Mr.indexOf(Ee))return"!";if(-1!==Mr.indexOf($e)||-1!==ga.indexOf($e))return Nn;if(8===yh(Z,w))return"\xf7";if(11===fc.get(x[Z])||(Ee===fn||Ee===as)&&11===fc.get(x[Me])||7===Ee||7===$e||9===Ee||-1===[st,gn,ma].indexOf(Ee)&&9===$e||-1!==[Qs,io,Tl,pi,We].indexOf($e)||yh(Z,w)===qt||Vc(23,qt,Z,w)||Vc([Qs,io],fe,Z,w)||Vc(12,12,Z,w))return Nn;if(Ee===st)return"\xf7";if(23===Ee||23===$e)return Nn;if(16===$e||16===Ee)return"\xf7";if(-1!==[gn,ma,fe].indexOf($e)||14===Ee||36===Ye&&-1!==Yc.indexOf(Ee)||Ee===We&&36===$e||$e===Qe||-1!==so.indexOf($e)&&Ee===At||-1!==so.indexOf(Ee)&&$e===At||Ee===we&&-1!==[yn,fn,as].indexOf($e)||-1!==[yn,fn,as].indexOf(Ee)&&$e===Ri||-1!==so.indexOf(Ee)&&-1!==pc.indexOf($e)||-1!==pc.indexOf(Ee)&&-1!==so.indexOf($e)||-1!==[we,Ri].indexOf(Ee)&&($e===At||-1!==[qt,ma].indexOf($e)&&w[Me+1]===At)||-1!==[qt,ma].indexOf(Ee)&&$e===At||Ee===At&&-1!==[At,We,pi].indexOf($e))return Nn;if(-1!==[At,We,pi,Qs,io].indexOf($e))for(var rt=Z;rt>=0;){if((St=w[rt])===At)return Nn;if(-1===[We,pi].indexOf(St))break;rt--}if(-1!==[we,Ri].indexOf($e))for(rt=-1!==[Qs,io].indexOf(Ee)?Ae:Z;rt>=0;){var St;if((St=w[rt])===At)return Nn;if(-1===[We,pi].indexOf(St))break;rt--}if(wo===Ee&&-1!==[wo,$r,$n,Bs].indexOf($e)||-1!==[$r,$n].indexOf(Ee)&&-1!==[$r,bo].indexOf($e)||-1!==[bo,Bs].indexOf(Ee)&&$e===bo||-1!==La.indexOf(Ee)&&-1!==[Qe,Ri].indexOf($e)||-1!==La.indexOf($e)&&Ee===we||-1!==so.indexOf(Ee)&&-1!==so.indexOf($e)||Ee===pi&&-1!==so.indexOf($e)||-1!==so.concat(At).indexOf(Ee)&&$e===qt&&-1===dc.indexOf(x[Me])||-1!==so.concat(At).indexOf($e)&&Ee===io)return Nn;if(41===Ee&&41===$e){for(var Di=M[Z],ui=1;Di>0&&41===w[--Di];)ui++;if(ui%2!=0)return Nn}return Ee===fn&&$e===as?Nn:"\xf7"},_a=function(x,w){w||(w={lineBreak:"normal",wordBreak:"normal"});var M=function(x,w){void 0===w&&(w="strict");var M=[],E=[],O=[];return x.forEach(function(Z,Ae){var Me=fc.get(Z);if(Me>50?(O.push(!0),Me-=50):O.push(!1),-1!==["normal","auto","loose"].indexOf(w)&&-1!==[8208,8211,12316,12448].indexOf(Z))return E.push(Ae),M.push(16);if(4===Me||11===Me){if(0===Ae)return E.push(Ae),M.push(fi);var Ee=M[Ae-1];return-1===sA.indexOf(Ee)?(E.push(E[Ae-1]),M.push(Ee)):(E.push(Ae),M.push(fi))}return E.push(Ae),31===Me?M.push("strict"===w?fe:yn):Me===ro||29===Me?M.push(fi):43===Me?M.push(Z>=131072&&Z<=196605||Z>=196608&&Z<=262141?yn:fi):void M.push(Me)}),[E,M,O]}(x,w.lineBreak),E=M[0],O=M[1],Z=M[2];return("break-all"===w.wordBreak||"break-word"===w.wordBreak)&&(O=O.map(function(Me){return-1!==[At,fi,ro].indexOf(Me)?yn:Me})),[E,O,"keep-all"===w.wordBreak?Z.map(function(Me,Ee){return Me&&x[Ee]>=19968&&x[Ee]<=40959}):void 0]},mc=function(){function x(w,M,E,O){this.codePoints=w,this.required="!"===M,this.start=E,this.end=O}return x.prototype.slice=function(){return _t.apply(void 0,this.codePoints.slice(this.start,this.end))},x}(),Ns=function(x){return x>=48&&x<=57},Cs=function(x){return Ns(x)||x>=65&&x<=70||x>=97&&x<=102},nu=function(x){return 10===x||9===x||32===x},ru=function(x){return function(x){return function(x){return x>=97&&x<=122}(x)||function(x){return x>=65&&x<=90}(x)}(x)||function(x){return x>=128}(x)||95===x},mm=function(x){return ru(x)||Ns(x)||45===x},If=function(x){return x>=0&&x<=8||11===x||x>=14&&x<=31||127===x},vc=function(x,w){return 92===x&&10!==w},AA=function(x,w,M){return 45===x?ru(w)||vc(w,M):!!ru(x)||!(92!==x||!vc(x,w))},Ff=function(x,w,M){return 43===x||45===x?!!Ns(w)||46===w&&Ns(M):Ns(46===x?w:x)},c0=function(x){var w=0,M=1;(43===x[w]||45===x[w])&&(45===x[w]&&(M=-1),w++);for(var E=[];Ns(x[w]);)E.push(x[w++]);var O=E.length?parseInt(_t.apply(void 0,E),10):0;46===x[w]&&w++;for(var Z=[];Ns(x[w]);)Z.push(x[w++]);var Ae=Z.length,Me=Ae?parseInt(_t.apply(void 0,Z),10):0;(69===x[w]||101===x[w])&&w++;var Ee=1;(43===x[w]||45===x[w])&&(45===x[w]&&(Ee=-1),w++);for(var Ye=[];Ns(x[w]);)Ye.push(x[w++]);var $e=Ye.length?parseInt(_t.apply(void 0,Ye),10):0;return M*(O+Me*Math.pow(10,-Ae))*Math.pow(10,Ee*$e)},h0={type:2},A0={type:3},u0={type:4},d0={type:13},kf={type:8},hr={type:21},Qa={type:9},ln={type:10},Ki={type:11},Oa={type:12},uA={type:14},Jc={type:23},Il={type:1},f0={type:25},p0={type:24},Fl={type:26},m0={type:27},g0={type:28},lo={type:29},_0={type:31},su={type:32},gm=function(){function x(){this._value=[]}return x.prototype.write=function(w){this._value=this._value.concat(Wt(w))},x.prototype.read=function(){for(var w=[],M=this.consumeToken();M!==su;)w.push(M),M=this.consumeToken();return w},x.prototype.consumeToken=function(){var w=this.consumeCodePoint();switch(w){case 34:return this.consumeStringToken(34);case 35:var M=this.peekCodePoint(0),E=this.peekCodePoint(1),O=this.peekCodePoint(2);if(mm(M)||vc(E,O)){var Z=AA(M,E,O)?2:1;return{type:5,value:this.consumeName(),flags:Z}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),d0;break;case 39:return this.consumeStringToken(39);case 40:return h0;case 41:return A0;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),uA;break;case 43:if(Ff(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case 44:return u0;case 45:var Me=w,Ee=this.peekCodePoint(0),Ye=this.peekCodePoint(1);if(Ff(Me,Ee,Ye))return this.reconsumeCodePoint(w),this.consumeNumericToken();if(AA(Me,Ee,Ye))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();if(45===Ee&&62===Ye)return this.consumeCodePoint(),this.consumeCodePoint(),p0;break;case 46:if(Ff(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var $e=this.consumeCodePoint();if(42===$e&&47===($e=this.consumeCodePoint()))return this.consumeToken();if(-1===$e)return this.consumeToken()}break;case 58:return Fl;case 59:return m0;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),f0;break;case 64:var rt=this.peekCodePoint(0),St=this.peekCodePoint(1),Di=this.peekCodePoint(2);if(AA(rt,St,Di))return{type:7,value:this.consumeName()};break;case 91:return g0;case 92:if(vc(w,this.peekCodePoint(0)))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();break;case 93:return lo;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),kf;break;case 123:return Ki;case 125:return Oa;case 117:case 85:var ui=this.peekCodePoint(0),Fi=this.peekCodePoint(1);return 43===ui&&(Cs(Fi)||63===Fi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(w),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Qa;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),hr;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ln;break;case-1:return su}return nu(w)?(this.consumeWhiteSpace(),_0):Ns(w)?(this.reconsumeCodePoint(w),this.consumeNumericToken()):ru(w)?(this.reconsumeCodePoint(w),this.consumeIdentLikeToken()):{type:6,value:_t(w)}},x.prototype.consumeCodePoint=function(){var w=this._value.shift();return typeof w>"u"?-1:w},x.prototype.reconsumeCodePoint=function(w){this._value.unshift(w)},x.prototype.peekCodePoint=function(w){return w>=this._value.length?-1:this._value[w]},x.prototype.consumeUnicodeRangeToken=function(){for(var w=[],M=this.consumeCodePoint();Cs(M)&&w.length<6;)w.push(M),M=this.consumeCodePoint();for(var E=!1;63===M&&w.length<6;)w.push(M),M=this.consumeCodePoint(),E=!0;if(E)return{type:30,start:parseInt(_t.apply(void 0,w.map(function(Ee){return 63===Ee?48:Ee})),16),end:parseInt(_t.apply(void 0,w.map(function(Ee){return 63===Ee?70:Ee})),16)};var Ae=parseInt(_t.apply(void 0,w),16);if(45===this.peekCodePoint(0)&&Cs(this.peekCodePoint(1))){this.consumeCodePoint(),M=this.consumeCodePoint();for(var Me=[];Cs(M)&&Me.length<6;)Me.push(M),M=this.consumeCodePoint();return{type:30,start:Ae,end:parseInt(_t.apply(void 0,Me),16)}}return{type:30,start:Ae,end:Ae}},x.prototype.consumeIdentLikeToken=function(){var w=this.consumeName();return"url"===w.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:w}):{type:20,value:w}},x.prototype.consumeUrlToken=function(){var w=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var M=this.peekCodePoint(0);if(39===M||34===M){var E=this.consumeStringToken(this.consumeCodePoint());return 0===E.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:E.value}):(this.consumeBadUrlRemnants(),Jc)}for(;;){var O=this.consumeCodePoint();if(-1===O||41===O)return{type:22,value:_t.apply(void 0,w)};if(nu(O))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:_t.apply(void 0,w)}):(this.consumeBadUrlRemnants(),Jc);if(34===O||39===O||40===O||If(O))return this.consumeBadUrlRemnants(),Jc;if(92===O){if(!vc(O,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Jc;w.push(this.consumeEscapedCodePoint())}else w.push(O)}},x.prototype.consumeWhiteSpace=function(){for(;nu(this.peekCodePoint(0));)this.consumeCodePoint()},x.prototype.consumeBadUrlRemnants=function(){for(;;){var w=this.consumeCodePoint();if(41===w||-1===w)return;vc(w,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},x.prototype.consumeStringSlice=function(w){for(var E="";w>0;){var O=Math.min(5e4,w);E+=_t.apply(void 0,this._value.splice(0,O)),w-=O}return this._value.shift(),E},x.prototype.consumeStringToken=function(w){for(var M="",E=0;;){var O=this._value[E];if(-1===O||void 0===O||O===w)return{type:0,value:M+=this.consumeStringSlice(E)};if(10===O)return this._value.splice(0,E),Il;if(92===O){var Z=this._value[E+1];-1!==Z&&void 0!==Z&&(10===Z?(M+=this.consumeStringSlice(E),E=-1,this._value.shift()):vc(O,Z)&&(M+=this.consumeStringSlice(E),M+=_t(this.consumeEscapedCodePoint()),E=-1))}E++}},x.prototype.consumeNumber=function(){var w=[],M=4,E=this.peekCodePoint(0);for((43===E||45===E)&&w.push(this.consumeCodePoint());Ns(this.peekCodePoint(0));)w.push(this.consumeCodePoint());E=this.peekCodePoint(0);var O=this.peekCodePoint(1);if(46===E&&Ns(O))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),M=8;Ns(this.peekCodePoint(0));)w.push(this.consumeCodePoint());E=this.peekCodePoint(0),O=this.peekCodePoint(1);var Z=this.peekCodePoint(2);if((69===E||101===E)&&((43===O||45===O)&&Ns(Z)||Ns(O)))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),M=8;Ns(this.peekCodePoint(0));)w.push(this.consumeCodePoint());return[c0(w),M]},x.prototype.consumeNumericToken=function(){var w=this.consumeNumber(),M=w[0],E=w[1],O=this.peekCodePoint(0),Z=this.peekCodePoint(1),Ae=this.peekCodePoint(2);return AA(O,Z,Ae)?{type:15,number:M,flags:E,unit:this.consumeName()}:37===O?(this.consumeCodePoint(),{type:16,number:M,flags:E}):{type:17,number:M,flags:E}},x.prototype.consumeEscapedCodePoint=function(){var w=this.consumeCodePoint();if(Cs(w)){for(var M=_t(w);Cs(this.peekCodePoint(0))&&M.length<6;)M+=_t(this.consumeCodePoint());nu(this.peekCodePoint(0))&&this.consumeCodePoint();var E=parseInt(M,16);return 0===E||function(x){return x>=55296&&x<=57343}(E)||E>1114111?65533:E}return-1===w?65533:w},x.prototype.consumeName=function(){for(var w="";;){var M=this.consumeCodePoint();if(mm(M))w+=_t(M);else{if(!vc(M,this.peekCodePoint(0)))return this.reconsumeCodePoint(M),w;w+=_t(this.consumeEscapedCodePoint())}}},x}(),Lf=function(){function x(w){this._tokens=w}return x.create=function(w){var M=new gm;return M.write(w),new x(M.read())},x.parseValue=function(w){return x.create(w).parseComponentValue()},x.parseValues=function(w){return x.create(w).parseComponentValues()},x.prototype.parseComponentValue=function(){for(var w=this.consumeToken();31===w.type;)w=this.consumeToken();if(32===w.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(w);var M=this.consumeComponentValue();do{w=this.consumeToken()}while(31===w.type);if(32===w.type)return M;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},x.prototype.parseComponentValues=function(){for(var w=[];;){var M=this.consumeComponentValue();if(32===M.type)return w;w.push(M),w.push()}},x.prototype.consumeComponentValue=function(){var w=this.consumeToken();switch(w.type){case 11:case 28:case 2:return this.consumeSimpleBlock(w.type);case 19:return this.consumeFunction(w)}return w},x.prototype.consumeSimpleBlock=function(w){for(var M={type:w,values:[]},E=this.consumeToken();;){if(32===E.type||w0(E,w))return M;this.reconsumeToken(E),M.values.push(this.consumeComponentValue()),E=this.consumeToken()}},x.prototype.consumeFunction=function(w){for(var M={name:w.value,values:[],type:18};;){var E=this.consumeToken();if(32===E.type||3===E.type)return M;this.reconsumeToken(E),M.values.push(this.consumeComponentValue())}},x.prototype.consumeToken=function(){var w=this._tokens.shift();return typeof w>"u"?su:w},x.prototype.reconsumeToken=function(w){this._tokens.unshift(w)},x}(),au=function(x){return 15===x.type},Bh=function(x){return 17===x.type},Lr=function(x){return 20===x.type},v0=function(x){return 0===x.type},Pf=function(x,w){return Lr(x)&&x.value===w},Rf=function(x){return 31!==x.type},dA=function(x){return 31!==x.type&&4!==x.type},Vl=function(x){var w=[],M=[];return x.forEach(function(E){if(4===E.type){if(0===M.length)throw new Error("Error parsing function args, zero tokens for arg");return w.push(M),void(M=[])}31!==E.type&&M.push(E)}),M.length&&w.push(M),w},w0=function(x,w){return 11===w&&12===x.type||28===w&&29===x.type||2===w&&3===x.type},Kc=function(x){return 17===x.type||15===x.type},tn=function(x){return 16===x.type||Kc(x)},sd=function(x){return x.length>1?[x[0],x[1]]:[x[0]]},Ln={type:17,number:0,flags:4},js={type:16,number:50,flags:4},Zc={type:16,number:100,flags:4},ou=function(x,w,M){var E=x[0],O=x[1];return[_n(E,w),_n(typeof O<"u"?O:E,M)]},_n=function(x,w){if(16===x.type)return x.number/100*w;if(au(x))switch(x.unit){case"rem":case"em":return 16*x.number;default:return x.number}return x.number},lu_parse=function(x,w){if(15===w.type)switch(w.unit){case"deg":return Math.PI*w.number/180;case"grad":return Math.PI/200*w.number;case"rad":return w.number;case"turn":return 2*Math.PI*w.number}throw new Error("Unsupported angle type")},wa=function(x){return 15===x.type&&("deg"===x.unit||"grad"===x.unit||"rad"===x.unit||"turn"===x.unit)},Ho=function(x){switch(x.filter(Lr).map(function(M){return M.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ln,Ln];case"to top":case"bottom":return zo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ln,Zc];case"to right":case"left":return zo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Zc,Zc];case"to bottom":case"top":return zo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Zc,Ln];case"to left":case"right":return zo(270)}return 0},zo=function(x){return Math.PI*x/180},Jr_parse=function(x,w){if(18===w.type){var M=wm[w.name];if(typeof M>"u")throw new Error('Attempting to parse an unsupported color function "'+w.name+'"');return M(x,w.values)}if(5===w.type){if(3===w.value.length){var E=w.value.substring(0,1),O=w.value.substring(1,2),Z=w.value.substring(2,3);return Go(parseInt(E+E,16),parseInt(O+O,16),parseInt(Z+Z,16),1)}if(4===w.value.length){E=w.value.substring(0,1),O=w.value.substring(1,2),Z=w.value.substring(2,3);var Ae=w.value.substring(3,4);return Go(parseInt(E+E,16),parseInt(O+O,16),parseInt(Z+Z,16),parseInt(Ae+Ae,16)/255)}if(6===w.value.length)return E=w.value.substring(0,2),O=w.value.substring(2,4),Z=w.value.substring(4,6),Go(parseInt(E,16),parseInt(O,16),parseInt(Z,16),1);if(8===w.value.length)return E=w.value.substring(0,2),O=w.value.substring(2,4),Z=w.value.substring(4,6),Ae=w.value.substring(6,8),Go(parseInt(E,16),parseInt(O,16),parseInt(Z,16),parseInt(Ae,16)/255)}if(20===w.type){var Me=yo[w.value.toUpperCase()];if(typeof Me<"u")return Me}return yo.TRANSPARENT},il=function(x){return 0==(255&x)},Ar=function(x){var w=255&x,M=255&x>>8,E=255&x>>16,O=255&x>>24;return w<255?"rgba("+O+","+E+","+M+","+w/255+")":"rgb("+O+","+E+","+M+")"},Go=function(x,w,M,E){return(x<<24|w<<16|M<<8|Math.round(255*E)<<0)>>>0},Ch=function(x,w){if(17===x.type)return x.number;if(16===x.type){var M=3===w?1:255;return 3===w?x.number/100*M:Math.round(x.number/100*M)}return 0},fA=function(x,w){var M=w.filter(dA);if(3===M.length){var E=M.map(Ch);return Go(E[0],E[1],E[2],1)}if(4===M.length){var Me=M.map(Ch);return Go(Me[0],Me[1],Me[2],Me[3])}return 0};function Wn(x,w,M){return M<0&&(M+=1),M>=1&&(M-=1),M<1/6?(w-x)*M*6+x:M<.5?w:M<2/3?6*(w-x)*(2/3-M)+x:x}var Xc=function(x,w){var M=w.filter(dA),E=M[0],O=M[1],Z=M[2],Ae=M[3],Me=(17===E.type?zo(E.number):lu_parse(x,E))/(2*Math.PI),Ee=tn(O)?O.number/100:0,Ye=tn(Z)?Z.number/100:0,$e=typeof Ae<"u"&&tn(Ae)?_n(Ae,1):1;if(0===Ee)return Go(255*Ye,255*Ye,255*Ye,1);var rt=Ye<=.5?Ye*(Ee+1):Ye+Ee-Ye*Ee,St=2*Ye-rt,Di=Wn(St,rt,Me+1/3),ui=Wn(St,rt,Me),Fi=Wn(St,rt,Me-1/3);return Go(255*Di,255*ui,255*Fi,$e)},wm={hsl:Xc,hsla:Xc,rgb:fA,rgba:fA},Ur=function(x,w){return Jr_parse(x,Lf.create(w).parseComponentValue())},yo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},od={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(x,w){return w.map(function(M){if(Lr(M))switch(M.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Qf={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},cu=function(x,w){var M=Jr_parse(x,w[0]),E=w[1];return E&&tn(E)?{color:M,stop:E}:{color:M,stop:null}},hu=function(x,w){var M=x[0],E=x[x.length-1];null===M.stop&&(M.stop=Ln),null===E.stop&&(E.stop=Zc);for(var O=[],Z=0,Ae=0;Ae<x.length;Ae++){var Me=x[Ae].stop;if(null!==Me){var Ee=_n(Me,w);O.push(Ee>Z?Ee:Z),Z=Ee}else O.push(null)}var Ye=null;for(Ae=0;Ae<O.length;Ae++){var $e=O[Ae];if(null===$e)null===Ye&&(Ye=Ae);else if(null!==Ye){for(var rt=Ae-Ye,Di=($e-O[Ye-1])/(rt+1),ui=1;ui<=rt;ui++)O[Ye+ui-1]=Di*ui;Ye=null}}return x.map(function(Fi,un){return{color:Fi.color,stop:Math.max(Math.min(1,O[un]/w),0)}})},bm=function(x,w,M){var E="number"==typeof x?x:function(x,w,M){var E=w/2,O=M/2,Z=_n(x[0],w)-E,Ae=O-_n(x[1],M);return(Math.atan2(Ae,Z)+2*Math.PI)%(2*Math.PI)}(x,w,M),O=Math.abs(w*Math.sin(E))+Math.abs(M*Math.cos(E)),Z=w/2,Ae=M/2,Me=O/2,Ee=Math.sin(E-Math.PI/2)*Me,Ye=Math.cos(E-Math.PI/2)*Me;return[O,Z-Ye,Z+Ye,Ae-Ee,Ae+Ee]},kl=function(x,w){return Math.sqrt(x*x+w*w)},nl=function(x,w,M,E,O){return[[0,0],[0,w],[x,0],[x,w]].reduce(function(Ae,Me){var $e=kl(M-Me[0],E-Me[1]);return(O?$e<Ae.optimumDistance:$e>Ae.optimumDistance)?{optimumCorner:Me,optimumDistance:$e}:Ae},{optimumDistance:O?1/0:-1/0,optimumCorner:null}).optimumCorner},Nf=function(x,w){var M=zo(180),E=[];return Vl(w).forEach(function(O,Z){if(0===Z){var Ae=O[0];if(20===Ae.type&&-1!==["top","left","right","bottom"].indexOf(Ae.value))return void(M=Ho(O));if(wa(Ae))return void(M=(lu_parse(x,Ae)+zo(270))%zo(360))}var Me=cu(x,O);E.push(Me)}),{angle:M,stops:E,type:1}},Hf="closest-side",b0="farthest-side",xm="closest-corner",rl="farthest-corner",uu="ellipse",Cm="contain",wc=function(x,w){var M=0,E=3,O=[],Z=[];return Vl(w).forEach(function(Ae,Me){var Ee=!0;if(0===Me?Ee=Ae.reduce(function($e,rt){if(Lr(rt))switch(rt.value){case"center":return Z.push(js),!1;case"top":case"left":return Z.push(Ln),!1;case"right":case"bottom":return Z.push(Zc),!1}else if(tn(rt)||Kc(rt))return Z.push(rt),!1;return $e},Ee):1===Me&&(Ee=Ae.reduce(function($e,rt){if(Lr(rt))switch(rt.value){case"circle":return M=0,!1;case uu:return M=1,!1;case Cm:case Hf:return E=0,!1;case b0:return E=1,!1;case xm:return E=2,!1;case"cover":case rl:return E=3,!1}else if(Kc(rt)||tn(rt))return Array.isArray(E)||(E=[]),E.push(rt),!1;return $e},Ee)),Ee){var Ye=cu(x,Ae);O.push(Ye)}}),{size:E,shape:M,stops:O,position:Z,type:2}},Xe_parse=function(x,w){if(22===w.type){var M={url:w.value,type:0};return x.cache.addImage(w.value),M}if(18===w.type){var E=Gf[w.name];if(typeof E>"u")throw new Error('Attempting to parse an unsupported image function "'+w.name+'"');return E(x,w.values)}throw new Error("Unsupported image type "+w.type)};for(var Gf={"linear-gradient":function(x,w){var M=zo(180),E=[];return Vl(w).forEach(function(O,Z){if(0===Z){var Ae=O[0];if(20===Ae.type&&"to"===Ae.value)return void(M=Ho(O));if(wa(Ae))return void(M=lu_parse(x,Ae))}var Me=cu(x,O);E.push(Me)}),{angle:M,stops:E,type:1}},"-moz-linear-gradient":Nf,"-ms-linear-gradient":Nf,"-o-linear-gradient":Nf,"-webkit-linear-gradient":Nf,"radial-gradient":function(x,w){var M=0,E=3,O=[],Z=[];return Vl(w).forEach(function(Ae,Me){var Ee=!0;if(0===Me){var Ye=!1;Ee=Ae.reduce(function(rt,St){if(Ye)if(Lr(St))switch(St.value){case"center":return Z.push(js),rt;case"top":case"left":return Z.push(Ln),rt;case"right":case"bottom":return Z.push(Zc),rt}else(tn(St)||Kc(St))&&Z.push(St);else if(Lr(St))switch(St.value){case"circle":return M=0,!1;case uu:return M=1,!1;case"at":return Ye=!0,!1;case Hf:return E=0,!1;case"cover":case b0:return E=1,!1;case Cm:case xm:return E=2,!1;case rl:return E=3,!1}else if(Kc(St)||tn(St))return Array.isArray(E)||(E=[]),E.push(St),!1;return rt},Ee)}if(Ee){var $e=cu(x,Ae);O.push($e)}}),{size:E,shape:M,stops:O,position:Z,type:2}},"-moz-radial-gradient":wc,"-ms-radial-gradient":wc,"-o-radial-gradient":wc,"-webkit-radial-gradient":wc,"-webkit-gradient":function(x,w){var M=zo(180),E=[],O=1;return Vl(w).forEach(function(Ee,Ye){var $e=Ee[0];if(0===Ye){if(Lr($e)&&"linear"===$e.value)return void(O=1);if(Lr($e)&&"radial"===$e.value)return void(O=2)}if(18===$e.type)if("from"===$e.name){var rt=Jr_parse(x,$e.values[0]);E.push({stop:Ln,color:rt})}else if("to"===$e.name)rt=Jr_parse(x,$e.values[0]),E.push({stop:Zc,color:rt});else if("color-stop"===$e.name){var St=$e.values.filter(dA);if(2===St.length){rt=Jr_parse(x,St[1]);var Di=St[0];Bh(Di)&&E.push({stop:{type:16,number:100*Di.number,flags:Di.flags},color:rt})}}}),1===O?{angle:(M+zo(180))%zo(360),stops:E,type:O}:{size:3,shape:0,stops:E,position:[],type:O}}},Kw={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(x,w){if(0===w.length)return[];var M=w[0];return 20===M.type&&"none"===M.value?[]:w.filter(function(E){return dA(E)&&function Eh(x){return!(20===x.type&&"none"===x.value||18===x.type&&!Gf[x.name])}(E)}).map(function(E){return Xe_parse(x,E)})}},x0={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(x,w){return w.map(function(M){if(Lr(M))switch(M.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},B0={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(x,w){return Vl(w).map(function(M){return M.filter(tn)}).map(sd)}},C0={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(x,w){return Vl(w).map(function(M){return M.filter(Lr).map(function(E){return E.value}).join(" ")}).map(E0)}},E0=function(x){switch(x){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},pA=function(x){return x.AUTO="auto",x.CONTAIN="contain",x.COVER="cover",x}(pA||{}),xo={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(x,w){return Vl(w).map(function(M){return M.filter(ta)})}},ta=function(x){return Lr(x)||tn(x)},Mh=function(x){return{name:"border-"+x+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Mm=Mh("top"),Ll=Mh("right"),M0=Mh("bottom"),Yf=Mh("left"),mA=function(x){return{name:"border-radius-"+x,initialValue:"0 0",prefix:!1,type:1,parse:function(w,M){return sd(M.filter(tn))}}},ld=mA("top-left"),cd=mA("top-right"),Th=mA("bottom-right"),du=mA("bottom-left"),gA=function(x){return{name:"border-"+x+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(w,M){switch(M){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Tm=gA("top"),Dm=gA("right"),T0=gA("bottom"),D0=gA("left"),Wf=function(x){return{name:"border-"+x+"-width",initialValue:"0",type:0,prefix:!1,parse:function(w,M){return au(M)?M.number:0}}},Vf=Wf("top"),Sm=Wf("right"),fu=Wf("bottom"),hd=Wf("left"),Hs={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Im={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(x,w){return"rtl"===w?1:0}},Gi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(x,w){return w.filter(Lr).reduce(function(M,E){return M|Ad(E.value)},0)}},Ad=function(x){switch(x){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},S0={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(x,w){switch(w){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ia={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(x,w){return 20===w.type&&"normal"===w.value?0:17===w.type||15===w.type?w.number:0}},jf=function(x){return x.NORMAL="normal",x.STRICT="strict",x}(jf||{}),Zw={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(x,w){return"strict"===w?jf.STRICT:jf.NORMAL}},Wo={name:"line-height",initialValue:"normal",prefix:!1,type:4},Fm=function(x,w){return Lr(x)&&"normal"===x.value?1.2*w:17===x.type?w*x.number:tn(x)?_n(x,w):w},I0={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(x,w){return 20===w.type&&"none"===w.value?null:Xe_parse(x,w)}},Jf={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(x,w){return"inside"===w?0:1}},pu={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(x,w){switch(w){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},sl=function(x){return{name:"margin-"+x,initialValue:"0",prefix:!1,type:4}},at=sl("top"),ud=sl("right"),Xw=sl("bottom"),qc=sl("left"),_A={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(x,w){return w.filter(Lr).map(function(M){switch(M.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},vA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(x,w){return"break-word"===w?"break-word":"normal"}},Kf=function(x){return{name:"padding-"+x,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},mu=Kf("top"),wA=Kf("right"),dd=Kf("bottom"),Kr=Kf("left"),Zf={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(x,w){switch(w){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},vn={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(x,w){switch(w){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Tr={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(x,w){return 1===w.length&&Pf(w[0],"none")?[]:Vl(w).map(function(M){for(var E={color:yo.TRANSPARENT,offsetX:Ln,offsetY:Ln,blur:Ln},O=0,Z=0;Z<M.length;Z++){var Ae=M[Z];Kc(Ae)?(0===O?E.offsetX=Ae:1===O?E.offsetY=Ae:E.blur=Ae,O++):E.color=Jr_parse(x,Ae)}return E})}},fd={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(x,w){switch(w){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},hi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(x,w){if(20===w.type&&"none"===w.value)return null;if(18===w.type){var M=zs[w.name];if(typeof M>"u")throw new Error('Attempting to parse an unsupported transform function "'+w.name+'"');return M(w.values)}return null}},zs={matrix:function(x){var w=x.filter(function(M){return 17===M.type}).map(function(M){return M.number});return 6===w.length?w:null},matrix3d:function(x){var w=x.filter(function(Ee){return 17===Ee.type}).map(function(Ee){return Ee.number});return 16===w.length?[w[0],w[1],w[4],w[5],w[12],w[13]]:null}},F0={type:16,number:50,flags:4},k0=[F0,F0],os={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(x,w){var M=w.filter(tn);return 2!==M.length?k0:[M[0],M[1]]}},km={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(x,w){switch(w){case"hidden":return 1;case"collapse":return 2;default:return 0}}},al=function(x){return x.NORMAL="normal",x.BREAK_ALL="break-all",x.KEEP_ALL="keep-all",x}(al||{}),Xf={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(x,w){switch(w){case"break-all":return al.BREAK_ALL;case"keep-all":return al.KEEP_ALL;default:return al.NORMAL}}},L0={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(x,w){if(20===w.type)return{auto:!0,order:0};if(Bh(w))return{auto:!1,order:w.number};throw new Error("Invalid z-index number parsed")}},Lm={name:"time",parse:function(x,w){if(15===w.type)switch(w.unit.toLowerCase()){case"s":return 1e3*w.number;case"ms":return w.number}throw new Error("Unsupported time type")}},qf={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(x,w){return Bh(w)?w.number:1}},Pm={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$f={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(x,w){return w.filter(Lr).map(function(M){switch(M.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(M){return 0!==M})}},$w={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(x,w){var M=[],E=[];return w.forEach(function(O){switch(O.type){case 20:case 0:M.push(O.value);break;case 17:M.push(O.number.toString());break;case 4:E.push(M.join(" ")),M.length=0}}),M.length&&E.push(M.join(" ")),E.map(function(O){return-1===O.indexOf(" ")?O:"'"+O+"'"})}},P0={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Rm={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(x,w){return Bh(w)?w.number:Lr(w)&&"bold"===w.value?700:400}},Um={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(x,w){return w.filter(Lr).map(function(M){return M.value})}},gu={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(x,w){switch(w){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ba=function(x,w){return 0!=(x&w)},Qm={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(x,w){if(0===w.length)return[];var M=w[0];return 20===M.type&&"none"===M.value?[]:w}},R0={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(x,w){if(0===w.length)return null;var M=w[0];if(20===M.type&&"none"===M.value)return null;for(var E=[],O=w.filter(Rf),Z=0;Z<O.length;Z++){var Ae=O[Z],Me=O[Z+1];if(20===Ae.type){var Ee=Me&&Bh(Me)?Me.number:1;E.push({counter:Ae.value,increment:Ee})}}return E}},U0={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(x,w){if(0===w.length)return[];for(var M=[],E=w.filter(Rf),O=0;O<E.length;O++){var Z=E[O],Ae=E[O+1];if(Lr(Z)&&"none"!==Z.value){var Me=Ae&&Bh(Ae)?Ae.number:0;M.push({counter:Z.value,reset:Me})}}return M}},eb={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(x,w){return w.filter(au).map(function(M){return Lm.parse(x,M)})}},rB={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(x,w){if(0===w.length)return null;var M=w[0];if(20===M.type&&"none"===M.value)return null;var E=[],O=w.filter(v0);if(O.length%2!=0)return null;for(var Z=0;Z<O.length;Z+=2)E.push({open:O[Z].value,close:O[Z+1].value});return E}},tb=function(x,w,M){if(!x)return"";var E=x[Math.min(w,x.length-1)];return E?M?E.open:E.close:""},Bo={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(x,w){return 1===w.length&&Pf(w[0],"none")?[]:Vl(w).map(function(M){for(var E={color:255,offsetX:Ln,offsetY:Ln,blur:Ln,spread:Ln,inset:!1},O=0,Z=0;Z<M.length;Z++){var Ae=M[Z];Pf(Ae,"inset")?E.inset=!0:Kc(Ae)?(0===O?E.offsetX=Ae:1===O?E.offsetY=Ae:2===O?E.blur=Ae:E.spread=Ae,O++):E.color=Jr_parse(x,Ae)}return E})}},jl={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(x,w){var E=[];return w.filter(Lr).forEach(function(O){switch(O.value){case"stroke":E.push(1);break;case"fill":E.push(0);break;case"markers":E.push(2)}}),[0,1,2].forEach(function(O){-1===E.indexOf(O)&&E.push(O)}),E}},bc={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ep={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(x,w){return au(w)?w.number:0}},ur=function(){function x(w,M){var E,O;this.animationDuration=Ai(w,eb,M.animationDuration),this.backgroundClip=Ai(w,od,M.backgroundClip),this.backgroundColor=Ai(w,Qf,M.backgroundColor),this.backgroundImage=Ai(w,Kw,M.backgroundImage),this.backgroundOrigin=Ai(w,x0,M.backgroundOrigin),this.backgroundPosition=Ai(w,B0,M.backgroundPosition),this.backgroundRepeat=Ai(w,C0,M.backgroundRepeat),this.backgroundSize=Ai(w,xo,M.backgroundSize),this.borderTopColor=Ai(w,Mm,M.borderTopColor),this.borderRightColor=Ai(w,Ll,M.borderRightColor),this.borderBottomColor=Ai(w,M0,M.borderBottomColor),this.borderLeftColor=Ai(w,Yf,M.borderLeftColor),this.borderTopLeftRadius=Ai(w,ld,M.borderTopLeftRadius),this.borderTopRightRadius=Ai(w,cd,M.borderTopRightRadius),this.borderBottomRightRadius=Ai(w,Th,M.borderBottomRightRadius),this.borderBottomLeftRadius=Ai(w,du,M.borderBottomLeftRadius),this.borderTopStyle=Ai(w,Tm,M.borderTopStyle),this.borderRightStyle=Ai(w,Dm,M.borderRightStyle),this.borderBottomStyle=Ai(w,T0,M.borderBottomStyle),this.borderLeftStyle=Ai(w,D0,M.borderLeftStyle),this.borderTopWidth=Ai(w,Vf,M.borderTopWidth),this.borderRightWidth=Ai(w,Sm,M.borderRightWidth),this.borderBottomWidth=Ai(w,fu,M.borderBottomWidth),this.borderLeftWidth=Ai(w,hd,M.borderLeftWidth),this.boxShadow=Ai(w,Bo,M.boxShadow),this.color=Ai(w,Hs,M.color),this.direction=Ai(w,Im,M.direction),this.display=Ai(w,Gi,M.display),this.float=Ai(w,S0,M.cssFloat),this.fontFamily=Ai(w,$w,M.fontFamily),this.fontSize=Ai(w,P0,M.fontSize),this.fontStyle=Ai(w,gu,M.fontStyle),this.fontVariant=Ai(w,Um,M.fontVariant),this.fontWeight=Ai(w,Rm,M.fontWeight),this.letterSpacing=Ai(w,ia,M.letterSpacing),this.lineBreak=Ai(w,Zw,M.lineBreak),this.lineHeight=Ai(w,Wo,M.lineHeight),this.listStyleImage=Ai(w,I0,M.listStyleImage),this.listStylePosition=Ai(w,Jf,M.listStylePosition),this.listStyleType=Ai(w,pu,M.listStyleType),this.marginTop=Ai(w,at,M.marginTop),this.marginRight=Ai(w,ud,M.marginRight),this.marginBottom=Ai(w,Xw,M.marginBottom),this.marginLeft=Ai(w,qc,M.marginLeft),this.opacity=Ai(w,qf,M.opacity);var Z=Ai(w,_A,M.overflow);this.overflowX=Z[0],this.overflowY=Z[Z.length>1?1:0],this.overflowWrap=Ai(w,vA,M.overflowWrap),this.paddingTop=Ai(w,mu,M.paddingTop),this.paddingRight=Ai(w,wA,M.paddingRight),this.paddingBottom=Ai(w,dd,M.paddingBottom),this.paddingLeft=Ai(w,Kr,M.paddingLeft),this.paintOrder=Ai(w,jl,M.paintOrder),this.position=Ai(w,vn,M.position),this.textAlign=Ai(w,Zf,M.textAlign),this.textDecorationColor=Ai(w,Pm,null!==(E=M.textDecorationColor)&&void 0!==E?E:M.color),this.textDecorationLine=Ai(w,$f,null!==(O=M.textDecorationLine)&&void 0!==O?O:M.textDecoration),this.textShadow=Ai(w,Tr,M.textShadow),this.textTransform=Ai(w,fd,M.textTransform),this.transform=Ai(w,hi,M.transform),this.transformOrigin=Ai(w,os,M.transformOrigin),this.visibility=Ai(w,km,M.visibility),this.webkitTextStrokeColor=Ai(w,bc,M.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ai(w,ep,M.webkitTextStrokeWidth),this.wordBreak=Ai(w,Xf,M.wordBreak),this.zIndex=Ai(w,L0,M.zIndex)}return x.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},x.prototype.isTransparent=function(){return il(this.backgroundColor)},x.prototype.isTransformed=function(){return null!==this.transform},x.prototype.isPositioned=function(){return 0!==this.position},x.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},x.prototype.isFloating=function(){return 0!==this.float},x.prototype.isInlineLevel=function(){return ba(this.display,4)||ba(this.display,33554432)||ba(this.display,268435456)||ba(this.display,536870912)||ba(this.display,67108864)||ba(this.display,134217728)},x}(),Q0=function x(w,M){this.content=Ai(w,Qm,M.content),this.quotes=Ai(w,rB,M.quotes)},vs=function x(w,M){this.counterIncrement=Ai(w,R0,M.counterIncrement),this.counterReset=Ai(w,U0,M.counterReset)},Ai=function(x,w,M){var E=new gm,O=null!==M&&typeof M<"u"?M.toString():w.initialValue;E.write(O);var Z=new Lf(E.read());switch(w.type){case 2:var Ae=Z.parseComponentValue();return w.parse(x,Lr(Ae)?Ae.value:w.initialValue);case 0:return w.parse(x,Z.parseComponentValue());case 1:return w.parse(x,Z.parseComponentValues());case 4:return Z.parseComponentValue();case 3:switch(w.format){case"angle":return lu_parse(x,Z.parseComponentValue());case"color":return Jr_parse(x,Z.parseComponentValue());case"image":return Xe_parse(x,Z.parseComponentValue());case"length":var Me=Z.parseComponentValue();return Kc(Me)?Me:Ln;case"length-percentage":var Ee=Z.parseComponentValue();return tn(Ee)?Ee:Ln;case"time":return Lm.parse(x,Z.parseComponentValue())}}},md=function(x,w){var M=function(x){switch(x.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(x);return 1===M||w===M},Jl=function x(w,M){this.context=w,this.textNodes=[],this.elements=[],this.flags=0,md(M,3),this.styles=new ur(w,window.getComputedStyle(M,null)),Ks(M)&&(this.styles.animationDuration.some(function(E){return E>0})&&(M.style.animationDuration="0s"),null!==this.styles.transform&&(M.style.transform="none")),this.bounds=Qt(this.context,M),md(M,4)&&(this.flags|=16)},_u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bA=typeof Uint8Array>"u"?[]:new Uint8Array(256),vu=0;vu<64;vu++)bA[_u.charCodeAt(vu)]=vu;for(var zm=function(x,w,M){return x.slice?x.slice(w,M):new Uint16Array(Array.prototype.slice.call(x,w,M))},Ym=function(){function x(w,M,E,O,Z,Ae){this.initialValue=w,this.errorValue=M,this.highStart=E,this.highValueIndex=O,this.index=Z,this.data=Ae}return x.prototype.get=function(w){var M;if(w>=0){if(w<55296||w>56319&&w<=65535)return this.data[M=((M=this.index[w>>5])<<2)+(31&w)];if(w<=65535)return this.data[M=((M=this.index[2048+(w-55296>>5)])<<2)+(31&w)];if(w<this.highStart)return M=this.index[M=2080+(w>>11)],this.data[M=((M=this.index[M+=w>>5&63])<<2)+(31&w)];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},x}(),Wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qr=typeof Uint8Array>"u"?[]:new Uint8Array(256),Wi=0;Wi<64;Wi++)Qr[Wm.charCodeAt(Wi)]=Wi;var z0=8,jm=9,nb=11,Bc=12,y=function(){for(var x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,x);var M=x.length;if(!M)return"";for(var E=[],O=-1,Z="";++O<M;){var Ae=x[O];Ae<=65535?E.push(Ae):E.push(55296+((Ae-=65536)>>10),Ae%1024+56320),(O+1===M||E.length>16384)&&(Z+=String.fromCharCode.apply(String,E),E.length=0)}return Z},b=function(x,w){var M=function(x){var E,Z,Ae,Me,Ee,w=.75*x.length,M=x.length,O=0;"="===x[x.length-1]&&(w--,"="===x[x.length-2]&&w--);var Ye=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),$e=Array.isArray(Ye)?Ye:new Uint8Array(Ye);for(E=0;E<M;E+=4)Z=bA[x.charCodeAt(E)],Ae=bA[x.charCodeAt(E+1)],Me=bA[x.charCodeAt(E+2)],Ee=bA[x.charCodeAt(E+3)],$e[O++]=Z<<2|Ae>>4,$e[O++]=(15&Ae)<<4|Me>>2,$e[O++]=(3&Me)<<6|63&Ee;return Ye}(x),E=Array.isArray(M)?function(x){for(var w=x.length,M=[],E=0;E<w;E+=4)M.push(x[E+3]<<24|x[E+2]<<16|x[E+1]<<8|x[E]);return M}(M):new Uint32Array(M),O=Array.isArray(M)?function(x){for(var w=x.length,M=[],E=0;E<w;E+=2)M.push(x[E+1]<<8|x[E]);return M}(M):new Uint16Array(M),Ae=zm(O,12,E[4]/2),Me=2===E[5]?zm(O,(24+E[4])/2):function(x,w,M){return x.slice?x.slice(w,M):new Uint32Array(Array.prototype.slice.call(x,w,M))}(E,Math.ceil((24+E[4])/4));return new Ym(E[0],E[1],E[2],E[3],Ae,Me)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),I="\xd7",ce=function(x){return b.get(x)},Ue=function(x,w,M){var E=M-2,O=w[E],Z=w[M-1],Ae=w[M];if(2===Z&&3===Ae)return I;if(2===Z||3===Z||4===Z||2===Ae||3===Ae||4===Ae)return"\xf7";if(Z===z0&&-1!==[z0,jm,nb,Bc].indexOf(Ae)||(Z===nb||Z===jm)&&(Ae===jm||10===Ae)||(Z===Bc||10===Z)&&10===Ae||13===Ae||5===Ae||7===Ae||1===Z)return I;if(13===Z&&14===Ae){for(;5===O;)O=w[--E];if(14===O)return I}if(15===Z&&15===Ae){for(var Me=0;15===O;)Me++,O=w[--E];if(Me%2==0)return I}return"\xf7"},it=function(x){var w=function(x){for(var w=[],M=0,E=x.length;M<E;){var O=x.charCodeAt(M++);if(O>=55296&&O<=56319&&M<E){var Z=x.charCodeAt(M++);56320==(64512&Z)?w.push(((1023&O)<<10)+(1023&Z)+65536):(w.push(O),M--)}else w.push(O)}return w}(x),M=w.length,E=0,O=0,Z=w.map(ce);return{next:function(){if(E>=M)return{done:!0,value:null};for(var Ae=I;E<M&&(Ae=Ue(0,Z,++E))===I;);if(Ae!==I||E===M){var Me=y.apply(null,w.slice(O,E));return O=E,{value:Me,done:!1}}return{done:!0,value:null}}}},Js=function(x){return 0===x[0]&&255===x[1]&&0===x[2]&&255===x[3]},ll=function(x,w,M,E,O){var Z="http://www.w3.org/2000/svg",Ae=document.createElementNS(Z,"svg"),Me=document.createElementNS(Z,"foreignObject");return Ae.setAttributeNS(null,"width",x.toString()),Ae.setAttributeNS(null,"height",w.toString()),Me.setAttributeNS(null,"width","100%"),Me.setAttributeNS(null,"height","100%"),Me.setAttributeNS(null,"x",M.toString()),Me.setAttributeNS(null,"y",E.toString()),Me.setAttributeNS(null,"externalResourcesRequired","true"),Ae.appendChild(Me),Me.appendChild(O),Ae},Sh=function(x){return new Promise(function(w,M){var E=new Image;E.onload=function(){return w(E)},E.onerror=M,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(x))})},Es={get SUPPORT_RANGE_BOUNDS(){var x=function(x){if(x.createRange){var M=x.createRange();if(M.getBoundingClientRect){var E=x.createElement("boundtest");E.style.height="123px",E.style.display="block",x.body.appendChild(E),M.selectNode(E);var O=M.getBoundingClientRect(),Z=Math.round(O.height);if(x.body.removeChild(E),123===Z)return!0}}return!1}(document);return Object.defineProperty(Es,"SUPPORT_RANGE_BOUNDS",{value:x}),x},get SUPPORT_WORD_BREAKING(){var x=Es.SUPPORT_RANGE_BOUNDS&&function(x){var w=x.createElement("boundtest");w.style.width="50px",w.style.display="block",w.style.fontSize="12px",w.style.letterSpacing="0px",w.style.wordSpacing="0px",x.body.appendChild(w);var M=x.createRange();w.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var E=w.firstChild,O=Wt(E.data).map(function(Ee){return _t(Ee)}),Z=0,Ae={},Me=O.every(function(Ee,Ye){M.setStart(E,Z),M.setEnd(E,Z+Ee.length);var $e=M.getBoundingClientRect();Z+=Ee.length;var rt=$e.x>Ae.x||$e.y>Ae.y;return Ae=$e,0===Ye||rt});return x.body.removeChild(w),Me}(document);return Object.defineProperty(Es,"SUPPORT_WORD_BREAKING",{value:x}),x},get SUPPORT_SVG_DRAWING(){var x=function(x){var w=new Image,M=x.createElement("canvas"),E=M.getContext("2d");if(!E)return!1;w.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{E.drawImage(w,0,0),M.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Es,"SUPPORT_SVG_DRAWING",{value:x}),x},get SUPPORT_FOREIGNOBJECT_DRAWING(){var x="function"==typeof Array.from&&"function"==typeof window.fetch?function(x){var w=x.createElement("canvas"),M=100;w.width=M,w.height=M;var E=w.getContext("2d");if(!E)return Promise.reject(!1);E.fillStyle="rgb(0, 255, 0)",E.fillRect(0,0,M,M);var O=new Image,Z=w.toDataURL();O.src=Z;var Ae=ll(M,M,0,0,O);return E.fillStyle="red",E.fillRect(0,0,M,M),Sh(Ae).then(function(Me){E.drawImage(Me,0,0);var Ee=E.getImageData(0,0,M,M).data;E.fillStyle="red",E.fillRect(0,0,M,M);var Ye=x.createElement("div");return Ye.style.backgroundImage="url("+Z+")",Ye.style.height=M+"px",Js(Ee)?Sh(ll(M,M,0,0,Ye)):Promise.reject(!1)}).then(function(Me){return E.drawImage(Me,0,0),Js(E.getImageData(0,0,M,M).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Es,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:x}),x},get SUPPORT_CORS_IMAGES(){var x=typeof(new Image).crossOrigin<"u";return Object.defineProperty(Es,"SUPPORT_CORS_IMAGES",{value:x}),x},get SUPPORT_RESPONSE_TYPE(){var x="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Es,"SUPPORT_RESPONSE_TYPE",{value:x}),x},get SUPPORT_CORS_XHR(){var x="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Es,"SUPPORT_CORS_XHR",{value:x}),x},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var x=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Es,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:x}),x}},BA=function x(w,M){this.text=w,this.bounds=M},wu=function(x,w){var M=w.ownerDocument;if(M){var E=M.createElement("html2canvaswrapper");E.appendChild(w.cloneNode(!0));var O=w.parentNode;if(O){O.replaceChild(E,w);var Z=Qt(x,E);return E.firstChild&&O.replaceChild(E.firstChild,E),Z}}return h.EMPTY},W0=function(x,w,M){var E=x.ownerDocument;if(!E)throw new Error("Node has no owner document");var O=E.createRange();return O.setStart(x,w),O.setEnd(x,w+M),O},ap=function(x){if(Es.SUPPORT_NATIVE_TEXT_SEGMENTATION){var w=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(w.segment(x)).map(function(M){return M.segment})}return function(x){for(var E,w=it(x),M=[];!(E=w.next()).done;)E.value&&M.push(E.value.slice());return M}(x)},yd=function(x,w){return 0!==w.letterSpacing?ap(x):function(x,w){if(Es.SUPPORT_NATIVE_TEXT_SEGMENTATION){var M=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(M.segment(x)).map(function(E){return E.segment})}return j0(x,w)}(x,w)},CA=[32,160,4961,65792,65793,4153,4241],j0=function(x,w){for(var O,M=function(x,w){var M=Wt(x),E=_a(M,w),O=E[0],Z=E[1],Ae=E[2],Me=M.length,Ee=0,Ye=0;return{next:function(){if(Ye>=Me)return{done:!0,value:null};for(var $e=Nn;Ye<Me&&($e=No(M,Z,O,++Ye,Ae))===Nn;);if($e!==Nn||Ye===Me){var rt=new mc(M,$e,Ee,Ye);return Ee=Ye,{value:rt,done:!1}}return{done:!0,value:null}}}}(x,{lineBreak:w.lineBreak,wordBreak:"break-word"===w.overflowWrap?"break-word":w.wordBreak}),E=[],Z=function(){if(O.value){var Ae=O.value.slice(),Me=Wt(Ae),Ee="";Me.forEach(function(Ye){-1===CA.indexOf(Ye)?Ee+=_t(Ye):(Ee.length&&E.push(Ee),E.push(_t(Ye)),Ee="")}),Ee.length&&E.push(Ee)}};!(O=M.next()).done;)Z();return E},q2=function x(w,M,E){this.text=aB(M.data,E.textTransform),this.textBounds=function(x,w,M,E){var O=yd(w,M),Z=[],Ae=0;return O.forEach(function(Me){if(M.textDecorationLine.length||Me.trim().length>0)if(Es.SUPPORT_RANGE_BOUNDS){var Ee=W0(E,Ae,Me.length).getClientRects();if(Ee.length>1){var Ye=ap(Me),$e=0;Ye.forEach(function(St){Z.push(new BA(St,h.fromDOMRectList(x,W0(E,$e+Ae,St.length).getClientRects()))),$e+=St.length})}else Z.push(new BA(Me,h.fromDOMRectList(x,Ee)))}else{var rt=E.splitText(Me.length);Z.push(new BA(Me,wu(x,E))),E=rt}else Es.SUPPORT_RANGE_BOUNDS||(E=E.splitText(Me.length));Ae+=Me.length}),Z}(w,this.text,E,M)},aB=function(x,w){switch(w){case 1:return x.toLowerCase();case 3:return x.replace(oB,lB);case 2:return x.toUpperCase();default:return x}},oB=/(^|\s|:|-|\(|\))([a-z])/g,lB=function(x,w,M){return x.length>0?w+M.toUpperCase():x},Pl=function(x){function w(M,E){var O=x.call(this,M,E)||this;return O.src=E.currentSrc||E.src,O.intrinsicWidth=E.naturalWidth,O.intrinsicHeight=E.naturalHeight,O.context.cache.addImage(O.src),O}return ge(w,x),w}(Jl),cB=function(x){function w(M,E){var O=x.call(this,M,E)||this;return O.canvas=E,O.intrinsicWidth=E.width,O.intrinsicHeight=E.height,O}return ge(w,x),w}(Jl),hB=function(x){function w(M,E){var O=x.call(this,M,E)||this,Z=new XMLSerializer,Ae=Qt(M,E);return E.setAttribute("width",Ae.width+"px"),E.setAttribute("height",Ae.height+"px"),O.svg="data:image/svg+xml,"+encodeURIComponent(Z.serializeToString(E)),O.intrinsicWidth=E.width.baseVal.value,O.intrinsicHeight=E.height.baseVal.value,O.context.cache.addImage(O.svg),O}return ge(w,x),w}(Jl),Cc=function(x){function w(M,E){var O=x.call(this,M,E)||this;return O.value=E.value,O}return ge(w,x),w}(Jl),Km=function(x){function w(M,E){var O=x.call(this,M,E)||this;return O.start=E.start,O.reversed="boolean"==typeof E.reversed&&!0===E.reversed,O}return ge(w,x),w}(Jl),$2=[{type:15,flags:0,unit:"px",number:3}],rb=[{type:16,flags:0,number:50}],Xm="checkbox",op="radio",na="password",sb=707406591,J0=function(x){function w(M,E){var O=x.call(this,M,E)||this;switch(O.type=E.type.toLowerCase(),O.checked=E.checked,O.value=function(x){var w=x.type===na?new Array(x.value.length+1).join("\u2022"):x.value;return 0===w.length?x.placeholder||"":w}(E),(O.type===Xm||O.type===op)&&(O.styles.backgroundColor=3739148031,O.styles.borderTopColor=O.styles.borderRightColor=O.styles.borderBottomColor=O.styles.borderLeftColor=2779096575,O.styles.borderTopWidth=O.styles.borderRightWidth=O.styles.borderBottomWidth=O.styles.borderLeftWidth=1,O.styles.borderTopStyle=O.styles.borderRightStyle=O.styles.borderBottomStyle=O.styles.borderLeftStyle=1,O.styles.backgroundClip=[0],O.styles.backgroundOrigin=[0],O.bounds=function(x){return x.width>x.height?new h(x.left+(x.width-x.height)/2,x.top,x.height,x.height):x.width<x.height?new h(x.left,x.top+(x.height-x.width)/2,x.width,x.width):x}(O.bounds)),O.type){case Xm:O.styles.borderTopRightRadius=O.styles.borderTopLeftRadius=O.styles.borderBottomRightRadius=O.styles.borderBottomLeftRadius=$2;break;case op:O.styles.borderTopRightRadius=O.styles.borderTopLeftRadius=O.styles.borderBottomRightRadius=O.styles.borderBottomLeftRadius=rb}return O}return ge(w,x),w}(Jl),ab=function(x){function w(M,E){var O=x.call(this,M,E)||this,Z=E.options[E.selectedIndex||0];return O.value=Z&&Z.text||"",O}return ge(w,x),w}(Jl),Pr=function(x){function w(M,E){var O=x.call(this,M,E)||this;return O.value=E.value,O}return ge(w,x),w}(Jl),qm=function(x){function w(M,E){var O=x.call(this,M,E)||this;O.src=E.src,O.width=parseInt(E.width,10)||0,O.height=parseInt(E.height,10)||0,O.backgroundColor=O.styles.backgroundColor;try{if(E.contentWindow&&E.contentWindow.document&&E.contentWindow.document.documentElement){O.tree=Na(M,E.contentWindow.document.documentElement);var Z=E.contentWindow.document.documentElement?Ur(M,getComputedStyle(E.contentWindow.document.documentElement).backgroundColor):yo.TRANSPARENT,Ae=E.contentWindow.document.body?Ur(M,getComputedStyle(E.contentWindow.document.body).backgroundColor):yo.TRANSPARENT;O.backgroundColor=il(Z)?il(Ae)?O.styles.backgroundColor:Ae:Z}}catch{}return O}return ge(w,x),w}(Jl),eT=["OL","UL","MENU"],Co=function(x,w,M,E){for(var O=w.firstChild,Z=void 0;O;O=Z)if(Z=O.nextSibling,dB(O)&&O.data.trim().length>0)M.textNodes.push(new q2(x,O,M.styles));else if(ls(O))if(cp(O)&&O.assignedNodes)O.assignedNodes().forEach(function(Me){return Co(x,Me,M,E)});else{var Ae=th(x,O);Ae.styles.isVisible()&&(uB(O,Ae,E)?Ae.flags|=4:tT(Ae.styles)&&(Ae.flags|=2),-1!==eT.indexOf(O.tagName)&&(Ae.flags|=8),M.elements.push(Ae),O.shadowRoot?Co(x,O.shadowRoot,Ae,E):!q0(O)&&!X0(O)&&!$0(O)&&Co(x,O,Ae,E))}},th=function(x,w){return cb(w)?new Pl(x,w):lb(w)?new cB(x,w):X0(w)?new hB(x,w):co(w)?new Cc(x,w):Ih(w)?new Km(x,w):lp(w)?new J0(x,w):$0(w)?new ab(x,w):q0(w)?new Pr(x,w):pB(w)?new qm(x,w):new Jl(x,w)},Na=function(x,w){var M=th(x,w);return M.flags|=4,Co(x,w,M,M),M},uB=function(x,w,M){return w.styles.isPositionedWithZIndex()||w.styles.opacity<1||w.styles.isTransformed()||ob(x)&&M.styles.isTransparent()},tT=function(x){return x.isPositioned()||x.isFloating()},dB=function(x){return x.nodeType===Node.TEXT_NODE},ls=function(x){return x.nodeType===Node.ELEMENT_NODE},Ks=function(x){return ls(x)&&typeof x.style<"u"&&!K0(x)},K0=function(x){return"object"==typeof x.className},co=function(x){return"LI"===x.tagName},Ih=function(x){return"OL"===x.tagName},lp=function(x){return"INPUT"===x.tagName},X0=function(x){return"svg"===x.tagName},ob=function(x){return"BODY"===x.tagName},lb=function(x){return"CANVAS"===x.tagName},fB=function(x){return"VIDEO"===x.tagName},cb=function(x){return"IMG"===x.tagName},pB=function(x){return"IFRAME"===x.tagName},mB=function(x){return"STYLE"===x.tagName},q0=function(x){return"TEXTAREA"===x.tagName},$0=function(x){return"SELECT"===x.tagName},cp=function(x){return"SLOT"===x.tagName},Kl=function(x){return x.tagName.indexOf("-")>0},hp=function(){function x(){this.counters={}}return x.prototype.getCounterValue=function(w){var M=this.counters[w];return M&&M.length?M[M.length-1]:1},x.prototype.getCounterValues=function(w){return this.counters[w]||[]},x.prototype.pop=function(w){var M=this;w.forEach(function(E){return M.counters[E].pop()})},x.prototype.parse=function(w){var M=this,E=w.counterIncrement,O=w.counterReset,Z=!0;null!==E&&E.forEach(function(Me){var Ee=M.counters[Me.counter];Ee&&0!==Me.increment&&(Z=!1,Ee.length||Ee.push(1),Ee[Math.max(0,Ee.length-1)]+=Me.increment)});var Ae=[];return Z&&O.forEach(function(Me){var Ee=M.counters[Me.counter];Ae.push(Me.counter),Ee||(Ee=M.counters[Me.counter]=[]),Ee.push(Me.reset)}),Ae},x}(),xd={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},$m={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},ev={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},lr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Ha=function(x,w,M,E,O,Z){return x<w||x>M?Ap(x,O,Z.length>0):E.integers.reduce(function(Ae,Me,Ee){for(;x>=Me;)x-=Me,Ae+=E.values[Ee];return Ae},"")+Z},ih=function(x,w,M,E){var O="";do{M||x--,O=E(x)+O,x/=w}while(x*w>=w);return O},Or=function(x,w,M,E,O){var Z=M-w+1;return(x<0?"-":"")+(ih(Math.abs(x),Z,E,function(Ae){return _t(Math.floor(Ae%Z)+w)})+O)},Zl=function(x,w,M){void 0===M&&(M=". ");var E=w.length;return ih(Math.abs(x),E,!1,function(O){return w[Math.floor(O%E)]})+M},Mc=function(x,w,M,E,O,Z){if(x<-9999||x>9999)return Ap(x,4,O.length>0);var Ae=Math.abs(x),Me=O;if(0===Ae)return w[0]+Me;for(var Ee=0;Ae>0&&Ee<=4;Ee++){var Ye=Ae%10;0===Ye&&ba(Z,1)&&""!==Me?Me=w[Ye]+Me:Ye>1||1===Ye&&0===Ee||1===Ye&&1===Ee&&ba(Z,2)||1===Ye&&1===Ee&&ba(Z,4)&&x>100||1===Ye&&Ee>1&&ba(Z,8)?Me=w[Ye]+(Ee>0?M[Ee-1]:"")+Me:1===Ye&&Ee>0&&(Me=M[Ee-1]+Me),Ae=Math.floor(Ae/10)}return(x<0?E:"")+Me},kh="\ub9c8\uc774\ub108\uc2a4",Ap=function(x,w,M){var E=M?". ":"",O=M?"\u3001":"",Z=M?", ":"",Ae=M?" ":"";switch(w){case 0:return"\u2022"+Ae;case 1:return"\u25e6"+Ae;case 2:return"\u25fe"+Ae;case 5:var Me=Or(x,48,57,!0,E);return Me.length<4?"0"+Me:Me;case 4:return Zl(x,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",O);case 6:return Ha(x,1,3999,xd,3,E).toLowerCase();case 7:return Ha(x,1,3999,xd,3,E);case 8:return Or(x,945,969,!1,E);case 9:return Or(x,97,122,!1,E);case 10:return Or(x,65,90,!1,E);case 11:return Or(x,1632,1641,!0,E);case 12:case 49:return Ha(x,1,9999,$m,3,E);case 35:return Ha(x,1,9999,$m,3,E).toLowerCase();case 13:return Or(x,2534,2543,!0,E);case 14:case 30:return Or(x,6112,6121,!0,E);case 15:return Zl(x,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",O);case 16:return Zl(x,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",O);case 17:case 48:return Mc(x,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",O,14);case 47:return Mc(x,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",O,15);case 42:return Mc(x,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",O,14);case 41:return Mc(x,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",O,15);case 26:return Mc(x,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",O,0);case 25:return Mc(x,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",O,7);case 31:return Mc(x,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",kh,Z,7);case 33:return Mc(x,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",kh,Z,0);case 32:return Mc(x,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",kh,Z,7);case 18:return Or(x,2406,2415,!0,E);case 20:return Ha(x,1,19999,lr,3,E);case 21:return Or(x,2790,2799,!0,E);case 22:return Or(x,2662,2671,!0,E);case 22:return Ha(x,1,10999,ev,3,E);case 23:return Zl(x,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Zl(x,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Or(x,3302,3311,!0,E);case 28:return Zl(x,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",O);case 29:return Zl(x,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",O);case 34:return Or(x,3792,3801,!0,E);case 37:return Or(x,6160,6169,!0,E);case 38:return Or(x,4160,4169,!0,E);case 39:return Or(x,2918,2927,!0,E);case 40:return Or(x,1776,1785,!0,E);case 43:return Or(x,3046,3055,!0,E);case 44:return Or(x,3174,3183,!0,E);case 45:return Or(x,3664,3673,!0,E);case 46:return Or(x,3872,3881,!0,E);default:return Or(x,48,57,!0,E)}},up="data-html2canvas-ignore",dp=function(){function x(w,M,E){if(this.context=w,this.options=E,this.scrolledElements=[],this.referenceElement=M,this.counters=new hp,this.quoteDepth=0,!M.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(M.ownerDocument.documentElement,!1)}return x.prototype.toIFrame=function(w,M){var E=this,O=gB(w,M);if(!O.contentWindow)return Promise.reject("Unable to find iframe window");var Z=w.defaultView.pageXOffset,Ae=w.defaultView.pageYOffset,Me=O.contentWindow,Ee=Me.document,Ye=Bd(O).then(function(){return G(E,void 0,void 0,function(){var $e,rt;return Dt(this,function(St){switch(St.label){case 0:return this.scrolledElements.forEach(_B),Me&&(Me.scrollTo(M.left,M.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Me.scrollY!==M.top||Me.scrollX!==M.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Me.scrollX-M.left,Me.scrollY-M.top,0,0))),$e=this.options.onclone,typeof(rt=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ee.fonts&&Ee.fonts.ready?[4,Ee.fonts.ready]:[3,2];case 1:St.sent(),St.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ho(Ee)]:[3,4];case 3:St.sent(),St.label=4;case 4:return"function"==typeof $e?[2,Promise.resolve().then(function(){return $e(Ee,rt)}).then(function(){return O})]:[2,O]}})})});return Ee.open(),Ee.write(Ab(document.doctype)+"<html></html>"),ub(this.referenceElement.ownerDocument,Z,Ae),Ee.replaceChild(Ee.adoptNode(this.documentElement),Ee.documentElement),Ee.close(),Ye},x.prototype.createElementClone=function(w){if(md(w,2),lb(w))return this.createCanvasClone(w);if(fB(w))return this.createVideoClone(w);if(mB(w))return this.createStyleClone(w);var M=w.cloneNode(!1);return cb(M)&&(cb(w)&&w.currentSrc&&w.currentSrc!==w.src&&(M.src=w.currentSrc,M.srcset=""),"lazy"===M.loading&&(M.loading="eager")),Kl(M)?this.createCustomElementClone(M):M},x.prototype.createCustomElementClone=function(w){var M=document.createElement("html2canvascustomelement");return tv(w.style,M),M},x.prototype.createStyleClone=function(w){try{var M=w.sheet;if(M&&M.cssRules){var E=[].slice.call(M.cssRules,0).reduce(function(Z,Ae){return Ae&&"string"==typeof Ae.cssText?Z+Ae.cssText:Z},""),O=w.cloneNode(!1);return O.textContent=E,O}}catch(Z){if(this.context.logger.error("Unable to access cssRules property",Z),"SecurityError"!==Z.name)throw Z}return w.cloneNode(!1)},x.prototype.createCanvasClone=function(w){var M;if(this.options.inlineImages&&w.ownerDocument){var E=w.ownerDocument.createElement("img");try{return E.src=w.toDataURL(),E}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",w)}}var O=w.cloneNode(!1);try{O.width=w.width,O.height=w.height;var Z=w.getContext("2d"),Ae=O.getContext("2d");if(Ae)if(!this.options.allowTaint&&Z)Ae.putImageData(Z.getImageData(0,0,w.width,w.height),0,0);else{var Me=null!==(M=w.getContext("webgl2"))&&void 0!==M?M:w.getContext("webgl");if(Me){var Ee=Me.getContextAttributes();!1===Ee?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",w)}Ae.drawImage(w,0,0)}return O}catch{this.context.logger.info("Unable to clone canvas as it is tainted",w)}return O},x.prototype.createVideoClone=function(w){var M=w.ownerDocument.createElement("canvas");M.width=w.offsetWidth,M.height=w.offsetHeight;var E=M.getContext("2d");try{return E&&(E.drawImage(w,0,0,M.width,M.height),this.options.allowTaint||E.getImageData(0,0,M.width,M.height)),M}catch{this.context.logger.info("Unable to clone video as it is tainted",w)}var O=w.ownerDocument.createElement("canvas");return O.width=w.offsetWidth,O.height=w.offsetHeight,O},x.prototype.appendChildNode=function(w,M,E){(!ls(M)||!function(x){return"SCRIPT"===x.tagName}(M)&&!M.hasAttribute(up)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(M)))&&(!this.options.copyStyles||!ls(M)||!mB(M))&&w.appendChild(this.cloneNode(M,E))},x.prototype.cloneChildNodes=function(w,M,E){for(var O=this,Z=w.shadowRoot?w.shadowRoot.firstChild:w.firstChild;Z;Z=Z.nextSibling)if(ls(Z)&&cp(Z)&&"function"==typeof Z.assignedNodes){var Ae=Z.assignedNodes();Ae.length&&Ae.forEach(function(Me){return O.appendChildNode(M,Me,E)})}else this.appendChildNode(M,Z,E)},x.prototype.cloneNode=function(w,M){if(dB(w))return document.createTextNode(w.data);if(!w.ownerDocument)return w.cloneNode(!1);var E=w.ownerDocument.defaultView;if(E&&ls(w)&&(Ks(w)||K0(w))){var O=this.createElementClone(w);O.style.transitionProperty="none";var Z=E.getComputedStyle(w),Ae=E.getComputedStyle(w,":before"),Me=E.getComputedStyle(w,":after");this.referenceElement===w&&Ks(O)&&(this.clonedReferenceElement=O),ob(O)&&Xi(O);var Ee=this.counters.parse(new vs(this.context,Z)),Ye=this.resolvePseudoContent(w,O,Ae,eg.BEFORE);Kl(w)&&(M=!0),fB(w)||this.cloneChildNodes(w,O,M),Ye&&O.insertBefore(Ye,O.firstChild);var $e=this.resolvePseudoContent(w,O,Me,eg.AFTER);return $e&&O.appendChild($e),this.counters.pop(Ee),(Z&&(this.options.copyStyles||K0(w))&&!pB(w)||M)&&tv(Z,O),(0!==w.scrollTop||0!==w.scrollLeft)&&this.scrolledElements.push([O,w.scrollLeft,w.scrollTop]),(q0(w)||$0(w))&&(q0(O)||$0(O))&&(O.value=w.value),O}return w.cloneNode(!1)},x.prototype.resolvePseudoContent=function(w,M,E,O){var Z=this;if(E){var Ae=E.content,Me=M.ownerDocument;if(Me&&Ae&&"none"!==Ae&&"-moz-alt-content"!==Ae&&"none"!==E.display){this.counters.parse(new vs(this.context,E));var Ee=new Q0(this.context,E),Ye=Me.createElement("html2canvaspseudoelement");tv(E,Ye),Ee.content.forEach(function(rt){if(0===rt.type)Ye.appendChild(Me.createTextNode(rt.value));else if(22===rt.type){var St=Me.createElement("img");St.src=rt.value,St.style.opacity="1",Ye.appendChild(St)}else if(18===rt.type){if("attr"===rt.name){var Di=rt.values.filter(Lr);Di.length&&Ye.appendChild(Me.createTextNode(w.getAttribute(Di[0].value)||""))}else if("counter"===rt.name){var ui=rt.values.filter(dA),un=ui[1];if((Fi=ui[0])&&Lr(Fi)){var zi=Z.counters.getCounterValue(Fi.value),Ui=un&&Lr(un)?pu.parse(Z.context,un.value):3;Ye.appendChild(Me.createTextNode(Ap(zi,Ui,!1)))}}else if("counters"===rt.name){var Fi,Pn=rt.values.filter(dA),Tn=Pn[1];if(un=Pn[2],(Fi=Pn[0])&&Lr(Fi)){var wn=Z.counters.getCounterValues(Fi.value),Li=un&&Lr(un)?pu.parse(Z.context,un.value):3,_r=Tn&&0===Tn.type?Tn.value:"",vr=wn.map(function(Ya){return Ap(Ya,Li,!1)}).join(_r);Ye.appendChild(Me.createTextNode(vr))}}}else if(20===rt.type)switch(rt.value){case"open-quote":Ye.appendChild(Me.createTextNode(tb(Ee.quotes,Z.quoteDepth++,!0)));break;case"close-quote":Ye.appendChild(Me.createTextNode(tb(Ee.quotes,--Z.quoteDepth,!1)));break;default:Ye.appendChild(Me.createTextNode(rt.value))}}),Ye.className=ig+" "+iv;var $e=O===eg.BEFORE?" "+ig:" "+iv;return K0(M)?M.className.baseValue+=$e:M.className+=$e,Ye}}},x.destroy=function(w){return!!w.parentNode&&(w.parentNode.removeChild(w),!0)},x}(),eg=function(x){return x[x.BEFORE=0]="BEFORE",x[x.AFTER=1]="AFTER",x}(eg||{}),gB=function(x,w){var M=x.createElement("iframe");return M.className="html2canvas-container",M.style.visibility="hidden",M.style.position="fixed",M.style.left="-10000px",M.style.top="0px",M.style.border="0",M.width=w.width.toString(),M.height=w.height.toString(),M.scrolling="no",M.setAttribute(up,"true"),x.body.appendChild(M),M},tg=function(x){return new Promise(function(w){x.complete?w():x.src?(x.onload=w,x.onerror=w):w()})},ho=function(x){return Promise.all([].slice.call(x.images,0).map(tg))},Bd=function(x){return new Promise(function(w,M){var E=x.contentWindow;if(!E)return M("No window assigned for iframe");var O=E.document;E.onload=x.onload=function(){E.onload=x.onload=null;var Z=setInterval(function(){O.body.childNodes.length>0&&"complete"===O.readyState&&(clearInterval(Z),w(x))},50)}})},hl=["all","d","content"],tv=function(x,w){for(var M=x.length-1;M>=0;M--){var E=x.item(M);-1===hl.indexOf(E)&&w.style.setProperty(E,x.getPropertyValue(E))}return w},Ab=function(x){var w="";return x&&(w+="<!DOCTYPE ",x.name&&(w+=x.name),x.internalSubset&&(w+=x.internalSubset),x.publicId&&(w+='"'+x.publicId+'"'),x.systemId&&(w+='"'+x.systemId+'"'),w+=">"),w},ub=function(x,w,M){x&&x.defaultView&&(w!==x.defaultView.pageXOffset||M!==x.defaultView.pageYOffset)&&x.defaultView.scrollTo(w,M)},_B=function(x){var w=x[0],E=x[2];w.scrollLeft=x[1],w.scrollTop=E},ig="___html2canvas___pseudoelement_before",iv="___html2canvas___pseudoelement_after",Cd='{\n    content: "" !important;\n    display: none !important;\n}',Xi=function(x){bB(x,"."+ig+":before"+Cd+"\n         ."+iv+":after"+Cd)},bB=function(x,w){var M=x.ownerDocument;if(M){var E=M.createElement("style");E.textContent=w,x.appendChild(E)}},ng=function(){function x(){}return x.getOrigin=function(w){var M=x._link;return M?(M.href=w,M.href=M.href,M.protocol+M.hostname+M.port):"about:blank"},x.isSameOrigin=function(w){return x.getOrigin(w)===x._origin},x.setContext=function(w){x._link=w.document.createElement("a"),x._origin=x.getOrigin(w.location.href)},x._origin="about:blank",x}(),yB=function(){function x(w,M){this.context=w,this._options=M,this._cache={}}return x.prototype.addImage=function(w){var M=Promise.resolve();return this.has(w)||(sv(w)||db(w))&&(this._cache[w]=this.loadImage(w)).catch(function(){}),M},x.prototype.match=function(w){return this._cache[w]},x.prototype.loadImage=function(w){return G(this,void 0,void 0,function(){var M,E,O,Z,Ae=this;return Dt(this,function(Me){switch(Me.label){case 0:return M=ng.isSameOrigin(w),E=!rv(w)&&!0===this._options.useCORS&&Es.SUPPORT_CORS_IMAGES&&!M,O=!rv(w)&&!M&&!sv(w)&&"string"==typeof this._options.proxy&&Es.SUPPORT_CORS_XHR&&!E,M||!1!==this._options.allowTaint||rv(w)||sv(w)||O||E?(Z=w,O?[4,this.proxy(Z)]:[3,2]):[2];case 1:Z=Me.sent(),Me.label=2;case 2:return this.context.logger.debug("Added image "+w.substring(0,256)),[4,new Promise(function(Ee,Ye){var $e=new Image;$e.onload=function(){return Ee($e)},$e.onerror=Ye,(BB(Z)||E)&&($e.crossOrigin="anonymous"),$e.src=Z,!0===$e.complete&&setTimeout(function(){return Ee($e)},500),Ae._options.imageTimeout>0&&setTimeout(function(){return Ye("Timed out ("+Ae._options.imageTimeout+"ms) loading image")},Ae._options.imageTimeout)})];case 3:return[2,Me.sent()]}})})},x.prototype.has=function(w){return typeof this._cache[w]<"u"},x.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},x.prototype.proxy=function(w){var M=this,E=this._options.proxy;if(!E)throw new Error("No proxy defined");var O=w.substring(0,256);return new Promise(function(Z,Ae){var Me=Es.SUPPORT_RESPONSE_TYPE?"blob":"text",Ee=new XMLHttpRequest;Ee.onload=function(){if(200===Ee.status)if("text"===Me)Z(Ee.response);else{var rt=new FileReader;rt.addEventListener("load",function(){return Z(rt.result)},!1),rt.addEventListener("error",function(St){return Ae(St)},!1),rt.readAsDataURL(Ee.response)}else Ae("Failed to proxy resource "+O+" with status code "+Ee.status)},Ee.onerror=Ae;var Ye=E.indexOf("?")>-1?"&":"?";if(Ee.open("GET",""+E+Ye+"url="+encodeURIComponent(w)+"&responseType="+Me),"text"!==Me&&Ee instanceof XMLHttpRequest&&(Ee.responseType=Me),M._options.imageTimeout){var $e=M._options.imageTimeout;Ee.timeout=$e,Ee.ontimeout=function(){return Ae("Timed out ("+$e+"ms) proxying "+O)}}Ee.send()})},x}(),fp=/^data:image\/svg\+xml/i,nv=/^data:image\/.*;base64,/i,xB=/^data:image\/.*/i,db=function(x){return Es.SUPPORT_SVG_DRAWING||!CB(x)},rv=function(x){return xB.test(x)},BB=function(x){return nv.test(x)},sv=function(x){return"blob"===x.substr(0,4)},CB=function(x){return"svg"===x.substr(-3).toLowerCase()||fp.test(x)},Ti=function(){function x(w,M){this.type=0,this.x=w,this.y=M}return x.prototype.add=function(w,M){return new x(this.x+w,this.y+M)},x}(),Ga=function(x,w,M){return new Ti(x.x+(w.x-x.x)*M,x.y+(w.y-x.y)*M)},rg=function(){function x(w,M,E,O){this.type=1,this.start=w,this.startControl=M,this.endControl=E,this.end=O}return x.prototype.subdivide=function(w,M){var E=Ga(this.start,this.startControl,w),O=Ga(this.startControl,this.endControl,w),Z=Ga(this.endControl,this.end,w),Ae=Ga(E,O,w),Me=Ga(O,Z,w),Ee=Ga(Ae,Me,w);return M?new x(this.start,E,Ae,Ee):new x(Ee,Me,Z,this.end)},x.prototype.add=function(w,M){return new x(this.start.add(w,M),this.startControl.add(w,M),this.endControl.add(w,M),this.end.add(w,M))},x.prototype.reverse=function(){return new x(this.end,this.endControl,this.startControl,this.start)},x}(),Rl=function(x){return 1===x.type},EB=function x(w){var M=w.styles,E=w.bounds,O=ou(M.borderTopLeftRadius,E.width,E.height),Z=O[0],Ae=O[1],Me=ou(M.borderTopRightRadius,E.width,E.height),Ee=Me[0],Ye=Me[1],$e=ou(M.borderBottomRightRadius,E.width,E.height),rt=$e[0],St=$e[1],Di=ou(M.borderBottomLeftRadius,E.width,E.height),ui=Di[0],Fi=Di[1],un=[];un.push((Z+Ee)/E.width),un.push((ui+rt)/E.width),un.push((Ae+Fi)/E.height),un.push((Ye+St)/E.height);var zi=Math.max.apply(Math,un);zi>1&&(Z/=zi,Ae/=zi,Ee/=zi,Ye/=zi,rt/=zi,St/=zi,ui/=zi,Fi/=zi);var Ui=E.width-Ee,Pn=E.height-St,Tn=E.width-rt,wn=E.height-Fi,Li=M.borderTopWidth,_r=M.borderRightWidth,vr=M.borderBottomWidth,In=M.borderLeftWidth,sa=_n(M.paddingTop,w.bounds.width),Ya=_n(M.paddingRight,w.bounds.width),Wa=_n(M.paddingBottom,w.bounds.width),Dr=_n(M.paddingLeft,w.bounds.width);this.topLeftBorderDoubleOuterBox=Z>0||Ae>0?ws(E.left+In/3,E.top+Li/3,Z-In/3,Ae-Li/3,xr.TOP_LEFT):new Ti(E.left+In/3,E.top+Li/3),this.topRightBorderDoubleOuterBox=Z>0||Ae>0?ws(E.left+Ui,E.top+Li/3,Ee-_r/3,Ye-Li/3,xr.TOP_RIGHT):new Ti(E.left+E.width-_r/3,E.top+Li/3),this.bottomRightBorderDoubleOuterBox=rt>0||St>0?ws(E.left+Tn,E.top+Pn,rt-_r/3,St-vr/3,xr.BOTTOM_RIGHT):new Ti(E.left+E.width-_r/3,E.top+E.height-vr/3),this.bottomLeftBorderDoubleOuterBox=ui>0||Fi>0?ws(E.left+In/3,E.top+wn,ui-In/3,Fi-vr/3,xr.BOTTOM_LEFT):new Ti(E.left+In/3,E.top+E.height-vr/3),this.topLeftBorderDoubleInnerBox=Z>0||Ae>0?ws(E.left+2*In/3,E.top+2*Li/3,Z-2*In/3,Ae-2*Li/3,xr.TOP_LEFT):new Ti(E.left+2*In/3,E.top+2*Li/3),this.topRightBorderDoubleInnerBox=Z>0||Ae>0?ws(E.left+Ui,E.top+2*Li/3,Ee-2*_r/3,Ye-2*Li/3,xr.TOP_RIGHT):new Ti(E.left+E.width-2*_r/3,E.top+2*Li/3),this.bottomRightBorderDoubleInnerBox=rt>0||St>0?ws(E.left+Tn,E.top+Pn,rt-2*_r/3,St-2*vr/3,xr.BOTTOM_RIGHT):new Ti(E.left+E.width-2*_r/3,E.top+E.height-2*vr/3),this.bottomLeftBorderDoubleInnerBox=ui>0||Fi>0?ws(E.left+2*In/3,E.top+wn,ui-2*In/3,Fi-2*vr/3,xr.BOTTOM_LEFT):new Ti(E.left+2*In/3,E.top+E.height-2*vr/3),this.topLeftBorderStroke=Z>0||Ae>0?ws(E.left+In/2,E.top+Li/2,Z-In/2,Ae-Li/2,xr.TOP_LEFT):new Ti(E.left+In/2,E.top+Li/2),this.topRightBorderStroke=Z>0||Ae>0?ws(E.left+Ui,E.top+Li/2,Ee-_r/2,Ye-Li/2,xr.TOP_RIGHT):new Ti(E.left+E.width-_r/2,E.top+Li/2),this.bottomRightBorderStroke=rt>0||St>0?ws(E.left+Tn,E.top+Pn,rt-_r/2,St-vr/2,xr.BOTTOM_RIGHT):new Ti(E.left+E.width-_r/2,E.top+E.height-vr/2),this.bottomLeftBorderStroke=ui>0||Fi>0?ws(E.left+In/2,E.top+wn,ui-In/2,Fi-vr/2,xr.BOTTOM_LEFT):new Ti(E.left+In/2,E.top+E.height-vr/2),this.topLeftBorderBox=Z>0||Ae>0?ws(E.left,E.top,Z,Ae,xr.TOP_LEFT):new Ti(E.left,E.top),this.topRightBorderBox=Ee>0||Ye>0?ws(E.left+Ui,E.top,Ee,Ye,xr.TOP_RIGHT):new Ti(E.left+E.width,E.top),this.bottomRightBorderBox=rt>0||St>0?ws(E.left+Tn,E.top+Pn,rt,St,xr.BOTTOM_RIGHT):new Ti(E.left+E.width,E.top+E.height),this.bottomLeftBorderBox=ui>0||Fi>0?ws(E.left,E.top+wn,ui,Fi,xr.BOTTOM_LEFT):new Ti(E.left,E.top+E.height),this.topLeftPaddingBox=Z>0||Ae>0?ws(E.left+In,E.top+Li,Math.max(0,Z-In),Math.max(0,Ae-Li),xr.TOP_LEFT):new Ti(E.left+In,E.top+Li),this.topRightPaddingBox=Ee>0||Ye>0?ws(E.left+Math.min(Ui,E.width-_r),E.top+Li,Ui>E.width+_r?0:Math.max(0,Ee-_r),Math.max(0,Ye-Li),xr.TOP_RIGHT):new Ti(E.left+E.width-_r,E.top+Li),this.bottomRightPaddingBox=rt>0||St>0?ws(E.left+Math.min(Tn,E.width-In),E.top+Math.min(Pn,E.height-vr),Math.max(0,rt-_r),Math.max(0,St-vr),xr.BOTTOM_RIGHT):new Ti(E.left+E.width-_r,E.top+E.height-vr),this.bottomLeftPaddingBox=ui>0||Fi>0?ws(E.left+In,E.top+Math.min(wn,E.height-vr),Math.max(0,ui-In),Math.max(0,Fi-vr),xr.BOTTOM_LEFT):new Ti(E.left+In,E.top+E.height-vr),this.topLeftContentBox=Z>0||Ae>0?ws(E.left+In+Dr,E.top+Li+sa,Math.max(0,Z-(In+Dr)),Math.max(0,Ae-(Li+sa)),xr.TOP_LEFT):new Ti(E.left+In+Dr,E.top+Li+sa),this.topRightContentBox=Ee>0||Ye>0?ws(E.left+Math.min(Ui,E.width+In+Dr),E.top+Li+sa,Ui>E.width+In+Dr?0:Ee-In+Dr,Ye-(Li+sa),xr.TOP_RIGHT):new Ti(E.left+E.width-(_r+Ya),E.top+Li+sa),this.bottomRightContentBox=rt>0||St>0?ws(E.left+Math.min(Tn,E.width-(In+Dr)),E.top+Math.min(Pn,E.height+Li+sa),Math.max(0,rt-(_r+Ya)),St-(vr+Wa),xr.BOTTOM_RIGHT):new Ti(E.left+E.width-(_r+Ya),E.top+E.height-(vr+Wa)),this.bottomLeftContentBox=ui>0||Fi>0?ws(E.left+In+Dr,E.top+wn,Math.max(0,ui-(In+Dr)),Fi-(vr+Wa),xr.BOTTOM_LEFT):new Ti(E.left+In+Dr,E.top+E.height-(vr+Wa))},xr=function(x){return x[x.TOP_LEFT=0]="TOP_LEFT",x[x.TOP_RIGHT=1]="TOP_RIGHT",x[x.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",x[x.BOTTOM_LEFT=3]="BOTTOM_LEFT",x}(xr||{}),ws=function(x,w,M,E,O){var Z=(Math.sqrt(2)-1)/3*4,Ae=M*Z,Me=E*Z,Ee=x+M,Ye=w+E;switch(O){case xr.TOP_LEFT:return new rg(new Ti(x,Ye),new Ti(x,Ye-Me),new Ti(Ee-Ae,w),new Ti(Ee,w));case xr.TOP_RIGHT:return new rg(new Ti(x,w),new Ti(x+Ae,w),new Ti(Ee,Ye-Me),new Ti(Ee,Ye));case xr.BOTTOM_RIGHT:return new rg(new Ti(Ee,w),new Ti(Ee,w+Me),new Ti(x+Ae,Ye),new Ti(x,Ye));default:return new rg(new Ti(Ee,Ye),new Ti(Ee-Ae,Ye),new Ti(x,w+Me),new Ti(x,w))}},pp=function(x){return[x.topLeftBorderBox,x.topRightBorderBox,x.bottomRightBorderBox,x.bottomLeftBorderBox]},gp=function(x){return[x.topLeftPaddingBox,x.topRightPaddingBox,x.bottomRightPaddingBox,x.bottomLeftPaddingBox]},MB=function x(w,M,E){this.offsetX=w,this.offsetY=M,this.matrix=E,this.type=0,this.target=6},bu=function x(w,M){this.path=w,this.target=M,this.type=1},TB=function x(w){this.opacity=w,this.type=2,this.target=6},ra=function(x){return 1===x.type},sg=function(x,w){return x.length===w.length&&x.some(function(M,E){return M===w[E]})},fb=function x(w){this.element=w,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},ag=function(){function x(w,M){if(this.container=w,this.parent=M,this.effects=[],this.curves=new EB(this.container),this.container.styles.opacity<1&&this.effects.push(new TB(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new MB(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var Ae=pp(this.curves),Me=gp(this.curves);sg(Ae,Me)?this.effects.push(new bu(Ae,6)):(this.effects.push(new bu(Ae,2)),this.effects.push(new bu(Me,4)))}}return x.prototype.getEffects=function(w){for(var M=-1===[2,3].indexOf(this.container.styles.position),E=this.parent,O=this.effects.slice(0);E;){var Z=E.effects.filter(function(Ee){return!ra(Ee)});if(M||0!==E.container.styles.position||!E.parent){if(O.unshift.apply(O,Z),M=-1===[2,3].indexOf(E.container.styles.position),0!==E.container.styles.overflowX){var Ae=pp(E.curves),Me=gp(E.curves);sg(Ae,Me)||O.unshift(new bu(Me,6))}}else O.unshift.apply(O,Z);E=E.parent}return O.filter(function(Ee){return ba(Ee.target,w)})},x}(),av=function(x,w,M,E){x.container.elements.forEach(function(O){var Z=ba(O.flags,4),Ae=ba(O.flags,2),Me=new ag(O,x);ba(O.styles.display,2048)&&E.push(Me);var Ee=ba(O.flags,8)?[]:E;if(Z||Ae){var Ye=Z||O.styles.isPositioned()?M:w,$e=new fb(Me);if(O.styles.isPositioned()||O.styles.opacity<1||O.styles.isTransformed()){var rt=O.styles.zIndex.order;if(rt<0){var St=0;Ye.negativeZIndex.some(function(ui,Fi){return rt>ui.element.container.styles.zIndex.order?(St=Fi,!1):St>0}),Ye.negativeZIndex.splice(St,0,$e)}else if(rt>0){var Di=0;Ye.positiveZIndex.some(function(ui,Fi){return rt>=ui.element.container.styles.zIndex.order?(Di=Fi+1,!1):Di>0}),Ye.positiveZIndex.splice(Di,0,$e)}else Ye.zeroOrAutoZIndexOrTransformedOrOpacity.push($e)}else O.styles.isFloating()?Ye.nonPositionedFloats.push($e):Ye.nonPositionedInlineLevel.push($e);av(Me,$e,Z?$e:M,Ee)}else O.styles.isInlineLevel()?w.inlineLevel.push(Me):w.nonInlineLevel.push(Me),av(Me,w,M,Ee);ba(O.flags,8)&&pb(O,Ee)})},pb=function(x,w){for(var M=x instanceof Km?x.start:1,E=x instanceof Km&&x.reversed,O=0;O<w.length;O++){var Z=w[O];Z.container instanceof Cc&&"number"==typeof Z.container.value&&0!==Z.container.value&&(M=Z.container.value),Z.listValue=Ap(M,Z.container.styles.listStyleType,!0),M+=E?-1:1}},mb=function(x,w){switch(w){case 0:return Xl(x.topLeftBorderBox,x.topLeftPaddingBox,x.topRightBorderBox,x.topRightPaddingBox);case 1:return Xl(x.topRightBorderBox,x.topRightPaddingBox,x.bottomRightBorderBox,x.bottomRightPaddingBox);case 2:return Xl(x.bottomRightBorderBox,x.bottomRightPaddingBox,x.bottomLeftBorderBox,x.bottomLeftPaddingBox);default:return Xl(x.bottomLeftBorderBox,x.bottomLeftPaddingBox,x.topLeftBorderBox,x.topLeftPaddingBox)}},og=function(x,w){var M=[];return Rl(x)?M.push(x.subdivide(.5,!1)):M.push(x),Rl(w)?M.push(w.subdivide(.5,!0)):M.push(w),M},Xl=function(x,w,M,E){var O=[];return Rl(x)?O.push(x.subdivide(.5,!1)):O.push(x),Rl(M)?O.push(M.subdivide(.5,!0)):O.push(M),Rl(E)?O.push(E.subdivide(.5,!0).reverse()):O.push(E),Rl(w)?O.push(w.subdivide(.5,!1).reverse()):O.push(w),O},gb=function(x){var M=x.styles;return x.bounds.add(M.borderLeftWidth,M.borderTopWidth,-(M.borderRightWidth+M.borderLeftWidth),-(M.borderTopWidth+M.borderBottomWidth))},lg=function(x){var w=x.styles,M=x.bounds,E=_n(w.paddingLeft,M.width),O=_n(w.paddingRight,M.width),Z=_n(w.paddingTop,M.width),Ae=_n(w.paddingBottom,M.width);return M.add(E+w.borderLeftWidth,Z+w.borderTopWidth,-(w.borderRightWidth+w.borderLeftWidth+E+O),-(w.borderTopWidth+w.borderBottomWidth+Z+Ae))},ov=function(x,w,M){var E=function(x,w){return 0===x?w.bounds:2===x?lg(w):gb(w)}(Md(x.styles.backgroundOrigin,w),x),O=function(x,w){return 0===x?w.bounds:2===x?lg(w):gb(w)}(Md(x.styles.backgroundClip,w),x),Z=UB(Md(x.styles.backgroundSize,w),M,E),Ae=Z[0],Me=Z[1],Ee=ou(Md(x.styles.backgroundPosition,w),E.width-Ae,E.height-Me);return[QB(Md(x.styles.backgroundRepeat,w),Ee,Z,E,O),Math.round(E.left+Ee[0]),Math.round(E.top+Ee[1]),Ae,Me]},Ed=function(x){return Lr(x)&&x.value===pA.AUTO},_p=function(x){return"number"==typeof x},UB=function(x,w,M){var E=w[0],O=w[1],Z=w[2],Ae=x[0],Me=x[1];if(!Ae)return[0,0];if(tn(Ae)&&Me&&tn(Me))return[_n(Ae,M.width),_n(Me,M.height)];var Ee=_p(Z);if(Lr(Ae)&&(Ae.value===pA.CONTAIN||Ae.value===pA.COVER))return _p(Z)?M.width/M.height<Z!=(Ae.value===pA.COVER)?[M.width,M.width/Z]:[M.height*Z,M.height]:[M.width,M.height];var $e=_p(E),rt=_p(O),St=$e||rt;if(Ed(Ae)&&(!Me||Ed(Me)))return $e&&rt?[E,O]:Ee||St?St&&Ee?[$e?E:O*Z,rt?O:E/Z]:[$e?E:M.width,rt?O:M.height]:[M.width,M.height];if(Ee){var zi=0,Ui=0;return tn(Ae)?zi=_n(Ae,M.width):tn(Me)&&(Ui=_n(Me,M.height)),Ed(Ae)?zi=Ui*Z:(!Me||Ed(Me))&&(Ui=zi/Z),[zi,Ui]}var Pn=null,Tn=null;if(tn(Ae)?Pn=_n(Ae,M.width):Me&&tn(Me)&&(Tn=_n(Me,M.height)),null!==Pn&&(!Me||Ed(Me))&&(Tn=$e&&rt?Pn/E*O:M.height),null!==Tn&&Ed(Ae)&&(Pn=$e&&rt?Tn/O*E:M.width),null!==Pn&&null!==Tn)return[Pn,Tn];throw new Error("Unable to calculate background-size for element")},Md=function(x,w){var M=x[w];return typeof M>"u"?x[0]:M},QB=function(x,w,M,E,O){var Z=w[0],Ae=w[1],Me=M[0],Ee=M[1];switch(x){case 2:return[new Ti(Math.round(E.left),Math.round(E.top+Ae)),new Ti(Math.round(E.left+E.width),Math.round(E.top+Ae)),new Ti(Math.round(E.left+E.width),Math.round(Ee+E.top+Ae)),new Ti(Math.round(E.left),Math.round(Ee+E.top+Ae))];case 3:return[new Ti(Math.round(E.left+Z),Math.round(E.top)),new Ti(Math.round(E.left+Z+Me),Math.round(E.top)),new Ti(Math.round(E.left+Z+Me),Math.round(E.height+E.top)),new Ti(Math.round(E.left+Z),Math.round(E.height+E.top))];case 1:return[new Ti(Math.round(E.left+Z),Math.round(E.top+Ae)),new Ti(Math.round(E.left+Z+Me),Math.round(E.top+Ae)),new Ti(Math.round(E.left+Z+Me),Math.round(E.top+Ae+Ee)),new Ti(Math.round(E.left+Z),Math.round(E.top+Ae+Ee))];default:return[new Ti(Math.round(O.left),Math.round(O.top)),new Ti(Math.round(O.left+O.width),Math.round(O.top)),new Ti(Math.round(O.left+O.width),Math.round(O.height+O.top)),new Ti(Math.round(O.left),Math.round(O.height+O.top))]}},_b="Hidden Text",NB=function(){function x(w){this._data={},this._document=w}return x.prototype.parseMetrics=function(w,M){var E=this._document.createElement("div"),O=this._document.createElement("img"),Z=this._document.createElement("span"),Ae=this._document.body;E.style.visibility="hidden",E.style.fontFamily=w,E.style.fontSize=M,E.style.margin="0",E.style.padding="0",E.style.whiteSpace="nowrap",Ae.appendChild(E),O.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",O.width=1,O.height=1,O.style.margin="0",O.style.padding="0",O.style.verticalAlign="baseline",Z.style.fontFamily=w,Z.style.fontSize=M,Z.style.margin="0",Z.style.padding="0",Z.appendChild(this._document.createTextNode(_b)),E.appendChild(Z),E.appendChild(O);var Me=O.offsetTop-Z.offsetTop+2;E.removeChild(Z),E.appendChild(this._document.createTextNode(_b)),E.style.lineHeight="normal",O.style.verticalAlign="super";var Ee=O.offsetTop-E.offsetTop+2;return Ae.removeChild(E),{baseline:Me,middle:Ee}},x.prototype.getMetrics=function(w,M){var E=w+" "+M;return typeof this._data[E]>"u"&&(this._data[E]=this.parseMetrics(w,M)),this._data[E]},x}(),vb=function x(w,M){this.context=w,this.options=M},Lh=function(x){function w(M,E){var O=x.call(this,M,E)||this;return O._activeEffects=[],O.canvas=E.canvas?E.canvas:document.createElement("canvas"),O.ctx=O.canvas.getContext("2d"),E.canvas||(O.canvas.width=Math.floor(E.width*E.scale),O.canvas.height=Math.floor(E.height*E.scale),O.canvas.style.width=E.width+"px",O.canvas.style.height=E.height+"px"),O.fontMetrics=new NB(document),O.ctx.scale(O.options.scale,O.options.scale),O.ctx.translate(-E.x,-E.y),O.ctx.textBaseline="bottom",O._activeEffects=[],O.context.logger.debug("Canvas renderer initialized ("+E.width+"x"+E.height+") with scale "+E.scale),O}return ge(w,x),w.prototype.applyEffects=function(M){for(var E=this;this._activeEffects.length;)this.popEffect();M.forEach(function(O){return E.applyEffect(O)})},w.prototype.applyEffect=function(M){this.ctx.save(),function(x){return 2===x.type}(M)&&(this.ctx.globalAlpha=M.opacity),function(x){return 0===x.type}(M)&&(this.ctx.translate(M.offsetX,M.offsetY),this.ctx.transform(M.matrix[0],M.matrix[1],M.matrix[2],M.matrix[3],M.matrix[4],M.matrix[5]),this.ctx.translate(-M.offsetX,-M.offsetY)),ra(M)&&(this.path(M.path),this.ctx.clip()),this._activeEffects.push(M)},w.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},w.prototype.renderStack=function(M){return G(this,void 0,void 0,function(){return Dt(this,function(O){switch(O.label){case 0:return M.element.container.styles.isVisible()?[4,this.renderStackContent(M)]:[3,2];case 1:O.sent(),O.label=2;case 2:return[2]}})})},w.prototype.renderNode=function(M){return G(this,void 0,void 0,function(){return Dt(this,function(E){switch(E.label){case 0:return ba(M.container.flags,16),M.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(M)]:[3,3];case 1:return E.sent(),[4,this.renderNodeContent(M)];case 2:E.sent(),E.label=3;case 3:return[2]}})})},w.prototype.renderTextWithLetterSpacing=function(M,E,O){var Z=this;0===E?this.ctx.fillText(M.text,M.bounds.left,M.bounds.top+O):ap(M.text).reduce(function(Me,Ee){return Z.ctx.fillText(Ee,Me,M.bounds.top+O),Me+Z.ctx.measureText(Ee).width},M.bounds.left)},w.prototype.createFontStyle=function(M){var E=M.fontVariant.filter(function(Ae){return"normal"===Ae||"small-caps"===Ae}).join(""),O=lv(M.fontFamily).join(", "),Z=au(M.fontSize)?""+M.fontSize.number+M.fontSize.unit:M.fontSize.number+"px";return[[M.fontStyle,E,M.fontWeight,Z,O].join(" "),O,Z]},w.prototype.renderTextNode=function(M,E){return G(this,void 0,void 0,function(){var O,Ae,Me,Ee,Ye,$e,rt,St=this;return Dt(this,function(Di){return O=this.createFontStyle(E),Ae=O[1],Me=O[2],this.ctx.font=O[0],this.ctx.direction=1===E.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ee=this.fontMetrics.getMetrics(Ae,Me),Ye=Ee.baseline,$e=Ee.middle,rt=E.paintOrder,M.textBounds.forEach(function(ui){rt.forEach(function(Fi){switch(Fi){case 0:St.ctx.fillStyle=Ar(E.color),St.renderTextWithLetterSpacing(ui,E.letterSpacing,Ye);var un=E.textShadow;un.length&&ui.text.trim().length&&(un.slice(0).reverse().forEach(function(zi){St.ctx.shadowColor=Ar(zi.color),St.ctx.shadowOffsetX=zi.offsetX.number*St.options.scale,St.ctx.shadowOffsetY=zi.offsetY.number*St.options.scale,St.ctx.shadowBlur=zi.blur.number,St.renderTextWithLetterSpacing(ui,E.letterSpacing,Ye)}),St.ctx.shadowColor="",St.ctx.shadowOffsetX=0,St.ctx.shadowOffsetY=0,St.ctx.shadowBlur=0),E.textDecorationLine.length&&(St.ctx.fillStyle=Ar(E.textDecorationColor||E.color),E.textDecorationLine.forEach(function(zi){switch(zi){case 1:St.ctx.fillRect(ui.bounds.left,Math.round(ui.bounds.top+Ye),ui.bounds.width,1);break;case 2:St.ctx.fillRect(ui.bounds.left,Math.round(ui.bounds.top),ui.bounds.width,1);break;case 3:St.ctx.fillRect(ui.bounds.left,Math.ceil(ui.bounds.top+$e),ui.bounds.width,1)}}));break;case 1:E.webkitTextStrokeWidth&&ui.text.trim().length&&(St.ctx.strokeStyle=Ar(E.webkitTextStrokeColor),St.ctx.lineWidth=E.webkitTextStrokeWidth,St.ctx.lineJoin=window.chrome?"miter":"round",St.ctx.strokeText(ui.text,ui.bounds.left,ui.bounds.top+Ye)),St.ctx.strokeStyle="",St.ctx.lineWidth=0,St.ctx.lineJoin="miter"}})}),[2]})})},w.prototype.renderReplacedElement=function(M,E,O){if(O&&M.intrinsicWidth>0&&M.intrinsicHeight>0){var Z=lg(M),Ae=gp(E);this.path(Ae),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(O,0,0,M.intrinsicWidth,M.intrinsicHeight,Z.left,Z.top,Z.width,Z.height),this.ctx.restore()}},w.prototype.renderNodeContent=function(M){return G(this,void 0,void 0,function(){var E,O,Z,Ae,Me,$e,rt,St,ui,Fi,un,zi,Ui,Pn,Tn,wn;return Dt(this,function(Li){switch(Li.label){case 0:this.applyEffects(M.getEffects(4)),O=M.curves,Z=(E=M.container).styles,Ae=0,Me=E.textNodes,Li.label=1;case 1:return Ae<Me.length?[4,this.renderTextNode(Me[Ae],Z)]:[3,4];case 2:Li.sent(),Li.label=3;case 3:return Ae++,[3,1];case 4:if(!(E instanceof Pl))return[3,8];Li.label=5;case 5:return Li.trys.push([5,7,,8]),[4,this.context.cache.match(E.src)];case 6:return Ui=Li.sent(),this.renderReplacedElement(E,O,Ui),[3,8];case 7:return Li.sent(),this.context.logger.error("Error loading image "+E.src),[3,8];case 8:if(E instanceof cB&&this.renderReplacedElement(E,O,E.canvas),!(E instanceof hB))return[3,12];Li.label=9;case 9:return Li.trys.push([9,11,,12]),[4,this.context.cache.match(E.svg)];case 10:return Ui=Li.sent(),this.renderReplacedElement(E,O,Ui),[3,12];case 11:return Li.sent(),this.context.logger.error("Error loading svg "+E.svg.substring(0,255)),[3,12];case 12:return E instanceof qm&&E.tree?[4,new w(this.context,{scale:this.options.scale,backgroundColor:E.backgroundColor,x:0,y:0,width:E.width,height:E.height}).render(E.tree)]:[3,14];case 13:$e=Li.sent(),E.width&&E.height&&this.ctx.drawImage($e,0,0,E.width,E.height,E.bounds.left,E.bounds.top,E.bounds.width,E.bounds.height),Li.label=14;case 14:if(E instanceof J0&&(rt=Math.min(E.bounds.width,E.bounds.height),E.type===Xm?E.checked&&(this.ctx.save(),this.path([new Ti(E.bounds.left+.39363*rt,E.bounds.top+.79*rt),new Ti(E.bounds.left+.16*rt,E.bounds.top+.5549*rt),new Ti(E.bounds.left+.27347*rt,E.bounds.top+.44071*rt),new Ti(E.bounds.left+.39694*rt,E.bounds.top+.5649*rt),new Ti(E.bounds.left+.72983*rt,E.bounds.top+.23*rt),new Ti(E.bounds.left+.84*rt,E.bounds.top+.34085*rt),new Ti(E.bounds.left+.39363*rt,E.bounds.top+.79*rt)]),this.ctx.fillStyle=Ar(sb),this.ctx.fill(),this.ctx.restore()):E.type===op&&E.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(E.bounds.left+rt/2,E.bounds.top+rt/2,rt/4,0,2*Math.PI,!0),this.ctx.fillStyle=Ar(sb),this.ctx.fill(),this.ctx.restore())),yu(E)&&E.value.length){switch(St=this.createFontStyle(Z),ui=this.fontMetrics.getMetrics(Tn=St[0],St[1]).baseline,this.ctx.font=Tn,this.ctx.fillStyle=Ar(Z.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Dd(E.styles.textAlign),wn=lg(E),Fi=0,E.styles.textAlign){case 1:Fi+=wn.width/2;break;case 2:Fi+=wn.width}un=wn.add(Fi,0,0,-wn.height/2+1),this.ctx.save(),this.path([new Ti(wn.left,wn.top),new Ti(wn.left+wn.width,wn.top),new Ti(wn.left+wn.width,wn.top+wn.height),new Ti(wn.left,wn.top+wn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new BA(E.value,un),Z.letterSpacing,ui),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ba(E.styles.display,2048))return[3,20];if(null===E.styles.listStyleImage)return[3,19];if(0!==(zi=E.styles.listStyleImage).type)return[3,18];Ui=void 0,Pn=zi.url,Li.label=15;case 15:return Li.trys.push([15,17,,18]),[4,this.context.cache.match(Pn)];case 16:return Ui=Li.sent(),this.ctx.drawImage(Ui,E.bounds.left-(Ui.width+10),E.bounds.top),[3,18];case 17:return Li.sent(),this.context.logger.error("Error loading list-style-image "+Pn),[3,18];case 18:return[3,20];case 19:M.listValue&&-1!==E.styles.listStyleType&&(Tn=this.createFontStyle(Z)[0],this.ctx.font=Tn,this.ctx.fillStyle=Ar(Z.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",wn=new h(E.bounds.left,E.bounds.top+_n(E.styles.paddingTop,E.bounds.width),E.bounds.width,Fm(Z.lineHeight,Z.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new BA(M.listValue,wn),Z.letterSpacing,Fm(Z.lineHeight,Z.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Li.label=20;case 20:return[2]}})})},w.prototype.renderStackContent=function(M){return G(this,void 0,void 0,function(){var E,O,Z,Ae,Me,Ee,Ye,$e,rt,St,Di,ui,Fi,un;return Dt(this,function(Ui){switch(Ui.label){case 0:return ba(M.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(M.element)];case 1:Ui.sent(),E=0,O=M.negativeZIndex,Ui.label=2;case 2:return E<O.length?[4,this.renderStack(O[E])]:[3,5];case 3:Ui.sent(),Ui.label=4;case 4:return E++,[3,2];case 5:return[4,this.renderNodeContent(M.element)];case 6:Ui.sent(),Z=0,Ae=M.nonInlineLevel,Ui.label=7;case 7:return Z<Ae.length?[4,this.renderNode(Ae[Z])]:[3,10];case 8:Ui.sent(),Ui.label=9;case 9:return Z++,[3,7];case 10:Me=0,Ee=M.nonPositionedFloats,Ui.label=11;case 11:return Me<Ee.length?[4,this.renderStack(Ee[Me])]:[3,14];case 12:Ui.sent(),Ui.label=13;case 13:return Me++,[3,11];case 14:Ye=0,$e=M.nonPositionedInlineLevel,Ui.label=15;case 15:return Ye<$e.length?[4,this.renderStack($e[Ye])]:[3,18];case 16:Ui.sent(),Ui.label=17;case 17:return Ye++,[3,15];case 18:rt=0,St=M.inlineLevel,Ui.label=19;case 19:return rt<St.length?[4,this.renderNode(St[rt])]:[3,22];case 20:Ui.sent(),Ui.label=21;case 21:return rt++,[3,19];case 22:Di=0,ui=M.zeroOrAutoZIndexOrTransformedOrOpacity,Ui.label=23;case 23:return Di<ui.length?[4,this.renderStack(ui[Di])]:[3,26];case 24:Ui.sent(),Ui.label=25;case 25:return Di++,[3,23];case 26:Fi=0,un=M.positiveZIndex,Ui.label=27;case 27:return Fi<un.length?[4,this.renderStack(un[Fi])]:[3,30];case 28:Ui.sent(),Ui.label=29;case 29:return Fi++,[3,27];case 30:return[2]}})})},w.prototype.mask=function(M){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(M.slice(0).reverse()),this.ctx.closePath()},w.prototype.path=function(M){this.ctx.beginPath(),this.formatPath(M),this.ctx.closePath()},w.prototype.formatPath=function(M){var E=this;M.forEach(function(O,Z){var Ae=Rl(O)?O.start:O;0===Z?E.ctx.moveTo(Ae.x,Ae.y):E.ctx.lineTo(Ae.x,Ae.y),Rl(O)&&E.ctx.bezierCurveTo(O.startControl.x,O.startControl.y,O.endControl.x,O.endControl.y,O.end.x,O.end.y)})},w.prototype.renderRepeat=function(M,E,O,Z){this.path(M),this.ctx.fillStyle=E,this.ctx.translate(O,Z),this.ctx.fill(),this.ctx.translate(-O,-Z)},w.prototype.resizeImage=function(M,E,O){var Z;if(M.width===E&&M.height===O)return M;var Me=(null!==(Z=this.canvas.ownerDocument)&&void 0!==Z?Z:document).createElement("canvas");return Me.width=Math.max(1,E),Me.height=Math.max(1,O),Me.getContext("2d").drawImage(M,0,0,M.width,M.height,0,0,E,O),Me},w.prototype.renderBackgroundImage=function(M){return G(this,void 0,void 0,function(){var E,O,Z,Ae,Me;return Dt(this,function(Ye){switch(Ye.label){case 0:E=M.styles.backgroundImage.length-1,O=function($e){var rt,St,Di,ui,Fi,un,zi,Ui,Pn,Tn,wn,Li,_r,vr,In,sa,Ya,Wa,Dr,aa,Eo,Ms,Ts,Tc,Vo,Mo,xu,Bu,jo,Sd,rh;return Dt(this,function(Sr){switch(Sr.label){case 0:if(0!==$e.type)return[3,5];rt=void 0,St=$e.url,Sr.label=1;case 1:return Sr.trys.push([1,3,,4]),[4,Z.context.cache.match(St)];case 2:return rt=Sr.sent(),[3,4];case 3:return Sr.sent(),Z.context.logger.error("Error loading background-image "+St),[3,4];case 4:return rt&&(Di=ov(M,E,[rt.width,rt.height,rt.width/rt.height]),sa=Di[0],Ms=Di[1],Ts=Di[2],vr=Z.ctx.createPattern(Z.resizeImage(rt,Dr=Di[3],aa=Di[4]),"repeat"),Z.renderRepeat(sa,vr,Ms,Ts)),[3,6];case 5:!function(x){return 1===x.type}($e)?function(x){return 2===x.type}($e)&&(In=ov(M,E,[null,null,null]),sa=In[0],Ya=In[1],Wa=In[2],aa=In[4],Ms=_n((Eo=0===$e.position.length?[js]:$e.position)[0],Dr=In[3]),Ts=_n(Eo[Eo.length-1],aa),Tc=function(x,w,M,E,O){var Z=0,Ae=0;switch(x.size){case 0:0===x.shape?Z=Ae=Math.min(Math.abs(w),Math.abs(w-E),Math.abs(M),Math.abs(M-O)):1===x.shape&&(Z=Math.min(Math.abs(w),Math.abs(w-E)),Ae=Math.min(Math.abs(M),Math.abs(M-O)));break;case 2:if(0===x.shape)Z=Ae=Math.min(kl(w,M),kl(w,M-O),kl(w-E,M),kl(w-E,M-O));else if(1===x.shape){var Me=Math.min(Math.abs(M),Math.abs(M-O))/Math.min(Math.abs(w),Math.abs(w-E)),Ee=nl(E,O,w,M,!0);Ae=Me*(Z=kl(Ee[0]-w,(Ee[1]-M)/Me))}break;case 1:0===x.shape?Z=Ae=Math.max(Math.abs(w),Math.abs(w-E),Math.abs(M),Math.abs(M-O)):1===x.shape&&(Z=Math.max(Math.abs(w),Math.abs(w-E)),Ae=Math.max(Math.abs(M),Math.abs(M-O)));break;case 3:if(0===x.shape)Z=Ae=Math.max(kl(w,M),kl(w,M-O),kl(w-E,M),kl(w-E,M-O));else if(1===x.shape){Me=Math.max(Math.abs(M),Math.abs(M-O))/Math.max(Math.abs(w),Math.abs(w-E));var rt=nl(E,O,w,M,!1);Ae=Me*(Z=kl(rt[0]-w,(rt[1]-M)/Me))}}return Array.isArray(x.size)&&(Z=_n(x.size[0],E),Ae=2===x.size.length?_n(x.size[1],O):Z),[Z,Ae]}($e,Ms,Ts,Dr,aa),Mo=Tc[1],(Vo=Tc[0])>0&&Mo>0&&(xu=Z.ctx.createRadialGradient(Ya+Ms,Wa+Ts,0,Ya+Ms,Wa+Ts,Vo),hu($e.stops,2*Vo).forEach(function(Id){return xu.addColorStop(Id.stop,Ar(Id.color))}),Z.path(sa),Z.ctx.fillStyle=xu,Vo!==Mo?(Bu=M.bounds.left+.5*M.bounds.width,jo=M.bounds.top+.5*M.bounds.height,rh=1/(Sd=Mo/Vo),Z.ctx.save(),Z.ctx.translate(Bu,jo),Z.ctx.transform(1,0,0,Sd,0,0),Z.ctx.translate(-Bu,-jo),Z.ctx.fillRect(Ya,rh*(Wa-jo)+jo,Dr,aa*rh),Z.ctx.restore()):Z.ctx.fill())):(ui=ov(M,E,[null,null,null]),sa=ui[0],Ms=ui[1],Ts=ui[2],Fi=bm($e.angle,Dr=ui[3],aa=ui[4]),un=Fi[0],zi=Fi[1],Ui=Fi[2],Pn=Fi[3],Tn=Fi[4],(wn=document.createElement("canvas")).width=Dr,wn.height=aa,Li=wn.getContext("2d"),_r=Li.createLinearGradient(zi,Pn,Ui,Tn),hu($e.stops,un).forEach(function(Id){return _r.addColorStop(Id.stop,Ar(Id.color))}),Li.fillStyle=_r,Li.fillRect(0,0,Dr,aa),Dr>0&&aa>0&&(vr=Z.ctx.createPattern(wn,"repeat"),Z.renderRepeat(sa,vr,Ms,Ts))),Sr.label=6;case 6:return E--,[2]}})},Z=this,Ae=0,Me=M.styles.backgroundImage.slice(0).reverse(),Ye.label=1;case 1:return Ae<Me.length?[5,O(Me[Ae])]:[3,4];case 2:Ye.sent(),Ye.label=3;case 3:return Ae++,[3,1];case 4:return[2]}})})},w.prototype.renderSolidBorder=function(M,E,O){return G(this,void 0,void 0,function(){return Dt(this,function(Z){return this.path(mb(O,E)),this.ctx.fillStyle=Ar(M),this.ctx.fill(),[2]})})},w.prototype.renderDoubleBorder=function(M,E,O,Z){return G(this,void 0,void 0,function(){var Ae,Me;return Dt(this,function(Ee){switch(Ee.label){case 0:return E<3?[4,this.renderSolidBorder(M,O,Z)]:[3,2];case 1:return Ee.sent(),[2];case 2:return Ae=function(x,w){switch(w){case 0:return Xl(x.topLeftBorderBox,x.topLeftBorderDoubleOuterBox,x.topRightBorderBox,x.topRightBorderDoubleOuterBox);case 1:return Xl(x.topRightBorderBox,x.topRightBorderDoubleOuterBox,x.bottomRightBorderBox,x.bottomRightBorderDoubleOuterBox);case 2:return Xl(x.bottomRightBorderBox,x.bottomRightBorderDoubleOuterBox,x.bottomLeftBorderBox,x.bottomLeftBorderDoubleOuterBox);default:return Xl(x.bottomLeftBorderBox,x.bottomLeftBorderDoubleOuterBox,x.topLeftBorderBox,x.topLeftBorderDoubleOuterBox)}}(Z,O),this.path(Ae),this.ctx.fillStyle=Ar(M),this.ctx.fill(),Me=function(x,w){switch(w){case 0:return Xl(x.topLeftBorderDoubleInnerBox,x.topLeftPaddingBox,x.topRightBorderDoubleInnerBox,x.topRightPaddingBox);case 1:return Xl(x.topRightBorderDoubleInnerBox,x.topRightPaddingBox,x.bottomRightBorderDoubleInnerBox,x.bottomRightPaddingBox);case 2:return Xl(x.bottomRightBorderDoubleInnerBox,x.bottomRightPaddingBox,x.bottomLeftBorderDoubleInnerBox,x.bottomLeftPaddingBox);default:return Xl(x.bottomLeftBorderDoubleInnerBox,x.bottomLeftPaddingBox,x.topLeftBorderDoubleInnerBox,x.topLeftPaddingBox)}}(Z,O),this.path(Me),this.ctx.fill(),[2]}})})},w.prototype.renderNodeBackgroundAndBorders=function(M){return G(this,void 0,void 0,function(){var E,O,Z,Ae,Me,Ee,Ye,$e,rt=this;return Dt(this,function(St){switch(St.label){case 0:return this.applyEffects(M.getEffects(2)),O=!il((E=M.container.styles).backgroundColor)||E.backgroundImage.length,Z=[{style:E.borderTopStyle,color:E.borderTopColor,width:E.borderTopWidth},{style:E.borderRightStyle,color:E.borderRightColor,width:E.borderRightWidth},{style:E.borderBottomStyle,color:E.borderBottomColor,width:E.borderBottomWidth},{style:E.borderLeftStyle,color:E.borderLeftColor,width:E.borderLeftWidth}],Ae=Td(Md(E.backgroundClip,0),M.curves),O||E.boxShadow.length?(this.ctx.save(),this.path(Ae),this.ctx.clip(),il(E.backgroundColor)||(this.ctx.fillStyle=Ar(E.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(M.container)]):[3,2];case 1:St.sent(),this.ctx.restore(),E.boxShadow.slice(0).reverse().forEach(function(Di){rt.ctx.save();var ui=pp(M.curves),Fi=Di.inset?0:1e4,un=function(x,w,M,E,O){return x.map(function(Z,Ae){switch(Ae){case 0:return Z.add(w,M);case 1:return Z.add(w+E,M);case 2:return Z.add(w+E,M+O);case 3:return Z.add(w,M+O)}return Z})}(ui,(Di.inset?1:-1)*Di.spread.number-Fi,(Di.inset?1:-1)*Di.spread.number,Di.spread.number*(Di.inset?-2:2),Di.spread.number*(Di.inset?-2:2));Di.inset?(rt.path(ui),rt.ctx.clip(),rt.mask(un)):(rt.mask(ui),rt.ctx.clip(),rt.path(un)),rt.ctx.shadowOffsetX=Di.offsetX.number+Fi,rt.ctx.shadowOffsetY=Di.offsetY.number,rt.ctx.shadowColor=Ar(Di.color),rt.ctx.shadowBlur=Di.blur.number,rt.ctx.fillStyle=Di.inset?Ar(Di.color):"rgba(0,0,0,1)",rt.ctx.fill(),rt.ctx.restore()}),St.label=2;case 2:Me=0,Ee=0,Ye=Z,St.label=3;case 3:return Ee<Ye.length?0!==($e=Ye[Ee]).style&&!il($e.color)&&$e.width>0?2!==$e.style?[3,5]:[4,this.renderDashedDottedBorder($e.color,$e.width,Me,M.curves,2)]:[3,11]:[3,13];case 4:return St.sent(),[3,11];case 5:return 3!==$e.style?[3,7]:[4,this.renderDashedDottedBorder($e.color,$e.width,Me,M.curves,3)];case 6:return St.sent(),[3,11];case 7:return 4!==$e.style?[3,9]:[4,this.renderDoubleBorder($e.color,$e.width,Me,M.curves)];case 8:return St.sent(),[3,11];case 9:return[4,this.renderSolidBorder($e.color,Me,M.curves)];case 10:St.sent(),St.label=11;case 11:Me++,St.label=12;case 12:return Ee++,[3,3];case 13:return[2]}})})},w.prototype.renderDashedDottedBorder=function(M,E,O,Z,Ae){return G(this,void 0,void 0,function(){var Me,Ee,Ye,$e,rt,St,Di,ui,Fi,un,zi,Ui,Pn,Tn,wn,Li;return Dt(this,function(_r){return this.ctx.save(),Me=function(x,w){switch(w){case 0:return og(x.topLeftBorderStroke,x.topRightBorderStroke);case 1:return og(x.topRightBorderStroke,x.bottomRightBorderStroke);case 2:return og(x.bottomRightBorderStroke,x.bottomLeftBorderStroke);default:return og(x.bottomLeftBorderStroke,x.topLeftBorderStroke)}}(Z,O),Ee=mb(Z,O),2===Ae&&(this.path(Ee),this.ctx.clip()),Rl(Ee[0])?(Ye=Ee[0].start.x,$e=Ee[0].start.y):(Ye=Ee[0].x,$e=Ee[0].y),Rl(Ee[1])?(rt=Ee[1].end.x,St=Ee[1].end.y):(rt=Ee[1].x,St=Ee[1].y),Di=0===O||2===O?Math.abs(Ye-rt):Math.abs($e-St),this.ctx.beginPath(),this.formatPath(3===Ae?Me:Ee.slice(0,2)),ui=E<3?3*E:2*E,Fi=E<3?2*E:E,3===Ae&&(ui=E,Fi=E),un=!0,Di<=2*ui?un=!1:Di<=2*ui+Fi?(ui*=zi=Di/(2*ui+Fi),Fi*=zi):(Ui=Math.floor((Di+Fi)/(ui+Fi)),Pn=(Di-Ui*ui)/(Ui-1),Fi=(Tn=(Di-(Ui+1)*ui)/Ui)<=0||Math.abs(Fi-Pn)<Math.abs(Fi-Tn)?Pn:Tn),un&&this.ctx.setLineDash(3===Ae?[0,ui+Fi]:[ui,Fi]),3===Ae?(this.ctx.lineCap="round",this.ctx.lineWidth=E):this.ctx.lineWidth=2*E+1.1,this.ctx.strokeStyle=Ar(M),this.ctx.stroke(),this.ctx.setLineDash([]),2===Ae&&(Rl(Ee[0])&&(wn=Ee[3],Li=Ee[0],this.ctx.beginPath(),this.formatPath([new Ti(wn.end.x,wn.end.y),new Ti(Li.start.x,Li.start.y)]),this.ctx.stroke()),Rl(Ee[1])&&(wn=Ee[1],Li=Ee[2],this.ctx.beginPath(),this.formatPath([new Ti(wn.end.x,wn.end.y),new Ti(Li.start.x,Li.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},w.prototype.render=function(M){return G(this,void 0,void 0,function(){var E;return Dt(this,function(O){switch(O.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ar(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),E=function(x){var w=new ag(x,null),M=new fb(w),E=[];return av(w,M,M,E),pb(w.container,E),M}(M),[4,this.renderStack(E)];case 1:return O.sent(),this.applyEffects([]),[2,this.canvas]}})})},w}(vb),yu=function(x){return x instanceof Pr||x instanceof ab||x instanceof J0&&x.type!==op&&x.type!==Xm},Td=function(x,w){switch(x){case 0:return pp(w);case 2:return function(x){return[x.topLeftContentBox,x.topRightContentBox,x.bottomRightContentBox,x.bottomLeftContentBox]}(w);default:return gp(w)}},Dd=function(x){switch(x){case 1:return"center";case 2:return"right";default:return"left"}},HB=["-apple-system","system-ui"],lv=function(x){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?x.filter(function(w){return-1===HB.indexOf(w)}):x},bb=function(x){function w(M,E){var O=x.call(this,M,E)||this;return O.canvas=E.canvas?E.canvas:document.createElement("canvas"),O.ctx=O.canvas.getContext("2d"),O.options=E,O.canvas.width=Math.floor(E.width*E.scale),O.canvas.height=Math.floor(E.height*E.scale),O.canvas.style.width=E.width+"px",O.canvas.style.height=E.height+"px",O.ctx.scale(O.options.scale,O.options.scale),O.ctx.translate(-E.x,-E.y),O.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+E.width+"x"+E.height+" at "+E.x+","+E.y+") with scale "+E.scale),O}return ge(w,x),w.prototype.render=function(M){return G(this,void 0,void 0,function(){var E,O;return Dt(this,function(Z){switch(Z.label){case 0:return E=ll(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,M),[4,Al(E)];case 1:return O=Z.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ar(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(O,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},w}(vb),Al=function(x){return new Promise(function(w,M){var E=new Image;E.onload=function(){w(E)},E.onerror=M,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(x))})},nh=function(){function x(w){var E=w.enabled;this.id=w.id,this.enabled=E,this.start=Date.now()}return x.prototype.debug=function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,jt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},x.prototype.getTime=function(){return Date.now()-this.start},x.prototype.info=function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,jt([this.id,this.getTime()+"ms"],w))},x.prototype.warn=function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,jt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},x.prototype.error=function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,jt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},x.instances={},x}(),cv=function(){function x(w,M){var E;this.windowBounds=M,this.instanceName="#"+x.instanceCount++,this.logger=new nh({id:this.instanceName,enabled:w.logging}),this.cache=null!==(E=w.cache)&&void 0!==E?E:new yB(this,w)}return x.instanceCount=1,x}();typeof window<"u"&&ng.setContext(window);var nT=function(x,w){return G(void 0,void 0,void 0,function(){var M,E,O,Z,Ae,Me,Ee,Ye,$e,rt,St,Di,ui,Fi,un,zi,Ui,Pn,Tn,wn,Li,vr,In,sa,Ya,Wa,Dr,aa,Eo,Ms,Ts,Tc,Vo,Mo,xu,Bu,jo,Sd;return Dt(this,function(rh){switch(rh.label){case 0:if(!x||"object"!=typeof x)return[2,Promise.reject("Invalid element provided as first argument")];if(!(M=x.ownerDocument))throw new Error("Element is not attached to a Document");if(!(E=M.defaultView))throw new Error("Document is not attached to a Window");return O={allowTaint:null!==(vr=w.allowTaint)&&void 0!==vr&&vr,imageTimeout:null!==(In=w.imageTimeout)&&void 0!==In?In:15e3,proxy:w.proxy,useCORS:null!==(sa=w.useCORS)&&void 0!==sa&&sa},Z=R({logging:null===(Ya=w.logging)||void 0===Ya||Ya,cache:w.cache},O),Ae={windowWidth:null!==(Wa=w.windowWidth)&&void 0!==Wa?Wa:E.innerWidth,windowHeight:null!==(Dr=w.windowHeight)&&void 0!==Dr?Dr:E.innerHeight,scrollX:null!==(aa=w.scrollX)&&void 0!==aa?aa:E.pageXOffset,scrollY:null!==(Eo=w.scrollY)&&void 0!==Eo?Eo:E.pageYOffset},Me=new h(Ae.scrollX,Ae.scrollY,Ae.windowWidth,Ae.windowHeight),Ee=new cv(Z,Me),Ye=null!==(Ms=w.foreignObjectRendering)&&void 0!==Ms&&Ms,$e={allowTaint:null!==(Ts=w.allowTaint)&&void 0!==Ts&&Ts,onclone:w.onclone,ignoreElements:w.ignoreElements,inlineImages:Ye,copyStyles:Ye},Ee.logger.debug("Starting document clone with size "+Me.width+"x"+Me.height+" scrolled to "+-Me.left+","+-Me.top),rt=new dp(Ee,x,$e),(St=rt.clonedReferenceElement)?[4,rt.toIFrame(M,Me)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Di=rh.sent(),ui=ob(St)||function(x){return"HTML"===x.tagName}(St)?function(x){var w=x.body,M=x.documentElement;if(!w||!M)throw new Error("Unable to get document size");var E=Math.max(Math.max(w.scrollWidth,M.scrollWidth),Math.max(w.offsetWidth,M.offsetWidth),Math.max(w.clientWidth,M.clientWidth)),O=Math.max(Math.max(w.scrollHeight,M.scrollHeight),Math.max(w.offsetHeight,M.offsetHeight),Math.max(w.clientHeight,M.clientHeight));return new h(0,0,E,O)}(St.ownerDocument):Qt(Ee,St),Fi=ui.width,un=ui.height,zi=ui.left,Ui=ui.top,Pn=rT(Ee,St,w.backgroundColor),Tn={canvas:w.canvas,backgroundColor:Pn,scale:null!==(Vo=null!==(Tc=w.scale)&&void 0!==Tc?Tc:E.devicePixelRatio)&&void 0!==Vo?Vo:1,x:(null!==(Mo=w.x)&&void 0!==Mo?Mo:0)+zi,y:(null!==(xu=w.y)&&void 0!==xu?xu:0)+Ui,width:null!==(Bu=w.width)&&void 0!==Bu?Bu:Math.ceil(Fi),height:null!==(jo=w.height)&&void 0!==jo?jo:Math.ceil(un)},Ye?(Ee.logger.debug("Document cloned, using foreign object rendering"),[4,new bb(Ee,Tn).render(St)]):[3,3];case 2:return wn=rh.sent(),[3,5];case 3:return Ee.logger.debug("Document cloned, element located at "+zi+","+Ui+" with size "+Fi+"x"+un+" using computed rendering"),Ee.logger.debug("Starting DOM parsing"),Li=Na(Ee,St),Pn===Li.styles.backgroundColor&&(Li.styles.backgroundColor=yo.TRANSPARENT),Ee.logger.debug("Starting renderer for element at "+Tn.x+","+Tn.y+" with size "+Tn.width+"x"+Tn.height),[4,new Lh(Ee,Tn).render(Li)];case 4:wn=rh.sent(),rh.label=5;case 5:return(!(null!==(Sd=w.removeContainer)&&void 0!==Sd)||Sd)&&(dp.destroy(Di)||Ee.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ee.logger.debug("Finished rendering"),[2,wn]}})})},rT=function(x,w,M){var E=w.ownerDocument,O=E.documentElement?Ur(x,getComputedStyle(E.documentElement).backgroundColor):yo.TRANSPARENT,Z=E.body?Ur(x,getComputedStyle(E.body).backgroundColor):yo.TRANSPARENT,Ae="string"==typeof M?Ur(x,M):null===M?yo.TRANSPARENT:4294967295;return w===E.documentElement?il(O)?il(Z)?Ae:Z:O:Ae};return function(x,w){return void 0===w&&(w={}),nT(x,w)}}()},371:(ti,_i,ge)=>{"use strict";ge.d(_i,{ro:()=>Vm,rK:()=>sp,I2:()=>jm});var R=ge(755),G=ge(6733),Dt=ge(6424),jt=ge(8748),h=ge(5047),Qt=ge(530),Bi=ge(1570),Wt=ge(155),_t=ge(8004),qi=ge(5333),kn=ge(1749),Et=ge(2405);class Lt extends Error{}class Si extends Lt{constructor(y){super(`Invalid DateTime: ${y.toMessage()}`)}}class sn extends Lt{constructor(y){super(`Invalid Interval: ${y.toMessage()}`)}}class an extends Lt{constructor(y){super(`Invalid Duration: ${y.toMessage()}`)}}class Fr extends Lt{}class Ys extends Lt{constructor(y){super(`Invalid unit ${y}`)}}class Jn extends Lt{}class Kn extends Lt{constructor(){super("Zone is an abstract class")}}const ni="numeric",Hr="short",Vr="long",Oo={year:ni,month:ni,day:ni},fa={year:ni,month:Hr,day:ni},zl={year:ni,month:Hr,day:ni,weekday:Hr},on={year:ni,month:Vr,day:ni},Ia={year:ni,month:Vr,day:ni,weekday:Vr},li={hour:ni,minute:ni},Zn={hour:ni,minute:ni,second:ni},nn={hour:ni,minute:ni,second:ni,timeZoneName:Hr},wr={hour:ni,minute:ni,second:ni,timeZoneName:Vr},eo={hour:ni,minute:ni,hourCycle:"h23"},Fa={hour:ni,minute:ni,second:ni,hourCycle:"h23"},to={hour:ni,minute:ni,second:ni,hourCycle:"h23",timeZoneName:Hr},El={hour:ni,minute:ni,second:ni,hourCycle:"h23",timeZoneName:Vr},Ml={year:ni,month:ni,day:ni,hour:ni,minute:ni},pa={year:ni,month:ni,day:ni,hour:ni,minute:ni,second:ni},ms={year:ni,month:Hr,day:ni,hour:ni,minute:ni},Rs={year:ni,month:Hr,day:ni,hour:ni,minute:ni,second:ni},rs={year:ni,month:Hr,day:ni,weekday:Hr,hour:ni,minute:ni},br={year:ni,month:Vr,day:ni,hour:ni,minute:ni,timeZoneName:Hr},qo={year:ni,month:Vr,day:ni,hour:ni,minute:ni,second:ni,timeZoneName:Hr},ka={year:ni,month:Vr,day:ni,weekday:Vr,hour:ni,minute:ni,timeZoneName:Vr},vo={year:ni,month:Vr,day:ni,weekday:Vr,hour:ni,minute:ni,second:ni,timeZoneName:Vr};class Yn{get type(){throw new Kn}get name(){throw new Kn}get ianaName(){return this.name}get isUniversal(){throw new Kn}offsetName(y,b){throw new Kn}formatOffset(y,b){throw new Kn}offset(y){throw new Kn}equals(y){throw new Kn}get isValid(){throw new Kn}}let Us=null;class Ws extends Yn{static get instance(){return null===Us&&(Us=new Ws),Us}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(y,{format:b,locale:I}){return tl(y,b,I)}formatOffset(y,b){return qe(this.offset(y),b)}offset(y){return-new Date(y).getTimezoneOffset()}equals(y){return"system"===y.type}get isValid(){return!0}}let rn={};const st={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let gn={};class On extends Yn{static create(y){return gn[y]||(gn[y]=new On(y)),gn[y]}static resetCache(){gn={},rn={}}static isValidSpecifier(y){return this.isValidZone(y)}static isValidZone(y){if(!y)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:y}).format(),!0}catch{return!1}}constructor(y){super(),this.zoneName=y,this.valid=On.isValidZone(y)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(y,{format:b,locale:I}){return tl(y,b,I,this.name)}formatOffset(y,b){return qe(this.offset(y),b)}offset(y){const b=new Date(y);if(isNaN(b))return NaN;const I=function ss(D){return rn[D]||(rn[D]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:D,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),rn[D]}(this.name);let[j,ce,Ue,it,wt,Yt,Ji]=I.formatToParts?function Rt(D,y){const b=D.formatToParts(y),I=[];for(let j=0;j<b.length;j++){const{type:ce,value:Ue}=b[j],it=st[ce];"era"===ce?I[it]=Ue:Yi(it)||(I[it]=parseInt(Ue,10))}return I}(I,b):function Xt(D,y){const b=D.format(y).replace(/\u200E/g,""),I=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(b),[,j,ce,Ue,it,wt,Yt,Ji]=I;return[Ue,j,ce,it,wt,Yt,Ji]}(I,b);"BC"===it&&(j=1-Math.abs(j));let An=+b;const Js=An%1e3;return An-=Js>=0?Js:1e3+Js,(gc({year:j,month:ce,day:Ue,hour:24===wt?0:wt,minute:Yt,second:Ji,millisecond:0})-An)/6e4}equals(y){return"iana"===y.type&&y.name===this.name}get isValid(){return this.valid}}let ma={},Qs={};function io(D,y={}){const b=JSON.stringify([D,y]);let I=Qs[b];return I||(I=new Intl.DateTimeFormat(D,y),Qs[b]=I),I}let Tl={},fe={},bi=null,At={};function wi(D,y,b,I){const j=D.listingMode();return"error"===j?null:"en"===j?b(y):I(y)}class as{constructor(y,b,I){this.padTo=I.padTo||0,this.floor=I.floor||!1;const{padTo:j,floor:ce,...Ue}=I;if(!b||Object.keys(Ue).length>0){const it={useGrouping:!1,...I};I.padTo>0&&(it.minimumIntegerDigits=I.padTo),this.inf=function Qe(D,y={}){const b=JSON.stringify([D,y]);let I=Tl[b];return I||(I=new Intl.NumberFormat(D,y),Tl[b]=I),I}(y,it)}}format(y){if(this.inf){const b=this.floor?Math.floor(y):y;return this.inf.format(b)}return Mi(this.floor?Math.floor(y):va(y,3),this.padTo)}}class $n{constructor(y,b,I){let j;if(this.opts=I,this.originalZone=void 0,this.opts.timeZone)this.dt=y;else if("fixed"===y.zone.type){const Ue=y.offset/60*-1,it=Ue>=0?`Etc/GMT+${Ue}`:`Etc/GMT${Ue}`;0!==y.offset&&On.create(it).valid?(j=it,this.dt=y):(j="UTC",this.dt=0===y.offset?y:y.setZone("UTC").plus({minutes:y.offset}),this.originalZone=y.zone)}else"system"===y.zone.type?this.dt=y:"iana"===y.zone.type?(this.dt=y,j=y.zone.name):(j="UTC",this.dt=y.setZone("UTC").plus({minutes:y.offset}),this.originalZone=y.zone);const ce={...this.opts};ce.timeZone=ce.timeZone||j,this.dtf=io(b,ce)}format(){return this.originalZone?this.formatToParts().map(({value:y})=>y).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const y=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?y.map(b=>{if("timeZoneName"===b.type){const I=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...b,value:I}}return b}):y}resolvedOptions(){return this.dtf.resolvedOptions()}}class Bs{constructor(y,b,I){this.opts={style:"long",...I},!b&&Pa()&&(this.rtf=function qt(D,y={}){const{base:b,...I}=y,j=JSON.stringify([D,I]);let ce=fe[j];return ce||(ce=new Intl.RelativeTimeFormat(D,y),fe[j]=ce),ce}(y,I))}format(y,b){return this.rtf?this.rtf.format(y,b):function iu(D,y,b="always",I=!1){const j={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},ce=-1===["hours","minutes","seconds"].indexOf(D);if("auto"===b&&ce){const Hn="days"===D;switch(y){case 1:return Hn?"tomorrow":`next ${j[D][0]}`;case-1:return Hn?"yesterday":`last ${j[D][0]}`;case 0:return Hn?"today":`this ${j[D][0]}`}}const Ue=Object.is(y,-0)||y<0,it=Math.abs(y),wt=1===it,Yt=j[D],Ji=I?wt?Yt[1]:Yt[2]||Yt[1]:wt?j[D][0]:D;return Ue?`${it} ${Ji} ago`:`in ${it} ${Ji}`}(b,y,this.opts.numeric,"long"!==this.opts.style)}formatToParts(y,b){return this.rtf?this.rtf.formatToParts(y,b):[]}}const Gl={firstDay:1,minimalDays:4,weekend:[6,7]};class yn{static fromOpts(y){return yn.create(y.locale,y.numberingSystem,y.outputCalendar,y.weekSettings,y.defaultToEN)}static create(y,b,I,j,ce=!1){const Ue=y||Mr.defaultLocale,it=Ue||(ce?"en-US":function pi(){return bi||(bi=(new Intl.DateTimeFormat).resolvedOptions().locale,bi)}()),wt=b||Mr.defaultNumberingSystem,Yt=I||Mr.defaultOutputCalendar,Ji=X(j)||Mr.defaultWeekSettings;return new yn(it,wt,Yt,Ji,Ue)}static resetCache(){bi=null,Qs={},Tl={},fe={}}static fromObject({locale:y,numberingSystem:b,outputCalendar:I,weekSettings:j}={}){return yn.create(y,b,I,j)}constructor(y,b,I,j,ce){const[Ue,it,wt]=function we(D){const y=D.indexOf("-x-");-1!==y&&(D=D.substring(0,y));const b=D.indexOf("-u-");if(-1===b)return[D];{let I,j;try{I=io(D).resolvedOptions(),j=D}catch{const wt=D.substring(0,b);I=io(wt).resolvedOptions(),j=wt}const{numberingSystem:ce,calendar:Ue}=I;return[j,ce,Ue]}}(y);this.locale=Ue,this.numberingSystem=b||it||null,this.outputCalendar=I||wt||null,this.weekSettings=j,this.intl=function We(D,y,b){return(b||y)&&(D.includes("-u-")||(D+="-u"),b&&(D+=`-ca-${b}`),y&&(D+=`-nu-${y}`)),D}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=ce,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function fn(D){return(!D.numberingSystem||"latn"===D.numberingSystem)&&("latn"===D.numberingSystem||!D.locale||D.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(D.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(y){return y&&0!==Object.getOwnPropertyNames(y).length?yn.create(y.locale||this.specifiedLocale,y.numberingSystem||this.numberingSystem,y.outputCalendar||this.outputCalendar,X(y.weekSettings)||this.weekSettings,y.defaultToEN||!1):this}redefaultToEN(y={}){return this.clone({...y,defaultToEN:!0})}redefaultToSystem(y={}){return this.clone({...y,defaultToEN:!1})}months(y,b=!1){return wi(this,y,Hi,()=>{const I=b?{month:y,day:"numeric"}:{month:y},j=b?"format":"standalone";return this.monthsCache[j][y]||(this.monthsCache[j][y]=function Ge(D){const y=[];for(let b=1;b<=12;b++){const I=Gi.utc(2009,b,1);y.push(D(I))}return y}(ce=>this.extract(ce,I,"month"))),this.monthsCache[j][y]})}weekdays(y,b=!1){return wi(this,y,or,()=>{const I=b?{weekday:y,year:"numeric",month:"long",day:"numeric"}:{weekday:y},j=b?"format":"standalone";return this.weekdaysCache[j][y]||(this.weekdaysCache[j][y]=function fi(D){const y=[];for(let b=1;b<=7;b++){const I=Gi.utc(2016,11,13+b);y.push(D(I))}return y}(ce=>this.extract(ce,I,"weekday"))),this.weekdaysCache[j][y]})}meridiems(){return wi(this,void 0,()=>ir,()=>{if(!this.meridiemCache){const y={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Gi.utc(2016,11,13,9),Gi.utc(2016,11,13,19)].map(b=>this.extract(b,y,"dayperiod"))}return this.meridiemCache})}eras(y){return wi(this,y,Os,()=>{const b={era:y};return this.eraCache[y]||(this.eraCache[y]=[Gi.utc(-40,1,1),Gi.utc(2017,1,1)].map(I=>this.extract(I,b,"era"))),this.eraCache[y]})}extract(y,b,I){const Ue=this.dtFormatter(y,b).formatToParts().find(it=>it.type.toLowerCase()===I);return Ue?Ue.value:null}numberFormatter(y={}){return new as(this.intl,y.forceSimple||this.fastNumbers,y)}dtFormatter(y,b={}){return new $n(y,this.intl,b)}relFormatter(y={}){return new Bs(this.intl,this.isEnglish(),y)}listFormatter(y={}){return function zr(D,y={}){const b=JSON.stringify([D,y]);let I=ma[b];return I||(I=new Intl.ListFormat(D,y),ma[b]=I),I}(this.intl,y)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Dn()?function Ri(D){let y=At[D];if(!y){const b=new Intl.Locale(D);y="getWeekInfo"in b?b.getWeekInfo():b.weekInfo,At[D]=y}return y}(this.locale):Gl}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(y){return this.locale===y.locale&&this.numberingSystem===y.numberingSystem&&this.outputCalendar===y.outputCalendar}}let wo=null;class $r extends Yn{static get utcInstance(){return null===wo&&(wo=new $r(0)),wo}static instance(y){return 0===y?$r.utcInstance:new $r(y)}static parseSpecifier(y){if(y){const b=y.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(b)return new $r(Ua(b[1],b[2]))}return null}constructor(y){super(),this.fixed=y}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${qe(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${qe(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(y,b){return qe(this.fixed,b)}get isUniversal(){return!0}offset(){return this.fixed}equals(y){return"fixed"===y.type&&y.fixed===this.fixed}get isValid(){return!0}}class bo extends Yn{constructor(y){super(),this.zoneName=y}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function no(D,y){if(Yi(D)||null===D)return y;if(D instanceof Yn)return D;if(function td(D){return"string"==typeof D}(D)){const I=D.toLowerCase();return"default"===I?y:"local"===I||"system"===I?Ws.instance:"utc"===I||"gmt"===I?$r.utcInstance:$r.parseSpecifier(I)||On.create(D)}return er(D)?$r.instance(D):"object"==typeof D&&"offset"in D&&"function"==typeof D.offset?D:new bo(D)}let fc,ro=()=>Date.now(),bh="system",dc=null,zc=null,Nn=null,Gc=60,so=null;class Mr{static get now(){return ro}static set now(y){ro=y}static set defaultZone(y){bh=y}static get defaultZone(){return no(bh,Ws.instance)}static get defaultLocale(){return dc}static set defaultLocale(y){dc=y}static get defaultNumberingSystem(){return zc}static set defaultNumberingSystem(y){zc=y}static get defaultOutputCalendar(){return Nn}static set defaultOutputCalendar(y){Nn=y}static get defaultWeekSettings(){return so}static set defaultWeekSettings(y){so=X(y)}static get twoDigitCutoffYear(){return Gc}static set twoDigitCutoffYear(y){Gc=y%100}static get throwOnInvalid(){return fc}static set throwOnInvalid(y){fc=y}static resetCaches(){yn.resetCache(),On.resetCache()}}class ga{constructor(y,b){this.reason=y,this.explanation=b}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const pc=[0,31,59,90,120,151,181,212,243,273,304,334],sA=[0,31,60,91,121,152,182,213,244,274,305,335];function La(D,y){return new ga("unit out of range",`you specified ${y} (of type ${typeof y}) as a ${D}, which is invalid`)}function Yc(D,y,b){const I=new Date(Date.UTC(D,y-1,b));D<100&&D>=0&&I.setUTCFullYear(I.getUTCFullYear()-1900);const j=I.getUTCDay();return 0===j?7:j}function Wc(D,y,b){return b+(el(D)?sA:pc)[y-1]}function Vc(D,y){const b=el(D)?sA:pc,I=b.findIndex(ce=>ce<y);return{month:I+1,day:y-b[I]}}function yh(D,y){return(D-y+7)%7+1}function No(D,y=4,b=1){const{year:I,month:j,day:ce}=D,Ue=Wc(I,j,ce),it=yh(Yc(I,j,ce),b);let Yt,wt=Math.floor((Ue-it+14-y)/7);return wt<1?(Yt=I-1,wt=jc(Yt,y,b)):wt>jc(I,y,b)?(Yt=I+1,wt=1):Yt=I,{weekYear:Yt,weekNumber:wt,weekday:it,...dt(D)}}function _a(D,y=4,b=1){const{weekYear:I,weekNumber:j,weekday:ce}=D,Ue=yh(Yc(I,1,y),b),it=Sl(I);let Yt,wt=7*j+ce-Ue-7+y;wt<1?(Yt=I-1,wt+=Sl(Yt)):wt>it?(Yt=I+1,wt-=Sl(I)):Yt=I;const{month:Ji,day:Hn}=Vc(Yt,wt);return{year:Yt,month:Ji,day:Hn,...dt(D)}}function mc(D){const{year:y,month:b,day:I}=D;return{year:y,ordinal:Wc(y,b,I),...dt(D)}}function ao(D){const{year:y,ordinal:b}=D,{month:I,day:j}=Vc(y,b);return{year:y,month:I,day:j,...dt(D)}}function aA(D,y){if(Yi(D.localWeekday)&&Yi(D.localWeekNumber)&&Yi(D.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!Yi(D.weekday)||!Yi(D.weekNumber)||!Yi(D.weekYear))throw new Fr("Cannot mix locale-based week fields with ISO-based week fields");return Yi(D.localWeekday)||(D.weekday=D.localWeekday),Yi(D.localWeekNumber)||(D.weekNumber=D.localWeekNumber),Yi(D.localWeekYear)||(D.weekYear=D.localWeekYear),delete D.localWeekday,delete D.localWeekNumber,delete D.localWeekYear,{minDaysInFirstWeek:y.getMinDaysInFirstWeek(),startOfWeek:y.getStartOfWeek()}}function Wl(D){const y=Dl(D.year),b=xe(D.month,1,12),I=xe(D.day,1,$A(D.year,D.month));return y?b?!I&&La("day",D.day):La("month",D.month):La("year",D.year)}function $o(D){const{hour:y,minute:b,second:I,millisecond:j}=D,ce=xe(y,0,23)||24===y&&0===b&&0===I&&0===j,Ue=xe(b,0,59),it=xe(I,0,59),wt=xe(j,0,999);return ce?Ue?it?!wt&&La("millisecond",j):La("second",I):La("minute",b):La("hour",y)}function Yi(D){return typeof D>"u"}function er(D){return"number"==typeof D}function Dl(D){return"number"==typeof D&&D%1==0}function Pa(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Dn(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function ci(D,y,b){if(0!==D.length)return D.reduce((I,j)=>{const ce=[y(j),j];return I&&b(I[0],ce[0])===I[0]?I:ce},null)[1]}function ae(D,y){return Object.prototype.hasOwnProperty.call(D,y)}function X(D){if(null==D)return null;if("object"!=typeof D)throw new Jn("Week settings must be an object");if(!xe(D.firstDay,1,7)||!xe(D.minimalDays,1,7)||!Array.isArray(D.weekend)||D.weekend.some(y=>!xe(y,1,7)))throw new Jn("Invalid week settings");return{firstDay:D.firstDay,minimalDays:D.minimalDays,weekend:Array.from(D.weekend)}}function xe(D,y,b){return Dl(D)&&D>=y&&D<=b}function Mi(D,y=2){let I;return I=D<0?"-"+(""+-D).padStart(y,"0"):(""+D).padStart(y,"0"),I}function gs(D){if(!Yi(D)&&null!==D&&""!==D)return parseInt(D,10)}function es(D){if(!Yi(D)&&null!==D&&""!==D)return parseFloat(D)}function Ra(D){if(!Yi(D)&&null!==D&&""!==D){const y=1e3*parseFloat("0."+D);return Math.floor(y)}}function va(D,y,b=!1){const I=10**y;return(b?Math.trunc:Math.round)(D*I)/I}function el(D){return D%4==0&&(D%100!=0||D%400==0)}function Sl(D){return el(D)?366:365}function $A(D,y){const b=function tt(D,y){return D-y*Math.floor(D/y)}(y-1,12)+1;return 2===b?el(D+(y-b)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][b-1]}function gc(D){let y=Date.UTC(D.year,D.month-1,D.day,D.hour,D.minute,D.second,D.millisecond);return D.year<100&&D.year>=0&&(y=new Date(y),y.setUTCFullYear(D.year,D.month-1,D.day)),+y}function Sf(D,y,b){return-yh(Yc(D,1,y),b)+y-1}function jc(D,y=4,b=1){const I=Sf(D,y,b),j=Sf(D+1,y,b);return(Sl(D)-I+j)/7}function nd(D){return D>99?D:D>Mr.twoDigitCutoffYear?1900+D:2e3+D}function tl(D,y,b,I=null){const j=new Date(D),ce={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};I&&(ce.timeZone=I);const Ue={timeZoneName:y,...ce},it=new Intl.DateTimeFormat(b,Ue).formatToParts(j).find(wt=>"timezonename"===wt.type.toLowerCase());return it?it.value:null}function Ua(D,y){let b=parseInt(D,10);Number.isNaN(b)&&(b=0);const I=parseInt(y,10)||0;return 60*b+(b<0||Object.is(b,-0)?-I:I)}function _c(D){const y=Number(D);if("boolean"==typeof D||""===D||Number.isNaN(y))throw new Jn(`Invalid unit value ${D}`);return y}function Pe(D,y){const b={};for(const I in D)if(ae(D,I)){const j=D[I];if(null==j)continue;b[y(I)]=_c(j)}return b}function qe(D,y){const b=Math.trunc(Math.abs(D/60)),I=Math.trunc(Math.abs(D%60)),j=D>=0?"+":"-";switch(y){case"short":return`${j}${Mi(b,2)}:${Mi(I,2)}`;case"narrow":return`${j}${b}${I>0?`:${I}`:""}`;case"techie":return`${j}${Mi(b,2)}${Mi(I,2)}`;default:throw new RangeError(`Value format ${y} is out of range for property format`)}}function dt(D){return function k(D,y){return y.reduce((b,I)=>(b[I]=D[I],b),{})}(D,["hour","minute","second","millisecond"])}const di=["January","February","March","April","May","June","July","August","September","October","November","December"],vi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],hn=["J","F","M","A","M","J","J","A","S","O","N","D"];function Hi(D){switch(D){case"narrow":return[...hn];case"short":return[...vi];case"long":return[...di];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const kr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],yr=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],jr=["M","T","W","T","F","S","S"];function or(D){switch(D){case"narrow":return[...jr];case"short":return[...yr];case"long":return[...kr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ir=["AM","PM"],_s=["Before Christ","Anno Domini"],ea=["BC","AD"],Vs=["B","A"];function Os(D){switch(D){case"narrow":return[...Vs];case"short":return[...ea];case"long":return[..._s];default:return null}}function Ns(D,y){let b="";for(const I of D)b+=I.literal?I.val:y(I.val);return b}const l0={D:Oo,DD:fa,DDD:on,DDDD:Ia,t:li,tt:Zn,ttt:nn,tttt:wr,T:eo,TT:Fa,TTT:to,TTTT:El,f:Ml,ff:ms,fff:br,ffff:ka,F:pa,FF:Rs,FFF:qo,FFFF:vo};class Cs{static create(y,b={}){return new Cs(y,b)}static parseFormat(y){let b=null,I="",j=!1;const ce=[];for(let Ue=0;Ue<y.length;Ue++){const it=y.charAt(Ue);"'"===it?(I.length>0&&ce.push({literal:j||/^\s+$/.test(I),val:I}),b=null,I="",j=!j):j||it===b?I+=it:(I.length>0&&ce.push({literal:/^\s+$/.test(I),val:I}),I=it,b=it)}return I.length>0&&ce.push({literal:j||/^\s+$/.test(I),val:I}),ce}static macroTokenToFormatOpts(y){return l0[y]}constructor(y,b){this.opts=b,this.loc=y,this.systemLoc=null}formatWithSystemDefault(y,b){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(y,{...this.opts,...b}).format()}dtFormatter(y,b={}){return this.loc.dtFormatter(y,{...this.opts,...b})}formatDateTime(y,b){return this.dtFormatter(y,b).format()}formatDateTimeParts(y,b){return this.dtFormatter(y,b).formatToParts()}formatInterval(y,b){return this.dtFormatter(y.start,b).dtf.formatRange(y.start.toJSDate(),y.end.toJSDate())}resolvedOptions(y,b){return this.dtFormatter(y,b).resolvedOptions()}num(y,b=0){if(this.opts.forceSimple)return Mi(y,b);const I={...this.opts};return b>0&&(I.padTo=b),this.loc.numberFormatter(I).format(y)}formatDateTimeFromString(y,b){const I="en"===this.loc.listingMode(),j=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,ce=(An,Js)=>this.loc.extract(y,An,Js),Ue=An=>y.isOffsetFixed&&0===y.offset&&An.allowZ?"Z":y.isValid?y.zone.formatOffset(y.ts,An.format):"",wt=(An,Js)=>I?function tu(D,y){return Hi(y)[D.month-1]}(y,An):ce(Js?{month:An}:{month:An,day:"numeric"},"month"),Yt=(An,Js)=>I?function oA(D,y){return or(y)[D.weekday-1]}(y,An):ce(Js?{weekday:An}:{weekday:An,month:"long",day:"numeric"},"weekday"),Ji=An=>{const Js=Cs.macroTokenToFormatOpts(An);return Js?this.formatWithSystemDefault(y,Js):An},Hn=An=>I?function oo(D,y){return Os(y)[D.year<0?0:1]}(y,An):ce({era:An},"era");return Ns(Cs.parseFormat(b),An=>{switch(An){case"S":return this.num(y.millisecond);case"u":case"SSS":return this.num(y.millisecond,3);case"s":return this.num(y.second);case"ss":return this.num(y.second,2);case"uu":return this.num(Math.floor(y.millisecond/10),2);case"uuu":return this.num(Math.floor(y.millisecond/100));case"m":return this.num(y.minute);case"mm":return this.num(y.minute,2);case"h":return this.num(y.hour%12==0?12:y.hour%12);case"hh":return this.num(y.hour%12==0?12:y.hour%12,2);case"H":return this.num(y.hour);case"HH":return this.num(y.hour,2);case"Z":return Ue({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Ue({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Ue({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return y.zone.offsetName(y.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return y.zone.offsetName(y.ts,{format:"long",locale:this.loc.locale});case"z":return y.zoneName;case"a":return I?function eu(D){return ir[D.hour<12?0:1]}(y):ce({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return j?ce({day:"numeric"},"day"):this.num(y.day);case"dd":return j?ce({day:"2-digit"},"day"):this.num(y.day,2);case"c":case"E":return this.num(y.weekday);case"ccc":return Yt("short",!0);case"cccc":return Yt("long",!0);case"ccccc":return Yt("narrow",!0);case"EEE":return Yt("short",!1);case"EEEE":return Yt("long",!1);case"EEEEE":return Yt("narrow",!1);case"L":return j?ce({month:"numeric",day:"numeric"},"month"):this.num(y.month);case"LL":return j?ce({month:"2-digit",day:"numeric"},"month"):this.num(y.month,2);case"LLL":return wt("short",!0);case"LLLL":return wt("long",!0);case"LLLLL":return wt("narrow",!0);case"M":return j?ce({month:"numeric"},"month"):this.num(y.month);case"MM":return j?ce({month:"2-digit"},"month"):this.num(y.month,2);case"MMM":return wt("short",!1);case"MMMM":return wt("long",!1);case"MMMMM":return wt("narrow",!1);case"y":return j?ce({year:"numeric"},"year"):this.num(y.year);case"yy":return j?ce({year:"2-digit"},"year"):this.num(y.year.toString().slice(-2),2);case"yyyy":return j?ce({year:"numeric"},"year"):this.num(y.year,4);case"yyyyyy":return j?ce({year:"numeric"},"year"):this.num(y.year,6);case"G":return Hn("short");case"GG":return Hn("long");case"GGGGG":return Hn("narrow");case"kk":return this.num(y.weekYear.toString().slice(-2),2);case"kkkk":return this.num(y.weekYear,4);case"W":return this.num(y.weekNumber);case"WW":return this.num(y.weekNumber,2);case"n":return this.num(y.localWeekNumber);case"nn":return this.num(y.localWeekNumber,2);case"ii":return this.num(y.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(y.localWeekYear,4);case"o":return this.num(y.ordinal);case"ooo":return this.num(y.ordinal,3);case"q":return this.num(y.quarter);case"qq":return this.num(y.quarter,2);case"X":return this.num(Math.floor(y.ts/1e3));case"x":return this.num(y.ts);default:return Ji(An)}})}formatDurationFromString(y,b){const I=wt=>{switch(wt[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},ce=Cs.parseFormat(b),Ue=ce.reduce((wt,{literal:Yt,val:Ji})=>Yt?wt:wt.concat(Ji),[]);return Ns(ce,(wt=>Yt=>{const Ji=I(Yt);return Ji?this.num(wt.get(Ji),Yt.length):Yt})(y.shiftTo(...Ue.map(I).filter(wt=>wt))))}}const pm=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function lA(...D){const y=D.reduce((b,I)=>b+I.source,"");return RegExp(`^${y}$`)}function cA(...D){return y=>D.reduce(([b,I,j],ce)=>{const[Ue,it,wt]=ce(y,j);return[{...b,...Ue},it||I,wt]},[{},null,1]).slice(0,2)}function hA(D,...y){if(null==D)return[null,null];for(const[b,I]of y){const j=b.exec(D);if(j)return I(j)}return[null,null]}function nu(...D){return(y,b)=>{const I={};let j;for(j=0;j<D.length;j++)I[D[j]]=gs(y[b+j]);return[I,null,b+j]}}const ru=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,If=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,vc=RegExp(`${If.source}(?:${ru.source}?(?:\\[(${pm.source})\\])?)?`),AA=RegExp(`(?:T${vc.source})?`),A0=nu("weekYear","weekNumber","weekDay"),u0=nu("year","ordinal"),kf=RegExp(`${If.source} ?(?:${ru.source}|(${pm.source}))?`),hr=RegExp(`(?: ${kf.source})?`);function Qa(D,y,b){const I=D[y];return Yi(I)?b:gs(I)}function Ki(D,y){return[{hours:Qa(D,y,0),minutes:Qa(D,y+1,0),seconds:Qa(D,y+2,0),milliseconds:Ra(D[y+3])},null,y+4]}function Oa(D,y){const b=!D[y]&&!D[y+1],I=Ua(D[y+1],D[y+2]);return[{},b?null:$r.instance(I),y+3]}function uA(D,y){return[{},D[y]?On.create(D[y]):null,y+1]}const Jc=RegExp(`^T?${If.source}$`),Il=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function f0(D){const[y,b,I,j,ce,Ue,it,wt,Yt]=D,Ji="-"===y[0],Hn=wt&&"-"===wt[0],dr=(An,Js=!1)=>void 0!==An&&(Js||An&&Ji)?-An:An;return[{years:dr(es(b)),months:dr(es(I)),weeks:dr(es(j)),days:dr(es(ce)),hours:dr(es(Ue)),minutes:dr(es(it)),seconds:dr(es(wt),"-0"===wt),milliseconds:dr(Ra(Yt),Hn)}]}const p0={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Fl(D,y,b,I,j,ce,Ue){const it={year:2===y.length?nd(gs(y)):gs(y),month:vi.indexOf(b)+1,day:gs(I),hour:gs(j),minute:gs(ce)};return Ue&&(it.second=gs(Ue)),D&&(it.weekday=D.length>3?kr.indexOf(D)+1:yr.indexOf(D)+1),it}const m0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function g0(D){const[,y,b,I,j,ce,Ue,it,wt,Yt,Ji,Hn]=D,dr=Fl(y,j,I,b,ce,Ue,it);let An;return An=wt?p0[wt]:Yt?0:Ua(Ji,Hn),[dr,new $r(An)]}const _0=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,su=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,gm=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Lf(D){const[,y,b,I,j,ce,Ue,it]=D;return[Fl(y,j,I,b,ce,Ue,it),$r.utcInstance]}function au(D){const[,y,b,I,j,ce,Ue,it]=D;return[Fl(y,it,b,I,j,ce,Ue),$r.utcInstance]}const Bh=lA(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,AA),Lr=lA(/(\d{4})-?W(\d\d)(?:-?(\d))?/,AA),v0=lA(/(\d{4})-?(\d{3})/,AA),Pf=lA(vc),Rf=cA(function ln(D,y){return[{year:Qa(D,y),month:Qa(D,y+1,1),day:Qa(D,y+2,1)},null,y+3]},Ki,Oa,uA),dA=cA(A0,Ki,Oa,uA),Vl=cA(u0,Ki,Oa,uA),w0=cA(Ki,Oa,uA),js=cA(Ki),ou=lA(/(\d{4})-(\d\d)-(\d\d)/,hr),_n=lA(kf),_m=cA(Ki,Oa,uA),Uf="Invalid Duration",ad={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},lu={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...ad},wa=365.2425,Ho=30.436875,zo={years:{quarters:4,months:12,weeks:wa/7,days:wa,hours:24*wa,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:wa/28,days:wa/4,hours:24*wa/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Ho/7,days:Ho,hours:24*Ho,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...ad},Jr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],il=Jr.slice(0).reverse();function Ar(D,y,b=!1){const I={values:b?y.values:{...D.values,...y.values||{}},loc:D.loc.clone(y.loc),conversionAccuracy:y.conversionAccuracy||D.conversionAccuracy,matrix:y.matrix||D.matrix};return new Wn(I)}function Go(D,y){let b=y.milliseconds??0;for(const I of il.slice(1))y[I]&&(b+=y[I]*D[I].milliseconds);return b}function Ch(D,y){const b=Go(D,y)<0?-1:1;Jr.reduceRight((I,j)=>{if(Yi(y[j]))return I;if(I){const Ue=D[j][I],it=Math.floor(y[I]*b/Ue);y[j]+=it*b,y[I]-=it*Ue*b}return j},null),Jr.reduce((I,j)=>{if(Yi(y[j]))return I;if(I){const ce=y[I]%1;y[I]-=ce,y[j]+=ce*D[I][j]}return j},null)}class Wn{constructor(y){const b="longterm"===y.conversionAccuracy||!1;let I=b?zo:lu;y.matrix&&(I=y.matrix),this.values=y.values,this.loc=y.loc||yn.create(),this.conversionAccuracy=b?"longterm":"casual",this.invalid=y.invalid||null,this.matrix=I,this.isLuxonDuration=!0}static fromMillis(y,b){return Wn.fromObject({milliseconds:y},b)}static fromObject(y,b={}){if(null==y||"object"!=typeof y)throw new Jn("Duration.fromObject: argument expected to be an object, got "+(null===y?"null":typeof y));return new Wn({values:Pe(y,Wn.normalizeUnit),loc:yn.fromObject(b),conversionAccuracy:b.conversionAccuracy,matrix:b.matrix})}static fromDurationLike(y){if(er(y))return Wn.fromMillis(y);if(Wn.isDuration(y))return y;if("object"==typeof y)return Wn.fromObject(y);throw new Jn(`Unknown duration argument ${y} of type ${typeof y}`)}static fromISO(y,b){const[I]=function Ln(D){return hA(D,[Il,f0])}(y);return I?Wn.fromObject(I,b):Wn.invalid("unparsable",`the input "${y}" can't be parsed as ISO 8601`)}static fromISOTime(y,b){const[I]=function Zc(D){return hA(D,[Jc,js])}(y);return I?Wn.fromObject(I,b):Wn.invalid("unparsable",`the input "${y}" can't be parsed as ISO 8601`)}static invalid(y,b=null){if(!y)throw new Jn("need to specify a reason the Duration is invalid");const I=y instanceof ga?y:new ga(y,b);if(Mr.throwOnInvalid)throw new an(I);return new Wn({invalid:I})}static normalizeUnit(y){const b={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[y&&y.toLowerCase()];if(!b)throw new Ys(y);return b}static isDuration(y){return y&&y.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(y,b={}){const I={...b,floor:!1!==b.round&&!1!==b.floor};return this.isValid?Cs.create(this.loc,I).formatDurationFromString(this,y):Uf}toHuman(y={}){if(!this.isValid)return Uf;const b=Jr.map(I=>{const j=this.values[I];return Yi(j)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...y,unit:I.slice(0,-1)}).format(j)}).filter(I=>I);return this.loc.listFormatter({type:"conjunction",style:y.listStyle||"narrow",...y}).format(b)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let y="P";return 0!==this.years&&(y+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(y+=this.months+3*this.quarters+"M"),0!==this.weeks&&(y+=this.weeks+"W"),0!==this.days&&(y+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(y+="T"),0!==this.hours&&(y+=this.hours+"H"),0!==this.minutes&&(y+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(y+=va(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===y&&(y+="T0S"),y}toISOTime(y={}){if(!this.isValid)return null;const b=this.toMillis();return b<0||b>=864e5?null:(y={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...y,includeOffset:!1},Gi.fromMillis(b,{zone:"UTC"}).toISOTime(y))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Go(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(y){if(!this.isValid)return this;const b=Wn.fromDurationLike(y),I={};for(const j of Jr)(ae(b.values,j)||ae(this.values,j))&&(I[j]=b.get(j)+this.get(j));return Ar(this,{values:I},!0)}minus(y){if(!this.isValid)return this;const b=Wn.fromDurationLike(y);return this.plus(b.negate())}mapUnits(y){if(!this.isValid)return this;const b={};for(const I of Object.keys(this.values))b[I]=_c(y(this.values[I],I));return Ar(this,{values:b},!0)}get(y){return this[Wn.normalizeUnit(y)]}set(y){return this.isValid?Ar(this,{values:{...this.values,...Pe(y,Wn.normalizeUnit)}}):this}reconfigure({locale:y,numberingSystem:b,conversionAccuracy:I,matrix:j}={}){return Ar(this,{loc:this.loc.clone({locale:y,numberingSystem:b}),matrix:j,conversionAccuracy:I})}as(y){return this.isValid?this.shiftTo(y).get(y):NaN}normalize(){if(!this.isValid)return this;const y=this.toObject();return Ch(this.matrix,y),Ar(this,{values:y},!0)}rescale(){return this.isValid?Ar(this,{values:function fA(D){const y={};for(const[b,I]of Object.entries(D))0!==I&&(y[b]=I);return y}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...y){if(!this.isValid)return this;if(0===y.length)return this;y=y.map(Ue=>Wn.normalizeUnit(Ue));const b={},I={},j=this.toObject();let ce;for(const Ue of Jr)if(y.indexOf(Ue)>=0){ce=Ue;let it=0;for(const Yt in I)it+=this.matrix[Yt][Ue]*I[Yt],I[Yt]=0;er(j[Ue])&&(it+=j[Ue]);const wt=Math.trunc(it);b[Ue]=wt,I[Ue]=(1e3*it-1e3*wt)/1e3}else er(j[Ue])&&(I[Ue]=j[Ue]);for(const Ue in I)0!==I[Ue]&&(b[ce]+=Ue===ce?I[Ue]:I[Ue]/this.matrix[ce][Ue]);return Ch(this.matrix,b),Ar(this,{values:b},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const y={};for(const b of Object.keys(this.values))y[b]=0===this.values[b]?0:-this.values[b];return Ar(this,{values:y},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(y){if(!this.isValid||!y.isValid||!this.loc.equals(y.loc))return!1;function b(I,j){return void 0===I||0===I?void 0===j||0===j:I===j}for(const I of Jr)if(!b(this.values[I],y.values[I]))return!1;return!0}}const Xc="Invalid Interval";class Ur{constructor(y){this.s=y.start,this.e=y.end,this.invalid=y.invalid||null,this.isLuxonInterval=!0}static invalid(y,b=null){if(!y)throw new Jn("need to specify a reason the Interval is invalid");const I=y instanceof ga?y:new ga(y,b);if(Mr.throwOnInvalid)throw new sn(I);return new Ur({invalid:I})}static fromDateTimes(y,b){const I=Ad(y),j=Ad(b),ce=function wm(D,y){return D&&D.isValid?y&&y.isValid?y<D?Ur.invalid("end before start",`The end of an interval must be after its start, but you had start=${D.toISO()} and end=${y.toISO()}`):null:Ur.invalid("missing or invalid end"):Ur.invalid("missing or invalid start")}(I,j);return ce??new Ur({start:I,end:j})}static after(y,b){const I=Wn.fromDurationLike(b),j=Ad(y);return Ur.fromDateTimes(j,j.plus(I))}static before(y,b){const I=Wn.fromDurationLike(b),j=Ad(y);return Ur.fromDateTimes(j.minus(I),j)}static fromISO(y,b){const[I,j]=(y||"").split("/",2);if(I&&j){let ce,Ue,it,wt;try{ce=Gi.fromISO(I,b),Ue=ce.isValid}catch{Ue=!1}try{it=Gi.fromISO(j,b),wt=it.isValid}catch{wt=!1}if(Ue&&wt)return Ur.fromDateTimes(ce,it);if(Ue){const Yt=Wn.fromISO(j,b);if(Yt.isValid)return Ur.after(ce,Yt)}else if(wt){const Yt=Wn.fromISO(I,b);if(Yt.isValid)return Ur.before(it,Yt)}}return Ur.invalid("unparsable",`the input "${y}" can't be parsed as ISO 8601`)}static isInterval(y){return y&&y.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(y="milliseconds"){return this.isValid?this.toDuration(y).get(y):NaN}count(y="milliseconds",b){if(!this.isValid)return NaN;const I=this.start.startOf(y,b);let j;return j=b?.useLocaleWeeks?this.end.reconfigure({locale:I.locale}):this.end,j=j.startOf(y,b),Math.floor(j.diff(I,y).get(y))+(j.valueOf()!==this.end.valueOf())}hasSame(y){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,y))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(y){return!!this.isValid&&this.s>y}isBefore(y){return!!this.isValid&&this.e<=y}contains(y){return!!this.isValid&&this.s<=y&&this.e>y}set({start:y,end:b}={}){return this.isValid?Ur.fromDateTimes(y||this.s,b||this.e):this}splitAt(...y){if(!this.isValid)return[];const b=y.map(Ad).filter(Ue=>this.contains(Ue)).sort((Ue,it)=>Ue.toMillis()-it.toMillis()),I=[];let{s:j}=this,ce=0;for(;j<this.e;){const Ue=b[ce]||this.e,it=+Ue>+this.e?this.e:Ue;I.push(Ur.fromDateTimes(j,it)),j=it,ce+=1}return I}splitBy(y){const b=Wn.fromDurationLike(y);if(!this.isValid||!b.isValid||0===b.as("milliseconds"))return[];let ce,{s:I}=this,j=1;const Ue=[];for(;I<this.e;){const it=this.start.plus(b.mapUnits(wt=>wt*j));ce=+it>+this.e?this.e:it,Ue.push(Ur.fromDateTimes(I,ce)),I=ce,j+=1}return Ue}divideEqually(y){return this.isValid?this.splitBy(this.length()/y).slice(0,y):[]}overlaps(y){return this.e>y.s&&this.s<y.e}abutsStart(y){return!!this.isValid&&+this.e==+y.s}abutsEnd(y){return!!this.isValid&&+y.e==+this.s}engulfs(y){return!!this.isValid&&this.s<=y.s&&this.e>=y.e}equals(y){return!(!this.isValid||!y.isValid)&&this.s.equals(y.s)&&this.e.equals(y.e)}intersection(y){if(!this.isValid)return this;const b=this.s>y.s?this.s:y.s,I=this.e<y.e?this.e:y.e;return b>=I?null:Ur.fromDateTimes(b,I)}union(y){return this.isValid?Ur.fromDateTimes(this.s<y.s?this.s:y.s,this.e>y.e?this.e:y.e):this}static merge(y){const[b,I]=y.sort((j,ce)=>j.s-ce.s).reduce(([j,ce],Ue)=>ce?ce.overlaps(Ue)||ce.abutsStart(Ue)?[j,ce.union(Ue)]:[j.concat([ce]),Ue]:[j,Ue],[[],null]);return I&&b.push(I),b}static xor(y){let b=null,I=0;const j=[],ce=y.map(wt=>[{time:wt.s,type:"s"},{time:wt.e,type:"e"}]),it=Array.prototype.concat(...ce).sort((wt,Yt)=>wt.time-Yt.time);for(const wt of it)I+="s"===wt.type?1:-1,1===I?b=wt.time:(b&&+b!=+wt.time&&j.push(Ur.fromDateTimes(b,wt.time)),b=null);return Ur.merge(j)}difference(...y){return Ur.xor([this].concat(y)).map(b=>this.intersection(b)).filter(b=>b&&!b.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Xc}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(y=Oo,b={}){return this.isValid?Cs.create(this.s.loc.clone(b),y).formatInterval(this):Xc}toISO(y){return this.isValid?`${this.s.toISO(y)}/${this.e.toISO(y)}`:Xc}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Xc}toISOTime(y){return this.isValid?`${this.s.toISOTime(y)}/${this.e.toISOTime(y)}`:Xc}toFormat(y,{separator:b=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(y)}${b}${this.e.toFormat(y)}`:Xc}toDuration(y,b){return this.isValid?this.e.diff(this.s,y,b):Wn.invalid(this.invalidReason)}mapEndpoints(y){return Ur.fromDateTimes(y(this.s),y(this.e))}}class yo{static hasDST(y=Mr.defaultZone){const b=Gi.now().setZone(y).set({month:12});return!y.isUniversal&&b.offset!==b.set({month:6}).offset}static isValidIANAZone(y){return On.isValidZone(y)}static normalizeZone(y){return no(y,Mr.defaultZone)}static getStartOfWeek({locale:y=null,locObj:b=null}={}){return(b||yn.create(y)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:y=null,locObj:b=null}={}){return(b||yn.create(y)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:y=null,locObj:b=null}={}){return(b||yn.create(y)).getWeekendDays().slice()}static months(y="long",{locale:b=null,numberingSystem:I=null,locObj:j=null,outputCalendar:ce="gregory"}={}){return(j||yn.create(b,I,ce)).months(y)}static monthsFormat(y="long",{locale:b=null,numberingSystem:I=null,locObj:j=null,outputCalendar:ce="gregory"}={}){return(j||yn.create(b,I,ce)).months(y,!0)}static weekdays(y="long",{locale:b=null,numberingSystem:I=null,locObj:j=null}={}){return(j||yn.create(b,I,null)).weekdays(y)}static weekdaysFormat(y="long",{locale:b=null,numberingSystem:I=null,locObj:j=null}={}){return(j||yn.create(b,I,null)).weekdays(y,!0)}static meridiems({locale:y=null}={}){return yn.create(y).meridiems()}static eras(y="short",{locale:b=null}={}){return yn.create(b,null,"gregory").eras(y)}static features(){return{relative:Pa(),localeWeek:Dn()}}}function od(D,y){const b=j=>j.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),I=b(y)-b(D);return Math.floor(Wn.fromMillis(I).as("days"))}const hu={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Of={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},bm=hu.hanidec.replace(/[\[|\]]/g,"").split("");function nl({numberingSystem:D},y=""){return new RegExp(`${hu[D||"latn"]}${y}`)}function mr(D,y=(b=>b)){return{regex:D,deser:([b])=>y(function kl(D){let y=parseInt(D,10);if(isNaN(y)){y="";for(let b=0;b<D.length;b++){const I=D.charCodeAt(b);if(-1!==D[b].search(hu.hanidec))y+=bm.indexOf(D[b]);else for(const j in Of){const[ce,Ue]=Of[j];I>=ce&&I<=Ue&&(y+=I-ce)}}return parseInt(y,10)}return y}(b))}}const ym=`[ ${String.fromCharCode(160)}]`,Hf=new RegExp(ym,"g");function b0(D){return D.replace(/\./g,"\\.?").replace(Hf,ym)}function xm(D){return D.replace(/\./g,"").replace(Hf," ").toLowerCase()}function rl(D,y){return null===D?null:{regex:RegExp(D.map(b0).join("|")),deser:([b])=>D.findIndex(I=>xm(b)===xm(I))+y}}function Au(D,y){return{regex:D,deser:([,b,I])=>Ua(b,I),groups:y}}function uu(D){return{regex:D,deser:([y])=>y}}function Bm(D){return D.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Em={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Eh=null;function x0(D,y){return Array.prototype.concat(...D.map(b=>function Kw(D,y){if(D.literal)return D;const I=E0(Cs.macroTokenToFormatOpts(D.val),y);return null==I||I.includes(void 0)?D:I}(b,y)))}function B0(D,y,b){const I=x0(Cs.parseFormat(b),D),j=I.map(Ue=>function Cm(D,y){const b=nl(y),I=nl(y,"{2}"),j=nl(y,"{3}"),ce=nl(y,"{4}"),Ue=nl(y,"{6}"),it=nl(y,"{1,2}"),wt=nl(y,"{1,3}"),Yt=nl(y,"{1,6}"),Ji=nl(y,"{1,9}"),Hn=nl(y,"{2,4}"),dr=nl(y,"{4,6}"),An=ll=>({regex:RegExp(Bm(ll.val)),deser:([Sh])=>Sh,literal:!0}),xA=(ll=>{if(D.literal)return An(ll);switch(ll.val){case"G":return rl(y.eras("short"),0);case"GG":return rl(y.eras("long"),0);case"y":return mr(Yt);case"yy":case"kk":return mr(Hn,nd);case"yyyy":case"kkkk":return mr(ce);case"yyyyy":return mr(dr);case"yyyyyy":return mr(Ue);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return mr(it);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return mr(I);case"MMM":return rl(y.months("short",!0),1);case"MMMM":return rl(y.months("long",!0),1);case"LLL":return rl(y.months("short",!1),1);case"LLLL":return rl(y.months("long",!1),1);case"o":case"S":return mr(wt);case"ooo":case"SSS":return mr(j);case"u":return uu(Ji);case"uu":return uu(it);case"uuu":case"E":case"c":return mr(b);case"a":return rl(y.meridiems(),0);case"EEE":return rl(y.weekdays("short",!1),1);case"EEEE":return rl(y.weekdays("long",!1),1);case"ccc":return rl(y.weekdays("short",!0),1);case"cccc":return rl(y.weekdays("long",!0),1);case"Z":case"ZZ":return Au(new RegExp(`([+-]${it.source})(?::(${I.source}))?`),2);case"ZZZ":return Au(new RegExp(`([+-]${it.source})(${I.source})?`),2);case"z":return uu(/[a-z_+-/]{1,256}?/i);case" ":return uu(/[^\S\n\r]/);default:return An(ll)}})(D)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return xA.token=D,xA}(Ue,D)),ce=j.find(Ue=>Ue.invalidReason);if(ce)return{input:y,tokens:I,invalidReason:ce.invalidReason};{const[Ue,it]=function y0(D){return[`^${D.map(b=>b.regex).reduce((b,I)=>`${b}(${I.source})`,"")}$`,D]}(j),wt=RegExp(Ue,"i"),[Yt,Ji]=function zf(D,y,b){const I=D.match(y);if(I){const j={};let ce=1;for(const Ue in b)if(ae(b,Ue)){const it=b[Ue],wt=it.groups?it.groups+1:1;!it.literal&&it.token&&(j[it.token.val[0]]=it.deser(I.slice(ce,ce+wt))),ce+=wt}return[I,j]}return[I,{}]}(y,wt,it),[Hn,dr,An]=Ji?function Xe(D){let I,b=null;return Yi(D.z)||(b=On.create(D.z)),Yi(D.Z)||(b||(b=new $r(D.Z)),I=D.Z),Yi(D.q)||(D.M=3*(D.q-1)+1),Yi(D.h)||(D.h<12&&1===D.a?D.h+=12:12===D.h&&0===D.a&&(D.h=0)),0===D.G&&D.y&&(D.y=-D.y),Yi(D.u)||(D.S=Ra(D.u)),[Object.keys(D).reduce((ce,Ue)=>{const it=(ce=>{switch(ce){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Ue);return it&&(ce[it]=D[Ue]),ce},{}),b,I]}(Ji):[null,null,void 0];if(ae(Ji,"a")&&ae(Ji,"H"))throw new Fr("Can't include meridiem when specifying 24-hour format");return{input:y,tokens:I,regex:wt,rawMatches:Yt,matches:Ji,result:Hn,zone:dr,specificOffset:An}}}function E0(D,y){if(!D)return null;const I=Cs.create(y,D).dtFormatter(function Gf(){return Eh||(Eh=Gi.fromMillis(1555555555555)),Eh}()),j=I.formatToParts(),ce=I.resolvedOptions();return j.map(Ue=>function wc(D,y,b){const{type:I,value:j}=D;if("literal"===I){const wt=/^\s+$/.test(j);return{literal:!wt,val:wt?" ":j}}let Ue=I;"hour"===I&&(Ue=null!=y.hour12?y.hour12?"hour12":"hour24":null!=y.hourCycle?"h11"===y.hourCycle||"h12"===y.hourCycle?"hour12":"hour24":b.hour12?"hour12":"hour24");let it=Em[Ue];if("object"==typeof it&&(it=it[y[I]]),it)return{literal:!1,val:it}}(Ue,D,ce))}const pA="Invalid DateTime",xo=864e13;function ta(D){return new ga("unsupported zone",`the zone "${D.name}" is not supported`)}function Mh(D){return null===D.weekData&&(D.weekData=No(D.c)),D.weekData}function Mm(D){return null===D.localWeekData&&(D.localWeekData=No(D.c,D.loc.getMinDaysInFirstWeek(),D.loc.getStartOfWeek())),D.localWeekData}function Ll(D,y){const b={ts:D.ts,zone:D.zone,c:D.c,o:D.o,loc:D.loc,invalid:D.invalid};return new Gi({...b,...y,old:b})}function M0(D,y,b){let I=D-60*y*1e3;const j=b.offset(I);if(y===j)return[I,y];I-=60*(j-y)*1e3;const ce=b.offset(I);return j===ce?[I,j]:[D-60*Math.min(j,ce)*1e3,Math.max(j,ce)]}function Yf(D,y){const b=new Date(D+=60*y*1e3);return{year:b.getUTCFullYear(),month:b.getUTCMonth()+1,day:b.getUTCDate(),hour:b.getUTCHours(),minute:b.getUTCMinutes(),second:b.getUTCSeconds(),millisecond:b.getUTCMilliseconds()}}function mA(D,y,b){return M0(gc(D),y,b)}function ld(D,y){const b=D.o,I=D.c.year+Math.trunc(y.years),j=D.c.month+Math.trunc(y.months)+3*Math.trunc(y.quarters),ce={...D.c,year:I,month:j,day:Math.min(D.c.day,$A(I,j))+Math.trunc(y.days)+7*Math.trunc(y.weeks)},Ue=Wn.fromObject({years:y.years-Math.trunc(y.years),quarters:y.quarters-Math.trunc(y.quarters),months:y.months-Math.trunc(y.months),weeks:y.weeks-Math.trunc(y.weeks),days:y.days-Math.trunc(y.days),hours:y.hours,minutes:y.minutes,seconds:y.seconds,milliseconds:y.milliseconds}).as("milliseconds"),it=gc(ce);let[wt,Yt]=M0(it,b,D.zone);return 0!==Ue&&(wt+=Ue,Yt=D.zone.offset(wt)),{ts:wt,o:Yt}}function cd(D,y,b,I,j,ce){const{setZone:Ue,zone:it}=b;if(D&&0!==Object.keys(D).length||y){const wt=y||it,Yt=Gi.fromObject(D,{...b,zone:wt,specificOffset:ce});return Ue?Yt:Yt.setZone(it)}return Gi.invalid(new ga("unparsable",`the input "${j}" can't be parsed as ${I}`))}function Th(D,y,b=!0){return D.isValid?Cs.create(yn.create("en-US"),{allowZ:b,forceSimple:!0}).formatDateTimeFromString(D,y):null}function du(D,y){const b=D.c.year>9999||D.c.year<0;let I="";return b&&D.c.year>=0&&(I+="+"),I+=Mi(D.c.year,b?6:4),y?(I+="-",I+=Mi(D.c.month),I+="-",I+=Mi(D.c.day)):(I+=Mi(D.c.month),I+=Mi(D.c.day)),I}function gA(D,y,b,I,j,ce){let Ue=Mi(D.c.hour);return y?(Ue+=":",Ue+=Mi(D.c.minute),(0!==D.c.millisecond||0!==D.c.second||!b)&&(Ue+=":")):Ue+=Mi(D.c.minute),(0!==D.c.millisecond||0!==D.c.second||!b)&&(Ue+=Mi(D.c.second),(0!==D.c.millisecond||!I)&&(Ue+=".",Ue+=Mi(D.c.millisecond,3))),j&&(D.isOffsetFixed&&0===D.offset&&!ce?Ue+="Z":D.o<0?(Ue+="-",Ue+=Mi(Math.trunc(-D.o/60)),Ue+=":",Ue+=Mi(Math.trunc(-D.o%60))):(Ue+="+",Ue+=Mi(Math.trunc(D.o/60)),Ue+=":",Ue+=Mi(Math.trunc(D.o%60)))),ce&&(Ue+="["+D.zone.ianaName+"]"),Ue}const Tm={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Dm={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},T0={ordinal:1,hour:0,minute:0,second:0,millisecond:0},D0=["year","month","day","hour","minute","second","millisecond"],Wf=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Vf=["year","ordinal","hour","minute","second","millisecond"];function fu(D){switch(D.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function Sm(D){const y={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[D.toLowerCase()];if(!y)throw new Ys(D);return y}(D)}}function hd(D,y){const b=no(y.zone,Mr.defaultZone),I=yn.fromObject(y),j=Mr.now();let ce,Ue;if(Yi(D.year))ce=j;else{for(const Yt of D0)Yi(D[Yt])&&(D[Yt]=Tm[Yt]);const it=Wl(D)||$o(D);if(it)return Gi.invalid(it);const wt=b.offset(j);[ce,Ue]=mA(D,wt,b)}return new Gi({ts:ce,zone:b,loc:I,o:Ue})}function Hs(D,y,b){const I=!!Yi(b.round)||b.round,j=(Ue,it)=>(Ue=va(Ue,I||b.calendary?0:2,!0),y.loc.clone(b).relFormatter(b).format(Ue,it)),ce=Ue=>b.calendary?y.hasSame(D,Ue)?0:y.startOf(Ue).diff(D.startOf(Ue),Ue).get(Ue):y.diff(D,Ue).get(Ue);if(b.unit)return j(ce(b.unit),b.unit);for(const Ue of b.units){const it=ce(Ue);if(Math.abs(it)>=1)return j(it,Ue)}return j(D>y?-0:0,b.units[b.units.length-1])}function Im(D){let b,y={};return D.length>0&&"object"==typeof D[D.length-1]?(y=D[D.length-1],b=Array.from(D).slice(0,D.length-1)):b=Array.from(D),[y,b]}class Gi{constructor(y){const b=y.zone||Mr.defaultZone;let I=y.invalid||(Number.isNaN(y.ts)?new ga("invalid input"):null)||(b.isValid?null:ta(b));this.ts=Yi(y.ts)?Mr.now():y.ts;let j=null,ce=null;if(!I)if(y.old&&y.old.ts===this.ts&&y.old.zone.equals(b))[j,ce]=[y.old.c,y.old.o];else{const it=b.offset(this.ts);j=Yf(this.ts,it),I=Number.isNaN(j.year)?new ga("invalid input"):null,j=I?null:j,ce=I?null:it}this._zone=b,this.loc=y.loc||yn.create(),this.invalid=I,this.weekData=null,this.localWeekData=null,this.c=j,this.o=ce,this.isLuxonDateTime=!0}static now(){return new Gi({})}static local(){const[y,b]=Im(arguments),[I,j,ce,Ue,it,wt,Yt]=b;return hd({year:I,month:j,day:ce,hour:Ue,minute:it,second:wt,millisecond:Yt},y)}static utc(){const[y,b]=Im(arguments),[I,j,ce,Ue,it,wt,Yt]=b;return y.zone=$r.utcInstance,hd({year:I,month:j,day:ce,hour:Ue,minute:it,second:wt,millisecond:Yt},y)}static fromJSDate(y,b={}){const I=function xh(D){return"[object Date]"===Object.prototype.toString.call(D)}(y)?y.valueOf():NaN;if(Number.isNaN(I))return Gi.invalid("invalid input");const j=no(b.zone,Mr.defaultZone);return j.isValid?new Gi({ts:I,zone:j,loc:yn.fromObject(b)}):Gi.invalid(ta(j))}static fromMillis(y,b={}){if(er(y))return y<-xo||y>xo?Gi.invalid("Timestamp out of range"):new Gi({ts:y,zone:no(b.zone,Mr.defaultZone),loc:yn.fromObject(b)});throw new Jn(`fromMillis requires a numerical input, but received a ${typeof y} with value ${y}`)}static fromSeconds(y,b={}){if(er(y))return new Gi({ts:1e3*y,zone:no(b.zone,Mr.defaultZone),loc:yn.fromObject(b)});throw new Jn("fromSeconds requires a numerical input")}static fromObject(y,b={}){y=y||{};const I=no(b.zone,Mr.defaultZone);if(!I.isValid)return Gi.invalid(ta(I));const j=yn.fromObject(b),ce=Pe(y,fu),{minDaysInFirstWeek:Ue,startOfWeek:it}=aA(ce,j),wt=Mr.now(),Yt=Yi(b.specificOffset)?I.offset(wt):b.specificOffset,Ji=!Yi(ce.ordinal),Hn=!Yi(ce.year),dr=!Yi(ce.month)||!Yi(ce.day),An=Hn||dr,Js=ce.weekYear||ce.weekNumber;if((An||Ji)&&Js)throw new Fr("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(dr&&Ji)throw new Fr("Can't mix ordinal dates with month/day");const xA=Js||ce.weekday&&!An;let ll,Sh,Es=Yf(wt,Yt);xA?(ll=Wf,Sh=Dm,Es=No(Es,Ue,it)):Ji?(ll=Vf,Sh=T0,Es=mc(Es)):(ll=D0,Sh=Tm);let BA=!1;for(const CA of ll)Yi(ce[CA])?ce[CA]=BA?Sh[CA]:Es[CA]:BA=!0;const Y0=xA?function qA(D,y=4,b=1){const I=Dl(D.weekYear),j=xe(D.weekNumber,1,jc(D.weekYear,y,b)),ce=xe(D.weekday,1,7);return I?j?!ce&&La("weekday",D.weekday):La("week",D.weekNumber):La("weekYear",D.weekYear)}(ce,Ue,it):Ji?function Yl(D){const y=Dl(D.year),b=xe(D.ordinal,1,Sl(D.year));return y?!b&&La("ordinal",D.ordinal):La("year",D.year)}(ce):Wl(ce),wu=Y0||$o(ce);if(wu)return Gi.invalid(wu);const W0=xA?_a(ce,Ue,it):Ji?ao(ce):ce,[ap,V0]=mA(W0,Yt,I),yd=new Gi({ts:ap,zone:I,o:V0,loc:j});return ce.weekday&&An&&y.weekday!==yd.weekday?Gi.invalid("mismatched weekday",`you can't specify both a weekday of ${ce.weekday} and a date of ${yd.toISO()}`):yd}static fromISO(y,b={}){const[I,j]=function Kc(D){return hA(D,[Bh,Rf],[Lr,dA],[v0,Vl],[Pf,w0])}(y);return cd(I,j,b,"ISO 8601",y)}static fromRFC2822(y,b={}){const[I,j]=function tn(D){return hA(function lo(D){return D.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(D),[m0,g0])}(y);return cd(I,j,b,"RFC 2822",y)}static fromHTTP(y,b={}){const[I,j]=function sd(D){return hA(D,[_0,Lf],[su,Lf],[gm,au])}(y);return cd(I,j,b,"HTTP",b)}static fromFormat(y,b,I={}){if(Yi(y)||Yi(b))throw new Jn("fromFormat requires an input string and a format");const{locale:j=null,numberingSystem:ce=null}=I,Ue=yn.fromOpts({locale:j,numberingSystem:ce,defaultToEN:!0}),[it,wt,Yt,Ji]=function C0(D,y,b){const{result:I,zone:j,specificOffset:ce,invalidReason:Ue}=B0(D,y,b);return[I,j,ce,Ue]}(Ue,y,b);return Ji?Gi.invalid(Ji):cd(it,wt,I,`format ${b}`,y,Yt)}static fromString(y,b,I={}){return Gi.fromFormat(y,b,I)}static fromSQL(y,b={}){const[I,j]=function vm(D){return hA(D,[ou,Rf],[_n,_m])}(y);return cd(I,j,b,"SQL",y)}static invalid(y,b=null){if(!y)throw new Jn("need to specify a reason the DateTime is invalid");const I=y instanceof ga?y:new ga(y,b);if(Mr.throwOnInvalid)throw new Si(I);return new Gi({invalid:I})}static isDateTime(y){return y&&y.isLuxonDateTime||!1}static parseFormatForOpts(y,b={}){const I=E0(y,yn.fromObject(b));return I?I.map(j=>j?j.val:null).join(""):null}static expandFormat(y,b={}){return x0(Cs.parseFormat(y),yn.fromObject(b)).map(j=>j.val).join("")}get(y){return this[y]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Mh(this).weekYear:NaN}get weekNumber(){return this.isValid?Mh(this).weekNumber:NaN}get weekday(){return this.isValid?Mh(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Mm(this).weekday:NaN}get localWeekNumber(){return this.isValid?Mm(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Mm(this).weekYear:NaN}get ordinal(){return this.isValid?mc(this.c).ordinal:NaN}get monthShort(){return this.isValid?yo.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?yo.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?yo.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?yo.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const y=864e5,b=6e4,I=gc(this.c),j=this.zone.offset(I-y),ce=this.zone.offset(I+y),Ue=this.zone.offset(I-j*b),it=this.zone.offset(I-ce*b);if(Ue===it)return[this];const wt=I-Ue*b,Yt=I-it*b,Ji=Yf(wt,Ue),Hn=Yf(Yt,it);return Ji.hour===Hn.hour&&Ji.minute===Hn.minute&&Ji.second===Hn.second&&Ji.millisecond===Hn.millisecond?[Ll(this,{ts:wt}),Ll(this,{ts:Yt})]:[this]}get isInLeapYear(){return el(this.year)}get daysInMonth(){return $A(this.year,this.month)}get daysInYear(){return this.isValid?Sl(this.year):NaN}get weeksInWeekYear(){return this.isValid?jc(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?jc(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(y={}){const{locale:b,numberingSystem:I,calendar:j}=Cs.create(this.loc.clone(y),y).resolvedOptions(this);return{locale:b,numberingSystem:I,outputCalendar:j}}toUTC(y=0,b={}){return this.setZone($r.instance(y),b)}toLocal(){return this.setZone(Mr.defaultZone)}setZone(y,{keepLocalTime:b=!1,keepCalendarTime:I=!1}={}){if((y=no(y,Mr.defaultZone)).equals(this.zone))return this;if(y.isValid){let j=this.ts;if(b||I){const ce=y.offset(this.ts),Ue=this.toObject();[j]=mA(Ue,ce,y)}return Ll(this,{ts:j,zone:y})}return Gi.invalid(ta(y))}reconfigure({locale:y,numberingSystem:b,outputCalendar:I}={}){return Ll(this,{loc:this.loc.clone({locale:y,numberingSystem:b,outputCalendar:I})})}setLocale(y){return this.reconfigure({locale:y})}set(y){if(!this.isValid)return this;const b=Pe(y,fu),{minDaysInFirstWeek:I,startOfWeek:j}=aA(b,this.loc),ce=!Yi(b.weekYear)||!Yi(b.weekNumber)||!Yi(b.weekday),Ue=!Yi(b.ordinal),it=!Yi(b.year),wt=!Yi(b.month)||!Yi(b.day);if((it||wt||Ue)&&(b.weekYear||b.weekNumber))throw new Fr("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(wt&&Ue)throw new Fr("Can't mix ordinal dates with month/day");let Hn;ce?Hn=_a({...No(this.c,I,j),...b},I,j):Yi(b.ordinal)?(Hn={...this.toObject(),...b},Yi(b.day)&&(Hn.day=Math.min($A(Hn.year,Hn.month),Hn.day))):Hn=ao({...mc(this.c),...b});const[dr,An]=mA(Hn,this.o,this.zone);return Ll(this,{ts:dr,o:An})}plus(y){return this.isValid?Ll(this,ld(this,Wn.fromDurationLike(y))):this}minus(y){return this.isValid?Ll(this,ld(this,Wn.fromDurationLike(y).negate())):this}startOf(y,{useLocaleWeeks:b=!1}={}){if(!this.isValid)return this;const I={},j=Wn.normalizeUnit(y);switch(j){case"years":I.month=1;case"quarters":case"months":I.day=1;case"weeks":case"days":I.hour=0;case"hours":I.minute=0;case"minutes":I.second=0;case"seconds":I.millisecond=0}if("weeks"===j)if(b){const ce=this.loc.getStartOfWeek(),{weekday:Ue}=this;Ue<ce&&(I.weekNumber=this.weekNumber-1),I.weekday=ce}else I.weekday=1;if("quarters"===j){const ce=Math.ceil(this.month/3);I.month=3*(ce-1)+1}return this.set(I)}endOf(y,b){return this.isValid?this.plus({[y]:1}).startOf(y,b).minus(1):this}toFormat(y,b={}){return this.isValid?Cs.create(this.loc.redefaultToEN(b)).formatDateTimeFromString(this,y):pA}toLocaleString(y=Oo,b={}){return this.isValid?Cs.create(this.loc.clone(b),y).formatDateTime(this):pA}toLocaleParts(y={}){return this.isValid?Cs.create(this.loc.clone(y),y).formatDateTimeParts(this):[]}toISO({format:y="extended",suppressSeconds:b=!1,suppressMilliseconds:I=!1,includeOffset:j=!0,extendedZone:ce=!1}={}){if(!this.isValid)return null;const Ue="extended"===y;let it=du(this,Ue);return it+="T",it+=gA(this,Ue,b,I,j,ce),it}toISODate({format:y="extended"}={}){return this.isValid?du(this,"extended"===y):null}toISOWeekDate(){return Th(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:y=!1,suppressSeconds:b=!1,includeOffset:I=!0,includePrefix:j=!1,extendedZone:ce=!1,format:Ue="extended"}={}){return this.isValid?(j?"T":"")+gA(this,"extended"===Ue,b,y,I,ce):null}toRFC2822(){return Th(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Th(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?du(this,!0):null}toSQLTime({includeOffset:y=!0,includeZone:b=!1,includeOffsetSpace:I=!0}={}){let j="HH:mm:ss.SSS";return(b||y)&&(I&&(j+=" "),b?j+="z":y&&(j+="ZZ")),Th(this,j,!0)}toSQL(y={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(y)}`:null}toString(){return this.isValid?this.toISO():pA}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(y={}){if(!this.isValid)return{};const b={...this.c};return y.includeConfig&&(b.outputCalendar=this.outputCalendar,b.numberingSystem=this.loc.numberingSystem,b.locale=this.loc.locale),b}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(y,b="milliseconds",I={}){if(!this.isValid||!y.isValid)return Wn.invalid("created by diffing an invalid DateTime");const j={locale:this.locale,numberingSystem:this.numberingSystem,...I},ce=function Oe(D){return Array.isArray(D)?D:[D]}(b).map(Wn.normalizeUnit),Ue=y.valueOf()>this.valueOf(),Yt=function cu(D,y,b,I){let[j,ce,Ue,it]=function Qf(D,y,b){const I=[["years",(wt,Yt)=>Yt.year-wt.year],["quarters",(wt,Yt)=>Yt.quarter-wt.quarter+4*(Yt.year-wt.year)],["months",(wt,Yt)=>Yt.month-wt.month+12*(Yt.year-wt.year)],["weeks",(wt,Yt)=>{const Ji=od(wt,Yt);return(Ji-Ji%7)/7}],["days",od]],j={},ce=D;let Ue,it;for(const[wt,Yt]of I)b.indexOf(wt)>=0&&(Ue=wt,j[wt]=Yt(D,y),it=ce.plus(j),it>y?(j[wt]--,(D=ce.plus(j))>y&&(it=D,j[wt]--,D=ce.plus(j))):D=it);return[D,j,it,Ue]}(D,y,b);const wt=y-j,Yt=b.filter(Hn=>["hours","minutes","seconds","milliseconds"].indexOf(Hn)>=0);0===Yt.length&&(Ue<y&&(Ue=j.plus({[it]:1})),Ue!==j&&(ce[it]=(ce[it]||0)+wt/(Ue-j)));const Ji=Wn.fromObject(ce,I);return Yt.length>0?Wn.fromMillis(wt,I).shiftTo(...Yt).plus(Ji):Ji}(Ue?this:y,Ue?y:this,ce,j);return Ue?Yt.negate():Yt}diffNow(y="milliseconds",b={}){return this.diff(Gi.now(),y,b)}until(y){return this.isValid?Ur.fromDateTimes(this,y):this}hasSame(y,b,I){if(!this.isValid)return!1;const j=y.valueOf(),ce=this.setZone(y.zone,{keepLocalTime:!0});return ce.startOf(b,I)<=j&&j<=ce.endOf(b,I)}equals(y){return this.isValid&&y.isValid&&this.valueOf()===y.valueOf()&&this.zone.equals(y.zone)&&this.loc.equals(y.loc)}toRelative(y={}){if(!this.isValid)return null;const b=y.base||Gi.fromObject({},{zone:this.zone}),I=y.padding?this<b?-y.padding:y.padding:0;let j=["years","months","days","hours","minutes","seconds"],ce=y.unit;return Array.isArray(y.unit)&&(j=y.unit,ce=void 0),Hs(b,this.plus(I),{...y,numeric:"always",units:j,unit:ce})}toRelativeCalendar(y={}){return this.isValid?Hs(y.base||Gi.fromObject({},{zone:this.zone}),this,{...y,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...y){if(!y.every(Gi.isDateTime))throw new Jn("min requires all arguments be DateTimes");return ci(y,b=>b.valueOf(),Math.min)}static max(...y){if(!y.every(Gi.isDateTime))throw new Jn("max requires all arguments be DateTimes");return ci(y,b=>b.valueOf(),Math.max)}static fromFormatExplain(y,b,I={}){const{locale:j=null,numberingSystem:ce=null}=I;return B0(yn.fromOpts({locale:j,numberingSystem:ce,defaultToEN:!0}),y,b)}static fromStringExplain(y,b,I={}){return Gi.fromFormatExplain(y,b,I)}static get DATE_SHORT(){return Oo}static get DATE_MED(){return fa}static get DATE_MED_WITH_WEEKDAY(){return zl}static get DATE_FULL(){return on}static get DATE_HUGE(){return Ia}static get TIME_SIMPLE(){return li}static get TIME_WITH_SECONDS(){return Zn}static get TIME_WITH_SHORT_OFFSET(){return nn}static get TIME_WITH_LONG_OFFSET(){return wr}static get TIME_24_SIMPLE(){return eo}static get TIME_24_WITH_SECONDS(){return Fa}static get TIME_24_WITH_SHORT_OFFSET(){return to}static get TIME_24_WITH_LONG_OFFSET(){return El}static get DATETIME_SHORT(){return Ml}static get DATETIME_SHORT_WITH_SECONDS(){return pa}static get DATETIME_MED(){return ms}static get DATETIME_MED_WITH_SECONDS(){return Rs}static get DATETIME_MED_WITH_WEEKDAY(){return rs}static get DATETIME_FULL(){return br}static get DATETIME_FULL_WITH_SECONDS(){return qo}static get DATETIME_HUGE(){return ka}static get DATETIME_HUGE_WITH_SECONDS(){return vo}}function Ad(D){if(Gi.isDateTime(D))return D;if(D&&D.valueOf&&er(D.valueOf()))return Gi.fromJSDate(D);if(D&&"object"==typeof D)return Gi.fromObject(D);throw new Jn(`Unknown datetime argument: ${D}, of type ${typeof D}`)}var ia=ge(3226);function jf(D,y){1&D&&R.GkF(0)}function Zw(D,y){if(1&D&&(R.TgZ(0,"div",3),R.YNc(1,jf,1,0,"ng-container",4),R.qZA()),2&D){const b=R.oxw(),I=R.MAs(4);R.Q6J("ngxAppendToInput",b.inputElement),R.xp6(1),R.Q6J("ngTemplateOutlet",I)}}function Wo(D,y){1&D&&R.GkF(0)}function Fm(D,y){if(1&D&&R.YNc(0,Wo,1,0,"ng-container",4),2&D){R.oxw();const b=R.MAs(4);R.Q6J("ngTemplateOutlet",b)}}function I0(D,y){1&D&&R.Hsn(0)}const Jf=["*"],pu=["editableTimeTmpl"],sl=function(D){return{"timepicker-dial__item_active":D}};function at(D,y){if(1&D){const b=R.EpF();R.TgZ(0,"input",2),R.NdJ("ngModelChange",function(j){R.CHM(b);const ce=R.oxw();return R.KtG(ce.time=j)})("input",function(){R.CHM(b);const j=R.oxw();return R.KtG(j.updateTime())})("focus",function(j){R.CHM(b);const ce=R.oxw();return R.KtG(ce.saveTimeAndChangeTimeUnit(j,ce.timeUnit))}),R.ALo(1,"timeLocalizer"),R.qZA()}if(2&D){const b=R.oxw();R.Q6J("ngClass",R.VKq(7,sl,b.isActive))("ngModel",R.xi3(1,4,b.time,b.timeUnit))("disabled",b.disabled)("timepickerAutofocus",b.isActive)}}function ud(D,y){if(1&D){const b=R.EpF();R.TgZ(0,"input",3,4),R.NdJ("focus",function(j){R.CHM(b);const ce=R.oxw();return R.KtG(ce.saveTimeAndChangeTimeUnit(j,ce.timeUnit))})("keydown",function(j){R.CHM(b);const ce=R.oxw();return R.KtG(ce.onKeydown(j))}),R.qZA()}if(2&D){const b=R.oxw();R.Q6J("formControl",b.timeControl)("ngClass",R.VKq(3,sl,b.isActive))("timepickerAutofocus",b.isActive)}}function Xw(D,y){if(1&D){const b=R.EpF();R.TgZ(0,"div",3),R.NdJ("@scaleInOut.done",function(){R.CHM(b);const j=R.oxw();return R.KtG(j.animationDone())}),R.TgZ(1,"p"),R._uU(2,"Current time would be invalid in this period."),R.qZA()()}2&D&&R.Q6J("@scaleInOut",void 0)}function qc(D,y){1&D&&R.GkF(0)}function _A(D,y){1&D&&(R.TgZ(0,"small",10),R._uU(1," * use arrows ("),R.TgZ(2,"span"),R._uU(3,"\u21c5"),R.qZA(),R._uU(4,") to change the time"),R.qZA())}const vA=function(D){return{"timepicker-dial__hint-container--hidden":D}};function Kf(D,y){if(1&D&&(R.TgZ(0,"div",7),R.YNc(1,qc,1,0,"ng-container",8),R.YNc(2,_A,5,0,"ng-template",null,9,R.W1O),R.qZA()),2&D){const b=R.MAs(3),I=R.oxw();R.Q6J("ngClass",R.VKq(2,vA,!I.isHintVisible)),R.xp6(1),R.Q6J("ngTemplateOutlet",I.editableHintTmpl?I.editableHintTmpl:b)}}const mu=function(D){return{"timepicker-dial__period--hidden":D}},wA=["clockFace"],dd=["clockHand"],Kr=function(D){return{transform:D}},Zf=function(D,y){return{active:D,disabled:y}};function vn(D,y){if(1&D&&(R.TgZ(0,"div",9)(1,"span",10),R.ALo(2,"activeHour"),R._uU(3),R.ALo(4,"timeLocalizer"),R.qZA()()),2&D){const b=y.$implicit,I=R.oxw(2);R.Q6J("ngStyle",R.VKq(11,Kr,"rotateZ("+b.angle+"deg) translateX(-50%)")),R.xp6(1),R.Q6J("ngStyle",R.VKq(13,Kr,"rotateZ(-"+b.angle+"deg)"))("ngClass",R.WLB(15,Zf,R.Dn7(2,4,b.time,I.selectedTime.time,I.isClockFaceDisabled),b.disabled)),R.xp6(2),R.hij(" ",R.xi3(4,8,b.time,I.timeUnit.HOUR)," ")}}function Tr(D,y){if(1&D&&(R.TgZ(0,"div",13)(1,"span",10),R.ALo(2,"activeHour"),R._uU(3),R.ALo(4,"timeLocalizer"),R.qZA()()),2&D){const b=y.$implicit,I=R.oxw(3);R.Udp("height",I.innerClockFaceSize,"px"),R.Q6J("ngStyle",R.VKq(13,Kr,"rotateZ("+b.angle+"deg) translateX(-50%)")),R.xp6(1),R.Q6J("ngStyle",R.VKq(15,Kr,"rotateZ(-"+b.angle+"deg)"))("ngClass",R.WLB(17,Zf,R.Dn7(2,6,b.time,null==I.selectedTime?null:I.selectedTime.time,I.isClockFaceDisabled),b.disabled)),R.xp6(2),R.hij(" ",R.xi3(4,10,b.time,I.timeUnit.HOUR),"")}}function fd(D,y){if(1&D&&(R.TgZ(0,"div",11),R.YNc(1,Tr,5,20,"div",12),R.ALo(2,"slice"),R.qZA()),2&D){const b=R.oxw(2);R.Udp("top","calc(50% - "+b.innerClockFaceSize+"px)"),R.xp6(1),R.Q6J("ngForOf",R.Dn7(2,4,b.faceTime,12,24))("ngForTrackBy",b.trackByTime)}}function hi(D,y){if(1&D&&(R.TgZ(0,"div",6),R.YNc(1,vn,5,18,"div",7),R.ALo(2,"slice"),R.YNc(3,fd,3,8,"div",8),R.qZA()),2&D){const b=R.oxw();R.xp6(1),R.Q6J("ngForOf",R.Dn7(2,3,b.faceTime,0,12))("ngForTrackBy",b.trackByTime),R.xp6(2),R.Q6J("ngIf",b.faceTime.length>12)}}function pn(D,y){if(1&D&&(R.TgZ(0,"div",9)(1,"span",10),R.ALo(2,"activeMinute"),R._uU(3),R.ALo(4,"timeLocalizer"),R.ALo(5,"minutesFormatter"),R.qZA()()),2&D){const b=y.$implicit,I=R.oxw(2);R.Q6J("ngStyle",R.VKq(15,Kr,"rotateZ("+b.angle+"deg) translateX(-50%)")),R.xp6(1),R.Q6J("ngStyle",R.VKq(17,Kr,"rotateZ(-"+b.angle+"deg)"))("ngClass",R.WLB(19,Zf,R.gM2(2,4,b.time,null==I.selectedTime?null:I.selectedTime.time,I.minutesGap,I.isClockFaceDisabled),b.disabled)),R.xp6(2),R.hij(" ",R.xi3(4,9,R.xi3(5,12,b.time,I.minutesGap),I.timeUnit.MINUTE),"")}}function qw(D,y){if(1&D&&(R.TgZ(0,"div",6),R.YNc(1,pn,6,22,"div",7),R.qZA()),2&D){const b=R.oxw();R.xp6(1),R.Q6J("ngForOf",b.faceTime)("ngForTrackBy",b.trackByTime)}}const zs=function(D){return{"clock-face__clock-hand_minute":D}};function F0(D,y){if(1&D){const b=R.EpF();R.TgZ(0,"ngx-material-timepicker-24-hours-face",17),R.NdJ("hourChange",function(j){R.CHM(b);const ce=R.oxw(2);return R.KtG(ce.onHourChange(j))})("hourSelected",function(j){R.CHM(b);const ce=R.oxw(2);return R.KtG(ce.onHourSelected(j))}),R.ALo(1,"async"),R.qZA()}if(2&D){const b=R.oxw(2);R.Q6J("selectedHour",R.lcZ(1,4,b.selectedHour))("minTime",b.minTime)("maxTime",b.maxTime)("format",b.format)}}function k0(D,y){if(1&D){const b=R.EpF();R.TgZ(0,"ngx-material-timepicker-12-hours-face",18),R.NdJ("hourChange",function(j){R.CHM(b);const ce=R.oxw(2);return R.KtG(ce.onHourChange(j))})("hourSelected",function(j){R.CHM(b);const ce=R.oxw(2);return R.KtG(ce.onHourSelected(j))}),R.ALo(1,"async"),R.ALo(2,"async"),R.qZA()}if(2&D){const b=R.oxw(2);R.Q6J("selectedHour",R.lcZ(1,4,b.selectedHour))("period",R.lcZ(2,6,b.selectedPeriod))("minTime",b.minTime)("maxTime",b.maxTime)}}function os(D,y){if(1&D&&(R.TgZ(0,"div"),R.YNc(1,F0,2,6,"ngx-material-timepicker-24-hours-face",15),R.YNc(2,k0,3,8,"ng-template",null,16,R.W1O),R.qZA()),2&D){const b=R.MAs(3),I=R.oxw();R.xp6(1),R.Q6J("ngIf",24===I.format)("ngIfElse",b)}}function km(D,y){if(1&D){const b=R.EpF();R.TgZ(0,"ngx-material-timepicker-minutes-face",19),R.NdJ("minuteChange",function(j){R.CHM(b);const ce=R.oxw();return R.KtG(ce.onMinuteChange(j))}),R.ALo(1,"async"),R.ALo(2,"async"),R.ALo(3,"async"),R.qZA()}if(2&D){const b=R.oxw();let I;R.Q6J("selectedMinute",R.lcZ(1,7,b.selectedMinute))("selectedHour",null==(I=R.lcZ(2,9,b.selectedHour))?null:I.time)("minTime",b.minTime)("maxTime",b.maxTime)("format",b.format)("period",R.lcZ(3,11,b.selectedPeriod))("minutesGap",b.minutesGap)}}function al(D,y){1&D&&R.GkF(0)}function Xf(D,y){1&D&&R.GkF(0)}function L0(D,y){1&D&&(R.TgZ(0,"ngx-material-timepicker-button"),R._uU(1,"Cancel"),R.qZA())}function Lm(D,y){1&D&&(R.TgZ(0,"ngx-material-timepicker-button"),R._uU(1,"Ok"),R.qZA())}const qf=function(D){return{"timepicker-backdrop-overlay--transparent":D}};var Bo=function(D){return D[D.HOUR=0]="HOUR",D[D.MINUTE=1]="MINUTE",D}(Bo||{}),jl=function(D){return D.AM="AM",D.PM="PM",D}(jl||{}),bc=function(D){return D.TWELVE="hh:mm a",D.TWELVE_SHORT="h:m a",D.TWENTY_FOUR="HH:mm",D.TWENTY_FOUR_SHORT="H:m",D}(bc||{});function ep(D,y,b="minutes"){return"hours"===b?D.hour>=y.hour:"minutes"===b?D.hasSame(y,b)||D.valueOf()>y.valueOf():void 0}function ur(D,y,b="minutes"){return"hours"===b?D.hour<=y.hour:"minutes"===b?D.hasSame(y,b)||D.valueOf()<=y.valueOf():void 0}let Ai=(()=>{class D{static parseTime(b,I){const{numberingSystem:j,locale:ce}=D.getLocaleOptionsByTime(b,I),it=2===b.split(" ").length?bc.TWELVE_SHORT:bc.TWENTY_FOUR_SHORT;return Gi.fromFormat(b,it,{numberingSystem:j,locale:ce})}static formatTime(b,I){if(!b)return"Invalid Time";const{format:j}=I,ce=D.parseTime(b,I).setLocale(D.DEFAULT_LOCALE);return ce.isValid?24!==j?ce.toLocaleString(Object.assign(Object.assign({},Gi.TIME_SIMPLE),{hour12:24!==j,numberingSystem:D.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,"").replace(/\u202F/g," "):ce.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"").replace(/\u202F/g," "):null}static toLocaleTimeString(b,I={}){const{format:j=D.DEFAULT_FORMAT,locale:ce=D.DEFAULT_LOCALE}=I,Ue=24===j?"h23":"h12",it=Object.assign(Object.assign({},Gi.TIME_SIMPLE),{hourCycle:Ue}),wt=24===j?bc.TWENTY_FOUR_SHORT:bc.TWELVE_SHORT,Yt=Object.assign({locale:I.locale,numberingSystem:I.numberingSystem},it);return Gi.fromFormat(b,wt).setLocale(ce).toLocaleString(Yt).replace(/\u202F/g," ")}static isTimeAvailable(b,I,j,ce,Ue,it){if(!b)return;const wt=this.parseTime(b,{format:it}),Yt=wt.minute;if(Ue&&Yt==Yt&&Yt%Ue!=0)throw new Error(`Your minutes - ${Yt} doesn't match your minutesGap - ${Ue}`);const Ji=I&&!j&&ep(wt,I,ce),Hn=j&&!I&&ur(wt,j,ce),dr=I&&j&&function Q0(D,y,b,I="minutes"){return"hours"===I?ur(D,b,I)&&ep(D,y,I):"minutes"===I?ur(D,b)&&ep(D,y):void 0}(wt,I,j,ce);return Ji||Hn||dr||!I&&!j}static formatHour(b,I,j){if(24===I)return b;const ce=j===jl.AM?b:b+12;return j===jl.AM&&12===ce?0:j===jl.PM&&24===ce?12:ce}static fromDateTimeToString(b,I){const j=24===I?bc.TWENTY_FOUR:bc.TWELVE;return b.reconfigure({numberingSystem:D.DEFAULT_NUMBERING_SYSTEM,locale:D.DEFAULT_LOCALE}).toFormat(j).replace(/\u202F/g," ")}static getLocaleOptionsByTime(b,I){const j={numberingSystem:I.numberingSystem,locale:I.locale},ce={numberingSystem:D.DEFAULT_NUMBERING_SYSTEM,locale:D.DEFAULT_LOCALE};return isNaN(parseInt(b,10))?j:ce}}return D.DEFAULT_FORMAT=12,D.DEFAULT_LOCALE="en-US",D.DEFAULT_NUMBERING_SYSTEM="latn",D})();const pd={time:12,angle:360},yc={time:0,angle:360};let md=(()=>{class D{constructor(){this.hourSubject=new Dt.X(pd),this.minuteSubject=new Dt.X(yc),this.periodSubject=new Dt.X(jl.AM)}set hour(b){this.hourSubject.next(b)}get selectedHour(){return this.hourSubject.asObservable()}set minute(b){this.minuteSubject.next(b)}get selectedMinute(){return this.minuteSubject.asObservable()}set period(b){(b===jl.AM||b===jl.PM)&&this.periodSubject.next(b)}get selectedPeriod(){return this.periodSubject.asObservable()}setDefaultTimeIfAvailable(b,I,j,ce,Ue){try{Ai.isTimeAvailable(b,I,j,"minutes",Ue)&&this.setDefaultTime(b,ce)}catch(it){console.error(it)}}getFullTime(b){const I=this.hourSubject.getValue().time,j=this.minuteSubject.getValue().time,wt=`${I??pd.time}:${j??yc.time} ${12===b?this.periodSubject.getValue():""}`.trim();return Ai.formatTime(wt,{format:b})}setDefaultTime(b,I){const j=Ai.parseTime(b,{format:I}).toJSDate();if(Gi.fromJSDate(j).isValid){const ce=b.substr(b.length-2).toUpperCase(),Ue=j.getHours();this.hour=Object.assign(Object.assign({},pd),{time:Jl(Ue,ce)}),this.minute=Object.assign(Object.assign({},yc),{time:j.getMinutes()}),this.period=ce}else this.resetTime()}resetTime(){this.hour=Object.assign({},pd),this.minute=Object.assign({},yc),this.period=jl.AM}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275prov=R.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Jl(D,y){switch(y){case jl.AM:return 0===D?12:D;case jl.PM:return 12===D?12:D-12;default:return D}}const $c=new R.OlP("TimeLocale",{providedIn:"root",factory:()=>Ai.DEFAULT_LOCALE}),_u=new R.OlP("NumberingSystem",{providedIn:"root",factory:()=>Ai.DEFAULT_NUMBERING_SYSTEM});let bA=(()=>{class D{constructor(){this.backdropClickSubject=new jt.x,this.keydownEventSubject=new jt.x}get backdropClick(){return this.backdropClickSubject.asObservable().pipe((0,Qt.d)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this.keydownEventSubject.asObservable().pipe((0,Qt.d)({bufferSize:1,refCount:!0}))}dispatchEvent(b){switch(b.type){case"click":this.backdropClickSubject.next(b);break;case"keydown":this.keydownEventSubject.next(b);break;default:throw new Error("no such event type")}}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275prov=R.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),vu=(()=>{class D{constructor(b,I){this.renderer=I,this.element=b.nativeElement}get inputCords(){return this.inputElement.getBoundingClientRect()}get direction(){const b=this.element.offsetHeight,{bottom:I,top:j}=this._inputCords,ce=(window&&window.innerHeight)-I<b;return ce&&j>b?"top":ce&&j<b?"center":"bottom"}ngAfterViewInit(){this._inputCords=this.inputCords,this._direction=this.direction,this.append()}changePosition(){const{bottom:b,top:I}=this.inputCords,j=this.defineElementYByDirection(I,b);this.setStyle("top",`${j}px`)}append(){const{left:b,bottom:I,top:j}=this._inputCords,ce=this.defineElementYByDirection(j,I);this.setStyle("position","fixed"),this.setStyle("left",`${b}px`),this.setStyle("top",`${ce}px`)}setStyle(b,I){this.renderer.setStyle(this.element,b,I)}defineElementYByDirection(b,I){return"top"===this._direction?b-this.element.offsetHeight:"center"===this._direction?b-this.element.offsetHeight/2:I}}return D.\u0275fac=function(b){return new(b||D)(R.Y36(R.SBq),R.Y36(R.Qsj))},D.\u0275dir=R.lG2({type:D,selectors:[["","ngxAppendToInput",""]],hostBindings:function(b,I){1&b&&R.NdJ("scroll",function(){return I.changePosition()},!1,R.Jf7)},inputs:{inputElement:["ngxAppendToInput","inputElement"]}}),D})(),ib=(()=>{class D{}return D.\u0275fac=function(b){return new(b||D)},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},ngContentSelectors:Jf,decls:5,vars:2,consts:[[3,"ngxAppendToInput",4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[3,"ngxAppendToInput"],[4,"ngTemplateOutlet"]],template:function(b,I){if(1&b&&(R.F$t(),R.YNc(0,Zw,2,2,"div",0),R.YNc(1,Fm,1,1,"ng-template",null,1,R.W1O),R.YNc(3,I0,1,0,"ng-template",null,2,R.W1O)),2&b){const j=R.MAs(2);R.Q6J("ngIf",I.appendToInput)("ngIfElse",j)}},dependencies:[G.O5,vu,G.tP],encapsulation:2}),D})();class ol{static getHours(y){return Array(y).fill(1).map((b,I)=>{const ce=b+I;return{time:24===ce?0:ce,angle:30*ce}})}static disableHours(y,b){return b.min||b.max?y.map(I=>{const j=24===b.format?I.time:Ai.formatHour(I.time,b.format,b.period),ce=Gi.fromObject({hour:j}).toFormat(bc.TWELVE);return Object.assign(Object.assign({},I),{disabled:!Ai.isTimeAvailable(ce,b.min,b.max,"hours")})}):y}static getMinutes(y=1){const j=[];for(let ce=0;ce<60;ce++){const Ue=6*ce;ce%y==0&&j.push({time:ce,angle:0!==Ue?Ue:360})}return j}static disableMinutes(y,b,I){if(I.min||I.max){const j=Ai.formatHour(b,I.format,I.period);return y.map(ce=>{const Ue=Gi.fromObject({hour:j,minute:ce.time}).toFormat(bc.TWELVE);return Object.assign(Object.assign({},ce),{disabled:!Ai.isTimeAvailable(Ue,I.min,I.max,"minutes")})})}return y}}let Dh=(()=>{class D{constructor(b){this.locale=b}transform(b,I,j=!1){if(null==b||""===b)return"";switch(I){case Bo.HOUR:return this.formatTime("hour",b,0===b||j?"HH":"H");case Bo.MINUTE:return this.formatTime("minute",b,"mm");default:throw new Error(`There is no Time Unit with type ${I}`)}}formatTime(b,I,j){try{return Gi.fromObject({[b]:+I}).setLocale(this.locale).toFormat(j)}catch{throw new Error(`Cannot format provided time - ${I} to locale - ${this.locale}`)}}}return D.\u0275fac=function(b){return new(b||D)(R.Y36($c,16))},D.\u0275pipe=R.Yjl({name:"timeLocalizer",type:D,pure:!0}),D})(),eh=(()=>{class D{constructor(b,I){this.locale=b,this.numberingSystem=I}transform(b,I=Bo.HOUR){return null==b||""===b?"":isNaN(+b)?I===Bo.MINUTE?this.parseTime(b,"m","minute"):this.parseTime(b,"H","hour"):b}parseTime(b,I,j){const ce=Gi.fromFormat(String(b),I,{numberingSystem:this.numberingSystem,locale:this.locale})[j];if(!isNaN(ce))return ce;throw new Error(`Cannot parse time - ${b}`)}}return D.\u0275fac=function(b){return new(b||D)(R.Y36($c,16),R.Y36(_u,16))},D.\u0275pipe=R.Yjl({name:"timeParser",type:D,pure:!0}),D.\u0275prov=R.Yz7({token:D,factory:D.\u0275fac}),D})(),tp=(()=>{class D{constructor(b,I){this.element=b,this.document=I,this.activeElement=this.document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this.element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this.activeElement.focus({preventScroll:!0}))}}return D.\u0275fac=function(b){return new(b||D)(R.Y36(R.SBq),R.Y36(G.K0,8))},D.\u0275dir=R.lG2({type:D,selectors:[["","timepickerAutofocus",""]],inputs:{isFocusActive:["timepickerAutofocus","isFocusActive"]},features:[R.TTD]}),D})(),ip=(()=>{class D{constructor(b,I){this.timeParserPipe=b,this.timeLocalizerPipe=I,this.timeUnitChanged=new R.vpe,this.timeChanged=new R.vpe,this.focused=new R.vpe,this.unfocused=new R.vpe}get selectedTime(){if(this.time)return this.timeList.find(b=>b.time===+this.time)}ngOnInit(){this.isEditable&&(this.timeControl=new ia.NI({value:this.formatTimeForUI(this.time),disabled:this.disabled}),this.timeControl.valueChanges.pipe((0,Bi.b)(b=>{b.length>2&&this.updateInputValue(b.slice(-1))}),(0,Wt.b)(500),(0,_t.x)(),(0,qi.h)(b=>!function gd(D,y,b){if(/\d/.test(y))return yA(y,b)}(0,b,this.timeList)),(0,Bi.b)(b=>this.time=this.timeParserPipe.transform(b,this.timeUnit).toString())).subscribe(()=>this.updateTime()))}saveTimeAndChangeTimeUnit(b,I){b.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(I),this.focused.next()}updateTime(){const b=this.selectedTime;b&&(this.timeChanged.next(b),this.previousTime=b.time,this.isEditable&&this.updateInputValue(this.formatTimeForUI(b.time)))}onKeydown(b){!function vs(D){return!!([46,8,9,27,13].some(y=>y===D.keyCode)||65==D.keyCode&&(!0===D.ctrlKey||!0===D.metaKey)||67==D.keyCode&&(!0===D.ctrlKey||!0===D.metaKey)||88==D.keyCode&&(!0===D.ctrlKey||!0===D.metaKey)||D.keyCode>=35&&D.keyCode<=40)||!((D.keyCode<48||D.keyCode>57)&&(D.keyCode<96||D.keyCode>105))}(b)?b.preventDefault():this.changeTimeByArrow(b.keyCode)}changeTimeByArrow(b){let ce;38===b?ce=String(+this.time+(this.minutesGap||1)):40===b&&(ce=String(+this.time-(this.minutesGap||1))),yA(ce,this.timeList)||(this.time=ce,this.updateTime())}formatTimeForUI(b){const I=this.timeParserPipe.transform(b,this.timeUnit).toString();return this.timeLocalizerPipe.transform(I,this.timeUnit,!0)}updateInputValue(b){this.editableTimeTmpl.nativeElement.value=b}}return D.\u0275fac=function(b){return new(b||D)(R.Y36(eh),R.Y36(Dh))},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker-dial-control"]],viewQuery:function(b,I){if(1&b&&R.Gf(pu,5),2&b){let j;R.iGM(j=R.CRH())&&(I.editableTimeTmpl=j.first)}},inputs:{timeList:"timeList",timeUnit:"timeUnit",time:"time",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",disabled:"disabled"},outputs:{timeUnitChanged:"timeUnitChanged",timeChanged:"timeChanged",focused:"focused",unfocused:"unfocused"},features:[R._Bn([eh,Dh])],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"formControl","ngClass","timepickerAutofocus","focus","keydown"],["editableTimeTmpl",""]],template:function(b,I){if(1&b&&(R.YNc(0,at,2,9,"input",0),R.YNc(1,ud,2,5,"ng-template",null,1,R.W1O)),2&b){const j=R.MAs(2);R.Q6J("ngIf",!I.isEditable)("ngIfElse",j)}},dependencies:[G.O5,ia.Fj,G.mk,ia.JJ,ia.On,tp,ia.oH,Dh],styles:['.timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:#ffffff80;font-family:"Roboto",sans-serif}@supports (font-family: var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color: var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:right}.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:#00bfff;background-color:#fff;outline:deepskyblue}@supports (color: var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:var(--dial-editable-active-color)}}@supports (background-color: var(--dial-editable-background-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{background-color:var(--dial-editable-background-color)}}@supports (outline: var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{outline:var(--dial-editable-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}.timepicker-dial__control[_ngcontent-%COMP%]:focus-visible{outline:none}']}),D})();function yA(D,y){const b=y.find(I=>I.time===+D);return!b||b&&b.disabled}let O0=(()=>{class D{constructor(){this.timePeriod=jl,this.isPeriodAvailable=!0,this.periodChanged=new R.vpe}changePeriod(b){this.isPeriodAvailable=this.isSwitchPeriodAvailable(b),this.isPeriodAvailable&&this.periodChanged.next(b)}animationDone(){this.isPeriodAvailable=!0}isSwitchPeriodAvailable(b){return!this.getDisabledTimeByPeriod(b).every(j=>j.disabled)}getDisabledTimeByPeriod(b){switch(this.activeTimeUnit){case Bo.HOUR:return ol.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:b});case Bo.MINUTE:return ol.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:b});default:throw new Error("no such TimeUnit")}}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker-period"]],inputs:{selectedPeriod:"selectedPeriod",format:"format",activeTimeUnit:"activeTimeUnit",hours:"hours",minutes:"minutes",minTime:"minTime",maxTime:"maxTime",selectedHour:"selectedHour",meridiems:"meridiems"},outputs:{periodChanged:"periodChanged"},decls:6,vars:9,consts:[[1,"timepicker-period"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(b,I){1&b&&(R.TgZ(0,"div",0)(1,"button",1),R.NdJ("click",function(){return I.changePeriod(I.timePeriod.AM)}),R._uU(2),R.qZA(),R.TgZ(3,"button",1),R.NdJ("click",function(){return I.changePeriod(I.timePeriod.PM)}),R._uU(4),R.qZA(),R.YNc(5,Xw,3,1,"div",2),R.qZA()),2&b&&(R.xp6(1),R.Q6J("ngClass",R.VKq(5,sl,I.selectedPeriod===I.timePeriod.AM)),R.xp6(1),R.Oqu(I.meridiems[0]),R.xp6(1),R.Q6J("ngClass",R.VKq(7,sl,I.selectedPeriod===I.timePeriod.PM)),R.xp6(1),R.Oqu(I.meridiems[1]),R.xp6(1),R.Q6J("ngIf",!I.isPeriodAvailable))},dependencies:[G.mk,G.O5],styles:['.timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:#ffffff80;font-family:"Roboto",sans-serif}@supports (font-family: var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color: var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;font-family:"Roboto",sans-serif}@supports (font-family: var(--primary-font-family)){.timepicker-period__btn[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;color:#fff;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-family:"Roboto",sans-serif}@supports (font-family: var(--primary-font-family)){.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}'],data:{animation:[(0,Et.X$)("scaleInOut",[(0,Et.eR)(":enter",[(0,Et.oB)({transform:"scale(0)"}),(0,Et.jt)(".2s",(0,Et.oB)({transform:"scale(1)"})),(0,Et.vP)([(0,Et.jt)("3s",(0,Et.oB)({opacity:1})),(0,Et.jt)(".3s",(0,Et.oB)({opacity:0}))])])])]}}),D})(),_d=(()=>{class D{constructor(b){this.locale=b,this.timeUnit=Bo,this.meridiems=yo.meridiems({locale:this.locale}),this.periodChanged=new R.vpe,this.timeUnitChanged=new R.vpe,this.hourChanged=new R.vpe,this.minuteChanged=new R.vpe}ngOnChanges(b){if(b.period&&b.period.currentValue||b.format&&b.format.currentValue){const I=ol.getHours(this.format);this.hours=ol.disableHours(I,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(b.period&&b.period.currentValue||b.hour&&b.hour.currentValue){const I=ol.getMinutes(this.minutesGap);this.minutes=ol.disableMinutes(I,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}changeTimeUnit(b){this.timeUnitChanged.next(b)}changePeriod(b){this.periodChanged.next(b)}changeHour(b){this.hourChanged.next(b),this.isEditable&&this.changeTimeUnit(Bo.MINUTE)}changeMinute(b){this.minuteChanged.next(b)}showHint(){this.isHintVisible=!0}hideHint(){this.isHintVisible=!1}}return D.\u0275fac=function(b){return new(b||D)(R.Y36($c))},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker-dial"]],inputs:{editableHintTmpl:"editableHintTmpl",hour:"hour",minute:"minute",format:"format",period:"period",activeTimeUnit:"activeTimeUnit",minTime:"minTime",maxTime:"maxTime",isEditable:"isEditable",minutesGap:"minutesGap",hoursOnly:"hoursOnly"},outputs:{periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged",hourChanged:"hourChanged",minuteChanged:"minuteChanged"},features:[R.TTD],decls:9,vars:25,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],[1,"timepicker-dial__period",3,"ngClass","selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(b,I){1&b&&(R.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-material-timepicker-dial-control",3),R.NdJ("timeUnitChanged",function(ce){return I.changeTimeUnit(ce)})("timeChanged",function(ce){return I.changeHour(ce)})("focused",function(){return I.showHint()})("unfocused",function(){return I.hideHint()}),R.qZA(),R.TgZ(4,"span"),R._uU(5,":"),R.qZA(),R.TgZ(6,"ngx-material-timepicker-dial-control",4),R.NdJ("timeUnitChanged",function(ce){return I.changeTimeUnit(ce)})("timeChanged",function(ce){return I.changeMinute(ce)})("focused",function(){return I.showHint()})("unfocused",function(){return I.hideHint()}),R.qZA()(),R.TgZ(7,"ngx-material-timepicker-period",5),R.NdJ("periodChanged",function(ce){return I.changePeriod(ce)}),R.qZA()(),R.YNc(8,Kf,4,4,"div",6),R.qZA()),2&b&&(R.xp6(3),R.Q6J("timeList",I.hours)("time",I.hour)("timeUnit",I.timeUnit.HOUR)("isActive",I.activeTimeUnit===I.timeUnit.HOUR)("isEditable",I.isEditable),R.xp6(3),R.Q6J("timeList",I.minutes)("time",I.minute)("timeUnit",I.timeUnit.MINUTE)("isActive",I.activeTimeUnit===I.timeUnit.MINUTE)("isEditable",I.isEditable)("minutesGap",I.minutesGap)("disabled",I.hoursOnly),R.xp6(1),R.Q6J("ngClass",R.VKq(23,mu,24===I.format))("selectedPeriod",I.period)("activeTimeUnit",I.activeTimeUnit)("maxTime",I.maxTime)("minTime",I.minTime)("format",I.format)("hours",I.hours)("minutes",I.minutes)("selectedHour",I.hour)("meridiems",I.meridiems),R.xp6(1),R.Q6J("ngIf",I.isEditable||I.editableHintTmpl))},dependencies:[ip,O0,G.mk,G.O5,G.tP],styles:['.timepicker-dial[_ngcontent-%COMP%]{text-align:right}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px;color:#ffffff80;font-family:"Roboto",sans-serif}@supports (font-family: var(--primary-font-family)){.timepicker-dial__time[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__period--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px;color:#fff}@supports (color: var(--dial-active-color)){.timepicker-dial__hint[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}@media (max-device-width: 1023px) and (orientation: landscape){.timepicker-dial__container[_ngcontent-%COMP%]{flex-direction:column}.timepicker-dial__period[_ngcontent-%COMP%]{margin-left:0}}'],changeDetection:0}),D})(),np=(()=>{class D{constructor(b){this.hourChange=new R.vpe,this.hourSelected=new R.vpe,this.hoursList=[],this.hoursList=ol.getHours(b)}onTimeSelected(b){this.hourSelected.next(b)}}return D.\u0275fac=function(b){R.$Z()},D.\u0275dir=R.lG2({type:D,inputs:{selectedHour:"selectedHour",minTime:"minTime",maxTime:"maxTime",format:"format"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"}}),D})(),Om=(()=>{class D{transform(b,I,j){return null!=b&&!j&&b===I}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275pipe=R.Yjl({name:"activeHour",type:D,pure:!0}),D})(),N0=(()=>{class D{transform(b,I,j,ce){return null!=b&&!ce&&I===b&&b%(j||5)==0}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275pipe=R.Yjl({name:"activeMinute",type:D,pure:!0}),D})(),vd=(()=>{class D{transform(b,I=5){return b&&(b%I==0?b:"")}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275pipe=R.Yjl({name:"minutesFormatter",type:D,pure:!0}),D})();const wd_small_height="75px",wd_small_top="calc(50% - 75px)",wd_large_height="103px",wd_large_top="calc(50% - 103px)";let Nm=(()=>{class D{constructor(){this.timeUnit=Bo,this.innerClockFaceSize=85,this.timeChange=new R.vpe,this.timeSelected=new R.vpe}ngAfterViewInit(){this.setClockHandPosition(),this.addTouchEvents()}ngOnChanges(b){const I=b.faceTime,j=b.selectedTime;I&&I.currentValue&&j&&j.currentValue&&(this.selectedTime=this.faceTime.find(ce=>ce.time===this.selectedTime.time)),j&&j.currentValue&&this.setClockHandPosition(),I&&I.currentValue&&setTimeout(()=>this.selectAvailableTime())}trackByTime(b,I){return I.time}onMousedown(b){b.preventDefault(),this.isStarted=!0}selectTime(b){if(!this.isStarted&&b instanceof MouseEvent&&"click"!==b.type)return;const I=this.clockFace.nativeElement.getBoundingClientRect(),j=I.left+I.width/2,ce=I.top+I.height/2,Ue=180*Math.atan(Math.abs(b.clientX-j)/Math.abs(b.clientY-ce))/Math.PI,it=function H0(D,y,b,I,j){return I>y&&b>=D?180-j:I>y&&b<D?180+j:I<y&&b<D?360-j:j}(j,ce,b.clientX,b.clientY,Ue),wt=this.format&&this.isInnerClockFace(j,ce,b.clientX,b.clientY),Hn=(function Hm(D,y){return Math.round(D/y)*y}(it,this.unit===Bo.MINUTE?6*(this.minutesGap||1):30)||360)+(wt?360:0),dr=this.faceTime.find(An=>An.angle===Hn);dr&&!dr.disabled&&(this.timeChange.next(dr),this.isStarted||this.timeSelected.next(dr.time))}onMouseup(b){b.preventDefault(),this.isStarted=!1}ngOnDestroy(){this.removeTouchEvents()}addTouchEvents(){this.touchStartHandler=this.onMousedown.bind(this),this.touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this.touchEndHandler)}removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this.touchEndHandler)}setClockHandPosition(){24===this.format&&(this.selectedTime.time>12||0===this.selectedTime.time?this.decreaseClockHand():this.increaseClockHand()),this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`}selectAvailableTime(){const b=this.faceTime.find(I=>this.selectedTime.time===I.time);if(this.isClockFaceDisabled=this.faceTime.every(I=>I.disabled),b&&b.disabled&&!this.isClockFaceDisabled){const I=this.faceTime.find(j=>!j.disabled);this.timeChange.next(I)}}isInnerClockFace(b,I,j,ce){return Math.sqrt(Math.pow(j-b,2)+Math.pow(ce-I,2))<this.innerClockFaceSize}decreaseClockHand(){this.clockHand.nativeElement.style.height=wd_small_height,this.clockHand.nativeElement.style.top=wd_small_top}increaseClockHand(){this.clockHand.nativeElement.style.height=wd_large_height,this.clockHand.nativeElement.style.top=wd_large_top}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker-face"]],viewQuery:function(b,I){if(1&b&&(R.Gf(wA,7),R.Gf(dd,7)),2&b){let j;R.iGM(j=R.CRH())&&(I.clockFace=j.first),R.iGM(j=R.CRH())&&(I.clockHand=j.first)}},hostBindings:function(b,I){1&b&&R.NdJ("mousedown",function(ce){return I.onMousedown(ce)})("click",function(ce){return I.selectTime(ce)})("touchmove",function(ce){return I.selectTime(ce.changedTouches[0])})("touchend",function(ce){return I.selectTime(ce.changedTouches[0])})("mousemove",function(ce){return I.selectTime(ce)})("mouseup",function(ce){return I.onMouseup(ce)})},inputs:{faceTime:"faceTime",selectedTime:"selectedTime",unit:"unit",format:"format",minutesGap:"minutesGap"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},features:[R.TTD],decls:7,vars:6,consts:[[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"ngClass","hidden"],["clockHand",""],["minutesFace",""],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["class","clock-face__inner",3,"top",4,"ngIf"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],[3,"ngStyle","ngClass"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"]],template:function(b,I){if(1&b&&(R.TgZ(0,"div",0,1),R.YNc(2,hi,4,7,"div",2),R._UZ(3,"span",3,4),R.qZA(),R.YNc(5,qw,2,2,"ng-template",null,5,R.W1O)),2&b){const j=R.MAs(6);R.xp6(2),R.Q6J("ngIf",I.unit!==I.timeUnit.MINUTE)("ngIfElse",j),R.xp6(1),R.Q6J("ngClass",R.VKq(4,zs,I.unit===I.timeUnit.MINUTE))("hidden",I.isClockFaceDisabled)}},dependencies:[G.O5,G.sg,G.PC,G.mk,G.OU,Om,Dh,N0,vd],styles:['.clock-face[_ngcontent-%COMP%]{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;padding:20px;box-sizing:border-box;background-color:#f0f0f0}@supports (background-color: var(--clock-face-background-color)){.clock-face[_ngcontent-%COMP%]{background-color:var(--clock-face-background-color)}}.clock-face__inner[_ngcontent-%COMP%]{position:absolute}.clock-face__container[_ngcontent-%COMP%]{margin-left:-2px}.clock-face__number[_ngcontent-%COMP%]{position:absolute;transform-origin:0 100%;width:50px;text-align:center;z-index:2}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(290px / 2 - 20px)}.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px;color:#6c6c6c}@supports (color: var(--clock-face-time-inactive-color)){.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-time-inactive-color)}}.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;color:#929292}@supports (color: var(--clock-face-inner-time-inactive-color)){.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-inner-time-inactive-color)}}.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none;width:30px;height:30px;display:flex;justify-content:center;align-items:center;margin:auto;border-radius:50%;font-weight:500;font-family:"Roboto",sans-serif}@supports (font-family: var(--primary-font-family)){.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:#00bfff;color:#fff}@supports (background-color: var(--clock-hand-color)){.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:var(--clock-hand-color);color:var(--clock-face-time-active-color)}}.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:#c5c5c5}@supports (color: var(--clock-face-time-disabled-color)){.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:var(--clock-face-time-disabled-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]{height:103px;width:2px;transform-origin:0 100%;position:absolute;top:calc(50% - 103px);z-index:1;background-color:#00bfff}@supports (background-color: var(--clock-hand-color)){.clock-face__clock-hand[_ngcontent-%COMP%]{background-color:var(--clock-hand-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]:after{content:"";width:7px;height:7px;border-radius:50%;background-color:inherit;position:absolute;bottom:-3px;left:-3.5px}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{content:"";width:7px;height:7px;background-color:#fff;border-radius:50%;position:absolute;top:-8px;left:calc(50% - 8px);box-sizing:content-box;border-width:4px;border-style:solid;border-color:#00bfff}@supports (border-color: var(--clock-hand-color)){.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{border-color:var(--clock-hand-color)}}@media (max-device-width: 1023px) and (orientation: landscape){.clock-face[_ngcontent-%COMP%]{width:225px;height:225px;padding:5px}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(225px / 2 - 5px)}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{top:0}}'],changeDetection:0}),D})(),zm=(()=>{class D extends np{constructor(){super(24)}ngAfterContentInit(){this.hoursList=ol.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker-24-hours-face"]],features:[R.qOj],decls:1,vars:3,consts:[[3,"selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(b,I){1&b&&(R.TgZ(0,"ngx-material-timepicker-face",0),R.NdJ("timeChange",function(ce){return I.hourChange.next(ce)})("timeSelected",function(ce){return I.onTimeSelected(ce)}),R.qZA()),2&b&&R.Q6J("selectedTime",I.selectedHour)("faceTime",I.hoursList)("format",I.format)},dependencies:[Nm],encapsulation:2,changeDetection:0}),D})(),Sn=(()=>{class D extends np{constructor(){super(12)}ngOnChanges(b){b.period&&b.period.currentValue&&(this.hoursList=ol.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker-12-hours-face"]],inputs:{period:"period"},features:[R.qOj,R.TTD],decls:1,vars:2,consts:[[3,"selectedTime","faceTime","timeChange","timeSelected"]],template:function(b,I){1&b&&(R.TgZ(0,"ngx-material-timepicker-face",0),R.NdJ("timeChange",function(ce){return I.hourChange.next(ce)})("timeSelected",function(ce){return I.onTimeSelected(ce)}),R.qZA()),2&b&&R.Q6J("selectedTime",I.selectedHour)("faceTime",I.hoursList)},dependencies:[Nm],encapsulation:2,changeDetection:0}),D})(),Gm=(()=>{class D{constructor(){this.minutesList=[],this.timeUnit=Bo,this.minuteChange=new R.vpe}ngOnChanges(b){if(b.period&&b.period.currentValue){const I=ol.getMinutes(this.minutesGap);this.minutesList=ol.disableMinutes(I,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker-minutes-face"]],inputs:{selectedMinute:"selectedMinute",selectedHour:"selectedHour",period:"period",minTime:"minTime",maxTime:"maxTime",format:"format",minutesGap:"minutesGap"},outputs:{minuteChange:"minuteChange"},features:[R.TTD],decls:1,vars:4,consts:[[3,"faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(b,I){1&b&&(R.TgZ(0,"ngx-material-timepicker-face",0),R.NdJ("timeChange",function(ce){return I.minuteChange.next(ce)}),R.qZA()),2&b&&R.Q6J("faceTime",I.minutesList)("selectedTime",I.selectedMinute)("minutesGap",I.minutesGap)("unit",I.timeUnit.MINUTE)},dependencies:[Nm],encapsulation:2}),D})(),Ym=(()=>{class D{}return D.\u0275fac=function(b){return new(b||D)},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker-button"]],ngContentSelectors:Jf,decls:3,vars:0,consts:[["type","button",1,"timepicker-button"]],template:function(b,I){1&b&&(R.F$t(),R.TgZ(0,"button",0)(1,"span"),R.Hsn(2),R.qZA()())},styles:['.timepicker-button[_ngcontent-%COMP%]{display:inline-block;height:36px;min-width:88px;line-height:36px;border:12px;border-radius:2px;background-color:transparent;text-align:center;transition:all .45s cubic-bezier(.23,1,.32,1);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;cursor:pointer;outline:none;color:#00bfff}@supports (color: var(--button-color)){.timepicker-button[_ngcontent-%COMP%]{color:var(--button-color)}}.timepicker-button[_ngcontent-%COMP%]:hover, .timepicker-button[_ngcontent-%COMP%]:focus{background-color:#9993}.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;text-transform:uppercase;font-weight:600;padding-left:16px;padding-right:16px;font-family:"Roboto",sans-serif}@supports (font-family: var(--primary-font-family)){.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}']}),D})(),Wm=(()=>{class D{constructor(b){this.eventService=b}onClick(b){this.preventClick||this.eventService.dispatchEvent(b),b.preventDefault()}}return D.\u0275fac=function(b){return new(b||D)(R.Y36(bA))},D.\u0275dir=R.lG2({type:D,selectors:[["","overlay",""]],hostBindings:function(b,I){1&b&&R.NdJ("click",function(ce){return I.onClick(ce)})},inputs:{preventClick:["overlay","preventClick"]}}),D})(),Qr=(()=>{class D{constructor(b){this.element=b.nativeElement}ngAfterViewInit(){this.theme&&this.setTheme(this.theme)}setTheme(b){for(const I in b)if(b.hasOwnProperty(I)){if("string"==typeof b[I]){for(const j in b)b.hasOwnProperty(j)&&this.element.style.setProperty(`--${Wi(j)}`,b[j]);return}this.setTheme(b[I])}}}return D.\u0275fac=function(b){return new(b||D)(R.Y36(R.SBq))},D.\u0275dir=R.lG2({type:D,selectors:[["","ngxMaterialTimepickerTheme",""]],inputs:{theme:["ngxMaterialTimepickerTheme","theme"]}}),D})();function Wi(D){return D.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var Gr=function(D){return D.ENTER="enter",D.LEAVE="leave",D}(Gr||{});let bd=(()=>{class D{constructor(b,I,j){this.timepickerService=b,this.eventService=I,this.locale=j,this.timeUnit=Bo,this.activeTimeUnit=Bo.HOUR,this.unsubscribe=new jt.x}set defaultTime(b){this._defaultTime=b,this.setDefaultTime(b)}get defaultTime(){return this._defaultTime}onKeydown(b){this.eventService.dispatchEvent(b),b.stopPropagation()}ngOnInit(){this.animationState=!this.disableAnimation&&Gr.ENTER,this.defineTime(),this.selectedHour=this.timepickerService.selectedHour.pipe((0,Qt.d)({bufferSize:1,refCount:!0})),this.selectedMinute=this.timepickerService.selectedMinute.pipe((0,Qt.d)({bufferSize:1,refCount:!0})),this.selectedPeriod=this.timepickerService.selectedPeriod.pipe((0,Qt.d)({bufferSize:1,refCount:!0})),this.timepickerBaseRef.timeUpdated.pipe((0,kn.R)(this.unsubscribe)).subscribe(this.setDefaultTime.bind(this))}onHourChange(b){this.timepickerService.hour=b,this.onTimeChange()}onHourSelected(b){this.hoursOnly||this.changeTimeUnit(Bo.MINUTE),this.timepickerBaseRef.hourSelected.next(b)}onMinuteChange(b){this.timepickerService.minute=b,this.onTimeChange()}changePeriod(b){this.timepickerService.period=b,this.onTimeChange()}changeTimeUnit(b){this.activeTimeUnit=b}setTime(){this.timepickerBaseRef.timeSet.next(this.timepickerService.getFullTime(this.format)),this.close()}close(){this.disableAnimation?this.timepickerBaseRef.close():this.animationState=Gr.LEAVE}animationDone(b){"done"===b.phaseName&&b.toState===Gr.LEAVE&&this.timepickerBaseRef.close()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}setDefaultTime(b){this.timepickerService.setDefaultTimeIfAvailable(b,this.minTime,this.maxTime,this.format,this.minutesGap)}defineTime(){const b=this.minTime;if(b&&!this.time&&!this.defaultTime){const I=Ai.fromDateTimeToString(b,this.format);this.setDefaultTime(I)}}onTimeChange(){const b=Ai.toLocaleTimeString(this.timepickerService.getFullTime(this.format),{locale:this.locale,format:this.format});this.timepickerBaseRef.timeChanged.emit(b)}}return D.\u0275fac=function(b){return new(b||D)(R.Y36(md),R.Y36(bA),R.Y36($c))},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker-container"]],hostBindings:function(b,I){1&b&&R.NdJ("keydown",function(ce){return I.onKeydown(ce)})},inputs:{defaultTime:"defaultTime"},features:[R._Bn([md])],decls:22,vars:31,consts:[[1,"timepicker-backdrop-overlay",3,"overlay","ngClass"],[1,"timepicker-overlay"],[3,"appendToInput","inputElement","ngxMaterialTimepickerTheme"],[1,"timepicker",3,"ngClass"],[1,"timepicker__header"],[3,"format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"timepicker__actions"],[3,"click"],[4,"ngTemplateOutlet"],["cancelBtnDefault",""],["confirmBtnDefault",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(b,I){if(1&b&&(R._UZ(0,"div",0),R.TgZ(1,"div",1)(2,"ngx-material-timepicker-content",2)(3,"div",3),R.NdJ("@timepicker.done",function(ce){return I.animationDone(ce)}),R.TgZ(4,"header",4)(5,"ngx-material-timepicker-dial",5),R.NdJ("periodChanged",function(ce){return I.changePeriod(ce)})("timeUnitChanged",function(ce){return I.changeTimeUnit(ce)})("hourChanged",function(ce){return I.onHourChange(ce)})("minuteChanged",function(ce){return I.onMinuteChange(ce)}),R.ALo(6,"async"),R.ALo(7,"async"),R.ALo(8,"async"),R.qZA()(),R.TgZ(9,"div",6)(10,"div",7),R.YNc(11,os,4,2,"div",8),R.YNc(12,km,4,13,"ngx-material-timepicker-minutes-face",9),R.qZA(),R.TgZ(13,"div",10)(14,"div",11),R.NdJ("click",function(){return I.close()}),R.YNc(15,al,1,0,"ng-container",12),R.qZA(),R.TgZ(16,"div",11),R.NdJ("click",function(){return I.setTime()}),R.YNc(17,Xf,1,0,"ng-container",12),R.qZA()()()()()(),R.YNc(18,L0,2,0,"ng-template",null,13,R.W1O),R.YNc(20,Lm,2,0,"ng-template",null,14,R.W1O)),2&b){const j=R.MAs(19),ce=R.MAs(21);let Ue,it;R.Q6J("overlay",I.preventOverlayClick)("ngClass",R.VKq(29,qf,I.appendToInput)),R.xp6(2),R.Q6J("appendToInput",I.appendToInput)("inputElement",I.inputElement)("ngxMaterialTimepickerTheme",I.theme),R.xp6(1),R.Q6J("@timepicker",I.animationState)("ngClass",I.timepickerClass),R.xp6(2),R.Q6J("format",I.format)("hour",null==(Ue=R.lcZ(6,23,I.selectedHour))?null:Ue.time)("minute",null==(it=R.lcZ(7,25,I.selectedMinute))?null:it.time)("period",R.lcZ(8,27,I.selectedPeriod))("activeTimeUnit",I.activeTimeUnit)("minTime",I.minTime)("maxTime",I.maxTime)("isEditable",I.enableKeyboardInput)("editableHintTmpl",I.editableHintTmpl)("minutesGap",I.minutesGap)("hoursOnly",I.hoursOnly),R.xp6(5),R.Q6J("ngSwitch",I.activeTimeUnit),R.xp6(1),R.Q6J("ngSwitchCase",I.timeUnit.HOUR),R.xp6(1),R.Q6J("ngSwitchCase",I.timeUnit.MINUTE),R.xp6(3),R.Q6J("ngTemplateOutlet",I.cancelBtnTmpl?I.cancelBtnTmpl:j),R.xp6(2),R.Q6J("ngTemplateOutlet",I.confirmBtnTmpl?I.confirmBtnTmpl:ce)}},dependencies:[ib,_d,zm,Sn,Gm,Ym,Wm,G.mk,Qr,G.RF,G.n9,G.O5,G.tP,G.Ov],styles:['[_nghost-%COMP%]{--body-background-color: #fff;--primary-font-family: "Roboto", sans-serif;--button-color: deepskyblue;--dial-active-color: #fff;--dial-inactive-color: rgba(255, 255, 255, .5);--dial-background-color: deepskyblue;--dial-editable-active-color: deepskyblue;--dial-editable-background-color: #fff;--clock-face-time-active-color: #fff;--clock-face-time-inactive-color: #6c6c6c;--clock-face-inner-time-inactive-color: #929292;--clock-face-time-disabled-color: #c5c5c5;--clock-face-background-color: #f0f0f0;--clock-hand-color: deepskyblue}.timepicker-backdrop-overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;background-color:#0000004d;z-index:999;pointer-events:auto}.timepicker-backdrop-overlay--transparent[_ngcontent-%COMP%]{background-color:transparent}.timepicker-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:999;pointer-events:none}.timepicker[_ngcontent-%COMP%]{width:300px;border-radius:2px;box-shadow:#00000040 0 14px 45px,#00000038 0 10px 18px;outline:none;position:static;z-index:999;pointer-events:auto}.timepicker__header[_ngcontent-%COMP%]{padding:15px 30px;background-color:#00bfff}@supports (background-color: var(--dial-background-color)){.timepicker__header[_ngcontent-%COMP%]{background-color:var(--dial-background-color)}}.timepicker__body[_ngcontent-%COMP%]{padding:15px 5px;display:flex;justify-content:center;align-items:center;background-color:#fff}@supports (background-color: var(--body-background-color)){.timepicker__body[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}.timepicker__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:15px;background-color:#fff}@supports (background-color: var(--body-background-color)){.timepicker__actions[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}@media (max-device-width: 1023px) and (orientation: landscape){.timepicker[_ngcontent-%COMP%]{display:flex;width:515px}.timepicker__header[_ngcontent-%COMP%]{display:flex;align-items:center}.timepicker__main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.timepicker__actions[_ngcontent-%COMP%]{padding:5px;margin-top:-1px}}'],data:{animation:[(0,Et.X$)("timepicker",[(0,Et.eR)(`* => ${Gr.ENTER}`,[(0,Et.oB)({transform:"translateY(-30%)"}),(0,Et.jt)("0.2s ease-out",(0,Et.oB)({transform:"translateY(0)"}))]),(0,Et.eR)(`${Gr.ENTER} => ${Gr.LEAVE}`,[(0,Et.oB)({transform:"translateY(0)",opacity:1}),(0,Et.jt)("0.2s ease-out",(0,Et.oB)({transform:"translateY(-30%)",opacity:0}))])])]}}),D})(),xc=(()=>{class D{constructor(b,I,j,ce){this.cfr=b,this.appRef=I,this.injector=j,this.document=ce}appendTimepickerToBody(b,I){this.componentRef=this.cfr.resolveComponentFactory(b).create(this.injector),Object.keys(I).forEach(ce=>this.componentRef.instance[ce]=I[ce]),this.appRef.attachView(this.componentRef.hostView),this.document.body.appendChild(this.componentRef.hostView.rootNodes[0])}destroyTimepicker(){this.componentRef.destroy(),this.appRef.detachView(this.componentRef.hostView)}}return D.\u0275fac=function(b){return new(b||D)(R.LFG(R._Vd),R.LFG(R.z2F),R.LFG(R.zs3),R.LFG(G.K0,8))},D.\u0275prov=R.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Vm=(()=>{class D{constructor(b,I){this.eventService=b,this.domService=I,this.timeUpdated=new jt.x,this.isEsc=!0,this.hoursOnly=!1,this.timeSet=new R.vpe,this.opened=new R.vpe,this.closed=new R.vpe,this.hourSelected=new R.vpe,this.timeChanged=new R.vpe,this.unsubscribe=new jt.x}set ngxMaterialTimepickerTheme(b){console.warn("'ngxMaterialTimepickerTheme' is deprecated. Use 'theme' instead"),this._ngxMaterialTimepickerTheme=b}set format(b){this._format=24===b?24:12}get format(){return this.timepickerInput?this.timepickerInput.format:this._format}set minutesGap(b){null!=b&&(b=Math.floor(b),this._minutesGap=b<=59?b:1)}get minutesGap(){return this._minutesGap}get minTime(){return this.timepickerInput?this.timepickerInput.min:this.min}get maxTime(){return this.timepickerInput?this.timepickerInput.max:this.max}get disabled(){return this.timepickerInput&&this.timepickerInput.disabled}get time(){return this.timepickerInput&&this.timepickerInput.value}get inputElement(){return this.timepickerInput&&this.timepickerInput.element}registerInput(b){if(this.timepickerInput)throw Error("A Timepicker can only be associated with a single input.");this.timepickerInput=b}open(){this.domService.appendTimepickerToBody(bd,{timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this.appendToInput,hoursOnly:this.hoursOnly,theme:this.theme||this._ngxMaterialTimepickerTheme,timepickerClass:this.timepickerClass,inputElement:this.inputElement}),this.opened.next(),this.subscribeToEvents()}close(){this.domService.destroyTimepicker(),this.closed.next(),this.unsubscribeFromEvents()}updateTime(b){this.timeUpdated.next(b)}subscribeToEvents(){(0,h.T)(this.eventService.backdropClick,this.eventService.keydownEvent.pipe((0,qi.h)(b=>27===b.keyCode&&this.isEsc))).pipe((0,kn.R)(this.unsubscribe)).subscribe(()=>this.close())}unsubscribeFromEvents(){this.unsubscribe.next(),this.unsubscribe.complete()}}return D.\u0275fac=function(b){return new(b||D)(R.Y36(bA),R.Y36(xc))},D.\u0275cmp=R.Xpm({type:D,selectors:[["ngx-material-timepicker"]],inputs:{cancelBtnTmpl:"cancelBtnTmpl",editableHintTmpl:"editableHintTmpl",confirmBtnTmpl:"confirmBtnTmpl",isEsc:["ESC","isEsc"],enableKeyboardInput:"enableKeyboardInput",preventOverlayClick:"preventOverlayClick",disableAnimation:"disableAnimation",appendToInput:"appendToInput",hoursOnly:"hoursOnly",defaultTime:"defaultTime",timepickerClass:"timepickerClass",theme:"theme",min:"min",max:"max",ngxMaterialTimepickerTheme:"ngxMaterialTimepickerTheme",format:"format",minutesGap:"minutesGap"},outputs:{timeSet:"timeSet",opened:"opened",closed:"closed",hourSelected:"hourSelected",timeChanged:"timeChanged"},decls:0,vars:0,template:function(b,I){},encapsulation:2}),D})(),jm=(()=>{class D{constructor(b,I){this.elementRef=b,this.locale=I,this._format=12,this._value="",this.timepickerSubscriptions=[],this.onTouched=()=>{},this.onChange=()=>{}}set format(b){this._format=24===b?24:12,b&&this.previousFormat&&this.previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this.previousFormat=this._format}get format(){return this._format}set min(b){console.log(b),this._min="string"!=typeof b?b:Ai.parseTime(b,{locale:this.locale,format:this.format})}get min(){return this._min}set max(b){this._max="string"!=typeof b?b:Ai.parseTime(b,{locale:this.locale,format:this.format})}get max(){return this._max}set timepicker(b){this.registerTimepicker(b)}set value(b){if(!b)return this._value="",void this.updateInputValue();this.setTimeIfAvailable(b)}get value(){return this._value?Ai.toLocaleTimeString(this._value,{format:this.format,locale:this.locale}):""}get element(){return this.elementRef&&this.elementRef.nativeElement}set defaultTime(b){this._timepicker.defaultTime=Ai.formatTime(b,{locale:this.locale,format:this.format})}updateValue(b){this.value=b,this.onChange(b)}ngOnChanges(b){var I;const j=null===(I=b?.value)||void 0===I?void 0:I.currentValue;j&&(this.setTimeIfAvailable(j),this.defaultTime=j)}onClick(b){this.disableClick||(this._timepicker.open(),b.stopPropagation())}writeValue(b){this.value=b,b&&(this.defaultTime=b)}registerOnChange(b){this.onChange=b}registerOnTouched(b){this.onTouched=b}setDisabledState(b){this.disabled=b}ngOnDestroy(){this.timepickerSubscriptions.forEach(b=>b.unsubscribe())}registerTimepicker(b){if(!b)throw new Error("NgxMaterialTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxTimepicker directive");this._timepicker=b,this._timepicker.registerInput(this),this.timepickerSubscriptions.push(this._timepicker.timeSet.subscribe(I=>{this.value=I,this.onChange(this.value),this.onTouched(),this.defaultTime=this._value}))}updateInputValue(){this.elementRef.nativeElement.value=this.value}setTimeIfAvailable(b){var I;const j=Ai.formatTime(b,{locale:this.locale,format:this.format});Ai.isTimeAvailable(j,this._min,this._max,"minutes",null===(I=this._timepicker)||void 0===I?void 0:I.minutesGap,this._format)?(this._value=j,this.updateInputValue()):(this.value=null,console.warn("Selected time doesn't match min or max value"))}}return D.\u0275fac=function(b){return new(b||D)(R.Y36(R.SBq),R.Y36($c))},D.\u0275dir=R.lG2({type:D,selectors:[["","ngxTimepicker",""]],hostVars:1,hostBindings:function(b,I){1&b&&R.NdJ("change",function(ce){return I.updateValue(ce.target.value)})("blur",function(){return I.onTouched()})("click",function(ce){return I.onClick(ce)}),2&b&&R.Ikx("disabled",I.disabled)},inputs:{format:"format",min:"min",max:"max",timepicker:["ngxTimepicker","timepicker"],value:"value",disabled:"disabled",disableClick:"disableClick"},features:[R._Bn([{provide:ia.JU,useExisting:D,multi:!0}]),R.TTD]}),D})(),sp=(()=>{class D{static setOpts(b,I=Ai.DEFAULT_NUMBERING_SYSTEM){return{ngModule:D,providers:[{provide:$c,useValue:b},{provide:_u,useValue:I}]}}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275mod=R.oAB({type:D}),D.\u0275inj=R.cJS({imports:[[G.ez,ia.u5,ia.UX]]}),D})()},7462:function(ti,_i){!function(ge){"use strict";function G(Qe){return"object"==typeof Qe&&"function"==typeof Qe.to}function Dt(Qe){Qe.parentElement.removeChild(Qe)}function jt(Qe){return null!=Qe}function h(Qe){Qe.preventDefault()}function _t(Qe){return"number"==typeof Qe&&!isNaN(Qe)&&isFinite(Qe)}function qi(Qe,fe,qt){qt>0&&(Si(Qe,fe),setTimeout(function(){sn(Qe,fe)},qt))}function kn(Qe){return Math.max(Math.min(Qe,100),0)}function Et(Qe){return Array.isArray(Qe)?Qe:[Qe]}function Lt(Qe){var fe=(Qe=String(Qe)).split(".");return fe.length>1?fe[1].length:0}function Si(Qe,fe){Qe.classList&&!/\s/.test(fe)?Qe.classList.add(fe):Qe.className+=" "+fe}function sn(Qe,fe){Qe.classList&&!/\s/.test(fe)?Qe.classList.remove(fe):Qe.className=Qe.className.replace(new RegExp("(^|\\b)"+fe.split(" ").join("|")+"(\\b|$)","gi")," ")}function Fr(Qe){var fe=void 0!==window.pageXOffset,qt="CSS1Compat"===(Qe.compatMode||"");return{x:fe?window.pageXOffset:qt?Qe.documentElement.scrollLeft:Qe.body.scrollLeft,y:fe?window.pageYOffset:qt?Qe.documentElement.scrollTop:Qe.body.scrollTop}}function ni(Qe,fe){return 100/(fe-Qe)}function Hr(Qe,fe,qt){return 100*fe/(Qe[qt+1]-Qe[qt])}function fa(Qe,fe){for(var qt=1;Qe>=fe[qt];)qt+=1;return qt}function zl(Qe,fe,qt){if(qt>=Qe.slice(-1)[0])return 100;var bi=fa(qt,Qe),Ri=fe[bi-1],we=fe[bi];return Ri+function Vr(Qe,fe){return Hr(Qe,Qe[0]<0?fe+Math.abs(Qe[0]):fe-Qe[0],0)}([Qe[bi-1],Qe[bi]],qt)/ni(Ri,we)}function Ia(Qe,fe,qt,bi){if(100===bi)return bi;var pi=fa(bi,Qe),At=Qe[pi-1],Ri=Qe[pi];return qt?bi-At>(Ri-At)/2?Ri:At:fe[pi-1]?Qe[pi-1]+function Bi(Qe,fe){return Math.round(Qe/fe)*fe}(bi-Qe[pi-1],fe[pi-1]):bi}var Qe;ge.PipsMode=void 0,(Qe=ge.PipsMode||(ge.PipsMode={})).Range="range",Qe.Steps="steps",Qe.Positions="positions",Qe.Count="count",Qe.Values="values",ge.PipsType=void 0,function(Qe){Qe[Qe.None=-1]="None",Qe[Qe.NoValue=0]="NoValue",Qe[Qe.LargeValue=1]="LargeValue",Qe[Qe.SmallValue=2]="SmallValue"}(ge.PipsType||(ge.PipsType={}));var li=function(){function Qe(fe,qt,bi){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[bi||!1],this.xNumSteps=[!1],this.snap=qt;var pi,At=[];for(Object.keys(fe).forEach(function(Ri){At.push([Et(fe[Ri]),Ri])}),At.sort(function(Ri,we){return Ri[0][0]-we[0][0]}),pi=0;pi<At.length;pi++)this.handleEntryPoint(At[pi][1],At[pi][0]);for(this.xNumSteps=this.xSteps.slice(0),pi=0;pi<this.xNumSteps.length;pi++)this.handleStepPoint(pi,this.xNumSteps[pi])}return Qe.prototype.getDistance=function(fe){for(var qt=[],bi=0;bi<this.xNumSteps.length-1;bi++)qt[bi]=Hr(this.xVal,fe,bi);return qt},Qe.prototype.getAbsoluteDistance=function(fe,qt,bi){var pi=0;if(fe<this.xPct[this.xPct.length-1])for(;fe>this.xPct[pi+1];)pi++;else fe===this.xPct[this.xPct.length-1]&&(pi=this.xPct.length-2);!bi&&fe===this.xPct[pi+1]&&pi++,null===qt&&(qt=[]);var At,Ri=1,we=qt[pi],We=0,Ge=0,fi=0,wi=0;for(At=bi?(fe-this.xPct[pi])/(this.xPct[pi+1]-this.xPct[pi]):(this.xPct[pi+1]-fe)/(this.xPct[pi+1]-this.xPct[pi]);we>0;)We=this.xPct[pi+1+wi]-this.xPct[pi+wi],qt[pi+wi]*Ri+100-100*At>100?(Ge=We*At,Ri=(we-100*At)/qt[pi+wi],At=1):(Ge=qt[pi+wi]*We/100*Ri,Ri=0),bi?(fi-=Ge,this.xPct.length+wi>=1&&wi--):(fi+=Ge,this.xPct.length-wi>=1&&wi++),we=qt[pi+wi]*Ri;return fe+fi},Qe.prototype.toStepping=function(fe){return zl(this.xVal,this.xPct,fe)},Qe.prototype.fromStepping=function(fe){return function on(Qe,fe,qt){if(qt>=100)return Qe.slice(-1)[0];var bi=fa(qt,fe),Ri=fe[bi-1];return function Oo(Qe,fe){return fe*(Qe[1]-Qe[0])/100+Qe[0]}([Qe[bi-1],Qe[bi]],(qt-Ri)*ni(Ri,fe[bi]))}(this.xVal,this.xPct,fe)},Qe.prototype.getStep=function(fe){return Ia(this.xPct,this.xSteps,this.snap,fe)},Qe.prototype.getDefaultStep=function(fe,qt,bi){var pi=fa(fe,this.xPct);return(100===fe||qt&&fe===this.xPct[pi-1])&&(pi=Math.max(pi-1,1)),(this.xVal[pi]-this.xVal[pi-1])/bi},Qe.prototype.getNearbySteps=function(fe){var qt=fa(fe,this.xPct);return{stepBefore:{startValue:this.xVal[qt-2],step:this.xNumSteps[qt-2],highestStep:this.xHighestCompleteStep[qt-2]},thisStep:{startValue:this.xVal[qt-1],step:this.xNumSteps[qt-1],highestStep:this.xHighestCompleteStep[qt-1]},stepAfter:{startValue:this.xVal[qt],step:this.xNumSteps[qt],highestStep:this.xHighestCompleteStep[qt]}}},Qe.prototype.countStepDecimals=function(){var fe=this.xNumSteps.map(Lt);return Math.max.apply(null,fe)},Qe.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},Qe.prototype.convert=function(fe){return this.getStep(this.toStepping(fe))},Qe.prototype.handleEntryPoint=function(fe,qt){var bi;if(!_t(bi="min"===fe?0:"max"===fe?100:parseFloat(fe))||!_t(qt[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(bi),this.xVal.push(qt[0]);var pi=Number(qt[1]);bi?this.xSteps.push(!isNaN(pi)&&pi):isNaN(pi)||(this.xSteps[0]=pi),this.xHighestCompleteStep.push(0)},Qe.prototype.handleStepPoint=function(fe,qt){if(qt){if(this.xVal[fe]===this.xVal[fe+1])return void(this.xSteps[fe]=this.xHighestCompleteStep[fe]=this.xVal[fe]);this.xSteps[fe]=Hr([this.xVal[fe],this.xVal[fe+1]],qt,0)/ni(this.xPct[fe],this.xPct[fe+1]);var pi=Math.ceil(Number(((this.xVal[fe+1]-this.xVal[fe])/this.xNumSteps[fe]).toFixed(3))-1);this.xHighestCompleteStep[fe]=this.xVal[fe]+this.xNumSteps[fe]*pi}},Qe}(),Zn={to:function(Qe){return void 0===Qe?"":Qe.toFixed(2)},from:Number},nn={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},wr={tooltips:".__tooltips",aria:".__aria"};function eo(Qe,fe){if(!_t(fe))throw new Error("noUiSlider: 'step' is not numeric.");Qe.singleStep=fe}function Fa(Qe,fe){if(!_t(fe))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");Qe.keyboardPageMultiplier=fe}function to(Qe,fe){if(!_t(fe))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");Qe.keyboardMultiplier=fe}function El(Qe,fe){if(!_t(fe))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");Qe.keyboardDefaultStep=fe}function Ml(Qe,fe){if("object"!=typeof fe||Array.isArray(fe))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===fe.min||void 0===fe.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");Qe.spectrum=new li(fe,Qe.snap||!1,Qe.singleStep)}function pa(Qe,fe){if(fe=Et(fe),!Array.isArray(fe)||!fe.length)throw new Error("noUiSlider: 'start' option is incorrect.");Qe.handles=fe.length,Qe.start=fe}function ms(Qe,fe){if("boolean"!=typeof fe)throw new Error("noUiSlider: 'snap' option must be a boolean.");Qe.snap=fe}function Rs(Qe,fe){if("boolean"!=typeof fe)throw new Error("noUiSlider: 'animate' option must be a boolean.");Qe.animate=fe}function rs(Qe,fe){if("number"!=typeof fe)throw new Error("noUiSlider: 'animationDuration' option must be a number.");Qe.animationDuration=fe}function br(Qe,fe){var bi,qt=[!1];if("lower"===fe?fe=[!0,!1]:"upper"===fe&&(fe=[!1,!0]),!0===fe||!1===fe){for(bi=1;bi<Qe.handles;bi++)qt.push(fe);qt.push(!1)}else{if(!Array.isArray(fe)||!fe.length||fe.length!==Qe.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");qt=fe}Qe.connect=qt}function qo(Qe,fe){switch(fe){case"horizontal":Qe.ort=0;break;case"vertical":Qe.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function ka(Qe,fe){if(!_t(fe))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==fe&&(Qe.margin=Qe.spectrum.getDistance(fe))}function vo(Qe,fe){if(!_t(fe))throw new Error("noUiSlider: 'limit' option must be numeric.");if(Qe.limit=Qe.spectrum.getDistance(fe),!Qe.limit||Qe.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Yn(Qe,fe){var qt;if(!_t(fe)&&!Array.isArray(fe))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(fe)&&2!==fe.length&&!_t(fe[0])&&!_t(fe[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==fe){for(Array.isArray(fe)||(fe=[fe,fe]),Qe.padding=[Qe.spectrum.getDistance(fe[0]),Qe.spectrum.getDistance(fe[1])],qt=0;qt<Qe.spectrum.xNumSteps.length-1;qt++)if(Qe.padding[0][qt]<0||Qe.padding[1][qt]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if((fe[0]+fe[1])/(Qe.spectrum.xVal[Qe.spectrum.xVal.length-1]-Qe.spectrum.xVal[0])>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Us(Qe,fe){switch(fe){case"ltr":Qe.dir=0;break;case"rtl":Qe.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Ws(Qe,fe){if("string"!=typeof fe)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var qt=fe.indexOf("tap")>=0,bi=fe.indexOf("drag")>=0,pi=fe.indexOf("fixed")>=0,At=fe.indexOf("snap")>=0,Ri=fe.indexOf("hover")>=0,we=fe.indexOf("unconstrained")>=0,We=fe.indexOf("drag-all")>=0,Ge=fe.indexOf("smooth-steps")>=0;if(pi){if(2!==Qe.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");ka(Qe,Qe.start[1]-Qe.start[0])}if(we&&(Qe.margin||Qe.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");Qe.events={tap:qt||At,drag:bi,dragAll:We,smoothSteps:Ge,fixed:pi,snap:At,hover:Ri,unconstrained:we}}function rn(Qe,fe){if(!1!==fe)if(!0===fe||G(fe)){Qe.tooltips=[];for(var qt=0;qt<Qe.handles;qt++)Qe.tooltips.push(fe)}else{if((fe=Et(fe)).length!==Qe.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");fe.forEach(function(bi){if("boolean"!=typeof bi&&!G(bi))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),Qe.tooltips=fe}}function ss(Qe,fe){if(fe.length!==Qe.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");Qe.handleAttributes=fe}function st(Qe,fe){if(!G(fe))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");Qe.ariaFormat=fe}function Xt(Qe,fe){if(!function R(Qe){return G(Qe)&&"function"==typeof Qe.from}(fe))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");Qe.format=fe}function Rt(Qe,fe){if("boolean"!=typeof fe)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");Qe.keyboardSupport=fe}function gn(Qe,fe){Qe.documentElement=fe}function On(Qe,fe){if("string"!=typeof fe&&!1!==fe)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");Qe.cssPrefix=fe}function ma(Qe,fe){if("object"!=typeof fe)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof Qe.cssPrefix?(Qe.cssClasses={},Object.keys(fe).forEach(function(qt){Qe.cssClasses[qt]=Qe.cssPrefix+fe[qt]})):Qe.cssClasses=fe}function zr(Qe){var fe={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Zn,format:Zn},qt={step:{r:!1,t:eo},keyboardPageMultiplier:{r:!1,t:Fa},keyboardMultiplier:{r:!1,t:to},keyboardDefaultStep:{r:!1,t:El},start:{r:!0,t:pa},connect:{r:!0,t:br},direction:{r:!0,t:Us},snap:{r:!1,t:ms},animate:{r:!1,t:Rs},animationDuration:{r:!1,t:rs},range:{r:!0,t:Ml},orientation:{r:!1,t:qo},margin:{r:!1,t:ka},limit:{r:!1,t:vo},padding:{r:!1,t:Yn},behaviour:{r:!0,t:Ws},ariaFormat:{r:!1,t:st},format:{r:!1,t:Xt},tooltips:{r:!1,t:rn},keyboardSupport:{r:!0,t:Rt},documentElement:{r:!1,t:gn},cssPrefix:{r:!0,t:On},cssClasses:{r:!0,t:ma},handleAttributes:{r:!1,t:ss}},bi={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:nn,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};Qe.format&&!Qe.ariaFormat&&(Qe.ariaFormat=Qe.format),Object.keys(qt).forEach(function(We){if(jt(Qe[We])||void 0!==bi[We])qt[We].t(fe,jt(Qe[We])?Qe[We]:bi[We]);else if(qt[We].r)throw new Error("noUiSlider: '"+We+"' is required.")}),fe.pips=Qe.pips;var pi=document.createElement("div");return fe.transformRule=void 0!==pi.style.transform?"transform":void 0!==pi.style.msTransform?"msTransform":"webkitTransform",fe.style=[["left","top"],["right","bottom"]][fe.dir][fe.ort],fe}function Qs(Qe,fe,qt){var we,We,Ge,fi,wi,bi=function Ys(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),At=function Kn(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}()&&function Jn(){var Qe=!1;try{var fe=Object.defineProperty({},"passive",{get:function(){Qe=!0}});window.addEventListener("test",null,fe)}catch{}return Qe}(),Ri=Qe,fn=fe.spectrum,as=[],$n=[],Bs=[],Gl=0,yn={},wo=Qe.ownerDocument,$r=fe.documentElement||wo.documentElement,bo=wo.body,no="rtl"===wo.dir||1===fe.ort?0:100;function ro(Pe,qe){var dt=wo.createElement("div");return qe&&Si(dt,qe),Pe.appendChild(dt),dt}function bh(Pe,qe){var dt=ro(Pe,fe.cssClasses.origin),Ft=ro(dt,fe.cssClasses.handle);if(ro(Ft,fe.cssClasses.touchArea),Ft.setAttribute("data-handle",String(qe)),fe.keyboardSupport&&(Ft.setAttribute("tabindex","0"),Ft.addEventListener("keydown",function(vi){return function xh(Pe,qe){if(fc()||so(qe))return!1;var dt=["Left","Right"],Ft=["Down","Up"],di=["PageDown","PageUp"],vi=["Home","End"];fe.dir&&!fe.ort?dt.reverse():fe.ort&&!fe.dir&&(Ft.reverse(),di.reverse());var _s,hn=Pe.key.replace("Arrow",""),Hi=hn===di[0],kr=hn===di[1],yr=hn===Ft[0]||hn===dt[0]||Hi,jr=hn===Ft[1]||hn===dt[1]||kr,ir=hn===vi[1];if(!(yr||jr||hn===vi[0]||ir))return!0;if(Pe.preventDefault(),jr||yr){var ea=yr?0:1,Os=jc(qe)[ea];if(null===Os)return!1;!1===Os&&(Os=fn.getDefaultStep($n[qe],yr,fe.keyboardDefaultStep)),Os*=kr||Hi?fe.keyboardPageMultiplier:fe.keyboardMultiplier,Os=Math.max(Os,1e-7),_s=as[qe]+(Os*=yr?-1:1)}else _s=ir?fe.spectrum.xVal[fe.spectrum.xVal.length-1]:fe.spectrum.xVal[0];return es(qe,fn.toStepping(_s),!0,!0),k("slide",qe),k("update",qe),k("change",qe),k("set",qe),!1}(vi,qe)})),void 0!==fe.handleAttributes){var di=fe.handleAttributes[qe];Object.keys(di).forEach(function(vi){Ft.setAttribute(vi,di[vi])})}return Ft.setAttribute("role","slider"),Ft.setAttribute("aria-orientation",fe.ort?"vertical":"horizontal"),0===qe?Si(Ft,fe.cssClasses.handleLower):qe===fe.handles-1&&Si(Ft,fe.cssClasses.handleUpper),dt.handle=Ft,dt}function dc(Pe,qe){return!!qe&&ro(Pe,fe.cssClasses.connect)}function Gc(Pe,qe){return!(!fe.tooltips||!fe.tooltips[qe])&&ro(Pe.firstChild,fe.cssClasses.tooltip)}function fc(){return Ri.hasAttribute("disabled")}function so(Pe){return We[Pe].hasAttribute("disabled")}function pc(){wi&&(ci("update"+wr.tooltips),wi.forEach(function(Pe){Pe&&Dt(Pe)}),wi=null)}function sA(){pc(),wi=We.map(Gc),Dn("update"+wr.tooltips,function(Pe,qe,dt){if(wi&&fe.tooltips&&!1!==wi[qe]){var Ft=Pe[qe];!0!==fe.tooltips[qe]&&(Ft=fe.tooltips[qe].to(dt[qe])),wi[qe].innerHTML=Ft}})}function Wc(Pe,qe){return Pe.map(function(dt){return fn.fromStepping(qe?fn.getStep(dt):dt)})}function Vc(Pe){function qe(yr,jr){return Number((yr+jr).toFixed(7))}var dt=function Yc(Pe){if(Pe.mode===ge.PipsMode.Range||Pe.mode===ge.PipsMode.Steps)return fn.xVal;if(Pe.mode===ge.PipsMode.Count){if(Pe.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var qe=Pe.values-1,dt=100/qe,Ft=[];qe--;)Ft[qe]=qe*dt;return Ft.push(100),Wc(Ft,Pe.stepped)}return Pe.mode===ge.PipsMode.Positions?Wc(Pe.values,Pe.stepped):Pe.mode===ge.PipsMode.Values?Pe.stepped?Pe.values.map(function(di){return fn.fromStepping(fn.getStep(fn.toStepping(di)))}):Pe.values:[]}(Pe),Ft={},di=fn.xVal[0],vi=fn.xVal[fn.xVal.length-1],hn=!1,Hi=!1,kr=0;return(dt=function Qt(Qe){return Qe.filter(function(fe){return!this[fe]&&(this[fe]=!0)},{})}(dt.slice().sort(function(yr,jr){return yr-jr})))[0]!==di&&(dt.unshift(di),hn=!0),dt[dt.length-1]!==vi&&(dt.push(vi),Hi=!0),dt.forEach(function(yr,jr){var or,ir,_s,Os,eu,oA,tu,iu,rd,ea=yr,Vs=dt[jr+1],Ns=Pe.mode===ge.PipsMode.Steps;for(Ns&&(or=fn.xNumSteps[jr]),or||(or=Vs-ea),void 0===Vs&&(Vs=ea),or=Math.max(or,1e-7),ir=ea;ir<=Vs;ir=qe(ir,or)){for(rd=(eu=(Os=fn.toStepping(ir))-kr)/(iu=Math.round(eu/(Pe.density||1))),_s=1;_s<=iu;_s+=1)Ft[(oA=kr+_s*rd).toFixed(5)]=[fn.fromStepping(oA),0];tu=dt.indexOf(ir)>-1?ge.PipsType.LargeValue:Ns?ge.PipsType.SmallValue:ge.PipsType.NoValue,!jr&&hn&&ir!==Vs&&(tu=0),ir===Vs&&Hi||(Ft[Os.toFixed(5)]=[ir,tu]),kr=Os}}),Ft}function yh(Pe,qe,dt){var Ft,di,vi=wo.createElement("div"),hn=((Ft={})[ge.PipsType.None]="",Ft[ge.PipsType.NoValue]=fe.cssClasses.valueNormal,Ft[ge.PipsType.LargeValue]=fe.cssClasses.valueLarge,Ft[ge.PipsType.SmallValue]=fe.cssClasses.valueSub,Ft),Hi=((di={})[ge.PipsType.None]="",di[ge.PipsType.NoValue]=fe.cssClasses.markerNormal,di[ge.PipsType.LargeValue]=fe.cssClasses.markerLarge,di[ge.PipsType.SmallValue]=fe.cssClasses.markerSub,di),kr=[fe.cssClasses.valueHorizontal,fe.cssClasses.valueVertical],yr=[fe.cssClasses.markerHorizontal,fe.cssClasses.markerVertical];function jr(ir,_s){var ea=_s===fe.cssClasses.value;return _s+" "+(ea?kr:yr)[fe.ort]+" "+(ea?hn:Hi)[ir]}return Si(vi,fe.cssClasses.pips),Si(vi,0===fe.ort?fe.cssClasses.pipsHorizontal:fe.cssClasses.pipsVertical),Object.keys(Pe).forEach(function(ir){!function or(ir,_s,ea){if((ea=qe?qe(_s,ea):ea)!==ge.PipsType.None){var Vs=ro(vi,!1);Vs.className=jr(ea,fe.cssClasses.marker),Vs.style[fe.style]=ir+"%",ea>ge.PipsType.NoValue&&((Vs=ro(vi,!1)).className=jr(ea,fe.cssClasses.value),Vs.setAttribute("data-value",String(_s)),Vs.style[fe.style]=ir+"%",Vs.innerHTML=String(dt.to(_s)))}}(ir,Pe[ir][0],Pe[ir][1])}),vi}function No(){fi&&(Dt(fi),fi=null)}function _a(Pe){No();var qe=Vc(Pe);return fi=Ri.appendChild(yh(qe,Pe.filter,Pe.format||{to:function(di){return String(Math.round(di))}}))}function mc(){var Pe=we.getBoundingClientRect(),qe="offset"+["Width","Height"][fe.ort];return 0===fe.ort?Pe.width||we[qe]:Pe.height||we[qe]}function ao(Pe,qe,dt,Ft){var di=function(hn){var Hi=function aA(Pe,qe,dt){var Ft=0===Pe.type.indexOf("touch"),di=0===Pe.type.indexOf("mouse"),vi=0===Pe.type.indexOf("pointer"),hn=0,Hi=0;if(0===Pe.type.indexOf("MSPointer")&&(vi=!0),"mousedown"===Pe.type&&!Pe.buttons&&!Pe.touches)return!1;if(Ft){var kr=function(or){var ir=or.target;return ir===dt||dt.contains(ir)||Pe.composed&&Pe.composedPath().shift()===dt};if("touchstart"===Pe.type){var yr=Array.prototype.filter.call(Pe.touches,kr);if(yr.length>1)return!1;hn=yr[0].pageX,Hi=yr[0].pageY}else{var jr=Array.prototype.find.call(Pe.changedTouches,kr);if(!jr)return!1;hn=jr.pageX,Hi=jr.pageY}}return qe=qe||Fr(wo),(di||vi)&&(hn=Pe.clientX+qe.x,Hi=Pe.clientY+qe.y),Pe.pageOffset=qe,Pe.points=[hn,Hi],Pe.cursor=di||vi,Pe}(hn,Ft.pageOffset,Ft.target||qe);if(!Hi||fc()&&!Ft.doNotReject||function an(Qe,fe){return Qe.classList?Qe.classList.contains(fe):new RegExp("\\b"+fe+"\\b").test(Qe.className)}(Ri,fe.cssClasses.tap)&&!Ft.doNotReject||Pe===bi.start&&void 0!==Hi.buttons&&Hi.buttons>1||Ft.hover&&Hi.buttons)return!1;At||Hi.preventDefault(),Hi.calcPoint=Hi.points[fe.ort],dt(Hi,Ft)},vi=[];return Pe.split(" ").forEach(function(hn){qe.addEventListener(hn,di,!!At&&{passive:!0}),vi.push([hn,di])}),vi}function qA(Pe){var dt=100*(Pe-function Wt(Qe,fe){var qt=Qe.getBoundingClientRect(),bi=Qe.ownerDocument,pi=bi.documentElement,At=Fr(bi);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(At.x=0),fe?qt.top+At.y-pi.clientTop:qt.left+At.x-pi.clientLeft}(we,fe.ort))/mc();return dt=kn(dt),fe.dir?100-dt:dt}function Wl(Pe,qe){"mouseout"===Pe.type&&"HTML"===Pe.target.nodeName&&null===Pe.relatedTarget&&Yi(Pe,qe)}function $o(Pe,qe){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===Pe.buttons&&0!==qe.buttonsProperty)return Yi(Pe,qe);var dt=(fe.dir?-1:1)*(Pe.calcPoint-qe.startCalcPoint);xe(dt>0,100*dt/qe.baseSize,qe.locations,qe.handleNumbers,qe.connect)}function Yi(Pe,qe){qe.handle&&(sn(qe.handle,fe.cssClasses.active),Gl-=1),qe.listeners.forEach(function(dt){$r.removeEventListener(dt[0],dt[1])}),0===Gl&&(sn(Ri,fe.cssClasses.drag),gs(),Pe.cursor&&(bo.style.cursor="",bo.removeEventListener("selectstart",h))),fe.events.smoothSteps&&(qe.handleNumbers.forEach(function(dt){es(dt,$n[dt],!0,!0,!1,!1)}),qe.handleNumbers.forEach(function(dt){k("update",dt)})),qe.handleNumbers.forEach(function(dt){k("change",dt),k("set",dt),k("end",dt)})}function er(Pe,qe){if(!qe.handleNumbers.some(so)){var dt;1===qe.handleNumbers.length&&(Gl+=1,Si(dt=We[qe.handleNumbers[0]].children[0],fe.cssClasses.active)),Pe.stopPropagation();var di=[],vi=ao(bi.move,$r,$o,{target:Pe.target,handle:dt,connect:qe.connect,listeners:di,startCalcPoint:Pe.calcPoint,baseSize:mc(),pageOffset:Pe.pageOffset,handleNumbers:qe.handleNumbers,buttonsProperty:Pe.buttons,locations:$n.slice()}),hn=ao(bi.end,$r,Yi,{target:Pe.target,handle:dt,listeners:di,doNotReject:!0,handleNumbers:qe.handleNumbers}),Hi=ao("mouseout",$r,Wl,{target:Pe.target,handle:dt,listeners:di,doNotReject:!0,handleNumbers:qe.handleNumbers});di.push.apply(di,vi.concat(hn,Hi)),Pe.cursor&&(bo.style.cursor=getComputedStyle(Pe.target).cursor,We.length>1&&Si(Ri,fe.cssClasses.drag),bo.addEventListener("selectstart",h,!1)),qe.handleNumbers.forEach(function(kr){k("start",kr)})}}function Dl(Pe){Pe.stopPropagation();var qe=qA(Pe.calcPoint),dt=function Yl(Pe){var qe=100,dt=!1;return We.forEach(function(Ft,di){if(!so(di)){var vi=$n[di],hn=Math.abs(vi-Pe);(hn<qe||hn<=qe&&Pe>vi||100===hn&&100===qe)&&(dt=di,qe=hn)}}),dt}(qe);!1!==dt&&(fe.events.snap||qi(Ri,fe.cssClasses.tap,fe.animationDuration),es(dt,qe,!0,!0),gs(),k("slide",dt,!0),k("update",dt,!0),fe.events.snap?er(Pe,{handleNumbers:[dt]}):(k("change",dt,!0),k("set",dt,!0)))}function td(Pe){var qe=qA(Pe.calcPoint),dt=fn.getStep(qe),Ft=fn.fromStepping(dt);Object.keys(yn).forEach(function(di){"hover"===di.split(".")[0]&&yn[di].forEach(function(vi){vi.call(_c,Ft)})})}function Dn(Pe,qe){yn[Pe]=yn[Pe]||[],yn[Pe].push(qe),"update"===Pe.split(".")[0]&&We.forEach(function(dt,Ft){k("update",Ft)})}function ci(Pe){var qe=Pe&&Pe.split(".")[0],dt=qe?Pe.substring(qe.length):Pe;Object.keys(yn).forEach(function(Ft){var di=Ft.split(".")[0],vi=Ft.substring(di.length);qe&&qe!==di||dt&&dt!==vi||function Oe(Pe){return Pe===wr.aria||Pe===wr.tooltips}(vi)&&dt!==vi||delete yn[Ft]})}function k(Pe,qe,dt){Object.keys(yn).forEach(function(Ft){var di=Ft.split(".")[0];Pe===di&&yn[Ft].forEach(function(vi){vi.call(_c,as.map(fe.format.to),qe,as.slice(),dt||!1,$n.slice(),_c)})})}function ae(Pe,qe,dt,Ft,di,vi,hn){var Hi;return We.length>1&&!fe.events.unconstrained&&(Ft&&qe>0&&(Hi=fn.getAbsoluteDistance(Pe[qe-1],fe.margin,!1),dt=Math.max(dt,Hi)),di&&qe<We.length-1&&(Hi=fn.getAbsoluteDistance(Pe[qe+1],fe.margin,!0),dt=Math.min(dt,Hi))),We.length>1&&fe.limit&&(Ft&&qe>0&&(Hi=fn.getAbsoluteDistance(Pe[qe-1],fe.limit,!1),dt=Math.min(dt,Hi)),di&&qe<We.length-1&&(Hi=fn.getAbsoluteDistance(Pe[qe+1],fe.limit,!0),dt=Math.max(dt,Hi))),fe.padding&&(0===qe&&(Hi=fn.getAbsoluteDistance(0,fe.padding[0],!1),dt=Math.max(dt,Hi)),qe===We.length-1&&(Hi=fn.getAbsoluteDistance(100,fe.padding[1],!0),dt=Math.min(dt,Hi))),hn||(dt=fn.getStep(dt)),!((dt=kn(dt))===Pe[qe]&&!vi)&&dt}function X(Pe,qe){var dt=fe.ort;return(dt?qe:Pe)+", "+(dt?Pe:qe)}function xe(Pe,qe,dt,Ft,di){var vi=dt.slice(),hn=Ft[0],Hi=fe.events.smoothSteps,kr=[!Pe,Pe],yr=[Pe,!Pe];Ft=Ft.slice(),Pe&&Ft.reverse(),Ft.length>1?Ft.forEach(function(or,ir){var _s=ae(vi,or,vi[or]+qe,kr[ir],yr[ir],!1,Hi);!1===_s?qe=0:(qe=_s-vi[or],vi[or]=_s)}):kr=yr=[!0];var jr=!1;Ft.forEach(function(or,ir){jr=es(or,dt[or]+qe,kr[ir],yr[ir],!1,Hi)||jr}),jr&&(Ft.forEach(function(or){k("update",or),k("slide",or)}),null!=di&&k("drag",hn))}function tt(Pe,qe){return fe.dir?100-Pe-qe:Pe}function gs(){Bs.forEach(function(Pe){We[Pe].style.zIndex=String(3+(We.length+($n[Pe]>50?-1:1)*Pe))})}function es(Pe,qe,dt,Ft,di,vi){return di||(qe=ae($n,Pe,qe,dt,Ft,!1,vi)),!1!==qe&&(function Mi(Pe,qe){$n[Pe]=qe,as[Pe]=fn.fromStepping(qe);var Ft="translate("+X(tt(qe,0)-no+"%","0")+")";We[Pe].style[fe.transformRule]=Ft,Ra(Pe),Ra(Pe+1)}(Pe,qe),!0)}function Ra(Pe){if(Ge[Pe]){var qe=0,dt=100;0!==Pe&&(qe=$n[Pe-1]),Pe!==Ge.length-1&&(dt=$n[Pe]);var Ft=dt-qe,di="translate("+X(tt(qe,Ft)+"%","0")+")",vi="scale("+X(Ft/100,"1")+")";Ge[Pe].style[fe.transformRule]=di+" "+vi}}function va(Pe,qe){return null===Pe||!1===Pe||void 0===Pe||("number"==typeof Pe&&(Pe=String(Pe)),!1!==(Pe=fe.format.from(Pe))&&(Pe=fn.toStepping(Pe)),!1===Pe||isNaN(Pe))?$n[qe]:Pe}function el(Pe,qe,dt){var Ft=Et(Pe),di=void 0===$n[0];qe=void 0===qe||qe,fe.animate&&!di&&qi(Ri,fe.cssClasses.tap,fe.animationDuration),Bs.forEach(function(Hi){es(Hi,va(Ft[Hi],Hi),!0,!1,dt)});var vi=1===Bs.length?0:1;if(di&&fn.hasNoSize()&&(dt=!0,$n[0]=0,Bs.length>1)){var hn=100/(Bs.length-1);Bs.forEach(function(Hi){$n[Hi]=Hi*hn})}for(;vi<Bs.length;++vi)Bs.forEach(function(Hi){es(Hi,$n[Hi],!0,!0,dt)});gs(),Bs.forEach(function(Hi){k("update",Hi),null!==Ft[Hi]&&qe&&k("set",Hi)})}function gc(Pe){if(void 0===Pe&&(Pe=!1),Pe)return 1===as.length?as[0]:as.slice(0);var qe=as.map(fe.format.to);return 1===qe.length?qe[0]:qe}function jc(Pe){var qe=$n[Pe],dt=fn.getNearbySteps(qe),Ft=as[Pe],di=dt.thisStep.step,vi=null;if(fe.snap)return[Ft-dt.stepBefore.startValue||null,dt.stepAfter.startValue-Ft||null];!1!==di&&Ft+di>dt.stepAfter.startValue&&(di=dt.stepAfter.startValue-Ft),vi=Ft>dt.thisStep.startValue?dt.thisStep.step:!1!==dt.stepBefore.step&&Ft-dt.stepBefore.highestStep,100===qe?di=null:0===qe&&(vi=null);var hn=fn.countStepDecimals();return null!==di&&!1!==di&&(di=Number(di.toFixed(hn))),null!==vi&&!1!==vi&&(vi=Number(vi.toFixed(hn))),[vi,di]}!function Ua(){we=function Nn(Pe){return Si(Pe,fe.cssClasses.target),Si(Pe,0===fe.dir?fe.cssClasses.ltr:fe.cssClasses.rtl),Si(Pe,0===fe.ort?fe.cssClasses.horizontal:fe.cssClasses.vertical),Si(Pe,"rtl"===getComputedStyle(Pe).direction?fe.cssClasses.textDirectionRtl:fe.cssClasses.textDirectionLtr),ro(Pe,fe.cssClasses.base)}(Ri),function zc(Pe,qe){var dt=ro(qe,fe.cssClasses.connects);We=[],(Ge=[]).push(dc(dt,Pe[0]));for(var Ft=0;Ft<fe.handles;Ft++)We.push(bh(qe,Ft)),Bs[Ft]=Ft,Ge.push(dc(dt,Pe[Ft+1]))}(fe.connect,we),function Pa(Pe){Pe.fixed||We.forEach(function(qe,dt){ao(bi.start,qe.children[0],er,{handleNumbers:[dt]})}),Pe.tap&&ao(bi.start,we,Dl,{}),Pe.hover&&ao(bi.move,we,td,{hover:!0}),Pe.drag&&Ge.forEach(function(qe,dt){if(!1!==qe&&0!==dt&&dt!==Ge.length-1){var Ft=We[dt-1],di=We[dt],vi=[qe],hn=[Ft,di],Hi=[dt-1,dt];Si(qe,fe.cssClasses.draggable),Pe.fixed&&(vi.push(Ft.children[0]),vi.push(di.children[0])),Pe.dragAll&&(hn=We,Hi=Bs),vi.forEach(function(kr){ao(bi.start,kr,er,{handles:hn,handleNumbers:Hi,connect:qe})})}})}(fe.events),el(fe.start),fe.pips&&_a(fe.pips),fe.tooltips&&sA(),function La(){ci("update"+wr.aria),Dn("update"+wr.aria,function(Pe,qe,dt,Ft,di){Bs.forEach(function(vi){var hn=We[vi],Hi=ae($n,vi,0,!0,!0,!0),kr=ae($n,vi,100,!0,!0,!0),yr=di[vi],jr=String(fe.ariaFormat.to(dt[vi]));Hi=fn.fromStepping(Hi).toFixed(1),kr=fn.fromStepping(kr).toFixed(1),yr=fn.fromStepping(yr).toFixed(1),hn.children[0].setAttribute("aria-valuemin",Hi),hn.children[0].setAttribute("aria-valuemax",kr),hn.children[0].setAttribute("aria-valuenow",yr),hn.children[0].setAttribute("aria-valuetext",jr)})})}()}();var _c={destroy:function Sf(){for(ci(wr.aria),ci(wr.tooltips),Object.keys(fe.cssClasses).forEach(function(Pe){sn(Ri,fe.cssClasses[Pe])});Ri.firstChild;)Ri.removeChild(Ri.firstChild);delete Ri.noUiSlider},steps:function nd(){return Bs.map(jc)},on:Dn,off:ci,get:gc,set:el,setHandle:function $A(Pe,qe,dt,Ft){if(!((Pe=Number(Pe))>=0&&Pe<Bs.length))throw new Error("noUiSlider: invalid handle number, got: "+Pe);es(Pe,va(qe,Pe),!0,!0,Ft),k("update",Pe),dt&&k("set",Pe)},reset:function Sl(Pe){el(fe.start,Pe)},disable:function Mr(Pe){null!=Pe?(We[Pe].setAttribute("disabled",""),We[Pe].handle.removeAttribute("tabindex")):(Ri.setAttribute("disabled",""),We.forEach(function(qe){qe.handle.removeAttribute("tabindex")}))},enable:function ga(Pe){null!=Pe?(We[Pe].removeAttribute("disabled"),We[Pe].handle.setAttribute("tabindex","0")):(Ri.removeAttribute("disabled"),We.forEach(function(qe){qe.removeAttribute("disabled"),qe.handle.setAttribute("tabindex","0")}))},__moveHandles:function(Pe,qe,dt){xe(Pe,qe,$n,dt)},options:qt,updateOptions:function tl(Pe,qe){var dt=gc(),Ft=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];Ft.forEach(function(vi){void 0!==Pe[vi]&&(qt[vi]=Pe[vi])});var di=zr(qt);Ft.forEach(function(vi){void 0!==Pe[vi]&&(fe[vi]=di[vi])}),fn=di.spectrum,fe.margin=di.margin,fe.limit=di.limit,fe.padding=di.padding,fe.pips?_a(fe.pips):No(),fe.tooltips?sA():pc(),$n=[],el(jt(Pe.start)?Pe.start:dt,qe)},target:Ri,removePips:No,removeTooltips:pc,getPositions:function(){return $n.slice()},getTooltips:function(){return wi},getOrigins:function(){return We},pips:_a};return _c}function io(Qe,fe){if(!Qe||!Qe.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+Qe);if(Qe.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var bi=Qs(Qe,zr(fe),fe);return Qe.noUiSlider=bi,bi}var Tl={__spectrum:li,cssClasses:nn,create:io};ge.create=io,ge.cssClasses=nn,ge.default=Tl,Object.defineProperty(ge,"__esModule",{value:!0})}(_i)},2571:ti=>{window,ti.exports=function(_i){var ge={};function R(G){if(ge[G])return ge[G].exports;var Dt=ge[G]={i:G,l:!1,exports:{}};return _i[G].call(Dt.exports,Dt,Dt.exports,R),Dt.l=!0,Dt.exports}return R.m=_i,R.c=ge,R.d=function(G,Dt,jt){R.o(G,Dt)||Object.defineProperty(G,Dt,{enumerable:!0,get:jt})},R.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},R.t=function(G,Dt){if(1&Dt&&(G=R(G)),8&Dt||4&Dt&&"object"==typeof G&&G&&G.__esModule)return G;var jt=Object.create(null);if(R.r(jt),Object.defineProperty(jt,"default",{enumerable:!0,value:G}),2&Dt&&"string"!=typeof G)for(var h in G)R.d(jt,h,function(Qt){return G[Qt]}.bind(null,h));return jt},R.n=function(G){var Dt=G&&G.__esModule?function(){return G.default}:function(){return G};return R.d(Dt,"a",Dt),Dt},R.o=function(G,Dt){return Object.prototype.hasOwnProperty.call(G,Dt)},R.p="",R(R.s=0)}({"./src/index.js":
/*!**********************!*\
                !*** ./src/index.js ***!
                \**********************/
/*! exports provided: default */function(_i,ge,R){"use strict";R.r(ge),R(
/*! ./sass/index.scss */
"./src/sass/index.scss");var h=R(
/*! ./js/init */
"./src/js/init.js").default.init;typeof window<"u"&&(window.printJS=h),ge.default=h},"./src/js/browser.js":
/*!***************************!*\
                !*** ./src/js/browser.js ***!
                \***************************/
/*! exports provided: default */function(_i,ge,R){"use strict";R.r(ge);var G={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!G.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};ge.default=G},"./src/js/functions.js":
/*!*****************************!*\
                !*** ./src/js/functions.js ***!
                \*****************************/
/*! exports provided: addWrapper, capitalizePrint, collectStyles, addHeader, cleanUp, isRawHTML */function(_i,ge,R){"use strict";R.r(ge),R.d(ge,"addWrapper",function(){return h}),R.d(ge,"capitalizePrint",function(){return Qt}),R.d(ge,"collectStyles",function(){return Bi}),R.d(ge,"addHeader",function(){return _t}),R.d(ge,"cleanUp",function(){return qi}),R.d(ge,"isRawHTML",function(){return kn});var G=R(
/*! ./modal */
"./src/js/modal.js"),Dt=R(
/*! ./browser */
"./src/js/browser.js");function jt(Et){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Si){return typeof Si}:function(Si){return Si&&"function"==typeof Symbol&&Si.constructor===Symbol&&Si!==Symbol.prototype?"symbol":typeof Si})(Et)}function h(Et,Lt){return'<div style="font-family:'+Lt.font+" !important; font-size: "+Lt.font_size+' !important; width:100%;">'+Et+"</div>"}function Qt(Et){return Et.charAt(0).toUpperCase()+Et.slice(1)}function Bi(Et,Lt){for(var sn="",an=(document.defaultView||window).getComputedStyle(Et,""),Fr=0;Fr<an.length;Fr++)(-1!==Lt.targetStyles.indexOf("*")||-1!==Lt.targetStyle.indexOf(an[Fr])||Wt(Lt.targetStyles,an[Fr]))&&an.getPropertyValue(an[Fr])&&(sn+=an[Fr]+":"+an.getPropertyValue(an[Fr])+";");return sn+"max-width: "+Lt.maxWidth+"px !important; font-size: "+Lt.font_size+" !important;"}function Wt(Et,Lt){for(var Si=0;Si<Et.length;Si++)if("object"===jt(Lt)&&-1!==Lt.indexOf(Et[Si]))return!0;return!1}function _t(Et,Lt){var Si=document.createElement("div");if(kn(Lt.header))Si.innerHTML=Lt.header;else{var sn=document.createElement("h1"),an=document.createTextNode(Lt.header);sn.appendChild(an),sn.setAttribute("style",Lt.headerStyle),Si.appendChild(sn)}Et.insertBefore(Si,Et.childNodes[0])}function qi(Et){Et.showModal&&G.default.close(),Et.onLoadingEnd&&Et.onLoadingEnd(),(Et.showModal||Et.onLoadingStart)&&window.URL.revokeObjectURL(Et.printable);var Lt="mouseover";(Dt.default.isChrome()||Dt.default.isFirefox())&&(Lt="focus");window.addEventListener(Lt,function sn(){window.removeEventListener(Lt,sn),Et.onPrintDialogClose();var an=document.getElementById(Et.frameId);an&&an.remove()})}function kn(Et){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(Et)}},"./src/js/html.js":
/*!************************!*\
                !*** ./src/js/html.js ***!
                \************************/
/*! exports provided: default */function(_i,ge,R){"use strict";R.r(ge);var G=R(
/*! ./functions */
"./src/js/functions.js"),Dt=R(
/*! ./print */
"./src/js/print.js");function jt(Bi){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_t){return typeof _t}:function(_t){return _t&&"function"==typeof Symbol&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t})(Bi)}function h(Bi,Wt){for(var _t=Bi.cloneNode(),qi=Array.prototype.slice.call(Bi.childNodes),kn=0;kn<qi.length;kn++)if(-1===Wt.ignoreElements.indexOf(qi[kn].id)){var Et=h(qi[kn],Wt);_t.appendChild(Et)}switch(Wt.scanStyles&&1===Bi.nodeType&&_t.setAttribute("style",Object(G.collectStyles)(Bi,Wt)),Bi.tagName){case"SELECT":_t.value=Bi.value;break;case"CANVAS":_t.getContext("2d").drawImage(Bi,0,0)}return _t}ge.default={print:function(Wt,_t){var qi=function Qt(Bi){return"object"===jt(Bi)&&Bi&&(Bi instanceof HTMLElement||1===Bi.nodeType)}(Wt.printable)?Wt.printable:document.getElementById(Wt.printable);qi?(Wt.printableElement=h(qi,Wt),Wt.header&&Object(G.addHeader)(Wt.printableElement,Wt),Dt.default.send(Wt,_t)):window.console.error("Invalid HTML element id: "+Wt.printable)}}},"./src/js/image.js":
/*!*************************!*\
                !*** ./src/js/image.js ***!
                \*************************/
/*! exports provided: default */function(_i,ge,R){"use strict";R.r(ge);var G=R(
/*! ./functions */
"./src/js/functions.js"),Dt=R(
/*! ./print */
"./src/js/print.js"),jt=R(
/*! ./browser */
"./src/js/browser.js");ge.default={print:function(Qt,Bi){Qt.printable.constructor!==Array&&(Qt.printable=[Qt.printable]),Qt.printableElement=document.createElement("div"),Qt.printable.forEach(function(Wt){var _t=document.createElement("img");_t.setAttribute("style",Qt.imageStyle),_t.src=Wt,jt.default.isFirefox()&&(_t.src=_t.src);var kn=document.createElement("div");kn.appendChild(_t),Qt.printableElement.appendChild(kn)}),Qt.header&&Object(G.addHeader)(Qt.printableElement,Qt),Dt.default.send(Qt,Bi)}}},"./src/js/init.js":
/*!************************!*\
                !*** ./src/js/init.js ***!
                \************************/
/*! exports provided: default */function(_i,ge,R){"use strict";R.r(ge);var G=R(
/*! ./browser */
"./src/js/browser.js"),Dt=R(
/*! ./modal */
"./src/js/modal.js"),jt=R(
/*! ./pdf */
"./src/js/pdf.js"),h=R(
/*! ./html */
"./src/js/html.js"),Qt=R(
/*! ./raw-html */
"./src/js/raw-html.js"),Bi=R(
/*! ./image */
"./src/js/image.js"),Wt=R(
/*! ./json */
"./src/js/json.js");function _t(kn){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Lt){return typeof Lt}:function(Lt){return Lt&&"function"==typeof Symbol&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt})(kn)}var qi=["pdf","html","image","json","raw-html"];ge.default={init:function(){var Et={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(Jn){throw Jn},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},Lt=arguments[0];if(void 0===Lt)throw new Error("printJS expects at least 1 attribute.");switch(_t(Lt)){case"string":Et.printable=encodeURI(Lt),Et.fallbackPrintable=Et.printable,Et.type=arguments[1]||Et.type;break;case"object":for(var Si in Et.printable=Lt.printable,Et.fallbackPrintable=typeof Lt.fallbackPrintable<"u"?Lt.fallbackPrintable:Et.printable,Et.fallbackPrintable=Et.base64?"data:application/pdf;base64,".concat(Et.fallbackPrintable):Et.fallbackPrintable,Et)"printable"===Si||"fallbackPrintable"===Si||(Et[Si]=typeof Lt[Si]<"u"?Lt[Si]:Et[Si]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+_t(Lt))}if(!Et.printable)throw new Error("Missing printable information.");if(!Et.type||"string"!=typeof Et.type||-1===qi.indexOf(Et.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");Et.showModal&&Dt.default.show(Et),Et.onLoadingStart&&Et.onLoadingStart();var sn=document.getElementById(Et.frameId);sn&&sn.parentNode.removeChild(sn);var an=document.createElement("iframe");switch(G.default.isFirefox()?an.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):an.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),an.setAttribute("id",Et.frameId),"pdf"!==Et.type&&(an.srcdoc="<html><head><title>"+Et.documentTitle+"</title>",Et.css&&(Array.isArray(Et.css)||(Et.css=[Et.css]),Et.css.forEach(function(Ys){an.srcdoc+='<link rel="stylesheet" href="'+Ys+'">'})),an.srcdoc+="</head><body></body></html>"),Et.type){case"pdf":if(G.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer."),window.open(Et.fallbackPrintable,"_blank").focus(),Et.onIncompatibleBrowser()}catch(Ys){Et.onError(Ys)}finally{Et.showModal&&Dt.default.close(),Et.onLoadingEnd&&Et.onLoadingEnd()}else jt.default.print(Et,an);break;case"image":Bi.default.print(Et,an);break;case"html":h.default.print(Et,an);break;case"raw-html":Qt.default.print(Et,an);break;case"json":Wt.default.print(Et,an)}}}},"./src/js/json.js":
/*!************************!*\
                !*** ./src/js/json.js ***!
                \************************/
/*! exports provided: default */function(_i,ge,R){"use strict";R.r(ge);var G=R(
/*! ./functions */
"./src/js/functions.js"),Dt=R(
/*! ./print */
"./src/js/print.js");function jt(Qt){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Wt){return typeof Wt}:function(Wt){return Wt&&"function"==typeof Symbol&&Wt.constructor===Symbol&&Wt!==Symbol.prototype?"symbol":typeof Wt})(Qt)}ge.default={print:function(Bi,Wt){if("object"!==jt(Bi.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof Bi.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!Bi.properties||!Array.isArray(Bi.properties))throw new Error("Invalid properties array for your JSON data.");Bi.properties=Bi.properties.map(function(_t){return{field:"object"===jt(_t)?_t.field:_t,displayName:"object"===jt(_t)?_t.displayName:_t,columnSize:"object"===jt(_t)&&_t.columnSize?_t.columnSize+";":100/Bi.properties.length+"%;"}}),Bi.printableElement=document.createElement("div"),Bi.header&&Object(G.addHeader)(Bi.printableElement,Bi),Bi.printableElement.innerHTML+=function h(Qt){var Bi=Qt.printable,Wt=Qt.properties,_t='<table style="border-collapse: collapse; width: 100%;">';Qt.repeatTableHeader&&(_t+="<thead>"),_t+="<tr>";for(var qi=0;qi<Wt.length;qi++)_t+='<th style="width:'+Wt[qi].columnSize+";"+Qt.gridHeaderStyle+'">'+Object(G.capitalizePrint)(Wt[qi].displayName)+"</th>";_t+="</tr>",Qt.repeatTableHeader&&(_t+="</thead>"),_t+="<tbody>";for(var kn=0;kn<Bi.length;kn++){_t+="<tr>";for(var Et=0;Et<Wt.length;Et++){var Lt=Bi[kn],Si=Wt[Et].field.split(".");if(Si.length>1)for(var sn=0;sn<Si.length;sn++)Lt=Lt[Si[sn]];else Lt=Lt[Wt[Et].field];_t+='<td style="width:'+Wt[Et].columnSize+Qt.gridStyle+'">'+Lt+"</td>"}_t+="</tr>"}return _t+"</tbody></table>"}(Bi),Dt.default.send(Bi,Wt)}}},"./src/js/modal.js":
/*!*************************!*\
                !*** ./src/js/modal.js ***!
                \*************************/
/*! exports provided: default */function(_i,ge,R){"use strict";R.r(ge);var G={show:function(jt){var Qt=document.createElement("div");Qt.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),Qt.setAttribute("id","printJS-Modal");var Bi=document.createElement("div");Bi.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var Wt=document.createElement("div");Wt.setAttribute("class","printClose"),Wt.setAttribute("id","printClose"),Bi.appendChild(Wt);var _t=document.createElement("span");_t.setAttribute("class","printSpinner"),Bi.appendChild(_t);var qi=document.createTextNode(jt.modalMessage);Bi.appendChild(qi),Qt.appendChild(Bi),document.getElementsByTagName("body")[0].appendChild(Qt),document.getElementById("printClose").addEventListener("click",function(){G.close()})},close:function(){var jt=document.getElementById("printJS-Modal");jt&&jt.parentNode.removeChild(jt)}};ge.default=G},"./src/js/pdf.js":
/*!***********************!*\
                !*** ./src/js/pdf.js ***!
                \***********************/
/*! exports provided: default */function(_i,ge,R){"use strict";R.r(ge);var G=R(
/*! ./print */
"./src/js/print.js"),Dt=R(
/*! ./functions */
"./src/js/functions.js");function jt(h,Qt,Bi){var Wt=new window.Blob([Bi],{type:"application/pdf"});Wt=window.URL.createObjectURL(Wt),Qt.setAttribute("src",Wt),G.default.send(h,Qt)}ge.default={print:function(Qt,Bi){if(Qt.base64){var Wt=Uint8Array.from(atob(Qt.printable),function(qi){return qi.charCodeAt(0)});jt(Qt,Bi,Wt)}else{Qt.printable=/^(blob|http|\/\/)/i.test(Qt.printable)?Qt.printable:window.location.origin+("/"!==Qt.printable.charAt(0)?"/"+Qt.printable:Qt.printable);var _t=new window.XMLHttpRequest;_t.responseType="arraybuffer",_t.addEventListener("error",function(){Object(Dt.cleanUp)(Qt),Qt.onError(_t.statusText,_t)}),_t.addEventListener("load",function(){if(-1===[200,201].indexOf(_t.status))return Object(Dt.cleanUp)(Qt),void Qt.onError(_t.statusText,_t);jt(Qt,Bi,_t.response)}),_t.open("GET",Qt.printable,!0),_t.send()}}}},"./src/js/print.js":
/*!*************************!*\
                !*** ./src/js/print.js ***!
                \*************************/
/*! exports provided: default */function(_i,ge,R){"use strict";R.r(ge);var G=R(
/*! ./browser */
"./src/js/browser.js"),Dt=R(
/*! ./functions */
"./src/js/functions.js");function h(Wt,_t){try{if(Wt.focus(),G.default.isEdge()||G.default.isIE())try{Wt.contentWindow.document.execCommand("print",!1,null)}catch{Wt.contentWindow.print()}else Wt.contentWindow.print()}catch(qi){_t.onError(qi)}finally{G.default.isFirefox()&&(Wt.style.visibility="hidden",Wt.style.left="-1px"),Object(Dt.cleanUp)(_t)}}function Qt(Wt){var _t=Wt.map(function(qi){if(qi.src&&qi.src!==window.location.href)return function Bi(Wt){return new Promise(function(_t){!function kn(){!Wt||typeof Wt.naturalWidth>"u"||0===Wt.naturalWidth||!Wt.complete?setTimeout(kn,500):_t()}()})}(qi)});return Promise.all(_t)}ge.default={send:function(_t,qi){document.getElementsByTagName("body")[0].appendChild(qi);var kn=document.getElementById(_t.frameId);kn.onload=function(){if("pdf"!==_t.type){var Et=kn.contentWindow||kn.contentDocument;if(Et.document&&(Et=Et.document),Et.body.appendChild(_t.printableElement),"pdf"!==_t.type&&_t.style){var Lt=document.createElement("style");Lt.innerHTML=_t.style,Et.head.appendChild(Lt)}var Si=Et.getElementsByTagName("img");Si.length>0?Qt(Array.from(Si)).then(function(){return h(kn,_t)}):h(kn,_t)}else G.default.isFirefox()?setTimeout(function(){return h(kn,_t)},1e3):h(kn,_t)}}}},"./src/js/raw-html.js":
/*!****************************!*\
                !*** ./src/js/raw-html.js ***!
                \****************************/
/*! exports provided: default */function(_i,ge,R){"use strict";R.r(ge);var G=R(
/*! ./print */
"./src/js/print.js");ge.default={print:function(jt,h){jt.printableElement=document.createElement("div"),jt.printableElement.setAttribute("style","width:100%"),jt.printableElement.innerHTML=jt.printable,G.default.send(jt,h)}}},"./src/sass/index.scss":
/*!*****************************!*\
                !*** ./src/sass/index.scss ***!
                \*****************************/
/*! no static exports found */function(_i,ge,R){},0:
/*!****************************!*\
                !*** multi ./src/index.js ***!
                \****************************/
/*! no static exports found */function(_i,ge,R){_i.exports=R(
/*! ./src/index.js */
"./src/index.js")}}).default},5768:(ti,_i,ge)=>{"use strict";ge.r(_i),ge.d(_i,{SkeletonModule:()=>f7});var R={};ge.r(R),ge.d(R,{Decoder:()=>sC,Encoder:()=>ER,PacketType:()=>Br,protocol:()=>CR});var G=ge(6733),Dt=ge(3226),jt=ge(5323),h=ge(755),Qt=ge(4220);let Lt=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[Qt.BQ,Qt.BQ]})}return r})();var Si=ge(3753);ge(2405);let pa=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[G.ez,Qt.BQ,Si.ZD,Si.ZD,Qt.BQ]})}return r})();var ms=ge(393),Rs=ge(5863),rs=ge(9984),br=ge(2561),vo=(ge(8491),ge(902),ge(5047)),Yn=ge(8748),Us=ge(6124);let Ws=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,br.Ig)(t)}get inset(){return this._inset}set inset(t){this._inset=(0,br.Ig)(t)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,n){2&i&&(h.uIk("aria-orientation",n.vertical?"vertical":"horizontal"),h.ekj("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,n){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return r})(),rn=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[Qt.BQ,Qt.BQ]})}return r})();ge(7583);var st=ge(5981),Rt=(ge(5262),ge(1749));let No=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[Us.Q8,G.ez,Qt.BQ,Qt.si,Qt.us,rn]})}return r})();var _a=ge(6424);const mc=JSON.parse('{"language":"english","short":"en","direction":"ltr","preferred-font":"Roboto, sans-serif","home":"Home","page-one":"Page One","page-two":"Page Two","sub-one":"Sub One","sub-two":"Sub Two","sub-three":"Sub Three","sub-four":"Sub Four"}'),ao=JSON.parse('{"language":"farsi","short":"fa","direction":"rtl","preferred-font":"irsans, tahoma, sans-serif","home":"\u062e\u0627\u0646\u0647","page-one":"\u0635\u0641\u062d\u0647 \u0627\u0648\u0644","page-two":"\u0635\u0641\u062d\u0647 \u062f\u0648\u0645","sub-one":"\u0632\u06cc\u0631\u0645\u062c\u0645\u0648\u0639\u0647 \u0627\u0648\u0644","sub-two":"\u0632\u06cc\u0631\u0645\u062c\u0645\u0648\u0639\u0647 \u062f\u0648\u0645","sub-three":"\u0632\u06cc\u0631\u0645\u062c\u0645\u0648\u0639\u0647 \u0633\u0648\u0645","sub-four":"\u0632\u06cc\u0631\u0645\u062c\u0645\u0648\u0639\u0647 \u0686\u0647\u0627\u0631\u0645","Activity":"\u0641\u0639\u0627\u0644\u06cc\u062a \u0647\u0627","Settings":"\u062a\u0646\u0638\u06cc\u0645\u0627\u062a"}'),aA=JSON.parse('{"name":"light","toolbars_bg":"#f6f6f6","toolbars_text":"#747373","sidebars_bg":"#f6f6f6","sidebars_text":"#747373","dashboard_bg":"#ffffff","dashboard_text":"#1526cc","cards_bg":"#f6f6f6","cards_text":"#000000","menu_hover_bg":"#f6f6f6","menu_hover_text":"#000000"}'),qA=JSON.parse('{"name":"dark","toolbars_bg":"#212123","toolbars_text":"#ffffff","sidebars_bg":"#212123","sidebars_text":"#ffffff","dashboard_bg":"#999","dashboard_text":"#999","cards_bg":"#212123","cards_text":"#ffffff","menu_hover_bg":"#ffffff","menu_hover_text":"#000000"}');var Yl=ge(3232);let Wl=(()=>{class r{constructor(t){this.titleService=t,this.menuType=new _a.X(localStorage.getItem("menuType")??"full"),this.menuShow=new _a.X(!0),this.notificationsCount=new _a.X(0),this.language=localStorage.getItem("language")??"english",this.language_data={},this.theme=localStorage.getItem("theme")??"light",this.themeColors_custom=JSON.parse(JSON.stringify(aA)),this.themeActiveColors=JSON.parse(JSON.stringify(aA)),this.loadLanguageData(this.language),null!=localStorage.getItem("themeColors_custom")&&(this.themeColors_custom=JSON.parse(localStorage.getItem("themeColors_custom")??"")),"dark"===this.theme?this.themeActiveColors=JSON.parse(JSON.stringify(qA)):"custom"===this.theme&&(this.themeActiveColors=JSON.parse(JSON.stringify(this.themeColors_custom))),this.setThemeColors()}getNotifications(){this.notificationsCount.next(15)}loadLanguageData(t){"english"===t&&(this.language_data=mc),"farsi"===t&&(this.language_data=ao)}translate(t,i){return"english"===i?mc[t]??t:"farsi"===i?ao[t]??t:void 0}setThemeColors(){let t="\n\t\t<style>\n\t\t\t.toolbars-bg { background-color: toolbars_bg; }\n\t\t\t.toolbars-text { color: toolbars_text; }\n\t\t\t.sidebars-bg { background-color: sidebars_bg; }\n\t\t\t.sidebars-text { color: sidebars_text; }\n\t\t\t.dashboard-bg { background-color: dashboard_bg; }\n\t\t\t.dashboard-text { color: dashboard_text; }\n\t\t\t.cards-bg { background-color: cards_bg; }\n\t\t\t.cards-text { color: cards_text; }\n\t\t\t.menu-hover:hover { background-color: menu_hover_bg; color: menu_hover_text }\n\t\t</style>\n\t\t";Object.keys(this.themeActiveColors).forEach(n=>{t=t.replace(n,this.themeActiveColors[n])}),$("head").append(t)}set_pageTitle(t){this.titleService.setTitle(t)}getRouteParams(){let t=window.location.pathname.split("/"),i=[],n="";return t.forEach((s,a)=>{s.length>0&&(n=n+"/"+s,i.push({param:s,link:n,label:this.translate(s,this.language)}))}),i}static#e=this.\u0275fac=function(i){return new(i||r)(h.LFG(Yl.Dx))};static#t=this.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var $o=ge(2932),Yi=ge(4185),er=ge(5301),Dl=ge(1603),td=ge(5110),xh=ge(6282),Pa=ge(4787),Dn=ge(2425),Oe=ge(1813),ci=ge(1570),k=ge(1301),ae=ge(5644),xe=(ge(1070),ge(1209));ge(5667);class Mi{constructor(){this.expansionModel=new st.Ov(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(i=>this._trackByValue(i)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(i=>this._trackByValue(i)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}}class gs extends Mi{constructor(e,t,i){super(),this.getLevel=e,this.isExpandable=t,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){const i=[];for(let n=this.dataNodes.indexOf(e)+1;n<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[n]);n++)i.push(this.dataNodes[n]);return i}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}}let hn=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({})}return r})(),Os=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[hn,Qt.BQ,Qt.BQ]})}return r})();class eu{constructor(e,t,i,n){this.transformFunction=e,this.getLevel=t,this.isExpandable=i,this.getChildren=n}_flattenNode(e,t,i,n){const s=this.transformFunction(e,t);if(i.push(s),this.isExpandable(s)){const a=this.getChildren(e);a&&(Array.isArray(a)?this._flattenChildren(a,t,i,n):a.pipe((0,Oe.q)(1)).subscribe(o=>{this._flattenChildren(o,t,i,n)}))}return i}_flattenChildren(e,t,i,n){e.forEach((s,a)=>{let o=n.slice();o.push(a!=e.length-1),this._flattenNode(s,t+1,i,o)})}flattenNodes(e){let t=[];return e.forEach(i=>this._flattenNode(i,0,t,[])),t}expandFlattenedNodes(e,t){let i=[],n=[];return n[0]=!0,e.forEach(s=>{let a=!0;for(let o=0;o<=this.getLevel(s);o++)a=a&&n[o];a&&i.push(s),this.isExpandable(s)&&(n[this.getLevel(s)+1]=t.isExpanded(s))}),i}}class oA extends st.o2{get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(e,t,i){super(),this._treeControl=e,this._treeFlattener=t,this._flattenedData=new _a.X([]),this._expandedData=new _a.X([]),this._data=new _a.X([]),i&&(this.data=i)}connect(e){return(0,vo.T)(e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,Dn.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var oo=ge(8089);function iu(r,e){1&r&&h.GkF(0)}const rd=function(r){return{node:r}};function Ns(r,e){if(1&r&&(h.ynx(0),h.YNc(1,iu,1,0,"ng-container",8),h.BQk()),2&r){const t=e.$implicit;h.oxw(2);const i=h.MAs(7);h.xp6(1),h.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",h.VKq(2,rd,t))}}function l0(r,e){if(1&r&&(h.TgZ(0,"div",6),h.YNc(1,Ns,2,4,"ng-container",7),h.qZA()),2&r){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.menuItems)}}function Cs(r,e){1&r&&h._UZ(0,"mat-divider",13)}function pm(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"button",18),h.NdJ("click",function(){h.CHM(t);const n=h.oxw(2).node,s=h.oxw();return h.KtG(s.toggleSubMenu(n))}),h.TgZ(1,"mat-icon",19),h._uU(2),h.qZA()()}if(2&r){const t=h.oxw(2).node;h.xp6(2),h.hij(" ",t.isOpen?"expand_more":"chevron_right"," ")}}function lA(r,e){if(1&r&&(h.TgZ(0,"mat-icon",20),h._uU(1),h.qZA()),2&r){const t=h.oxw(2).node;h.xp6(1),h.hij(" ",t.icon," ")}}function cA(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",14),h.YNc(1,pm,3,1,"button",15),h.YNc(2,lA,2,1,"mat-icon",16),h.TgZ(3,"span",17),h.NdJ("click",function(){h.CHM(t);const n=h.oxw().node,s=h.oxw();return h.KtG(s.toggleSubMenu(n))}),h._uU(4),h.qZA()()}if(2&r){const t=h.oxw().node;h.xp6(1),h.Q6J("ngIf",t.sub&&t.sub.length>0),h.xp6(1),h.Q6J("ngIf",t.icon),h.xp6(1),h.ekj("active-node",t.isActive),h.xp6(1),h.hij(" ",t.label," ")}}function hA(r,e){1&r&&h.GkF(0)}function nu(r,e){if(1&r&&(h.ynx(0),h.YNc(1,hA,1,0,"ng-container",8),h.BQk()),2&r){const t=e.$implicit;h.oxw(3);const i=h.MAs(7);h.xp6(1),h.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",h.VKq(2,rd,t))}}function ru(r,e){if(1&r&&(h.TgZ(0,"div",21),h.YNc(1,nu,2,4,"ng-container",7),h.qZA()),2&r){const t=h.oxw().node;h.xp6(1),h.Q6J("ngForOf",t.sub)}}function mm(r,e){if(1&r&&(h.TgZ(0,"div",9),h.YNc(1,Cs,1,0,"mat-divider",10),h.YNc(2,cA,5,5,"div",11),h.YNc(3,ru,2,1,"div",12),h.qZA()),2&r){const t=e.node;h.Udp("padding-left",t.sub&&t.sub.length>0?"0":t.left?t.left+"px":"3px"),h.xp6(1),h.Q6J("ngIf","divider"===t.id),h.xp6(1),h.Q6J("ngIf","divider"!==t.id),h.xp6(1),h.Q6J("ngIf",t.sub&&t.isOpen)}}const If=function(r,e){return{backgroundColor:r,color:e}};let vc=(()=>{class r{constructor(t,i,n,s){this.panelService=t,this.store=i,this.sharedStore=n,this.transmit=s,this.menuType="full",this.version=oo.N.VERSION,this.routeParams=[],this._transformer=(a,o)=>({expandable:!!a.sub&&a.sub.length>0,detail:a,level:o}),this.treeControl=new gs(a=>a.level,a=>a.expandable),this.treeFlattener=new eu(this._transformer,a=>a.level,a=>a.expandable,a=>a.sub),this.dataSource=new oA(this.treeControl,this.treeFlattener),this.menuItems=[],this.hasChild=(a,o)=>o.expandable}ngOnInit(){this.store.select(Yi.r7).subscribe(t=>{this.transmit.emit("menu-item-clicked",void 0),this.menuItems=JSON.parse(JSON.stringify(t??[])),this.menuItems&&this.menuItems.length>0&&setTimeout(()=>{this.autoSelectFirstDashboard(this.menuItems[0])},300),this.menuItems.push({id:"user",left:10,label:"Users",sub:[]}),this.menuItems.push({id:"certificate",left:10,label:"Certificate",type:"certificate"}),this.menuItems.push({id:"trend",left:10,label:"Trend",type:"trend"}),this.menuItems.push({id:"settings",left:10,label:"Setting",sub:[]}),this.menuItems.push({id:"support",left:10,label:"Support",sub:[]}),this.menuItems.push({id:"ticket",type:"ticket",left:10,label:"Task",sub:[]})}),this.panelService.menuType.subscribe(t=>{this.menuType=t})}ngAfterViewInit(){"compact"===this.menuType&&this.controlCompactMenu()}controlCompactMenu(){this.closeCompactMenu(),$("#cmp-menu-side.menu-compact").mouseenter(()=>{this.openCompactMenu()}),$("#cmp-menu-side.menu-compact").mouseleave(()=>{this.closeCompactMenu()})}openCompactMenu(){$("#cmp-menu-side.menu-compact").velocity({width:"250px"},100,()=>{$("#cmp-menu-side.menu-compact").addClass("open"),$("#cmp-menu-side.menu-compact .item .label2 .title").show(0)})}closeCompactMenu(){$("#cmp-menu-side.menu-compact").velocity({width:"50px"},100,()=>{$("#cmp-menu-side.menu-compact").removeClass("open"),$("#cmp-menu-side.menu-compact .item .label2 .title").hide(0),$("#cmp-menu-side.menu-compact .item.open .sub").hide(0)})}autoSelectFirstDashboard(t){const i=t.sub&&t.sub.length>0;i||"dashboard"!==t.type&&"dataEntry"!==t.type&&"excel"!==t.type&&"report"!==t.type?i&&(t.isOpen=!0,this.autoSelectFirstDashboard(t.sub[0])):this.toggleSubMenu(t)}inactiveAllMenuItems(t){for(const i of t)i.isActive=!1,i.sub&&this.inactiveAllMenuItems(i.sub)}toggleSubMenu(t){if("mini"!==this.menuType){if(t.sub&&t.sub.length>0)return void(t.isOpen=!t.isOpen);this.inactiveAllMenuItems(this.menuItems),t.isActive=!0,this.transmit.emit("menu-item-clicked",t)}}openSubMenu(t){$("#"+t).addClass("open"),$("#"+t+" .sub").show(100)}closeSubMenu(t){$("#"+t).removeClass("open"),$("#"+t+" .sub").hide(100)}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(Wl),h.Y36(er.yh),h.Y36(er.yh),h.Y36(Dl.U))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-menu-side"]],inputs:{skeletonConfig:"skeletonConfig"},decls:8,vars:10,consts:[["id","cmp-menu-side",3,"ngStyle"],[1,"logo"],["src","./assets/logo.svg","alt",""],[1,"version"],["class","node-list",4,"ngIf"],["treeNode",""],[1,"node-list"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node-item"],["style","margin: 5px 0",4,"ngIf"],["class","text",4,"ngIf"],["class","node-children",4,"ngIf"],[2,"margin","5px 0"],[1,"text"],["mat-icon-button","","class","expansion-icon",3,"click",4,"ngIf"],["style","overflow: unset !important;     margin-right: 5px;","class","",4,"ngIf"],[1,"pointer",3,"click"],["mat-icon-button","",1,"expansion-icon",3,"click"],[1,"mat-icon-rtl-mirror",2,"overflow","unset !important"],[1,"",2,"overflow","unset !important","margin-right","5px"],[1,"node-children"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"img",2),h.TgZ(3,"div",3),h._uU(4),h.qZA()(),h.YNc(5,l0,2,1,"div",4),h.qZA(),h.YNc(6,mm,4,5,"ng-template",null,5,h.W1O)),2&i&&(h.MT6("",n.panelService.language_data.direction," menu-",n.menuType," sidebars-bg sidebars-text"),h.Q6J("ngStyle",h.WLB(7,If,n.skeletonConfig.sidebarColor,n.skeletonConfig.sidebarTextColor)),h.xp6(4),h.hij("version ",n.version,""),h.xp6(1),h.Q6J("ngIf",n.menuItems&&n.menuItems.length>0))},dependencies:[G.sg,G.O5,G.tP,G.PC,ms.RK,rs.Hw,Ws],styles:["#cmp-menu-side{height:100vh;overflow-y:hidden;display:none}#cmp-menu-side .logo{padding:30px 15px;text-align:center;display:flex;flex-direction:column;align-items:center}#cmp-menu-side .logo img{width:80%}#cmp-menu-side .logo .version{font-size:.9em;margin-top:.5em}#cmp-menu-side .accordion-item-body ul{display:grid;padding:0;margin:0;gap:0;list-style:none}#cmp-menu-side .accordion-item-body ul li{display:grid;grid-template-columns:1fr 2fr;border:1px solid #aaaaaa;padding:.5rem}#cmp-menu-side .accordion-item-body ul li:not(:first-child){border-top:none}#cmp-menu-side .accordion-item-body ul li label{display:flex;align-items:center;justify-content:flex-start}#cmp-menu-side .accordion-item-body ul li img{width:40px;height:40px}#cmp-menu-side .items{max-height:80vh;overflow-y:auto;overflow-x:hidden}#cmp-menu-side.menu-full{display:block;width:200px}#cmp-menu-side.menu-full .items .item{display:flex;flex-wrap:wrap;align-items:center;margin-bottom:10px}#cmp-menu-side.menu-full .items .item .label2{display:flex;align-items:center;flex-grow:1;height:40px}#cmp-menu-side.menu-full .items .item .label2 .icon{margin:0 10px}#cmp-menu-side.menu-full .items .item .label2 .title{flex-grow:1;white-space:nowrap}#cmp-menu-side.menu-full .items .item .label2:hover{box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-full .items .item .label2.active{color:#000;background-color:#fff;box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-full .items .item .sub{width:100%;display:none}#cmp-menu-side.menu-full .items .item .sub .sub-item{display:flex;align-items:center;margin-bottom:5px;height:40px}#cmp-menu-side.menu-full .items .item .sub .sub-item .icon{margin:0 10px;height:20px}#cmp-menu-side.menu-full .items .item .sub .sub-item .icon *{font-size:20px}#cmp-menu-side.menu-full .items .item .sub .sub-item .title{font-size:13px;white-space:nowrap}#cmp-menu-side.menu-full .items .item .sub .sub-item:hover{background-color:#fff;box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-full .items .item .sub .sub-item.active{color:#000;background-color:#fff;box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-full .items .item.open .sub,#cmp-menu-side.menu-compact{display:block}#cmp-menu-side.menu-compact:not(.open) .logo{padding:15px 5px;text-align:center}#cmp-menu-side.menu-compact:not(.open) .logo img{width:100%}#cmp-menu-side.menu-compact .items .item{display:flex;flex-wrap:wrap;align-items:center;margin-bottom:10px}#cmp-menu-side.menu-compact .items .item .label2{display:flex;align-items:center;flex-grow:1;height:40px;border-left:4px solid transparent;border-right:4px solid transparent}#cmp-menu-side.menu-compact .items .item .label2 .icon{margin:0 10px;height:24px}#cmp-menu-side.menu-compact .items .item .label2 .title{flex-grow:1;white-space:nowrap;display:none}#cmp-menu-side.menu-compact .items .item .label2:hover{box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-compact .items .item .label2.active{color:#000;background-color:#fff;box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-compact .items .item .sub{width:100%;display:none}#cmp-menu-side.menu-compact .items .item .sub .sub-item{display:flex;align-items:center;margin-bottom:5px;height:40px}#cmp-menu-side.menu-compact .items .item .sub .sub-item .icon{margin:0 10px;height:20px}#cmp-menu-side.menu-compact .items .item .sub .sub-item .icon *{font-size:20px}#cmp-menu-side.menu-compact .items .item .sub .sub-item .title{font-size:13px;white-space:nowrap}#cmp-menu-side.menu-compact .items .item .sub .sub-item:hover{background-color:#fff;box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-compact .items .item .sub .sub-item.active,#cmp-menu-side.menu-compact .items .item.open .label2{color:#000;background-color:#fff;box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-compact .items .item.open .sub{display:block}#cmp-menu-side.menu-mini{display:block;height:95vh;width:auto;overflow:hidden}#cmp-menu-side.menu-mini .logo{padding:15px 0}#cmp-menu-side.menu-mini .logo img{width:auto;height:15px}#cmp-menu-side.menu-mini .items{overflow-y:auto;min-height:90vh}#cmp-menu-side.menu-mini .items .item{margin-bottom:10px;position:relative;display:block}#cmp-menu-side.menu-mini .items .item .label2{display:grid;grid-template-columns:2fr 10fr}#cmp-menu-side.menu-mini .items .item .label2 .icon{margin-bottom:5px;height:24px;width:100%;text-align:center}#cmp-menu-side.menu-mini .items .item .label2 .title{display:block;text-align:center;width:100%;white-space:nowrap}#cmp-menu-side.menu-mini .items .item .label2:hover{box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-mini .items .item .label2.active,#cmp-menu-side.menu-mini .items .item.open .label2{color:#000;background-color:#fff;box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-mini .items .item .sub{display:none;position:absolute;top:0;background-color:#f1f1f1;box-shadow:10px 10px 20px 10px #0000004d;z-index:1;overflow:hidden;width:100%}#cmp-menu-side.menu-mini .items .item .sub .sub-item{color:#000;padding:10px;text-decoration:none;display:flex;align-items:center}#cmp-menu-side.menu-mini .items .item .sub .sub-item .icon{height:20px}#cmp-menu-side.menu-mini .items .item .sub .sub-item .icon *{font-size:20px}#cmp-menu-side.menu-mini .items .item .sub .sub-item .title{font-size:13px;white-space:nowrap}#cmp-menu-side.menu-mini .items .item .sub .sub-item:hover,#cmp-menu-side.menu-mini .items .item .sub .sub-item.active{background-color:#fff;box-shadow:0 3px 5px #bbb}#cmp-menu-side.menu-mini .items .item:hover .sub{display:block}#cmp-menu-side.ltr.menu-full .items .item .label2{border-left:4px solid transparent}#cmp-menu-side.ltr.menu-full .items .item .label2.active{border-left-color:#1526cc}#cmp-menu-side.ltr.menu-full .items .item .sub .sub-item{padding-left:15px;border-left:4px solid transparent}#cmp-menu-side.ltr.menu-full .items .item .sub .sub-item.active,#cmp-menu-side.ltr.menu-compact .items .item .label2.active{border-left-color:#1526cc}#cmp-menu-side.ltr.menu-compact .items .item .sub .sub-item{padding-left:15px;border-left:4px solid transparent}#cmp-menu-side.ltr.menu-compact .items .item .sub .sub-item.active{border-left-color:#1526cc}#cmp-menu-side.ltr.menu-mini .items .item .label2{border-left:4px solid transparent}#cmp-menu-side.ltr.menu-mini .items .item .label2.active{border-left-color:#1526cc}#cmp-menu-side.ltr.menu-mini .items .item .sub{left:0;width:100%}#cmp-menu-side.ltr.menu-mini .items .item .sub .sub-item{border-left:4px solid transparent}#cmp-menu-side.ltr.menu-mini .items .item .sub .sub-item .icon{margin-right:10px}#cmp-menu-side.ltr.menu-mini .items .item .sub .sub-item.active{border-left-color:#1526cc}#cmp-menu-side.rtl.menu-full .items .item .label2{border-right:4px solid transparent}#cmp-menu-side.rtl.menu-full .items .item .label2.active{border-right-color:#1526cc}#cmp-menu-side.rtl.menu-full .items .item .sub .sub-item{padding-right:15px;border-right:4px solid transparent}#cmp-menu-side.rtl.menu-full .items .item .sub .sub-item.active,#cmp-menu-side.rtl.menu-compact .items .item .label2.active{border-right-color:#1526cc}#cmp-menu-side.rtl.menu-compact .items .item .sub .sub-item{padding-right:15px;border-right:4px solid transparent}#cmp-menu-side.rtl.menu-compact .items .item .sub .sub-item.active{border-right-color:#1526cc}#cmp-menu-side.rtl.menu-mini .items .item .label2{border-right:4px solid transparent}#cmp-menu-side.rtl.menu-mini .items .item .label2.active{border-right-color:#1526cc}#cmp-menu-side.rtl.menu-mini .items .item .sub{right:0;width:100%}#cmp-menu-side.rtl.menu-mini .items .item .sub .sub-item{border-right:4px solid transparent}#cmp-menu-side.rtl.menu-mini .items .item .sub .sub-item .icon{margin-left:10px}#cmp-menu-side.rtl.menu-mini .items .item .sub .sub-item.active{border-right-color:#1526cc}.pointer{cursor:pointer;font-size:.75em;opacity:.85;transition:all .3s}.pointer:hover{opacity:1}.expantion-icon{width:30px!important;padding:7px!important;height:30px!important;display:flex!important;align-items:center!important;justify-content:center!important}.active-node{color:#000;font-weight:700;opacity:1;transition:all .3s}.node-list{overflow:auto;display:flex;flex-direction:column;flex:1 1 0}.node-item{display:flex;flex-direction:column;padding:3px 6px}.node-item .text{display:flex;align-items:center}.node-item .expansion-icon{width:25px;height:25px;display:flex;align-items:center;justify-content:center}.node-item .expansion-icon mat-icon{font-size:.8em;width:unset;height:unset}.node-item .node-children{padding-left:23px;display:flex;flex-direction:column}#cmp-menu-side{display:flex!important;flex-direction:column}\n"],encapsulation:2})}return r})();function AA(r,e){if(1&r&&(h.TgZ(0,"a",7)(1,"div",8)(2,"span",9),h._uU(3),h.qZA()(),h.TgZ(4,"span",10),h._uU(5),h.qZA()()),2&r){const t=h.oxw().$implicit,i=h.oxw();h.s9C("routerLink",t.target),h.xp6(3),h.Oqu(t.material_icon),h.xp6(2),h.Oqu(i.panelService.translate(t.label,i.panelService.language))}}function Ff(r,e){if(1&r&&(h.TgZ(0,"span",11)(1,"div",8)(2,"span",9),h._uU(3),h.qZA()(),h.TgZ(4,"span",10),h._uU(5),h.qZA()()),2&r){const t=h.oxw().$implicit,i=h.oxw();h.xp6(3),h.Oqu(t.material_icon),h.xp6(2),h.Oqu(i.panelService.translate(t.label,i.panelService.language))}}function c0(r,e){if(1&r&&(h.TgZ(0,"a",14)(1,"div",8)(2,"span",9),h._uU(3),h.qZA()(),h.TgZ(4,"span",10),h._uU(5),h.qZA()()),2&r){const t=e.$implicit,i=h.oxw(3);h.s9C("routerLink",t.target),h.xp6(3),h.Oqu(t.material_icon),h.xp6(2),h.Oqu(i.panelService.translate(t.label,i.panelService.language))}}function h0(r,e){if(1&r&&(h.TgZ(0,"div",12),h.YNc(1,c0,6,3,"a",13),h.qZA()),2&r){const t=h.oxw().$implicit;h.xp6(1),h.Q6J("ngForOf",null==t?null:t.sub)}}function A0(r,e){if(1&r&&(h.TgZ(0,"div",3),h.YNc(1,AA,6,3,"a",4),h.YNc(2,Ff,6,2,"span",5),h.YNc(3,h0,2,1,"div",6),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Q6J("ngIf",t.hasOwnProperty("target")),h.xp6(1),h.Q6J("ngIf",!t.hasOwnProperty("target")),h.xp6(1),h.Q6J("ngIf",t.hasOwnProperty("sub"))}}let u0=(()=>{class r{constructor(t,i){this.panelService=t,this.store=i,this.menu=(0,xe.of)([])}ngOnInit(){this.menu=this.store.select(Yi.r7).pipe()}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(Wl),h.Y36(er.yh))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-menu-static"]],decls:4,vars:6,consts:[["id","cmp-menu-static"],[1,"items"],["class","item dropdown2",4,"ngFor","ngForOf"],[1,"item","dropdown2"],["class","label2",3,"routerLink",4,"ngIf"],["class","label2",4,"ngIf"],["class","sub",4,"ngIf"],[1,"label2",3,"routerLink"],[1,"icon"],[1,"material-icons"],[1,"title"],[1,"label2"],[1,"sub"],["class","sub-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"sub-item",3,"routerLink"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,A0,4,3,"div",2),h.ALo(3,"async"),h.qZA()()),2&i&&(h.Gre("",n.panelService.language_data.direction," toolbars-bg toolbars-text"),h.xp6(2),h.Q6J("ngForOf",h.lcZ(3,4,n.menu)))},dependencies:[G.sg,G.O5,$o.rH,G.Ov],styles:["#cmp-menu-static .items{display:flex;flex-wrap:wrap;padding:5px;overflow:visible}#cmp-menu-static .items .item{margin:5px;padding:5px 10px;position:relative;display:inline-block;background-color:#0000001a;border-radius:5px}#cmp-menu-static .items .item:hover .sub,#cmp-menu-static .items .item.active .sub{display:block}#cmp-menu-static .items .item:hover,#cmp-menu-static .items .item.active{background-color:#0003}#cmp-menu-static .items .item .label2{display:flex;align-items:center}#cmp-menu-static .items .item .label2 .icon{height:24px}#cmp-menu-static .items .item .label2 .title{white-space:nowrap}#cmp-menu-static .items .item .sub{display:none;position:absolute;background-color:#f1f1f1;border-radius:5px;box-shadow:0 8px 16px #0003;z-index:1;overflow:hidden}#cmp-menu-static .items .item .sub .sub-item{color:#000;padding:10px;text-decoration:none;display:flex;align-items:center}#cmp-menu-static .items .item .sub .sub-item:hover{background-color:#ddd}#cmp-menu-static .items .item .sub .sub-item .icon{height:20px}#cmp-menu-static .items .item .sub .sub-item .icon *{font-size:20px}#cmp-menu-static .items .item .sub .sub-item .title{font-size:13px;white-space:nowrap}#cmp-menu-static.ltr .icon{margin-right:10px}#cmp-menu-static.rtl .icon{margin-left:10px}\n"],encapsulation:2})}return r})();var d0=ge(3932),kf=ge(6297),hr=ge(8239),Qa=function(r){return r[r.FLOATING=1]="FLOATING",r[r.DOCKED=2]="DOCKED",r[r.GRID_STER=3]="GRID_STER",r}(Qa||{});let ln=(()=>{class r{static#e=this._counter=0;static getPixels(t){return null===t?0:parseInt(t.replace("px",""))}static disableGlobalTextSelection(t){t.classList.add("disable-selection")}static enableGlobalTextSelection(t){t.classList.remove("disable-selection")}static isPointInsideNode(t,i,n){let a=n.container.containerElement.getBoundingClientRect();return t>=a.left&&t<=a.left+a.width&&i>=a.top&&i<=a.top+a.height}static getNextId(t){return t+r._counter++}static removeNode(t){return null!==t.parentNode&&(t.parentNode.removeChild(t),!0)}static orderByIndexes(t,i){let n=[];for(let s=0;s<i.length;s++)n.push(t[i[s]]);return n}static arrayRemove(t,i){let n=t.indexOf(i);return-1!==n&&t.splice(n,1)}static arrayContains(t,i){let n=t.length;for(;n--;)if(t[n]===i)return!0;return!1}static arrayEqual(t,i){if(t===i)return!0;if(null==t||null==i||t.length!=i.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==i[n])return!1;return!0}}return r})();class Ki{constructor(e,t,i,n){this.target=i,this.eventName=t,this.source=e,this.source.addEventListener(t,this.target,n)}cancel(){this.source.removeEventListener(this.eventName,this.target)}}class Oa{constructor(e,t){this.x=e,this.y=t}}class uA{constructor(e,t,i){i||(i=7),this.element=e,this._undockededCallback=t,this.thresholdPixels=i,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._enabled?(this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.touchDownHandler&&(this.touchDownHandler.cancel(),delete this.touchDownHandler),this.mouseDownHandler=new Ki(this.element,"mousedown",this.onMouseDown.bind(this)),this.touchDownHandler=new Ki(this.element,"touchstart",this.onMouseDown.bind(this),{passive:!1})):(this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.touchDownHandler&&(this.touchDownHandler.cancel(),delete this.touchDownHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.touchUpHandler&&(this.touchUpHandler.cancel(),delete this.touchUpHandler),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.touchMoveHandler&&(this.touchMoveHandler.cancel(),delete this.touchMoveHandler))}onMouseDown(e){if(e.preventDefault(),this.enabled){if(e.touches){if(e.touches.length>1)return;e=e.touches[0]}this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.touchUpHandler&&(this.touchUpHandler.cancel(),delete this.touchUpHandler),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.touchMoveHandler&&(this.touchMoveHandler.cancel(),delete this.touchMoveHandler),this.mouseUpHandler=new Ki(window,"mouseup",this.onMouseUp.bind(this)),this.touchUpHandler=new Ki(window,"touchend",this.onMouseUp.bind(this)),this.mouseMoveHandler=new Ki(window,"mousemove",this.onMouseMove.bind(this)),this.touchMoveHandler=new Ki(window,"touchmove",this.onMouseMove.bind(this)),this.dragStartPosition=new Oa(e.clientX,e.clientY)}}onMouseUp(){this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.touchUpHandler&&(this.touchUpHandler.cancel(),delete this.touchUpHandler),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.touchMoveHandler&&(this.touchMoveHandler.cancel(),delete this.touchMoveHandler)}onMouseMove(e){if(e.touches){if(e.touches.length>1)return;e=e.touches[0]}let i=new Oa(e.clientX,e.clientY).y-this.dragStartPosition.y;(i>this.thresholdPixels||i<-this.thresholdPixels)&&(this.enabled=!1,this._requestUndock(e))}_requestUndock(e){let t=0,i=0,n=this.element;do{t+=n.offsetTop||0,i+=n.offsetLeft||0,n=n.offsetParent}while(n);let o=new Oa(this.dragStartPosition.x-i,this.dragStartPosition.y-t);this._undockededCallback(e,o)}}var Jc=function(r){return r.horizontal="horizontal",r.vertical="vertical",r.fill="fill",r.panel="panel",r}(Jc||{}),Il=function(r){return r.document="document",r.panel="panel",r}(Il||{});const f0={CloseDialog:"Close dialog",CloseAll:"Close all documents",CloseAllButThis:"Close all documents but this",DefaultPanelName:"Panel",NewBrowserWindow:"Open in new window"};class Fl{static configure(e){Fl._getTemplateString=e}static getString(e,...t){return function p0(r,...e){return r.replace(/{(\d+)}/g,(t,i)=>{const n=Number.parseInt(i);return e[n].toString()})}(Fl._getTemplateString?.(e)??f0[e],...t)}}class lo{constructor(e,t,i,n,s){this.panelActions={},this.isPin=!1,this.isFullscreen=!1,this.undockedToNewBrowserWindow=!1,i||(i=Fl.getString("DefaultPanelName")),n||(n=Il.panel),this.panelType=n,e._dockSpawnPanelContainer=this,this.elementContent=e,e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.bottom="0",this.elementContentContainer=document.createElement("div"),this.elementContentContainer.className="panel-element-content-container",this.elementContentContainer.style.position="absolute",this.elementContentContainer._panel=this,this.elementContentContainer.addEventListener("pointerdown",a=>{try{this.isDialog?this._floatingDialog?.bringToFront():this.tabPage&&this.tabPage.setSelected(!0,!0),this.dockManager.activePanel=this}catch{}},{passive:!0}),this.elementContentContainer.appendChild(e),t.config.dialogRootElement.appendChild(this.elementContentContainer),this.dockManager=t,this.title=i,this.containerType=Jc.panel,this.icon=null,this.minimumAllowedChildNodes=0,this._floatingDialog=void 0,this.isDialog=!1,this._canUndock=t._undockEnabled,this.eventListeners=[],this._hideCloseButton=s,this._hidePinButton=!1,this._initialize()}canUndock(e){this._canUndock=e,this.undockInitiator.enabled=e,this.eventListeners.forEach(t=>{t.onDockEnabled&&t.onDockEnabled({self:this,state:e})})}addListener(e){this.eventListeners.push(e)}removeListener(e){this.eventListeners.splice(this.eventListeners.indexOf(e),1)}get floatingDialog(){return this._floatingDialog}set floatingDialog(e){this._floatingDialog=e,this.undockInitiator.enabled=void 0===this._floatingDialog}static loadFromState(e,t){return(0,hr.Z)(function*(){let i,n;if(t.getElementCallback){let a=yield t.getElementCallback(e);i=a.element,n=a.title}else i=document.getElementById(e.element);if(null===i)return null;let s=new lo(i,t,n);return s.loadState(e),s})()}saveState(e){e.element=this.elementContent.id,e.width=this.width,e.height=this.height,e.canUndock=this._canUndock,e.hideCloseButton=this._hideCloseButton,e.hidePinButton=this._hidePinButton,e.panelType=this.panelType,e.id=this.id,e.name=this.name,e.title=this.title,e.isPin=this.isPin}loadState(e){this.resize(e.width,e.height),this.state={width:e.width,height:e.height},this.canUndock(e.canUndock??!1),"boolean"==typeof e.hideCloseButton&&this.hideCloseButton(e.hideCloseButton??!1),"boolean"==typeof e.hidePinButton&&this.hidePinButton(e.hidePinButton??!1),this.panelType=e.panelType,this.name=e.name,this.id=e.id,this.isPin=e.isPin,this.pinButtonEffect(this.isPin),this.setTitle(e.title),this.isFullscreen=e.isFullscreen}setActiveChild(){}get containerElement(){return this.elementPanel}grayOut(e){!e&&this._grayOut?(this.elementContentWrapper.removeChild(this._grayOut),this.panelActions.close.elementButton.style.display=this._hideCloseButton?"none":"block",this._grayOut=null,this._hideCloseButton||this.eventListeners.forEach(t=>{t.onHideCloseButton&&t.onHideCloseButton({self:this,state:this._hideCloseButton})})):e&&!this._grayOut&&(this._grayOut=document.createElement("div"),this._grayOut.className="panel-grayout",this.panelActions.close.elementButton.style.display="none",this.elementContentWrapper.appendChild(this._grayOut),this.eventListeners.forEach(t=>{t.onHideCloseButton&&t.onHideCloseButton({self:this,state:!0})}))}setId(e){this.id=e}_initialize(){this.name=ln.getNextId("panel_"),this.elementPanel=document.createElement("div"),this.elementPanel.tabIndex=0,this.elementTitle=document.createElement("div"),this.elementTitleText=document.createElement("div"),this.elementContentHost=document.createElement("div"),this.panelActions={close:{elementButton:document.createElement("div")},pin:{elementButton:document.createElement("div")},fullscreen:{elementButton:document.createElement("div")}},this.elementPanel.appendChild(this.elementTitle),this.elementTitle.appendChild(this.elementTitleText);for(const a of Object.keys(this.panelActions))this.elementTitle.appendChild(this.panelActions[a].elementButton);this.panelActions.close.elementButton.classList.add("panel-titlebar-button","panel-titlebar-button-close"),this.panelActions.close.elementButton.style.display=this._hideCloseButton?"none":"block",this.panelActions.pin.elementButton.classList.add("panel-titlebar-button","panel-titlebar-button-pin"),this.panelActions.pin.elementButton.style.display=this._hidePinButton?"none":"block",this.panelActions.fullscreen.elementButton.classList.add("panel-titlebar-button","panel-titlebar-button-fullscreen"),this.panelActions.fullscreen.elementButton.style.display=this._hideFullScreenButton?"none":"block",this.elementPanel.appendChild(this.elementContentHost),this.elementPanel.classList.add("panel-base"),this.elementTitle.classList.add("panel-titlebar"),this.elementTitle.classList.add("disable-selection"),this.elementTitleText.classList.add("panel-titlebar-text"),this.elementContentHost.classList.add("panel-content");let e=this.elementContentContainer.clientWidth,t=this.elementContentContainer.clientHeight,i=this.elementTitle.clientHeight;this.elementContentWrapper=document.createElement("div"),this.elementContentWrapper.classList.add("panel-content-wrapper"),this._setPanelDimensions(e,t+i),this._hideCloseButton||(this.panelActions.close.buttonClickedHandler=new Ki(this.panelActions.close.elementButton,"mousedown",this.onCloseButtonClicked.bind(this)),this.panelActions.close.buttonTouchedHandler=new Ki(this.panelActions.close.elementButton,"touchstart",this.onCloseButtonClicked.bind(this))),this._hidePinButton||(this.panelActions.pin.buttonClickedHandler=new Ki(this.panelActions.pin.elementButton,"mousedown",this.onPinButtonClicked.bind(this)),this.panelActions.pin.buttonTouchedHandler=new Ki(this.panelActions.pin.elementButton,"touchstart",this.onPinButtonClicked.bind(this))),this._hideFullScreenButton||(this.panelActions.fullscreen.buttonClickedHandler=new Ki(this.panelActions.fullscreen.elementButton,"mousedown",this.onFullscreenButtonClicked.bind(this)),this.panelActions.fullscreen.buttonTouchedHandler=new Ki(this.panelActions.fullscreen.elementButton,"touchstart",this.onFullscreenButtonClicked.bind(this))),ln.removeNode(this.elementContentWrapper),this.elementContentHost.appendChild(this.elementContentWrapper);let n=this.elementContent.dataset.panelCaption,s=this.elementContent.dataset.panelIcon;n&&(this.title=n),s&&(this.icon=s),this._updateTitle(),this.undockInitiator=new uA(this.elementTitle,this.performUndockToDialog.bind(this)),delete this.floatingDialog,this.mouseDownHandler=new Ki(this.elementPanel,"mousedown",this.onMouseDown.bind(this)),this.touchDownHandler=new Ki(this.elementPanel,"touchstart",this.onMouseDown.bind(this),{passive:!0}),this._resolvedElementContent=this.elementContent,this.elementContent instanceof HTMLSlotElement&&(this._resolvedElementContent=this.elementContent.assignedElements()?.[0])}onMouseDown(){this.dockManager.activePanel=this}hideCloseButton(e){this._hideCloseButton=e,this.panelActions.close.elementButton.style.display=e?"none":"block",this.eventListeners.forEach(t=>{t.onHideCloseButton&&t.onHideCloseButton({self:this,state:e})})}hidePinButton(e){this._hidePinButton=e,this.panelActions.pin.elementButton.style.display=e?"none":"block",this.eventListeners.forEach(t=>{t.onHidePinButton&&t.onHidePinButton({self:this,state:e})})}hideFullscreenButton(e){this._hideFullScreenButton=e,this.panelActions.fullscreen.elementButton.style.display=e?"none":"block",this.eventListeners.forEach(t=>{t.onHideFullscreenButton&&t.onHideFullscreenButton({self:this,state:e})})}destroy(){this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.touchDownHandler&&(this.touchDownHandler.cancel(),delete this.touchDownHandler),ln.removeNode(this.elementPanel);for(const e of Object.keys(this.panelActions))this.panelActions[e].buttonClickedHandler&&(this.panelActions[e].buttonClickedHandler?.cancel(),delete this.panelActions[e].buttonClickedHandler),this.panelActions[e].buttonTouchedHandler&&(this.panelActions[e].buttonTouchedHandler?.cancel(),delete this.panelActions[e].buttonTouchedHandler)}performUndockToDialog(e,t){return this.isDialog=!0,this.undockInitiator.enabled=!1,this.elementContentWrapper.style.display="block",this.elementPanel.style.position="",this.dockManager.requestUndockToDialog(this,e,t)}performClose(){this.isDialog=!0,this.undockInitiator.enabled=!1,this.elementContentWrapper.style.display="block",this.elementContentContainer.style.display="none",this.elementPanel.style.position="",this.dockManager.requestClose(this)}performUndock(){this.undockInitiator.enabled=!1,this.dockManager.requestUndock(this)}prepareForDocking(){this.isDialog=!1,this.undockInitiator.enabled=this._canUndock,this.elementContentContainer.parentElement!=this.dockManager.config.dialogRootElement&&this.dockManager.config.dialogRootElement.appendChild(this.elementContentContainer)}get width(){return this._cachedWidth}set width(e){e!==this._cachedWidth&&(this._cachedWidth=e,this.elementPanel.style.width=e+"px")}get height(){return this._cachedHeight}set height(e){e!==this._cachedHeight&&(this._cachedHeight=e,this.elementPanel.style.height=e+"px")}get resolvedElementContent(){return this._resolvedElementContent||(this._resolvedElementContent=this.elementContent,this.elementContent instanceof HTMLSlotElement&&(this._resolvedElementContent=this.elementContent.assignedElements()?.[0])),this._resolvedElementContent}panelDocked(){this.elementContent.hidden&&(this.elementContent.hidden=!1),this.elementContentContainer.parentElement!==this.dockManager.config.dialogRootElement&&this.dockManager.config.dialogRootElement.appendChild(this.elementContentContainer)}resize(e,t){this.panelDocked(),this.setVisible(!0),this._setPanelDimensions(e,t),this._cachedWidth=e,this._cachedHeight=t;try{null!=this.elementContent&&"function"==typeof this.elementContent.resizeHandler&&this.elementContent.resizeHandler(e,t-this.elementTitle.clientHeight)}catch(i){console.log("error calling resizeHandler:",i," elt:",this.elementContent)}}_setPanelDimensions(e,t){this.elementTitle.style.width=e+"px",this.elementContentHost.style.width=e+"px",this.elementContentContainer.style.width=e+"px",this.elementPanel.style.width=e+"px";let n=t-this.elementTitle.clientHeight;this.elementContentHost.style.height=n+"px",this.elementContentContainer.style.height=n+"px",this.elementPanel.style.height=t+"px";const s=this.elementContentWrapper.getBoundingClientRect(),a=this.dockManager.config.dialogRootElement.getBoundingClientRect();this.elementContentContainer.style.left=s.x-a.x+"px",this.elementContentContainer.style.top=s.y-a.y+"px",this.elementContentContainer.style.width=s.width+"px",this.elementContentContainer.style.height=s.height+"px"}setDialogPosition(e,t){this.elementContentContainer.style.left=e+"px",this.elementContentContainer.style.top=t+this.elementTitle.clientHeight+"px"}setVisible(e){this.elementContentContainer.style.display=e?"block":"none"}setTitle(e){this.title=e,this._updateTitle(),this.onTitleChanged&&this.onTitleChanged(this,e)}setTitleIcon(e){this.icon=e,this._updateTitle(),this.onTitleChanged&&this.onTitleChanged(this,this.title)}setHasChanges(e){this.hasChanges=e,this._updateTitle(),e?this.elementTitleText.classList.add("panel-has-changes"):this.elementTitleText.classList.remove("panel-has-changes"),this.onTitleChanged&&this.onTitleChanged(this,this.title)}setCloseIconTemplate(e){this.panelActions.close.elementButton.innerHTML=e}setPinIconTemplate(e){this.panelActions.pin.elementButton.innerHTML=e}_updateTitle(){this.elementTitleText.innerHTML=null===this.icon?this.title:'<img class="panel-titlebar-icon" src="'+this.icon+'"><span>'+this.title+"</span>"}getRawTitle(){return this.elementTitleText.innerHTML}performLayout(e,t){}onCloseButtonClicked(e){e.preventDefault(),e.stopPropagation(),this.close()}onPinButtonClicked(e){e.preventDefault(),e.stopPropagation(),this.isPin=!this.isPin,this.pinButtonEffect(this.isPin)}onFullscreenButtonClicked(e){e.preventDefault(),e.stopPropagation(),this.isFullscreen=!this.isFullscreen,this.fullscreenButtonEffect(this.isFullscreen)}pinButtonEffect(e){this.panelActions.pin.elementButton.classList.remove("panel-titlebar-button-pin-enabled","panel-titlebar-button-pin-disabled"),this.panelActions.pin.elementButton.classList.add(e?"panel-titlebar-button-pin-enabled":"panel-titlebar-button-pin-disabled"),this.eventListeners.forEach(t=>{t.onTogglePinButton&&t.onTogglePinButton({self:this,state:e})})}fullscreenButtonEffect(e){this.panelActions.fullscreen.elementButton.classList.remove("panel-titlebar-button-fullscreen-enabled","panel-titlebar-button-fullscreen-disabled"),this.panelActions.fullscreen.elementButton.classList.add(e?"panel-titlebar-button-fullscreen-enabled":"panel-titlebar-button-fullscreen-disabled"),this.eventListeners.forEach(t=>{t.onToggleFullscreenButton&&t.onToggleFullscreenButton({self:this,state:e})})}undockToBrowserDialog(){!function m0(r,e){const t=r.getBoundingClientRect(),n=window.open("about:blank",void 0,`popup=yes,left=${t.x+24},top=${t.y+60},width=${t.width},height=${t.height}`);n.onfocus=u=>e.focused(u),n.onblur=u=>e.blured(u);let s=[...document.head.querySelectorAll("link")].map(u=>u.cloneNode());for(let u of s)n.document.head.appendChild(n.document.adoptNode(u));let a=n.document.createElement("style");a.innerText="\n    html {\n        overflow: hidden;\n        position: fixed;\n        width: 100%;\n        height: 100%;\n    }\n    body {\n        height: 100%;\n        width: 100%;\n        margin: 0;\n    }\n    ",n.document.head.appendChild(a);const o=n.document.createElement("title");o.innerText=e.title,n.document.head.appendChild(o),n.onunload=()=>e.newWindowClosedCallback();const l=new Map,c=new Map;function A(u){if(u.shadowRoot){u.shadowRoot.adoptedStyleSheets.length>0&&c.set(u,[...u.shadowRoot.adoptedStyleSheets.map(f=>function g0(r,e,t){const i=t.get(e);if(i)return i;let n="";const s=e.cssRules;for(var a=0;a<s.length;a++)n+=s[a].cssText+"\n";const o=new r.CSSStyleSheet;return t.set(e,o),o.replaceSync(n),o}(n,f,l))]);for(const f of u.shadowRoot.querySelectorAll("*"))A(f)}}A(r);for(const u of r.querySelectorAll("*"))A(u);n.document.body.appendChild(n.document.adoptNode(r));for(const u of c)u[0].shadowRoot.adoptedStyleSheets=u[1];e.closeCallback()}(this.resolvedElementContent,{title:this.elementTitleText.textContent,closeCallback:()=>{this.undockedToNewBrowserWindow=!0,this.closeInternal(!1)},newWindowClosedCallback:()=>{this.undockedToNewBrowserWindow=!1,this.dockManager.notifyOnClosePanel(this)},focused:e=>{this.dockManager.activePanel=this},blured:e=>{this.dockManager.activePanel=null}})}close(){var e=this;return(0,hr.Z)(function*(){e.closeInternal(!0)})()}closeInternal(e){var t=this;return(0,hr.Z)(function*(){let i=!0;if(t.elementContentContainer.parentElement===t.dockManager.config.dialogRootElement&&(e?t.closePanelContainerCallback?i=yield t.closePanelContainerCallback(t):t.dockManager.closePanelContainerCallback&&(i=yield t.dockManager.closePanelContainerCallback(t)):i=!0,i))if(t.dockManager.config.dialogRootElement.removeChild(t.elementContentContainer),t.isDialog)t.floatingDialog&&t.floatingDialog.close();else{try{t.dockManager.notifyOnClosePanel(t)}catch(n){console.error(n)}t.performClose()}})()}}class _0{constructor(e,t,i){this._isActivePanel=!1,this._fullscreenState={x:0,y:0,width:0,height:0},this._spawnDockManager=e,this._id=t||"panel_"+Math.round(1e3*Math.random())+"_"+Math.round(1e3*Math.random()),this._mode=i??Qa.GRID_STER}get id(){return this._id}get isFloating(){return this._mode===Qa.FLOATING}get isGridSter(){return this._mode===Qa.GRID_STER}get isDocked(){return this._mode===Qa.DOCKED}get gridSterConfig(){return this._gridSterConfig}get isActive(){return this._isActivePanel}get isLoaded(){return void 0!==this._spawnPanel}get nativeId(){return this.gridSterConfig._id}get getZIndex(){return this.isActive?41:40}get isPin(){return this._isPin}set setActive(e){this._isActivePanel=e}setGridSterConfig(e){this._mode=Qa.GRID_STER,this._gridSterConfig=JSON.parse(JSON.stringify(e))}setFloating(e){this._mode=Qa.FLOATING,e?this._spawnPanel=e:e=this._spawnPanel,e&&(this._floatingComponentRef&&(this._title=this.extractComponentTitle(this._floatingComponentRef.instance.panel._gridSterConfig),this._spawnPanel&&this._title&&this._spawnPanel.setTitle(this._title)),e.eventListeners.find(t=>t.onTogglePinButton)||e.addListener({onTogglePinButton:t=>{this._isPin=t.state}}),e.eventListeners.find(t=>t.onToggleFullscreenButton)||e.addListener({onToggleFullscreenButton:t=>{this._isFullscreen=t.state,this.toggleFullscreen()}}),e.setId(this.id),(!e.width||!e.height)&&e.resize(400,400),e.isDialog=!0,e.hidePinButton&&e.hidePinButton(!1),e.hideFullscreenButton&&e.hideFullscreenButton(!1),e.hideCloseButton&&e.hideCloseButton(!0))}setDocked(e){e?this._spawnPanel=e:e=this._spawnPanel,this._mode=Qa.DOCKED,e&&(e.hidePinButton&&e.hidePinButton(!0),e.hideFullscreenButton&&e.hideFullscreenButton(!0),e.hideCloseButton&&e.hideCloseButton(!0))}setFloatingByComponentRef(e){this._floatingComponentRef=e,this._title=this.extractComponentTitle(e.instance.panel._gridSterConfig);let t=new lo(e.location.nativeElement,this._spawnDockManager,this._title??this.id,Il.document);this.setFloating(t);const i=window.innerWidth/2-200,n=window.innerHeight/2-200,s=this._spawnDockManager.floatDialog(t,i,n);this._spawnDialog=s}switchBackFromFloatingToGridSter(){this._mode=Qa.GRID_STER,this.destroyFloatingWindow()}destroyFloatingWindow(){this._floatingComponentRef&&(this._floatingComponentRef.destroy(),this._floatingComponentRef=void 0),this._spawnDialog&&(this._spawnDialog.close(),this._spawnDialog=void 0)}destroy(){var e=this;return(0,hr.Z)(function*(){e.destroyFloatingWindow(),e._spawnPanel&&(e._spawnPanel.destroy(),e._spawnPanel=void 0)})()}toggleFullscreen(){!this._spawnDialog||!this._spawnPanel||(this._isFullscreen?(this._fullscreenState.x=this._spawnDialog.position.x,this._fullscreenState.y=this._spawnDialog.position.y,this._fullscreenState.width=this._spawnPanel.width,this._fullscreenState.height=this._spawnPanel.height,this._spawnDialog.setPosition(0,0),this._spawnPanel.resize(window.innerWidth,window.innerHeight),this._spawnDialog.resizable.disableResize=!0,this._spawnDialog.draggable.disableDragging=!0):(this._spawnDialog.resizable.disableResize=!1,this._spawnDialog.draggable.disableDragging=!1,this._spawnDialog.setPosition(this._fullscreenState.x,this._fullscreenState.y),this._spawnDialog.resize(this._fullscreenState.width,this._fullscreenState.height)),setTimeout(()=>{this._spawnDialog.resizable.resize(this._spawnPanel.width,this._spawnPanel.height),this._spawnDockManager.rebuildLayout(this._spawnDockManager.context.model.rootNode),this._spawnDockManager.invalidate()},200))}extractComponentTitle(e){switch(console.log("config:",e),e.type){case"ColumnChart":case"ClusterColumnChart":case"Gauge":case"PieChart":case"DynamicChart":return e.config.view?.labels?.title;case"Card":return e.config?.content?.Title;case"3D":return"3D";case"Hmi":return"Hmi"}}}var su=ge(155),gm=ge(553);function Lf(r,e){if(1&r&&h._UZ(0,"div",3),2&r){const t=e.index,i=h.oxw();h.Q6J("ngStyle",i.gridRenderer.getGridColumnStyle(t))}}function au(r,e){if(1&r&&h._UZ(0,"div",4),2&r){const t=e.index,i=h.oxw();h.Q6J("ngStyle",i.gridRenderer.getGridRowStyle(t))}}const Bh=["*"];function Lr(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",8),h.NdJ("mousedown",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))})("touchstart",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))}),h.qZA()}}function v0(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",9),h.NdJ("mousedown",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))})("touchstart",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))}),h.qZA()}}function Pf(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",10),h.NdJ("mousedown",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))})("touchstart",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))}),h.qZA()}}function Rf(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",11),h.NdJ("mousedown",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))})("touchstart",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))}),h.qZA()}}function dA(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",12),h.NdJ("mousedown",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))})("touchstart",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))}),h.qZA()}}function Vl(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",13),h.NdJ("mousedown",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))})("touchstart",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))}),h.qZA()}}function w0(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",14),h.NdJ("mousedown",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))})("touchstart",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))}),h.qZA()}}function Kc(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",15),h.NdJ("mousedown",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))})("touchstart",function(n){h.CHM(t);const s=h.oxw();return h.KtG(s.resize.dragStartDelay(n))}),h.qZA()}}var tn=function(r){return r.Fit="fit",r.ScrollVertical="scrollVertical",r.ScrollHorizontal="scrollHorizontal",r.Fixed="fixed",r.VerticalFixed="verticalFixed",r.HorizontalFixed="horizontalFixed",r}(tn||{}),sd=function(r){return r.Always="always",r.OnDragAndResize="onDrag&Resize",r.None="none",r}(sd||{}),Ln=function(r){return r.None="none",r.CompactUp="compactUp",r.CompactLeft="compactLeft",r.CompactUpAndLeft="compactUp&Left",r.CompactLeftAndUp="compactLeft&Up",r.CompactRight="compactRight",r.CompactUpAndRight="compactUp&Right",r.CompactRightAndUp="compactRight&Up",r.CompactDown="compactDown",r.CompactDownAndLeft="compactDown&Left",r.CompactLeftAndDown="compactLeft&Down",r.CompactDownAndRight="compactDown&Right",r.CompactRightAndDown="compactRight&Down",r}(Ln||{}),js=function(r){return r.LTR="ltr",r.RTL="rtl",r}(js||{});class Zc{constructor(e){this.gridster=e}destroy(){this.gridster=null}checkCompact(){this.gridster.$options.compactType!==Ln.None&&(this.gridster.$options.compactType===Ln.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===Ln.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===Ln.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===Ln.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===Ln.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===Ln.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===Ln.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===Ln.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===Ln.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===Ln.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===Ln.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===Ln.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}checkCompactItem(e){this.gridster.$options.compactType!==Ln.None&&(this.gridster.$options.compactType===Ln.CompactUp?this.moveTillCollision(e,"y",-1):this.gridster.$options.compactType===Ln.CompactLeft?this.moveTillCollision(e,"x",-1):this.gridster.$options.compactType===Ln.CompactUpAndLeft?(this.moveTillCollision(e,"y",-1),this.moveTillCollision(e,"x",-1)):this.gridster.$options.compactType===Ln.CompactLeftAndUp?(this.moveTillCollision(e,"x",-1),this.moveTillCollision(e,"y",-1)):this.gridster.$options.compactType===Ln.CompactUpAndRight?(this.moveTillCollision(e,"y",-1),this.moveTillCollision(e,"x",1)):this.gridster.$options.compactType===Ln.CompactDown?this.moveTillCollision(e,"y",1):this.gridster.$options.compactType===Ln.CompactDownAndLeft?(this.moveTillCollision(e,"y",1),this.moveTillCollision(e,"x",-1)):this.gridster.$options.compactType===Ln.CompactLeftAndDown?(this.moveTillCollision(e,"x",-1),this.moveTillCollision(e,"y",1)):this.gridster.$options.compactType===Ln.CompactDownAndRight?(this.moveTillCollision(e,"y",1),this.moveTillCollision(e,"x",1)):this.gridster.$options.compactType===Ln.CompactRightAndDown&&(this.moveTillCollision(e,"x",1),this.moveTillCollision(e,"y",1)))}checkCompactMovement(e,t){let i=!1;this.gridster.grid.forEach(n=>{!1!==n.$item.compactEnabled&&this.moveTillCollision(n.$item,e,t)&&(i=!0,n.item[e]=n.$item[e],n.itemChanged())}),i&&this.checkCompact()}moveTillCollision(e,t,i){return e[t]+=i,this.gridster.checkCollision(e)?(e[t]-=i,!1):(this.moveTillCollision(e,t,i),!0)}}const ou={gridType:tn.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:Ln.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:sd.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:js.LTR};class _n{static merge(e,t,i){for(const n in t)void 0!==t[n]&&i.hasOwnProperty(n)&&("object"==typeof t[n]?(n in e||(e[n]={}),e[n]=_n.merge(e[n],t[n],i[n])):e[n]=t[n]);return e}static checkTouchEvent(e){void 0===e.clientX&&e.touches&&(e.touches&&e.touches.length?(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY):e.changedTouches&&e.changedTouches.length&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY))}static checkContentClassForEvent(e,t){if(e.$options.draggable.ignoreContent){if(!_n.checkDragHandleClass(t.target,t.currentTarget,e.$options.draggable.dragHandleClass,e.$options.draggable.ignoreContentClass))return!0}else if(_n.checkContentClass(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass))return!0;return!1}static checkContentClassForEmptyCellClickEvent(e,t){return _n.checkContentClass(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass)||_n.checkContentClass(t.target,t.currentTarget,e.$options.draggable.dragHandleClass)}static checkDragHandleClass(e,t,i,n){if(!e||e===t)return!1;if(e.hasAttribute("class")){const s=e.getAttribute("class").split(" ");if(s.indexOf(i)>-1)return!0;if(s.indexOf(n)>-1)return!1}return _n.checkDragHandleClass(e.parentNode,t,i,n)}static checkContentClass(e,t,i){return!(!e||e===t)&&(!!(e.hasAttribute("class")&&e.getAttribute("class").split(" ").indexOf(i)>-1)||_n.checkContentClass(e.parentNode,t,i))}static compareItems(e,t){return e.y>t.y?-1:e.y<t.y?1:e.x>t.x?-1:1}}class _m{constructor(e){this.gridster=e,this.emptyCellClickCb=t=>{if(!this.gridster||this.gridster.movingItem||_n.checkContentClassForEmptyCellClickEvent(this.gridster,t))return;const i=this.getValidItemFromEvent(t);i&&(this.gridster.options.emptyCellClickCallback&&this.gridster.options.emptyCellClickCallback(t,i),this.gridster.cdRef.markForCheck())},this.emptyCellContextMenuCb=t=>{if(this.gridster.movingItem||_n.checkContentClassForEmptyCellClickEvent(this.gridster,t))return;t.preventDefault(),t.stopPropagation();const i=this.getValidItemFromEvent(t);i&&(this.gridster.options.emptyCellContextMenuCallback&&this.gridster.options.emptyCellContextMenuCallback(t,i),this.gridster.cdRef.markForCheck())},this.emptyCellDragDrop=t=>{const i=this.getValidItemFromEvent(t);i&&(this.gridster.options.emptyCellDropCallback&&this.gridster.options.emptyCellDropCallback(t,i),this.gridster.cdRef.markForCheck())},this.emptyCellDragOver=t=>{t.preventDefault(),t.stopPropagation();const i=this.getValidItemFromEvent(t);i?(t.dataTransfer&&(t.dataTransfer.dropEffect="move"),this.gridster.movingItem=i):(t.dataTransfer&&(t.dataTransfer.dropEffect="none"),this.gridster.movingItem=null),this.gridster.previewStyle()},this.emptyCellMouseDown=t=>{if(_n.checkContentClassForEmptyCellClickEvent(this.gridster,t))return;t.preventDefault(),t.stopPropagation();const i=this.getValidItemFromEvent(t);!i||1!==t.buttons&&!(t instanceof TouchEvent)||(this.initialItem=i,this.gridster.movingItem=i,this.gridster.previewStyle(),this.gridster.zone.runOutsideAngular(()=>{this.removeWindowMousemoveListenerFn=this.gridster.renderer.listen("window","mousemove",this.emptyCellMouseMove),this.removeWindowTouchmoveListenerFn=this.gridster.renderer.listen("window","touchmove",this.emptyCellMouseMove)}),this.removeWindowMouseupListenerFn=this.gridster.renderer.listen("window","mouseup",this.emptyCellMouseUp),this.removeWindowTouchendListenerFn=this.gridster.renderer.listen("window","touchend",this.emptyCellMouseUp))},this.emptyCellMouseMove=t=>{t.preventDefault(),t.stopPropagation();const i=this.getValidItemFromEvent(t,this.initialItem);i&&(this.gridster.movingItem=i,this.gridster.previewStyle())},this.emptyCellMouseUp=t=>{this.removeWindowMousemoveListenerFn(),this.removeWindowTouchmoveListenerFn(),this.removeWindowMouseupListenerFn(),this.removeWindowTouchendListenerFn();const i=this.getValidItemFromEvent(t,this.initialItem);i&&(this.gridster.movingItem=i),this.gridster.options.emptyCellDragCallback&&this.gridster.movingItem&&this.gridster.options.emptyCellDragCallback(t,this.gridster.movingItem),setTimeout(()=>{this.initialItem=null,this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())}),this.gridster.cdRef.markForCheck()}}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}updateOptions(){this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(()=>{this.removeEmptyCellDragoverListenerFn=this.gridster.renderer.listen(this.gridster.el,"dragover",this.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",()=>{this.gridster.movingItem=null,this.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}getPixelsX(e,t){const i=this.gridster.options.scale;return i?(e.clientX-t.left)/i+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():e.clientX+this.gridster.el.scrollLeft-t.left-this.gridster.gridRenderer.getLeftMargin()}getPixelsY(e,t){const i=this.gridster.options.scale;return i?(e.clientY-t.top)/i+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():e.clientY+this.gridster.el.scrollTop-t.top-this.gridster.gridRenderer.getTopMargin()}getValidItemFromEvent(e,t){e.preventDefault(),e.stopPropagation(),_n.checkTouchEvent(e);const i=this.gridster.el.getBoundingClientRect(),n=this.getPixelsX(e,i),s=this.getPixelsY(e,i),a={x:this.gridster.pixelsToPositionX(n,Math.floor,!0),y:this.gridster.pixelsToPositionY(s,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(t&&(a.cols=Math.min(Math.abs(t.x-a.x)+1,this.gridster.$options.emptyCellDragMaxCols),a.rows=Math.min(Math.abs(t.y-a.y)+1,this.gridster.$options.emptyCellDragMaxRows),t.x<a.x?a.x=t.x:t.x-a.x>this.gridster.$options.emptyCellDragMaxCols-1&&(a.x=this.gridster.movingItem?this.gridster.movingItem.x:0),t.y<a.y?a.y=t.y:t.y-a.y>this.gridster.$options.emptyCellDragMaxRows-1&&(a.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(a))return a}}class vm{constructor(e){this.gridster=e,this.lastGridColumnStyles={},this.lastGridRowStyles={}}destroy(){this.gridster=null}updateItem(e,t,i){if(this.gridster.mobile)this.clearCellPosition(i,e),i.setStyle(e,"height",this.gridster.$options.keepFixedHeightInMobile?(t.rows-1)*this.gridster.$options.margin+t.rows*this.gridster.$options.fixedRowHeight+"px":t.rows*this.gridster.curWidth/t.cols+"px"),i.setStyle(e,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),i.setStyle(e,"margin-bottom",this.gridster.$options.margin+"px"),i.setStyle(e,js.LTR?"margin-right":"margin-left","");else{const n=Math.round(this.gridster.curColWidth*t.x),s=Math.round(this.gridster.curRowHeight*t.y),a=this.gridster.curColWidth*t.cols-this.gridster.$options.margin,o=this.gridster.curRowHeight*t.rows-this.gridster.$options.margin;this.setCellPosition(i,e,n,s),i.setStyle(e,"width",a+"px"),i.setStyle(e,"height",o+"px");let l=null,c=null;this.gridster.$options.outerMargin&&(this.gridster.rows===t.rows+t.y&&(l=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===t.cols+t.x&&(c=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),i.setStyle(e,"margin-bottom",l),i.setStyle(e,js.LTR?"margin-right":"margin-left",c)}}updateGridster(){let e="",t="",i="",n="";if(this.gridster.$options.gridType===tn.Fit)e=tn.Fit,t=tn.ScrollVertical,i=tn.ScrollHorizontal,n=tn.Fixed;else if(this.gridster.$options.gridType===tn.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,e=tn.ScrollVertical,t=tn.Fit,i=tn.ScrollHorizontal,n=tn.Fixed;else if(this.gridster.$options.gridType===tn.ScrollHorizontal){const s=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(s>=1?s:s+1),e=tn.ScrollHorizontal,t=tn.Fit,i=tn.ScrollVertical,n=tn.Fixed}else this.gridster.$options.gridType===tn.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=tn.Fixed,t=tn.Fit,i=tn.ScrollVertical,n=tn.ScrollHorizontal):this.gridster.$options.gridType===tn.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=tn.ScrollVertical,t=tn.Fit,i=tn.ScrollHorizontal,n=tn.Fixed):this.gridster.$options.gridType===tn.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),e=tn.ScrollHorizontal,t=tn.Fit,i=tn.ScrollVertical,n=tn.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==tn.Fit?this.gridster.renderer.removeClass(this.gridster.el,e):this.gridster.renderer.addClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,t),this.gridster.renderer.removeClass(this.gridster.el,i),this.gridster.renderer.removeClass(this.gridster.el,n)}getGridColumnStyle(e){const t={left:this.gridster.curColWidth*e,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};t.style={...this.getLeftPosition(t.left),width:t.width+"px",height:t.height+"px"};const i=this.lastGridColumnStyles[e];return i&&i.left===t.left&&i.width===t.width&&i.height===t.height?i.style:(this.lastGridColumnStyles[e]=t,t.style)}getGridRowStyle(e){const t={top:this.gridster.curRowHeight*e,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};t.style={...this.getTopPosition(t.top),width:t.width+"px",height:t.height+"px"};const i=this.lastGridRowStyles[e];return i&&i.top===t.top&&i.width===t.width&&i.height===t.height?i.style:(this.lastGridRowStyles[e]=t,t.style)}getLeftPosition(e){const t=this.gridster.$options.dirType===js.RTL?-e:e;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+t+"px)"}:{left:this.getLeftMargin()+t+"px"}}getTopPosition(e){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+e+"px)"}:{top:this.getTopMargin()+e+"px"}}clearCellPosition(e,t){this.gridster.$options.useTransformPositioning?e.setStyle(t,"transform",""):(e.setStyle(t,"top",""),e.setStyle(t,"left",""))}setCellPosition(e,t,i,n){const s=this.gridster.$options.dirType===js.RTL?-i:i;this.gridster.$options.useTransformPositioning?e.setStyle(t,"transform","translate3d("+s+"px, "+n+"px, 0)"):(e.setStyle(t,"left",this.getLeftMargin()+s+"px"),e.setStyle(t,"top",this.getTopMargin()+n+"px"))}getLeftMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}getTopMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}let wa,Ho,Uf=(()=>{class r{constructor(t,i){this.renderer=i,this.el=t.nativeElement}ngOnInit(){this.sub=this.previewStyle$.subscribe(t=>this.previewStyle(t))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}previewStyle(t){t?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,t,this.renderer)):this.renderer.setStyle(this.el,"display","")}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(h.SBq),h.Y36(h.Qsj))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},standalone:!0,features:[h.jDz],decls:0,vars:0,template:function(i,n){},styles:["gridster-preview{position:absolute;display:none;background:rgba(0,0,0,.15)}\n"],encapsulation:2})}return r})(),ad=(()=>{class r{constructor(t,i,n,s){this.renderer=i,this.cdRef=n,this.zone=s,this.columns=0,this.rows=0,this.gridColumns=[],this.gridRows=[],this.previewStyle$=new h.vpe,this.calculateLayout$=new Yn.x,this.resize$=new Yn.x,this.destroy$=new Yn.x,this.optionsChanged=()=>{this.setOptions();let o,a=this.grid.length-1;for(;a>=0;a--)o=this.grid[a],o.updateOptions();this.calculateLayout()},this.onResize=()=>{this.el.clientWidth&&(this.options.setGridSize&&(this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.setGridSize(),this.calculateLayout())},this.getNextPossiblePosition=(a,o={})=>{-1===a.cols&&(a.cols=this.$options.defaultItemCols),-1===a.rows&&(a.rows=this.$options.defaultItemRows),this.setGridDimensions();let c,l=o.y||0;for(;l<this.rows;l++)for(a.y=l,c=o.x||0;c<this.columns;c++)if(a.x=c,!this.checkCollision(a))return!0;const A=this.$options.maxRows>=this.rows+a.rows;return this.rows<=this.columns&&A||!(this.$options.maxCols>=this.columns+a.cols)?!!A&&(a.y=this.rows,a.x=0,!0):(a.x=this.columns,a.y=0,!0)},this.getFirstPossiblePosition=a=>{const o=Object.assign({},a);return this.getNextPossiblePosition(o),o},this.getLastPossiblePosition=a=>{let o={y:0,x:0};o=this.grid.reduce((c,A)=>{const u={y:A.$item.y+A.$item.rows-1,x:A.$item.x+A.$item.cols-1};return 1===_n.compareItems(c,u)?u:c},o);const l=Object.assign({},a);return this.getNextPossiblePosition(l,o),l},this.el=t.nativeElement,this.$options=JSON.parse(JSON.stringify(ou)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new _m(this),this.compact=new Zc(this),this.gridRenderer=new vm(this)}static checkCollisionTwoItemsForSwaping(t,i){return t.x+(1===t.cols?0:1)<i.x+i.cols&&t.x+t.cols>i.x+(1===i.cols?0:1)&&t.y+(1===t.rows?0:1)<i.y+i.rows&&t.y+t.rows>i.y+(1===i.rows?0:1)}checkCollisionTwoItems(t,i){if(!(t.x<i.x+i.cols&&t.x+t.cols>i.x&&t.y<i.y+i.rows&&t.y+t.rows>i.y))return!1;if(!this.$options.allowMultiLayer)return!0;const s=this.$options.defaultLayerIndex;return(void 0===t.layerIndex?s:t.layerIndex)===(void 0===i.layerIndex?s:i.layerIndex)}ngOnInit(){this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe((0,su.b)(0),(0,Rt.R)(this.destroy$)).subscribe(()=>this.calculateLayout()),this.resize$.pipe((0,Pa.w)(()=>(0,gm.H)(100)),(0,Rt.R)(this.destroy$)).subscribe(()=>this.resize())}ngOnChanges(t){t.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:i=>this.getItemComponent(i)},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}resize(){let t,i;"fit"!==this.$options.gridType||this.mobile?(i=this.el.clientWidth,t=this.el.clientHeight):(i=this.el.offsetWidth,t=this.el.offsetHeight),(i!==this.curWidth||t!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}setOptions(){this.$options=_n.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize),this.emptyCell.updateOptions()}ngOnDestroy(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}checkIfToResize(){const t=this.el.clientWidth,i=this.el.offsetWidth,n=this.el.scrollWidth,s=this.el.clientHeight,a=this.el.offsetHeight,o=this.el.scrollHeight;return!(t<i&&o>a&&o-a<i-t||s<a&&n>i&&n-i<a-s)}checkIfMobile(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}setGridSize(){const t=this.el;let i,n;this.$options.setGridSize||this.$options.gridType===tn.Fit&&!this.mobile?(i=t.offsetWidth,n=t.offsetHeight):(i=t.clientWidth,n=t.clientHeight),this.curWidth=i,this.curHeight=n}setGridDimensions(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));let s,t=this.$options.minRows,i=this.$options.minCols,n=this.grid.length-1;for(;n>=0;n--)s=this.grid[n],s.notPlaced||(t=Math.max(t,s.$item.y+s.$item.rows),i=Math.max(i,s.$item.x+s.$item.cols));t+=this.$options.addEmptyRowsCount,(this.columns!==i||this.rows!==t)&&(this.columns=i,this.rows=t,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}calculateLayout(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){let n=-this.$options.margin;null!==this.$options.outerMarginLeft?(n+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(n+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(n+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(n+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-n)/this.columns;let s=-this.$options.margin;null!==this.$options.outerMarginTop?(s+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(s+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-s)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();let i,t=this.grid.length-1;for(;t>=0;t--)i=this.grid[t],i.setSize(),i.drag.toggle(),i.resize.toggle();this.resize$.next()}updateGrid(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=r.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=r.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}addItem(t){void 0===t.$item.cols&&(t.$item.cols=this.$options.defaultItemCols,t.item.cols=t.$item.cols,t.itemChanged()),void 0===t.$item.rows&&(t.$item.rows=this.$options.defaultItemRows,t.item.rows=t.$item.rows,t.itemChanged()),-1===t.$item.x||-1===t.$item.y?this.autoPositionItem(t):this.checkCollision(t.$item)&&(this.$options.disableWarnings||(t.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(t.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?t.notPlaced=!0:this.autoPositionItem(t)),this.grid.push(t),this.calculateLayout$.next()}removeItem(t){this.grid.splice(this.grid.indexOf(t),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(t.item,t)}checkCollision(t){let i=!1;if(this.options.itemValidateCallback&&(i=!this.options.itemValidateCallback(t)),!i&&this.checkGridCollision(t)&&(i=!0),!i){const n=this.findItemWithItem(t);n&&(i=n)}return i}checkGridCollision(t){const _=t.cols*t.rows;return!(t.y>-1&&t.x>-1&&t.cols+t.x<=this.$options.maxCols&&t.rows+t.y<=this.$options.maxRows&&t.cols<=(void 0===t.maxItemCols?this.$options.maxItemCols:t.maxItemCols)&&t.cols>=(void 0===t.minItemCols?this.$options.minItemCols:t.minItemCols)&&t.rows<=(void 0===t.maxItemRows?this.$options.maxItemRows:t.maxItemRows)&&t.rows>=(void 0===t.minItemRows?this.$options.minItemRows:t.minItemRows)&&(void 0===t.minItemArea?this.$options.minItemArea:t.minItemArea)<=_&&(void 0===t.maxItemArea?this.$options.maxItemArea:t.maxItemArea)>=_)}findItemWithItem(t){let n,i=0;for(;i<this.grid.length;i++)if(n=this.grid[i],n.$item!==t&&this.checkCollisionTwoItems(n.$item,t))return n;return!1}findItemsWithItem(t){const i=[];let s,n=0;for(;n<this.grid.length;n++)s=this.grid[n],s.$item!==t&&this.checkCollisionTwoItems(s.$item,t)&&i.push(s);return i}autoPositionItem(t){this.getNextPossiblePosition(t.$item)?(t.notPlaced=!1,t.item.x=t.$item.x,t.item.y=t.$item.y,t.itemChanged()):(t.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(t.item,["cols","rows","x","y"])))}pixelsToPositionX(t,i,n){const s=i(t/this.curColWidth);return n?s:Math.max(s,0)}pixelsToPositionY(t,i,n){const s=i(t/this.curRowHeight);return n?s:Math.max(s,0)}positionXToPixels(t){return t*this.curColWidth}positionYToPixels(t){return t*this.curRowHeight}getItemComponent(t){return this.grid.find(i=>i.item===t)}checkCollisionForSwaping(t){let i=!1;if(this.options.itemValidateCallback&&(i=!this.options.itemValidateCallback(t)),!i&&this.checkGridCollision(t)&&(i=!0),!i){const n=this.findItemWithItemForSwapping(t);n&&(i=n)}return i}findItemWithItemForSwapping(t){let n,i=this.grid.length-1;for(;i>-1;i--)if(n=this.grid[i],n.$item!==t&&r.checkCollisionTwoItemsForSwaping(n.$item,t))return n;return!1}previewStyle(t=!1){this.movingItem?(this.compact&&t&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}static getNewArrayLength(t,i,n){const s=Math.max(t,Math.floor(i/n));return s<0?0:Number.isFinite(s)?Math.floor(s):0}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(h.R0b))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["gridster"]],inputs:{options:"options"},standalone:!0,features:[h.TTD,h.jDz],ngContentSelectors:Bh,decls:4,vars:4,consts:[["class","gridster-column",3,"ngStyle",4,"ngFor","ngForOf"],["class","gridster-row",3,"ngStyle",4,"ngFor","ngForOf"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"],[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"]],template:function(i,n){1&i&&(h.F$t(),h.YNc(0,Lf,1,1,"div",0),h.YNc(1,au,1,1,"div",1),h.Hsn(2),h._UZ(3,"gridster-preview",2)),2&i&&(h.Q6J("ngForOf",n.gridColumns),h.xp6(1),h.Q6J("ngForOf",n.gridRows),h.xp6(2),h.Q6J("gridRenderer",n.gridRenderer)("previewStyle$",n.previewStyle$))},dependencies:[G.sg,G.PC,Uf],styles:["gridster{position:relative;box-sizing:border-box;background:grey;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2})}return r})();class lu{constructor(e){this.iteration=0,this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=e,this.gridster=e.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(e,t){if(this.gridster.$options.pushItems&&!t){this.pushedItemsOrder=[],this.iteration=0;const i=this.push(this.gridsterItem,e);return i||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],i}return!1}restoreTempItems(){let e=this.pushedItemsTemp.length-1;for(;e>-1;e--)this.removeFromTempPushed(this.pushedItemsTemp[e])}restoreItems(){let e=0;const t=this.pushedItems.length;let i;for(;e<t;e++)i=this.pushedItems[e],i.$item.x=i.item.x||0,i.$item.y=i.item.y||0,i.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let e=0;const t=this.pushedItems.length;let i;for(;e<t;e++)i=this.pushedItems[e],i.checkItemChanges(i.$item,i.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let e=this.pushedItems.length-1,t=!1;for(;e>-1;e--)this.checkPushedItem(this.pushedItems[e],e)&&(t=!0);t&&this.checkPushBack()}push(e,t){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(e.$item)||""===t)return!1;const i=this.gridster.findItemsWithItem(e.$item),n=t===this.fromNorth||t===this.fromWest;i.sort((c,A)=>n?A.$item.y-c.$item.y||A.$item.x-c.$item.x:c.$item.y-A.$item.y||c.$item.x-A.$item.x);let a,s=0,o=!0;const l=[];for(;s<i.length;s++){if(a=i[s],a===this.gridsterItem)continue;if(!a.canBeDragged()){o=!1;break}const c=this.pushedItemsTemp.indexOf(a);if(c>-1&&this.pushedItemsTempPath[c].length>10){o=!1;break}if(this.tryPattern[t][0].call(this,a,e))this.pushedItemsOrder.push(a),l.push(a);else if(this.tryPattern[t][1].call(this,a,e))this.pushedItemsOrder.push(a),l.push(a);else if(this.tryPattern[t][2].call(this,a,e))this.pushedItemsOrder.push(a),l.push(a);else{if(!this.tryPattern[t][3].call(this,a,e)){o=!1;break}this.pushedItemsOrder.push(a),l.push(a)}}if(!o&&(s=this.pushedItemsOrder.lastIndexOf(l[0]),s>-1)){let c=this.pushedItemsOrder.length-1;for(;c>=s;c--)a=this.pushedItemsOrder[c],this.pushedItemsOrder.pop(),this.removeFromTempPushed(a),this.removeFromPushedItem(a)}return this.iteration++,o}trySouth(e,t){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(e),e.$item.y=t.$item.y+t.$item.rows,this.push(e,this.fromNorth)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}tryNorth(e,t){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(e),e.$item.y=t.$item.y-e.$item.rows,this.push(e,this.fromSouth)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}tryEast(e,t){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(e),e.$item.x=t.$item.x+t.$item.cols,this.push(e,this.fromWest)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}tryWest(e,t){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(e),e.$item.x=t.$item.x-e.$item.cols,this.push(e,this.fromEast)?(e.setSize(),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}addToTempPushed(e){let t=this.pushedItemsTemp.indexOf(e);-1===t&&(t=this.pushedItemsTemp.push(e)-1,this.pushedItemsTempPath[t]=[]),this.pushedItemsTempPath[t].push({x:e.$item.x,y:e.$item.y})}removeFromTempPushed(e){const t=this.pushedItemsTemp.indexOf(e),i=this.pushedItemsTempPath[t].pop();i&&(e.$item.x=i.x,e.$item.y=i.y,e.setSize(),this.pushedItemsTempPath[t].length||(this.pushedItemsTemp.splice(t,1),this.pushedItemsTempPath.splice(t,1)))}addToPushed(e){if(this.pushedItems.indexOf(e)<0)this.pushedItems.push(e),this.pushedItemsPath.push([{x:e.item.x||0,y:e.item.y||0},{x:e.$item.x,y:e.$item.y}]);else{const t=this.pushedItems.indexOf(e);this.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y})}}removeFromPushed(e){e>-1&&(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1))}removeFromPushedItem(e){const t=this.pushedItems.indexOf(e);t>-1&&(this.pushedItemsPath[t].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1)))}checkPushedItem(e,t){const i=this.pushedItemsPath[t];let s,a,o,n=i.length-2,l=!1;for(;n>-1;n--)s=i[n],a=e.$item.x,o=e.$item.y,e.$item.x=s.x,e.$item.y=s.y,this.gridster.findItemWithItem(e.$item)?(e.$item.x=a,e.$item.y=o):(e.setSize(),i.splice(n+1,i.length-n-1),l=!0);return i.length<2&&this.removeFromPushed(t),l}}const zo=50;let Jr,il,Ar,Go,Ch,fA,Wn;function Xc(r,e,t,i,n,s,a,o,l,c){wa=r.$options.scrollSensitivity,Ho=r.$options.scrollSpeed,Jr=r.el,il=l,Ar=c;const A=Jr.offsetWidth,f=Jr.scrollLeft,d=Jr.scrollTop,_=t-d,p=Jr.offsetHeight+d-t-n,{clientX:g,clientY:m}=s;if(!r.$options.disableScrollVertical)if(a.clientY<m&&p<wa){if(bm(),il&&Ar&&!Ar.south||Wn)return;Wn=wm(1,o,a)}else if(a.clientY>m&&d>0&&_<wa){if(Of(),il&&Ar&&!Ar.north||fA)return;fA=wm(-1,o,a)}else a.clientY!==m&&Qf();const B=e-f;if(!r.$options.disableScrollHorizontal)if(a.clientX<g&&f+A-e-i<=wa){if(hu(),il&&Ar&&!Ar.east||Go)return;Go=Ur(1,o,a)}else if(a.clientX>g&&f>0&&B<wa){if(cu(),il&&Ar&&!Ar.west||Ch)return;Ch=Ur(-1,o,a)}else a.clientX!==g&&od()}function wm(r,e,t){let i=t.clientY;return window.setInterval(()=>{(!Jr||-1===r&&Jr.scrollTop-Ho<0)&&Qf(),Jr.scrollTop+=r*Ho,i+=r*Ho,e({clientX:t.clientX,clientY:i})},zo)}function Ur(r,e,t){let i=t.clientX;return window.setInterval(()=>{(!Jr||-1===r&&Jr.scrollLeft-Ho<0)&&od(),Jr.scrollLeft+=r*Ho,i+=r*Ho,e({clientX:i,clientY:t.clientY})},zo)}function yo(){od(),Qf(),Jr=null}function od(){cu(),hu()}function Qf(){bm(),Of()}function cu(){Go&&(clearInterval(Go),Go=0)}function hu(){Ch&&(clearInterval(Ch),Ch=0)}function Of(){Wn&&(clearInterval(Wn),Wn=0)}function bm(){fA&&(clearInterval(fA),fA=0)}class kl{constructor(e){this.gridsterItem=e,this.gridster=e.gridster}destroy(){this.gridster=this.gridsterItem=this.swapedItem=null}swapItems(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}checkSwapBack(){if(this.swapedItem){const e=this.swapedItem.$item.x,t=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=e,this.swapedItem.$item.y=t):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}restoreSwapItem(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}setSwapItem(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}checkSwap(e){let t;if(t=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(e.$item):this.gridster.checkCollision(e.$item),t&&!0!==t&&t.canBeDragged()){const i=t,n=i.$item.x,s=i.$item.y,a=e.$item.x,o=e.$item.y,l=a-n,c=o-s;i.$item.x=e.item.x-l,i.$item.y=e.item.y-c,e.$item.x=i.item.x+l,e.$item.y=i.item.y+c,this.gridster.checkCollision(i.$item)||this.gridster.checkCollision(e.$item)?(e.$item.x=a,e.$item.y=o,i.$item.x=n,i.$item.y=s):(i.setSize(),this.swapedItem=i,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}var Yo=function(r){return r.UP="UP",r.DOWN="DOWN",r.LEFT="LEFT",r.RIGHT="RIGHT",r}(Yo||{});class mr{constructor(e,t,i){this.zone=i,this.collision=!1,this.dragMove=n=>{n.stopPropagation(),n.preventDefault(),_n.checkTouchEvent(n);let s=this.getDirections(n);this.gridster.options.enableBoundaryControl&&(s.includes(Yo.UP)&&this.gridsterItem.el.getBoundingClientRect().top<this.gridster.el.getBoundingClientRect().top+(this.outerMarginTop??this.margin)&&(s=s.filter(a=>a!=Yo.UP),n=new MouseEvent(n.type,{clientX:n.clientX,clientY:this.lastMouse.clientY})),s.includes(Yo.LEFT)&&this.gridsterItem.el.getBoundingClientRect().left<this.gridster.el.getBoundingClientRect().left+(this.outerMarginLeft??this.margin)&&(s=s.filter(a=>a!=Yo.LEFT),n=new MouseEvent(n.type,{clientX:this.lastMouse.clientX,clientY:n.clientY})),s.includes(Yo.RIGHT)&&this.gridsterItem.el.getBoundingClientRect().right>this.gridster.el.getBoundingClientRect().right-(this.outerMarginRight??this.margin)&&(s=s.filter(a=>a!=Yo.RIGHT),n=new MouseEvent(n.type,{clientX:this.lastMouse.clientX,clientY:n.clientY})),s.includes(Yo.DOWN)&&this.gridsterItem.el.getBoundingClientRect().bottom>this.gridster.el.getBoundingClientRect().bottom-(this.outerMarginBottom??this.margin)&&(s=s.filter(a=>a!=Yo.DOWN),n=new MouseEvent(n.type,{clientX:n.clientX,clientY:this.lastMouse.clientY}))),s.length&&(this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,Xc(this.gridster,this.left,this.top,this.width,this.height,n,this.lastMouse,this.calculateItemPositionFromMousePosition),this.calculateItemPositionFromMousePosition(n))},this.calculateItemPositionFromMousePosition=n=>{this.gridster.options.scale?this.calculateItemPositionWithScale(n,this.gridster.options.scale):this.calculateItemPositionWithoutScale(n),this.calculateItemPosition(),this.lastMouse.clientX=n.clientX,this.lastMouse.clientY=n.clientY,this.zone.run(()=>{this.gridster.updateGrid()})},this.dragStop=n=>{n.stopPropagation(),n.preventDefault(),yo(),this.cancelOnBlur(),this.mousemove(),this.mouseup(),this.mouseleave(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-moving"),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.path=[],this.gridster.options.draggable&&this.gridster.options.draggable.stop?Promise.resolve(this.gridster.options.draggable.stop(this.gridsterItem.item,this.gridsterItem,n)).then(this.makeDrag,this.cancelDrag):this.makeDrag(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle(!0))})},this.cancelDrag=()=>{this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push&&this.push.restoreItems(),this.swap&&this.swap.restoreSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)},this.makeDrag=()=>{this.gridster.$options.draggable.dropOverItems&&this.gridster.options.draggable&&this.gridster.options.draggable.dropOverItemsCallback&&this.collision&&!0!==this.collision&&this.collision.$item&&this.gridster.options.draggable.dropOverItemsCallback(this.gridsterItem.item,this.collision.item,this.gridster),this.collision=!1,this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push&&this.push.setPushedItems(),this.swap&&this.swap.setSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)},this.dragStartDelay=n=>{if(n.target.classList.contains("gridster-item-resizable-handler")||_n.checkContentClassForEvent(this.gridster,n))return;if(_n.checkTouchEvent(n),!this.gridster.$options.draggable.delayStart)return void this.dragStart(n);const a=setTimeout(()=>{this.dragStart(n),_()},this.gridster.$options.draggable.delayStart),o=this.gridsterItem.renderer.listen("document","mouseup",_),l=this.gridsterItem.renderer.listen("document","mouseleave",_),c=this.gridsterItem.renderer.listen("window","blur",_),A=this.gridsterItem.renderer.listen("document","touchmove",function d(p){_n.checkTouchEvent(p),(Math.abs(p.clientX-n.clientX)>9||Math.abs(p.clientY-n.clientY)>9)&&_()}),u=this.gridsterItem.renderer.listen("document","touchend",_),f=this.gridsterItem.renderer.listen("document","touchcancel",_);function _(){clearTimeout(a),c(),o(),l(),A(),u(),f()}},this.gridsterItem=e,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.path=[]}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}dragStart(e){e.which&&1!==e.which||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,e),e.stopPropagation(),e.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=e.clientX,this.originalClientY=e.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===js.RTL?e.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:e.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=e.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new lu(this.gridsterItem),this.swap=new kl(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}calculateItemPositionWithScale(e,t){this.left=this.gridster.$options.dirType===js.RTL?this.gridster.el.scrollWidth-this.originalClientX+(e.clientX-this.originalClientX)/t+this.diffLeft:this.originalClientX+(e.clientX-this.originalClientX)/t+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(e.clientY-this.originalClientY)/t+this.offsetTop-this.diffTop}calculateItemPositionWithoutScale(e){this.left=this.gridster.$options.dirType===js.RTL?this.gridster.el.scrollWidth-e.clientX+this.diffLeft:e.clientX+this.offsetLeft-this.diffLeft,this.top=e.clientY+this.offsetTop-this.diffTop}calculateItemPosition(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){const e=this.path[this.path.length-1];let t="";e.x<this.gridsterItem.$item.x?t=this.push.fromWest:e.x>this.gridsterItem.$item.x?t=this.push.fromEast:e.y<this.gridsterItem.$item.y?t=this.push.fromNorth:e.y>this.gridsterItem.$item.y&&(t=this.push.fromSouth),this.push.pushItems(t,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}toggle(){const e=this.gridsterItem.canBeDragged();!this.enabled&&e?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!e&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}getDirections(e){const t=[];return 0===this.lastMouse.clientX&&0===this.lastMouse.clientY&&(this.lastMouse.clientY=e.clientY,this.lastMouse.clientX=e.clientX),this.lastMouse.clientY>e.clientY&&t.push(Yo.UP),this.lastMouse.clientY<e.clientY&&t.push(Yo.DOWN),this.lastMouse.clientX<e.clientX&&t.push(Yo.RIGHT),this.lastMouse.clientX>e.clientX&&t.push(Yo.LEFT),t}}class Nf{constructor(e){this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=e,this.gridster=e.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(e){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,e)}restoreItems(){let e=0;const t=this.pushedItems.length;let i;for(;e<t;e++)i=this.pushedItems[e],i.$item.x=i.item.x||0,i.$item.y=i.item.y||0,i.$item.cols=i.item.cols||1,i.$item.row=i.item.row||1,i.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let e=0;const t=this.pushedItems.length;let i;for(;e<t;e++)i=this.pushedItems[e],i.checkItemChanges(i.$item,i.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let e=this.pushedItems.length-1,t=!1;for(;e>-1;e--)this.checkPushedItem(this.pushedItems[e],e)&&(t=!0);t&&this.checkPushBack()}push(e,t){const i=this.gridster.checkCollision(e.$item);if(i&&!0!==i&&i!==this.gridsterItem&&i.canBeResized()){if(this.tryPattern[t].call(this,i,e,t))return!0}else if(!1===i)return!0;return!1}trySouth(e,t,i){const n=e.$item.y,s=e.$item.rows;return e.$item.y=t.$item.y+t.$item.rows,e.$item.rows=s+n-e.$item.y,this.gridster.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.y=n,e.$item.rows=s,!1):(e.setSize(),this.addToPushed(e),this.push(t,i),!0)}tryNorth(e,t,i){const n=e.$item.rows;return e.$item.rows=t.$item.y-e.$item.y,this.gridster.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.rows=n,!1):(e.setSize(),this.addToPushed(e),this.push(t,i),!0)}tryEast(e,t,i){const n=e.$item.x,s=e.$item.cols;return e.$item.x=t.$item.x+t.$item.cols,e.$item.cols=s+n-e.$item.x,this.gridster.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.x=n,e.$item.cols=s,!1):(e.setSize(),this.addToPushed(e),this.push(t,i),!0)}tryWest(e,t,i){const n=e.$item.cols;return e.$item.cols=t.$item.x-e.$item.x,this.gridster.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.cols=n,!1):(e.setSize(),this.addToPushed(e),this.push(t,i),!0)}addToPushed(e){if(this.pushedItems.indexOf(e)<0)this.pushedItems.push(e),this.pushedItemsPath.push([{x:e.item.x||0,y:e.item.y||0,cols:e.item.cols||0,rows:e.item.rows||0},{x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows}]);else{const t=this.pushedItems.indexOf(e);this.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows})}}removeFromPushed(e){e>-1&&(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1))}checkPushedItem(e,t){const i=this.pushedItemsPath[t];let s,a,o,l,c,n=i.length-2;for(;n>-1;n--)s=i[n],a=e.$item.x,o=e.$item.y,l=e.$item.cols,c=e.$item.rows,e.$item.x=s.x,e.$item.y=s.y,e.$item.cols=s.cols,e.$item.rows=s.rows,this.gridster.findItemWithItem(e.$item)?(e.$item.x=a,e.$item.y=o,e.$item.cols=l,e.$item.rows=c):(e.setSize(),i.splice(n+1,i.length-1-n));return i.length<2&&(this.removeFromPushed(t),!0)}}class ym{constructor(e,t,i){this.zone=i,this.directionFunction=null,this.dragMove=n=>{if(null===this.directionFunction)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");n.stopPropagation(),n.preventDefault(),_n.checkTouchEvent(n),this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,Xc(this.gridster,this.left,this.top,this.width,this.height,n,this.lastMouse,this.directionFunction,!0,this.resizeEventScrollType);const s=this.gridster.options.scale||1;this.directionFunction({clientX:this.originalClientX+(n.clientX-this.originalClientX)/s,clientY:this.originalClientY+(n.clientY-this.originalClientY)/s}),this.lastMouse.clientX=n.clientX,this.lastMouse.clientY=n.clientY,this.zone.run(()=>{this.gridster.updateGrid()})},this.dragStop=n=>{n.stopPropagation(),n.preventDefault(),yo(),this.mousemove(),this.mouseup(),this.mouseleave(),this.cancelOnBlur(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.gridster.options.resizable&&this.gridster.options.resizable.stop?Promise.resolve(this.gridster.options.resizable.stop(this.gridsterItem.item,this.gridsterItem,n)).then(this.makeResize,this.cancelResize):this.makeResize(),setTimeout(()=>{this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-resizing"),this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())})},this.cancelResize=()=>{this.gridsterItem.$item.cols=this.gridsterItem.item.cols||1,this.gridsterItem.$item.rows=this.gridsterItem.item.rows||1,this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push.restoreItems(),this.pushResize.restoreItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null},this.makeResize=()=>{this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push.setPushedItems(),this.pushResize.setPushedItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null},this.handleNorth=n=>{if(this.top=n.clientY+this.offsetTop-this.diffTop,this.height=this.bottom-this.top,this.minHeight>this.height?(this.height=this.minHeight,this.top=this.bottom-this.minHeight):this.gridster.options.enableBoundaryControl&&(this.top=Math.max(0,this.top),this.height=this.bottom-this.top),this.newPosition=this.gridster.pixelsToPositionY(this.top+(this.gridster.options.pushItems?this.margin:0),Math.floor),this.gridsterItem.$item.y!==this.newPosition){if(this.itemBackup[1]=this.gridsterItem.$item.y,this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows+=this.gridsterItem.$item.y-this.newPosition,this.gridsterItem.$item.y=this.newPosition,this.pushResize.pushItems(this.pushResize.fromSouth),this.push.pushItems(this.push.fromSouth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.y=this.itemBackup[1],this.gridsterItem.$item.rows=this.itemBackup[3],this.top=this.gridster.positionYToPixels(this.gridsterItem.$item.y),this.setItemTop(this.gridster.positionYToPixels(this.gridsterItem.$item.y)),void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemTop(this.top),this.setItemHeight(this.height)},this.handleWest=n=>{if(this.left=(this.gridster.$options.dirType===js.RTL?this.originalClientX+(this.originalClientX-n.clientX):n.clientX)+this.offsetLeft-this.diffLeft,this.width=this.right-this.left,this.minWidth>this.width?(this.width=this.minWidth,this.left=this.right-this.minWidth):this.gridster.options.enableBoundaryControl&&(this.left=Math.max(0,this.left),this.width=this.right-this.left),this.newPosition=this.gridster.pixelsToPositionX(this.left+(this.gridster.options.pushItems?this.margin:0),Math.floor),this.gridsterItem.$item.x!==this.newPosition){if(this.itemBackup[0]=this.gridsterItem.$item.x,this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols+=this.gridsterItem.$item.x-this.newPosition,this.gridsterItem.$item.x=this.newPosition,this.pushResize.pushItems(this.pushResize.fromEast),this.push.pushItems(this.push.fromEast,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.x=this.itemBackup[0],this.gridsterItem.$item.cols=this.itemBackup[2],this.left=this.gridster.positionXToPixels(this.gridsterItem.$item.x),this.setItemLeft(this.gridster.positionXToPixels(this.gridsterItem.$item.x)),void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemLeft(this.left),this.setItemWidth(this.width)},this.handleSouth=n=>{if(this.height=n.clientY+this.offsetTop-this.diffBottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight),this.bottom=this.top+this.height,this.gridster.options.enableBoundaryControl){const a=this.outerMarginBottom??this.margin,o=this.gridster.el.getBoundingClientRect();this.bottom=Math.min(this.bottom,o.bottom-o.top-2*a),this.height=this.bottom-this.top}if(this.newPosition=this.gridster.pixelsToPositionY(this.bottom+(this.gridster.options.pushItems?0:this.margin),Math.ceil),this.gridsterItem.$item.y+this.gridsterItem.$item.rows!==this.newPosition){if(this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows=this.newPosition-this.gridsterItem.$item.y,this.pushResize.pushItems(this.pushResize.fromNorth),this.push.pushItems(this.push.fromNorth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.rows=this.itemBackup[3],void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemHeight(this.height)},this.handleEast=n=>{if(this.width=(this.gridster.$options.dirType===js.RTL?this.originalClientX+(this.originalClientX-n.clientX):n.clientX)+this.offsetLeft-this.diffRight-this.left,this.minWidth>this.width&&(this.width=this.minWidth),this.right=this.left+this.width,this.gridster.options.enableBoundaryControl){const o=this.outerMarginRight??this.margin,l=this.gridster.el.getBoundingClientRect();this.right=Math.min(this.right,l.right-l.left-2*o),this.width=this.right-this.left}if(this.newPosition=this.gridster.pixelsToPositionX(this.right+(this.gridster.options.pushItems?0:this.margin),Math.ceil),this.gridsterItem.$item.x+this.gridsterItem.$item.cols!==this.newPosition){if(this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols=this.newPosition-this.gridsterItem.$item.x,this.pushResize.pushItems(this.pushResize.fromWest),this.push.pushItems(this.push.fromWest,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.cols=this.itemBackup[2],void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemWidth(this.width)},this.handleNorthWest=n=>{this.handleNorth(n),this.handleWest(n)},this.handleNorthEast=n=>{this.handleNorth(n),this.handleEast(n)},this.handleSouthWest=n=>{this.handleSouth(n),this.handleWest(n)},this.handleSouthEast=n=>{this.handleSouth(n),this.handleEast(n)},this.gridsterItem=e,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}}destroy(){this.gridster?.previewStyle(),this.gridster=this.gridsterItem=null}dragStart(e){if(e.which&&1!==e.which)return;this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,e),e.stopPropagation(),e.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=e.clientX,this.originalClientY=e.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=e.clientX+this.offsetLeft-this.left,this.diffRight=e.clientX+this.offsetLeft-this.right,this.diffTop=e.clientY+this.offsetTop-this.top,this.diffBottom=e.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new lu(this.gridsterItem),this.pushResize=new Nf(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid();const{classList:t}=e.target;t.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):t.contains("handle-w")?this.gridster.$options.dirType===js.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):t.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):t.contains("handle-e")?this.gridster.$options.dirType===js.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):t.contains("handle-nw")?this.gridster.$options.dirType===js.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):t.contains("handle-ne")?this.gridster.$options.dirType===js.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):t.contains("handle-sw")?this.gridster.$options.dirType===js.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):t.contains("handle-se")&&(this.gridster.$options.dirType===js.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}toggle(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}dragStartDelay(e){if(_n.checkTouchEvent(e),!this.gridster.$options.resizable.delayStart)return void this.dragStart(e);const t=setTimeout(()=>{this.dragStart(e),A()},this.gridster.$options.resizable.delayStart),{cancelMouse:i,cancelMouseLeave:n,cancelOnBlur:s,cancelTouchMove:a,cancelTouchEnd:o,cancelTouchCancel:l}=this.zone.runOutsideAngular(()=>({cancelMouse:this.gridsterItem.renderer.listen("document","mouseup",A),cancelMouseLeave:this.gridsterItem.renderer.listen("document","mouseleave",A),cancelOnBlur:this.gridsterItem.renderer.listen("window","blur",A),cancelTouchMove:this.gridsterItem.renderer.listen("document","touchmove",c),cancelTouchEnd:this.gridsterItem.renderer.listen("document","touchend",A),cancelTouchCancel:this.gridsterItem.renderer.listen("document","touchcancel",A)}));function c(u){_n.checkTouchEvent(u),(Math.abs(u.clientX-e.clientX)>9||Math.abs(u.clientY-e.clientY)>9)&&A()}function A(){clearTimeout(t),s(),i(),n(),a(),o(),l()}}setItemTop(e){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,e)}setItemLeft(e){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,e,this.top)}setItemHeight(e){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",e+"px")}setItemWidth(e){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",e+"px")}}let Hf=(()=>{class r{get zIndex(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}constructor(t,i,n,s){this.renderer=n,this.zone=s,this.itemInit=new h.vpe,this.itemChange=new h.vpe,this.itemResize=new h.vpe,this.el=t.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=i,this.drag=new mr(this,i,this.zone),this.resize=new ym(this,i,this.zone)}ngOnInit(){this.gridster.addItem(this)}ngOnChanges(t){t.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),t.item&&t.item.previousValue&&this.setSize()}updateOptions(){this.$item=_n.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}ngOnDestroy(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}setSize(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}updateItemSize(){const i=this.$item.x*this.gridster.curColWidth,n=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,s=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=i,!this.init&&n>0&&s>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(n!==this.width||s!==this.height)&&(this.width=n,this.height=s,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}itemChanged(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}checkItemChanges(t,i){t.rows===i.rows&&t.cols===i.cols&&t.x===i.x&&t.y===i.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=i.x||0,this.$item.y=i.y||0,this.$item.cols=i.cols||1,this.$item.rows=i.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}canBeDragged(){const t=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&t&&(void 0===this.$item.dragEnabled?t:this.$item.dragEnabled)}canBeResized(){const t=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&t&&(void 0===this.$item.resizeEnabled?t:this.$item.resizeEnabled)}getResizableHandles(){const t=this.gridster.$options.resizable.handles,i=this.$item.resizableHandles;return void 0===i?t:{...t,...i}}bringToFront(t){if(t&&t<=0)return;const i=this.getLayerIndex(),n=this.gridster.$options.maxLayerIndex;if(i<n){const s=t?i+t:n;this.item.layerIndex=this.$item.layerIndex=s>n?n:s}}sendToBack(t){if(t&&t<=0)return;const i=this.getLayerIndex();if(i>0){const n=t?i-t:0;this.item.layerIndex=this.$item.layerIndex=n<0?0:n}}getLayerIndex(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(h.SBq),h.Y36(ad),h.Y36(h.Qsj),h.Y36(h.R0b))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(i,n){2&i&&h.Udp("z-index",n.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},standalone:!0,features:[h.TTD,h.jDz],ngContentSelectors:Bh,decls:9,vars:8,consts:[["class","gridster-item-resizable-handler handle-s",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-e",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-n",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-w",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-se",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-ne",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-sw",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-nw",3,"mousedown","touchstart",4,"ngIf"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(i,n){1&i&&(h.F$t(),h.Hsn(0),h.YNc(1,Lr,1,0,"div",0),h.YNc(2,v0,1,0,"div",1),h.YNc(3,Pf,1,0,"div",2),h.YNc(4,Rf,1,0,"div",3),h.YNc(5,dA,1,0,"div",4),h.YNc(6,Vl,1,0,"div",5),h.YNc(7,w0,1,0,"div",6),h.YNc(8,Kc,1,0,"div",7)),2&i&&(h.xp6(1),h.Q6J("ngIf",(null==n.resize.resizableHandles?null:n.resize.resizableHandles.s)&&n.resize.resizeEnabled),h.xp6(1),h.Q6J("ngIf",(null==n.resize.resizableHandles?null:n.resize.resizableHandles.e)&&n.resize.resizeEnabled),h.xp6(1),h.Q6J("ngIf",(null==n.resize.resizableHandles?null:n.resize.resizableHandles.n)&&n.resize.resizeEnabled),h.xp6(1),h.Q6J("ngIf",(null==n.resize.resizableHandles?null:n.resize.resizableHandles.w)&&n.resize.resizeEnabled),h.xp6(1),h.Q6J("ngIf",(null==n.resize.resizableHandles?null:n.resize.resizableHandles.se)&&n.resize.resizeEnabled),h.xp6(1),h.Q6J("ngIf",(null==n.resize.resizableHandles?null:n.resize.resizableHandles.ne)&&n.resize.resizeEnabled),h.xp6(1),h.Q6J("ngIf",(null==n.resize.resizableHandles?null:n.resize.resizableHandles.sw)&&n.resize.resizeEnabled),h.xp6(1),h.Q6J("ngIf",(null==n.resize.resizableHandles?null:n.resize.resizableHandles.nw)&&n.resize.resizeEnabled))},dependencies:[G.O5],styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:white;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2})}return r})(),rl=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({})}return r})();var Au=ge(2507);const uu=["gridSterContainer"],Bm=["gridster"];function Cm(r,e){if(1&r&&(h.TgZ(0,"gridster-item",6),h._UZ(1,"panel-container",7),h.qZA()),2&r){const t=e.$implicit,i=h.oxw();h.Q6J("item",t.gridSterConfig),h.xp6(1),h.Q6J("panel",t)("colorGrid",i.options.colorGrid)}}let Em=(()=>{class r extends Au.H{get container(){return this.containerRef.nativeElement}constructor(t,i){super(),this.dashboardStore=t,this.dockManager=i,this.mainForm=new Dt.cw({}),this.options={useTransformPositioning:!0,mobileBreakpoint:640,useBodyForBreakpoint:!1,maxItemCols:100,minItemCols:1,maxItemRows:100,minItemRows:1,maxItemArea:2500,minItemArea:1,defaultItemCols:1,defaultItemRows:1,fixedColWidth:105,fixedRowHeight:105,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,scrollSensitivity:10,scrollSpeed:20,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,margin:0,draggable:{enabled:!1},resizable:{enabled:!1},swap:!0,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,itemChangeCallback:(n,s)=>{this.dockManager.updateGridSterComponent(n)},itemResizeCallback:(n,s)=>{this.dockManager.updateGridSterComponent(n)}}}ngOnInit(){this.updateGrid(this.dockManager.getDashboardGridConfig),this.safeObservable(this.dockManager.lockActiveDashboardLayout$()).subscribe(t=>{t?(this.options.draggable.enabled=!1,this.options.resizable.enabled=!1):(this.options.draggable.enabled=!0,this.options.resizable.enabled=!0),this.options.api&&this.options.api.optionsChanged&&this.options.api.optionsChanged(),this.gridSter?.updateGrid()})}ngAfterViewInit(){new ResizeObserver(()=>{this.updateGrid(this.options)}).observe(this.container)}addFormField(t){t.forEach(i=>{"Form"===i.type&&this.mainForm.addControl(i.config.content.Name,new Dt.NI(0))})}updateGrid(t){this.options={...this.options,...t,displayGrid:sd.None}}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(er.yh),h.Y36(zM))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-gridster"]],viewQuery:function(i,n){if(1&i&&(h.Gf(uu,5),h.Gf(Bm,5)),2&i){let s;h.iGM(s=h.CRH())&&(n.containerRef=s.first),h.iGM(s=h.CRH())&&(n.gridSter=s.first)}},features:[h.qOj],decls:6,vars:3,consts:[[2,"width","100%","height","100%"],["gridSterContainer",""],[3,"formGroup"],[1,"gridster-container",3,"options"],["gridster",""],[3,"item",4,"ngFor","ngForOf"],[3,"item"],[3,"panel","colorGrid"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0,1),h.ynx(2,2),h.TgZ(3,"gridster",3,4),h.YNc(5,Cm,2,3,"gridster-item",5),h.qZA(),h.BQk(),h.qZA()),2&i&&(h.xp6(2),h.Q6J("formGroup",n.mainForm),h.xp6(1),h.Q6J("options",n.options),h.xp6(2),h.Q6J("ngForOf",n.dockManager.gridSterPanels))},styles:[".container[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#7b7a7f}.grid-item-content[_ngcontent-%COMP%]{width:100%;height:100%}.grid-item-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%}*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.gridster-container[_ngcontent-%COMP%]{background-color:#7b7a7f}"]})}return r})();function wc(r,e){const t=r.length;for(let i=0;i<t;++i)if(r[i]===e)return i;return-1}function zf(r,e){const t=r.length,i=new Array(t);for(let n=0;n<t;++n)i[n]=e(r[n],n);return i}function Xe(r,e){const t=r.length;for(let i=0;i<t;++i)e(r[i],i)}function Eh(r,e){let t=r.length;for(;t>0;)--t,e(r[t],t)}function Gf(r,e){const t=r.length;for(let i=0;i<t&&e(r[i],i);++i);}function xo(r,e){let t=!1,i=0;for(;;){if(i=r.indexOf(e,i),-1===i)return t;t=!0,r.splice(i,1)}}function ta(r,e){let t=r.indexOf(e);return-1!==t&&(r.splice(t,1),!0)}function Mh(r,e,t){let i=wc(r,e);-1!==i&&du(r,i),null==t?r.push(e):Th(r,t,e)}function Ll(r,e){-1===r.indexOf(e)&&r.push(e)}function ld(r){const e=r.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=r[i];return t}function Th(r,e,t){r.splice(e,0,t)}function du(r,e){r.splice(e,1)}function gA(r,e){const t=r.length;for(let i=0;i<t;++i)if(e(r[i],i))return i;return-1}function Dm(r,e){const t=gA(r,e);if(-1!==t)return r[t]}function Vf(r,e){let t=0,i=r.length,n=!1;for(;t<i;){const s=t+i>>1,a=e(r[s]);a<0?t=s+1:0===a?(n=!0,t=s+1):i=s}return{found:n,index:n?t-1:t}}function Sm(r,e){let t=0,i=r.length,n=!1;for(;t<i;){const s=t+i>>1,a=e(r[s]);a<0?t=s+1:(0===a&&(n=!0),i=s)}return{found:n,index:t}}function fu(r,e){let t=r.length;for(;t>0;)--t,e(r[t])||r.splice(t,1)}class hd{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Hs{constructor(e){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=e}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Im extends hd{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){Xe(this._disposers,e=>{e.dispose()})}}class Gi extends hd{constructor(e){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=e}_dispose(){Xe(this._disposers,e=>{e.dispose()})}get disposers(){return this._disposers}}class S0 extends Hs{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new Hs(()=>{--this._counter,0===this._counter&&this.dispose()})}}function ia(r){return Number(r)!==r}function Wo(r){if(null!=r&&!at(r)){let e=Number(r);return ia(e)&&sl(r)&&""!=r?Wo(r.replace(/[^0-9.\-]+/g,"")):e}return r}function Fm(r){if(pu(r))return new Date(r);if(at(r))return new Date(r);{let e=Number(r);return at(e)?new Date(e):new Date(r)}}function Jf(r,e){return new Array(e+1).join(r)}function pu(r){return"[object Date]"===function jf(r){return{}.toString.call(r)}(r)}function sl(r){return"string"==typeof r}function at(r){return"number"==typeof r&&Number(r)==r}function ud(r){return"object"==typeof r&&null!==r}const qc="__\xa7\xa7\xa7__",_A="__\xa7\xa7\xa7\xa7__";class vA{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{Xe(e,t=>{t.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return 0!==this._listeners.length}hasListenersByType(e){return function y0(r,e){const t=r.length;for(let i=0;i<t;++i)if(e(r[i]))return!0;return!1}(this._listeners,t=>(null===t.type||t.type===e)&&!t.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(e){delete this._disabled[e]}disableType(e,t=1/0){this._disabled[e]=t}_removeListener(e){if(0===this._iterating){const t=this._listeners.indexOf(e);if(-1===t)throw new Error("Invalid state: could not remove listener");this._listeners.splice(t,1)}else this._killed.push(e)}_removeExistingListener(e,t,i,n){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(s=>{s.once===e&&s.type===t&&(void 0===i||s.callback===i)&&s.context===n&&s.disposer.dispose()})}isEnabled(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&void 0===this._disabled[e]}removeType(e){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(t=>{t.type===e&&t.disposer.dispose()})}has(e,t,i){return-1!==gA(this._listeners,s=>!0!==s.once&&s.type===e&&(void 0===t||s.callback===t)&&s.context===i)}_shouldDispatch(e){if(this._disposed)throw new Error("EventDispatcher is disposed");const t=this._disabled[e];return at(t)?(t<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled}_eachListener(e){++this._iterating;try{Xe(this._listeners,e)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(Xe(this._killed,t=>{this._removeListener(t)}),this._killed.length=0)}}dispatch(e,t){this._shouldDispatch(e)&&this._eachListener(i=>{!i.killed&&(null===i.type||i.type===e)&&i.dispatch(e,t)})}_on(e,t,i,n,s,a){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,t,i,n);const o={type:t,callback:i,context:n,shouldClone:s,dispatch:a,killed:!1,once:e,disposer:new Hs(()=>{o.killed=!0,this._removeListener(o)})};return this._listeners.push(o),o}onAll(e,t,i=!0){return this._on(!1,null,e,t,i,(n,s)=>e.call(t,s)).disposer}on(e,t,i,n=!0){return this._on(!1,e,t,i,n,(s,a)=>t.call(i,a)).disposer}once(e,t,i,n=!0){const s=this._on(!0,e,t,i,n,(a,o)=>{s.disposer.dispose(),t.call(i,o)});return s.disposer}off(e,t,i){this._removeExistingListener(!1,e,t,i)}copyFrom(e){if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const t=[];return Xe(e._listeners,i=>{!i.killed&&i.shouldClone&&t.push(null===i.type?this.onAll(i.callback,i.context):i.once?this.once(i.type,i.callback,i.context):this.on(i.type,i.callback,i.context))}),new Gi(t)}}function mu(r,e){if(!(r>=0&&r<e))throw new Error("Index out of bounds: "+r)}class wA{constructor(e=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new vA}),this._values=e}get values(){return this._values}contains(e){return-1!==this._values.indexOf(e)}removeValue(e){let t=0,i=this._values.length;for(;t<i;)this._values[t]===e?(this.removeIndex(t),--i):++t}indexOf(e){return wc(this._values,e)}get length(){return this._values.length}hasIndex(e){return e>=0&&e<this._values.length}getIndex(e){return this._values[e]}_onPush(e){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:e})}_onInsertIndex(e,t){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t})}_onSetIndex(e,t,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:e,oldValue:t,newValue:i})}_onRemoveIndex(e,t){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:t})}_onMoveIndex(e,t,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:e,newIndex:t,value:i})}_onClear(e){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:e})}setIndex(e,t){mu(e,this._values.length);const i=this._values[e];return i!==t&&(this._values[e]=t,this._onSetIndex(e,i,t)),i}insertIndex(e,t){return mu(e,this._values.length+1),Th(this._values,e,t),this._onInsertIndex(e,t),t}swap(e,t){const i=this._values.length;if(mu(e,i),mu(t,i),e!==t){const n=this._values[e],s=this._values[t];this._values[e]=s,this._onSetIndex(e,n,s),this._values[t]=n,this._onSetIndex(t,s,n)}}removeIndex(e){mu(e,this._values.length);const t=this._values[e];return du(this._values,e),this._onRemoveIndex(e,t),t}moveValue(e,t){let i=this.indexOf(e);if(-1!==i)if(du(this._values,i),null==t){const n=this._values.length;this._values.push(e),this._onMoveIndex(i,n,e)}else Th(this._values,t,e),this._onMoveIndex(i,t,e);else null==t?(this._values.push(e),this._onPush(e)):(Th(this._values,t,e),this._onInsertIndex(t,e));return e}push(e){return this._values.push(e),this._onPush(e),e}unshift(e){return this.insertIndex(0,e),e}pushAll(e){Xe(e,t=>{this.push(t)})}copyFrom(e){this.pushAll(e._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(e){const t=this._values;this._values=[],this._onClear(t),Xe(e,i=>{this._values.push(i),this._onPush(i)})}clear(){this.setAll([])}*[Symbol.iterator](){const e=this._values.length;for(let t=0;t<e;++t)yield this._values[t]}each(e){Xe(this._values,e)}eachReverse(e){Eh(this._values,e)}}class dd extends wA{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(e,t,i){this.autoDispose&&t.dispose(),super._onSetIndex(e,t,i)}_onRemoveIndex(e,t){this.autoDispose&&t.dispose(),super._onRemoveIndex(e,t)}_onClear(e){this.autoDispose&&Xe(e,t=>{t.dispose()}),super._onClear(e)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this.autoDispose&&Xe(this._values,e=>{e.dispose()}))}}class Kr extends dd{constructor(e,t){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e,this.make=t}}class Zf extends wA{constructor(e){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=e,this._events=this.events.onAll(t=>{if("clear"===t.type)Xe(t.oldValues,i=>{this._onRemoved(i)});else if("push"===t.type)this._onInserted(t.newValue);else if("setIndex"===t.type)this._onRemoved(t.oldValue),this._onInserted(t.newValue,t.index);else if("insertIndex"===t.type)this._onInserted(t.newValue,t.index);else if("removeIndex"===t.type)this._onRemoved(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");this._onRemoved(t.value),this._onInserted(t.value,t.newIndex)}})}_onInserted(e,t){e._setParent(this._container,!0);const i=this._container._childrenDisplay;void 0===t?i.addChild(e._display):i.addChildAt(e._display,t)}_onRemoved(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),Xe(this.values,e=>{e.dispose()}))}}class vn{constructor(e){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=e}get value(){return this._value/100}get percent(){return this._value}toString(){return this._value+"%"}interpolate(e,t){return e+this.value*(t-e)}static normalize(e,t,i){return e instanceof vn?e:new vn(t===i?0:100*Math.min(Math.max(1/(i-t)*(e-t),0),1))}}function Tr(r){return new vn(r)}const fd=Tr(0),hi=Tr(100),pn=Tr(50);var zs=ge(4911);function os(r,e,t,i){return r.addEventListener(e,t,i||!1),new Hs(()=>{r.removeEventListener(e,t,i||!1)})}function km(r){return os(window,"resize",e=>{r()})}function al(r){switch(r){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function Xf(r){return r.pointerId||0}function qf(r){if(al("pointerevents"))return r;if(al("touchevents"))switch(r){case"pointerover":case"pointerdown":return"touchstart";case"pointerout":case"pointerleave":case"pointerup":return"touchend";case"pointermove":return"touchmove";case"click":return"click";case"dblclick":return"dblclick"}else if(al("mouseevents"))switch(r){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return r}function Pm(r){if(typeof Touch<"u"&&r instanceof Touch)return!0;if(typeof PointerEvent<"u"&&r instanceof PointerEvent&&null!=r.pointerType)switch(r.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(r instanceof MouseEvent)}else if(null!=r.type&&r.type.match(/^mouse/))return!1;return!0}function $f(r,e,t){r.style[e]=t}function P0(r){if(r.composedPath){const e=r.composedPath();return 0===e.length?null:e[0]}return r.target}function Um(r,e){return r.target&&function Rm(r,e){let t=e;for(;;){if(r===t)return!0;if(null===t.parentNode){if(null==t.host)return!1;t=t.host}else t=t.parentNode}}(e.root.dom,r.target)}function gu(r,e){r.style.pointerEvents=e?"auto":"none"}function ur(r,e){return at(r)?r:null!=r&&at(r.value)&&at(e)?e*r.value:0}function vs(r,e=0,t="0"){return"string"!=typeof r&&(r=r.toString()),e>r.length?Array(e-r.length+1).join(t)+r:r}function yc(r){return function Ai(r){return r.replace(/^[\s]*/,"")}(function pd(r){return r.replace(/[\s]*$/,"")}(r))}function $c(r){return r.replace(/\/(date|number|duration)$/i,"")}function _u(r){return r&&r.replace(/<[^>]*>/g,"")}function vu(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function ol(r,e=!1){const t=new Date(r.getFullYear(),0,0),i=r.getTime()-t.getTime()+60*(t.getTimezoneOffset()-r.getTimezoneOffset())*1e3;return Math.floor(i/864e5)}function Dh(r,e=!1){const t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate())),i=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-i);const n=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-n.getTime())/864e5+1)/7)}function eh(r,e=!1){const t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate())),i=t.getUTCDay()||7;return t.setUTCDate(t.getUTCDate()+4-i),new Date(Date.UTC(t.getUTCFullYear(),0,1)).getFullYear()}function tp(r,e=!1){const t=Dh(new Date(r.getFullYear(),r.getMonth(),1),e);let i=Dh(r,e);return 1==i&&(i=53),i-t+1}function gd(r,e){return r>12?r-=12:0===r&&(r=12),null!=e?r+(e-1):r}function yA(r,e=!1,t=!1,i=!1,n){if(i)return e?"Coordinated Universal Time":"UTC";if(n){const o=r.toLocaleString("en-US",{timeZone:n});return yc(r.toLocaleString("en-US",{timeZone:n,timeZoneName:e?"long":"short"}).substr(o.length))}let s=r.toLocaleString("UTC"),a=r.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(s.length);return!1===t&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),yc(a)}function O0(r){const e=new Date(Date.UTC(2012,0,1,0,0,0,0)),t=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:r})).getTime()-t.getTime())/6e4*-1}function _d(r){return r.charAt(0).toUpperCase()+r.slice(1)}function np(r){let e,t,i,n=r.h,s=r.s,a=r.l;if(0==s)e=t=i=a;else{let o=function(u,f,d){return d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?u+6*(f-u)*d:d<.5?f:d<.6666666666666666?u+(f-u)*(.6666666666666666-d)*6:u},l=a<.5?a*(1+s):a+s-a*s,c=2*a-l;e=o(c,l,n+1/3),t=o(c,l,n),i=o(c,l,n-1/3)}return{r:Math.round(255*e),g:Math.round(255*t),b:Math.round(255*i)}}function Om(r){let e=r.r/255,t=r.g/255,i=r.b/255,n=Math.max(e,t,i),s=Math.min(e,t,i),a=0,o=0,l=(n+s)/2;if(n===s)a=o=0;else{let c=n-s;switch(o=l>.5?c/(2-n-s):c/(n+s),n){case e:a=(t-i)/c+(t<i?6:0);break;case t:a=(i-e)/c+2;break;case i:a=(e-t)/c+4}a/=6}return{h:a,s:o,l}}function vd(r,e){return Math.round((e>0?255-r:r)*e)}function Hm(r){return(299*r.r+587*r.g+114*r.b)/1e3>=128}function Sn(r,e){return r||(r=[]),[...r,...e].filter((t,i,n)=>n.indexOf(t)===i)}function Gm(r,e){return!(!e||r.left!=e.left||r.right!=e.right||r.top!=e.top||r.bottom!=e.bottom)}function Ym(r){return"#"===r[0]&&(r=r.substr(1)),3==r.length&&(r=r[0].repeat(2)+r[1].repeat(2)+r[2].repeat(2)),parseInt(r,16)}function Qr(r){return Wi.fromAny(r)}class Wi{constructor(e){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=0|e}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return 255&this._hex}toCSS(e=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"}toCSSHex(){return"#"+vs(this.r.toString(16),2)+vs(this.g.toString(16),2)+vs(this.b.toString(16),2)}toHSL(e=1){return Om({r:this.r,g:this.g,b:this.b,a:e})}static fromHSL(e,t,i){const n=np({h:e,s:t,l:i});return this.fromRGB(n.r,n.g,n.b)}toString(){return this.toCSSHex()}static fromHex(e){return new Wi(e)}static fromRGB(e,t,i){return new Wi((0|i)+(t<<8)+(e<<16))}static fromString(e){return new Wi(Ym(e))}static fromCSS(e){return new Wi(function Wm(r){let e=(r=r.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=r.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return 0;let t="";for(let i=1;i<=3;i++){let n=parseInt(e[i]).toString(16);1==n.length&&(n="0"+n),t+=n}return Ym(t)}(e))}static fromAny(e){if(sl(e)){if("#"==e[0])return Wi.fromString(e);if("rgb"==e.substr(0,3))return Wi.fromCSS(e)}else{if(at(e))return Wi.fromHex(e);if(e instanceof Wi)return Wi.fromHex(e.hex)}throw new Error("Unknown color syntax: "+e)}static alternative(e,t,i){const n=function zm(r,e={r:255,g:255,b:255},t={r:255,g:255,b:255}){let i=e,n=t;return Hm(t)&&(i=t,n=e),Hm(r)?n:i}({r:e.r,g:e.g,b:e.b},t?{r:t.r,g:t.g,b:t.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(n.r,n.g,n.b)}static interpolate(e,t,i,n="rgb"){if("hsl"==n){const s=t.toHSL(),a=i.toHSL();return Wi.fromHSL(Bc(e,s.h,a.h),Bc(e,s.s,a.s),Bc(e,s.l,a.l))}return Wi.fromRGB(Bc(e,t.r,i.r),Bc(e,t.g,i.g),Bc(e,t.b,i.b))}static lighten(e,t){const i=function N0(r,e){return r&&{r:Math.max(0,Math.min(255,r.r+vd(r.r,e))),g:Math.max(0,Math.min(255,r.g+vd(r.g,e))),b:Math.max(0,Math.min(255,r.b+vd(r.b,e))),a:r.a}}({r:e.r,g:e.g,b:e.b},t);return Wi.fromRGB(i.r,i.g,i.b)}static brighten(e,t){const i=function wd(r,e){if(r){let i=vd(Math.min(Math.max(r.r,r.g,r.b),230),e);return{r:Math.max(0,Math.min(255,Math.round(r.r+i))),g:Math.max(0,Math.min(255,Math.round(r.g+i))),b:Math.max(0,Math.min(255,Math.round(r.b+i))),a:r.a}}return r}({r:e.r,g:e.g,b:e.b},t);return Wi.fromRGB(i.r,i.g,i.b)}static saturate(e,t){const i=function H0(r,e){if(void 0===r||1==e)return r;let t=Om(r);return t.s=e,np(t)}({r:e.r,g:e.g,b:e.b},t);return Wi.fromRGB(i.r,i.g,i.b)}}function Gr(r){return Object.keys(r)}function xc(r){return Object.assign({},r)}function gr(r,e){Gr(r).forEach(t=>{e(t,r[t])})}function z0(r,e){return{}.hasOwnProperty.call(r,e)}function rp(r){return(0,zs.mG)(this,void 0,void 0,function*(){if(void 0!==r){const e=[];gr(r,(t,i)=>{e.push(i.waitForStop())}),yield Promise.all(e)}})}function Bc(r,e,t){return e+r*(t-e)}function G0(r,e,t){return r>=1?t:e}function Jm(r,e,t){return new vn(Bc(r,e.percent,t.percent))}function sp(r,e,t){return Wi.interpolate(r,e,t)}function b(r){return r}function j(r){return r*r*r}function Ji(r){return function(e){return 1-r(1-e)}}Math;Math.asin(1);class aB{constructor(e,t){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e,this._settings=t,gr(t,i=>{this._userSettings[i]=!0})}get(e,t){const i=this._settings[e];return void 0!==i?i:t}setRaw(e,t){this._settings[e]=t}set(e,t){this._userSettings[e]=!0,this.setRaw(e,t)}remove(e){delete this._userSettings[e],delete this._settings[e]}setAll(e){Gr(e).forEach(t=>{this.set(t,e[t])})}_eachSetting(e){gr(this._settings,e)}apply(){const e={stateAnimationEasing:!0,stateAnimationDuration:!0},t=this._entity.states.lookup("default");this._eachSetting((i,n)=>{e[i]||(e[i]=!0,this!==t&&(i in t._settings||(t._settings[i]=this._entity.get(i))),this._entity.set(i,n))})}applyAnimate(e){null==e&&(e=this._settings.stateAnimationDuration),null==e&&(e=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let t=this._settings.stateAnimationEasing;null==t&&(t=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",j)));const i=this._entity.states.lookup("default"),n={stateAnimationEasing:!0,stateAnimationDuration:!0},s={};return this._eachSetting((a,o)=>{if(!n[a]){n[a]=!0,this!=i&&(a in i._settings||(i._settings[a]=this._entity.get(a)));const l=this._entity.animate({key:a,to:o,duration:e,easing:t});l&&(s[a]=l)}}),s}}class oB{constructor(e){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=e}lookup(e){return this._states[e]}create(e,t){const i=this._states[e];if(i)return i.setAll(t),i;{const n=new aB(this._entity,t);return this._states[e]=n,n}}remove(e){delete this._states[e]}apply(e){const t=this._states[e];t&&t.apply(),this._entity._applyState(e)}applyAnimate(e,t){let i;const n=this._states[e];return n&&(i=n.applyAnimate(t)),this._entity._applyStateAnimated(e,t),i}}const Pl=new class lB{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.7.2"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};function Cc(r,e){return r===e?0:r<e?-1:1}function Km(r,e,t){const i=r.length,n=e.length,s=Math.min(i,n);for(let a=0;a<s;++a){const o=t(r[a],e[a]);if(0!==o)return o}return Cc(i,n)}function rb(r,e){return r===e?0:r<e?-1:1}class AB{constructor(e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e}add(e,t){let i=this._callbacks[e];return void 0===i&&(i=this._callbacks[e]=[]),i.push(t),this._entity._markDirtyKey(e),new Hs(()=>{ta(i,t)&&this._entity._markDirtyKey(e)})}remove(e){const t=this._callbacks[e];void 0!==t&&(delete this._callbacks[e],0!==t.length&&this._entity._markDirtyKey(e))}enable(e){this._disabled[e]&&(delete this._disabled[e],this._entity._markDirtyKey(e))}disable(e){this._disabled[e]||(this._disabled[e]=!0,this._entity._markDirtyKey(e))}fold(e,t){if(!this._disabled[e]){const i=this._callbacks[e];if(void 0!==i)for(let n=0,s=i.length;n<s;++n)t=i[n](t,this._entity,e)}return t}}class Zm{constructor(e,t,i,n,s,a,o){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new vA}),this._animation=e,this._from=t,this._to=i,this._duration=n,this._easing=s,this._loops=a,this._interpolate=function D(r,e){return"number"==typeof r&&"number"==typeof e?Bc:r instanceof vn&&e instanceof vn?Jm:r instanceof Wi&&e instanceof Wi?sp:G0}(t,i),this._oldTime=o}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((e,t)=>{if(this._stopped)e();else{const n=this.events.on("stopped",()=>{n.dispose(),e()})}})}_checkEnded(){return!(this._loops>1&&(--this._loops,1))}_run(e){null!==this._oldTime&&(this._time+=e-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=e}_reset(e){this._oldTime=e,this._time=0}_value(e){return this._interpolate(this._easing(e),this._from,this._to)}}let Xm=0;class op{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++Xm}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_playingAnimations",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._settings=e}_checkDirty(){Gr(this._settings).forEach(e=>{this._userProperties[e]=!0,this._markDirtyKey(e)})}resetUserSettings(){this._userProperties={}}_runAnimation(e){return!this.isDisposed()&&(gr(this._animatingSettings,(t,i)=>{if(i._stopped)this._stopAnimation(t);else if(i._playing){i._run(e);const n=i.percentage;n>=1?i._checkEnded()?this.set(t,i._value(1)):(i._reset(e),this._set(t,i._value(1))):this._set(t,i._value(n))}}),gr(this._animatingPrivateSettings,(t,i)=>{if(i._stopped)this._stopAnimationPrivate(t);else if(i._playing){i._run(e);const n=i.percentage;n>=1?i._checkEnded()?this.setPrivate(t,i._value(1)):(i._reset(e),this._setPrivate(t,i._value(1))):this._setPrivate(t,i._value(n))}}),0!==this._playingAnimations)}_markDirtyKey(e){this.markDirty()}_markDirtyPrivateKey(e){this.markDirty()}on(e,t){let i=this._settingEvents[e];return void 0===i&&(i=this._settingEvents[e]=[]),i.push(t),new Hs(()=>{ta(i,t),0===i.length&&delete this._settingEvents[e]})}onPrivate(e,t){let i=this._privateSettingEvents[e];return void 0===i&&(i=this._privateSettingEvents[e]=[]),i.push(t),new Hs(()=>{ta(i,t),0===i.length&&delete this._privateSettingEvents[e]})}getRaw(e,t){const i=this._settings[e];return void 0!==i?i:t}get(e,t){return this.getRaw(e,t)}_sendKeyEvent(e,t){const i=this._settingEvents[e];void 0!==i&&Xe(i,n=>{n(t,this,e)})}_sendPrivateKeyEvent(e,t){const i=this._privateSettingEvents[e];void 0!==i&&Xe(i,n=>{n(t,this,e)})}_setRaw(e,t,i){this._prevSettings[e]=t,this._sendKeyEvent(e,i)}setRaw(e,t){const i=this._settings[e];this._settings[e]=t,i!==t&&this._setRaw(e,i,t)}_set(e,t){const i=this._settings[e];this._settings[e]=t,i!==t&&(this._setRaw(e,i,t),this._markDirtyKey(e))}_stopAnimation(e){const t=this._animatingSettings[e];t&&(--this._playingAnimations,delete this._animatingSettings[e],t.stop())}set(e,t){return this._set(e,t),this._stopAnimation(e),t}remove(e){e in this._settings&&(this._prevSettings[e]=this._settings[e],delete this._settings[e],this._sendKeyEvent(e,void 0),this._markDirtyKey(e)),this._stopAnimation(e)}removeAll(){Xe(Gr(this._settings),e=>{this.remove(e)})}getPrivate(e,t){const i=this._privateSettings[e];return void 0!==i?i:t}_setPrivateRaw(e,t,i){this._prevPrivateSettings[e]=t,this._sendPrivateKeyEvent(e,i)}setPrivateRaw(e,t){const i=this._privateSettings[e];this._privateSettings[e]=t,i!==t&&this._setPrivateRaw(e,i,t)}_setPrivate(e,t){const i=this._privateSettings[e];this._privateSettings[e]=t,i!==t&&(this._setPrivateRaw(e,i,t),this._markDirtyPrivateKey(e))}_stopAnimationPrivate(e){const t=this._animatingPrivateSettings[e];t&&(--this._playingAnimations,t.stop(),delete this._animatingPrivateSettings[e])}setPrivate(e,t){return this._setPrivate(e,t),this._stopAnimationPrivate(e),t}removePrivate(e){e in this._privateSettings&&(this._prevPrivateSettings[e]=this._privateSettings[e],delete this._privateSettings[e],this._markDirtyPrivateKey(e)),this._stopAnimationPrivate(e)}setAll(e){gr(e,(t,i)=>{this.set(t,i)})}animate(e){const t=e.key,i=e.to,n=e.duration||0,s=e.loops||1,a=void 0===e.from?this.get(t):e.from,o=void 0===e.easing?b:e.easing;if(0===n)this.set(t,i);else{if(void 0!==a&&a!==i){this.set(t,a);const c=this._animatingSettings[t]=new Zm(this,a,i,n,o,s,this._animationTime());return++this._playingAnimations,this._startAnimation(),c}this.set(t,i)}const l=new Zm(this,a,i,n,o,s,null);return l.stop(),l}animatePrivate(e){const t=e.key,i=e.to,n=e.duration||0,s=e.loops||1,a=void 0===e.from?this.getPrivate(t):e.from,o=void 0===e.easing?b:e.easing;if(0===n)this.setPrivate(t,i);else{if(void 0!==a&&a!==i){this.setPrivate(t,a);const c=this._animatingPrivateSettings[t]=new Zm(this,a,i,n,o,s,this._animationTime());return++this._playingAnimations,this._startAnimation(),c}this.setPrivate(t,i)}const l=new Zm(this,a,i,n,o,s,null);return l.stop(),l}_dispose(){}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class na extends op{constructor(e,t,i,n=[]){if(super(t),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new oB(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new AB(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=e,this._internalTemplates=n,t.id&&this._registerId(t.id)}static new(e,t,i){const n=new this(e,t,!0);return n._template=i,n._afterNew(),n}static _new(e,t,i=[]){const n=new this(e,t,!0,i);return n._afterNew(),n}_afterNew(){this._checkDirty();let e=!1;const t=this._template;t&&(e=!0,t._setObjectTemplate(this)),Xe(this._internalTemplates,i=>{e=!0,i._setObjectTemplate(this)}),e&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const e=this._template;e&&e._setObjectTemplate(this),Xe(this._internalTemplates,t=>{t._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new vA}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefault(e,t){e in this._settings||super.set(e,t)}_setRawDefault(e,t){e in this._settings||super.setRaw(e,t)}_clearDirty(){Gr(this._dirty).forEach(e=>{this._dirty[e]=!1}),Gr(this._dirtyPrivate).forEach(e=>{this._dirtyPrivate[e]=!1})}isDirty(e){return!!this._dirty[e]}isPrivateDirty(e){return!!this._dirtyPrivate[e]}_markDirtyKey(e){this._dirty[e]=!0,super._markDirtyKey(e)}_markDirtyPrivateKey(e){this._dirtyPrivate[e]=!0,super._markDirtyKey(e)}isType(e){return-1!==this.classNames.indexOf(e)}_pushPropertyDisposer(e,t){let i=this._disposerProperties[e];return void 0===i&&(i=this._disposerProperties[e]=[]),i.push(t),t}_disposeProperty(e){const t=this._disposerProperties[e];void 0!==t&&(Xe(t,i=>{i.dispose()}),delete this._disposerProperties[e])}set template(e){const t=this._template;t!==e&&(this._template=e,t&&t._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(e){}_applyStateAnimated(e,t){}get(e,t){const i=this.adapters.fold(e,this._settings[e]);return void 0!==i?i:t}isUserSetting(e){return this._userProperties[e]||!1}set(e,t){return this._userProperties[e]=!0,super.set(e,t)}setRaw(e,t){this._userProperties[e]=!0,super.setRaw(e,t)}_setSoft(e,t){return this._userProperties[e]?t:super.set(e,t)}remove(e){delete this._userProperties[e],this._removeTemplateProperty(e)}setPrivate(e,t){return this._userPrivateProperties[e]=!0,super.setPrivate(e,t)}setPrivateRaw(e,t){this._userPrivateProperties[e]=!0,super.setPrivateRaw(e,t)}removePrivate(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}_setTemplateProperty(e,t,i){this._userProperties[t]||e===this._findTemplateByKey(t)&&super.set(t,i)}_setTemplatePrivateProperty(e,t,i){this._userPrivateProperties[t]||e===this._findTemplateByPrivateKey(t)&&super.setPrivate(t,i)}_removeTemplateProperty(e){if(!this._userProperties[e]){const t=this._findTemplateByKey(e);t?super.set(e,t._settings[e]):super.remove(e)}}_removeTemplatePrivateProperty(e){if(!this._userPrivateProperties[e]){const t=this._findTemplateByPrivateKey(e);t?super.setPrivate(e,t._privateSettings[e]):super.removePrivate(e)}}_walkParents(e){e(this._root._rootContainer),e(this)}_applyStateByKey(e){const t=this.states.create(e,{}),i={};this._eachTemplate(n=>{const s=n.states.lookup(e);s&&s._apply(t,i)}),gr(t._settings,n=>{!i[n]&&!t._userSettings[n]&&t.remove(n)})}_applyTemplate(e,t){this._templateDisposers.push(e._apply(this,t)),gr(e._settings,(i,n)=>{!t.settings[i]&&!this._userProperties[i]&&(t.settings[i]=!0,super.set(i,n))}),gr(e._privateSettings,(i,n)=>{!t.privateSettings[i]&&!this._userPrivateProperties[i]&&(t.privateSettings[i]=!0,super.setPrivate(i,n))}),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}_findStaticTemplate(e){if(this._template&&e(this._template))return this._template}_eachTemplate(e){this._findStaticTemplate(t=>(e(t),!1)),Eh(this._internalTemplates,e),Xe(this._templates,e)}_applyTemplates(e=!0){e&&this._disposeTemplates();const t={settings:{},privateSettings:{},states:{}};this._eachTemplate(i=>{this._applyTemplate(i,t)}),e&&(gr(this._settings,i=>{!this._userProperties[i]&&!t.settings[i]&&super.remove(i)}),gr(this._privateSettings,i=>{!this._userPrivateProperties[i]&&!t.privateSettings[i]&&super.removePrivate(i)}))}_findTemplate(e){const t=this._findStaticTemplate(e);if(void 0===t){const i=function T0(r,e){const t=function Tm(r,e){let t=r.length;for(;t>0;)if(--t,e(r[t],t))return t;return-1}(r,e);if(-1!==t)return r[t]}(this._internalTemplates,e);return void 0===i?Dm(this._templates,e):i}return t}_findTemplateByKey(e){return this._findTemplate(t=>e in t._settings)}_findTemplateByPrivateKey(e){return this._findTemplate(t=>e in t._privateSettings)}_disposeTemplates(){Xe(this._templateDisposers,e=>{e.dispose()}),this._templateDisposers.length=0}_removeTemplates(){Xe(this._templates,e=>{e._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(e=!1){let t=!1;const i=[];let n=[];const s=new Set,a=this.get("themeTagsSelf");return a&&Xe(a,o=>{s.add(o)}),this._walkParents(o=>{o===this._root._rootContainer&&(t=!0),o._defaultThemes.length>0&&i.push(o._defaultThemes);const l=o.get("themes");l&&n.push(l);const c=o.get("themeTags");c&&Xe(c,A=>{s.add(A)})}),n=i.concat(n),this._removeTemplates(),(t||e)&&Eh(this.classNames,o=>{const l=[];Xe(n,c=>{Xe(c,A=>{const u=A._lookupRules(o);u&&Eh(u,f=>{if(f.tags.every(_=>s.has(_))){const _=Sm(l,p=>{const g=Cc(f.tags.length,p.tags.length);return 0===g?Km(f.tags,p.tags,Cc):g});l.splice(_.index,0,f)}})})}),Xe(l,c=>{this._templates.push(c.template),c.template._setObjectTemplate(this)})}),this._applyTemplates(),(t||e)&&(this._runSetup=!1),t||e}_changed(){}_beforeChanged(){if(this.isDirty("id")){const e=this.get("id");e&&this._registerId(e);const t=this._prevSettings.id;t&&delete Pl.entitiesById[t]}}_registerId(e){if(Pl.entitiesById[e]&&Pl.entitiesById[e]!==this)throw new Error('An entity with id "'+e+'" already exists.');Pl.entitiesById[e]=this}_afterChanged(){}addDisposer(e){return this._disposers.push(e),e}_dispose(){super._dispose();const e=this._template;e&&e._removeObjectTemplate(this),Xe(this._internalTemplates,i=>{i._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(i=>{i.dispose()}),gr(this._disposerProperties,(i,n)=>{Xe(n,s=>{s.dispose()})});const t=this.get("id");t&&delete Pl.entitiesById[t]}setTimeout(e,t){const i=setTimeout(()=>{this.removeDispose(n),e()},t),n=new Hs(()=>{clearTimeout(i)});return this._disposers.push(n),n}removeDispose(e){if(!this.isDisposed()){let t=wc(this._disposers,e);t>-1&&this._disposers.splice(t,1)}e.dispose()}hasTag(e){return-1!==wc(this.get("themeTags",[]),e)}addTag(e){if(!this.hasTag(e)){const t=this.get("themeTags",[]);t.push(e),this.set("themeTags",t)}}removeTag(e){if(this.hasTag(e)){const t=this.get("themeTags",[]);xo(t,e),this.set("themeTags",t)}}_t(e,t,...i){return this._root.language.translate(e,t,...i)}get root(){return this._root}}Object.defineProperty(na,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"}),Object.defineProperty(na,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});class sb{constructor(e,t,i){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=e,this._template=t,this._settings=i}get(e,t){const i=this._settings[e];return void 0!==i?i:t}set(e,t){this._settings[e]=t,this._template._stateChanged(this._name)}remove(e){delete this._settings[e],this._template._stateChanged(this._name)}setAll(e){Gr(e).forEach(t=>{this._settings[t]=e[t]}),this._template._stateChanged(this._name)}_apply(e,t){gr(this._settings,(i,n)=>{!t[i]&&!e._userSettings[i]&&(t[i]=!0,e.setRaw(i,n))})}}class J0{constructor(e){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=e}lookup(e){return this._states[e]}create(e,t){const i=this._states[e];if(i)return i.setAll(t),i;{const n=new sb(e,this._template,t);return this._states[e]=n,this._template._stateChanged(e),n}}remove(e){delete this._states[e],this._template._stateChanged(e)}_apply(e,t){gr(this._states,(i,n)=>{let s=t.states[i];null==s&&(s=t.states[i]={});const a=e.states.create(i,{});n._apply(a,s)})}}class ab{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(e,t){let i=this._callbacks[e];return void 0===i&&(i=this._callbacks[e]=[]),i.push(t),new Hs(()=>{ta(i,t),0===i.length&&delete this._callbacks[e]})}remove(e){void 0!==this._callbacks[e]&&delete this._callbacks[e]}_apply(e){const t=[];return gr(this._callbacks,(i,n)=>{Xe(n,s=>{t.push(e.adapters.add(i,s))})}),new Gi(t)}}class Pr{constructor(e,t){if(Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new J0(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new ab}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new vA}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e}static new(e){return new Pr(e,!0)}get entities(){return this._entities}get(e,t){const i=this._settings[e];return void 0!==i?i:t}setRaw(e,t){this._settings[e]=t}set(e,t){this._settings[e]!==t&&(this.setRaw(e,t),this._entities.forEach(i=>{i._setTemplateProperty(this,e,t)}))}remove(e){e in this._settings&&(delete this._settings[e],this._entities.forEach(t=>{t._removeTemplateProperty(e)}))}removeAll(){gr(this._settings,(e,t)=>{this.remove(e)})}getPrivate(e,t){const i=this._privateSettings[e];return void 0!==i?i:t}setPrivateRaw(e,t){return this._privateSettings[e]=t,t}setPrivate(e,t){return this._privateSettings[e]!==t&&(this.setPrivateRaw(e,t),this._entities.forEach(i=>{i._setTemplatePrivateProperty(this,e,t)})),t}removePrivate(e){e in this._privateSettings&&(delete this._privateSettings[e],this._entities.forEach(t=>{t._removeTemplatePrivateProperty(e)}))}setAll(e){gr(e,(t,i)=>{this.set(t,i)})}on(e,t){let i=this._settingEvents[e];return void 0===i&&(i=this._settingEvents[e]=[]),i.push(t),new Hs(()=>{ta(i,t),0===i.length&&delete this._settingEvents[e]})}onPrivate(e,t){let i=this._privateSettingEvents[e];return void 0===i&&(i=this._privateSettingEvents[e]=[]),i.push(t),new Hs(()=>{ta(i,t),0===i.length&&delete this._privateSettingEvents[e]})}_apply(e,t){const i=[];return gr(this._settingEvents,(n,s)=>{Xe(s,a=>{i.push(e.on(n,a))})}),gr(this._privateSettingEvents,(n,s)=>{Xe(s,a=>{i.push(e.onPrivate(n,a))})}),this.states._apply(e,t),i.push(this.adapters._apply(e)),i.push(e.events.copyFrom(this.events)),new Gi(i)}_setObjectTemplate(e){this._entities.push(e)}_removeObjectTemplate(e){xo(this._entities,e)}_stateChanged(e){this._entities.forEach(t=>{t._applyStateByKey(e)})}}const qm=Math.PI,Co=qm/180,th=180/qm;function Na(r,e,t){if(!at(e)||e<=0){let i=Math.round(r);return t&&i-r==.5&&i--,i}{let i=Math.pow(10,e);return Math.round(r*i)/i}}function ls(r,e,t){return Math.min(Math.max(r,e),t)}function Ks(r){return Math.sin(Co*r)}function co(r){return Math.cos(Co*r)}function Ih(r){return(r%=360)<0&&(r+=360),r}function lp(r,e,t,i,n){let s=Number.MAX_VALUE,a=Number.MAX_VALUE,o=-Number.MAX_VALUE,l=-Number.MAX_VALUE,c=[];c.push(Z0(n,t)),c.push(Z0(n,i));let A=Math.min(90*Math.floor(t/90),90*Math.floor(i/90)),u=Math.max(90*Math.ceil(t/90),90*Math.ceil(i/90));for(let f=A;f<=u;f+=90)f>=t&&f<=i&&c.push(Z0(n,f));for(let f=0;f<c.length;f++){let d=c[f];d.x<s&&(s=d.x),d.y<a&&(a=d.y),d.x>o&&(o=d.x),d.y>l&&(l=d.y)}return{left:r+s,top:e+a,right:r+o,bottom:e+l}}function Z0(r,e){return{x:r*co(e),y:r*Ks(e)}}function X0(r){const e=r.length;if(e>0){let t=r[0],i=t.left,n=t.top,s=t.right,a=t.bottom;if(e>1)for(let o=1;o<e;o++)t=r[o],i=Math.min(t.left,i),s=Math.max(t.right,s),n=Math.min(t.top,n),a=Math.max(t.bottom,a);return{left:i,right:s,top:n,bottom:a}}return{left:0,right:0,top:0,bottom:0}}class cp extends vA{constructor(e){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=e}_makePointerEvent(e,t){return{type:e,originalEvent:t.event,point:t.point,simulated:t.simulated,native:t.native,target:this._sprite}}_onRenderer(e,t){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let i=this._rendererDisposers[e];if(void 0===i){const n=this._sprite._display.on(e,s=>{t.call(this,s)});i=this._rendererDisposers[e]=new S0(()=>{delete this._rendererDisposers[e],n.dispose()})}return i.increment()}_on(e,t,i,n,s,a){const o=super._on(e,t,i,n,s,a),l=cp.RENDERER_EVENTS[t];return void 0!==l&&(o.disposer=new Gi([o.disposer,this._onRenderer(t,l)])),o}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(e,t){const i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,t),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,t)}finally{this._dispatchParents=i}}}Object.defineProperty(cp,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(r){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",r))&&this.dispatch("click",this._makePointerEvent("click",r))},rightclick:function(r){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",r))},middleclick:function(r){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",r))},dblclick:function(r){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",r))},pointerover:function(r){const e=this._sprite;let t=!0;if(e.getPrivate("trustBounds")){e._getBounds();const i=e.globalBounds();(function lb(r,e){return r.x>=e.left&&r.y>=e.top&&r.x<=e.right&&r.y<=e.bottom})(r.point,i)||(t=!1,e._root._renderer.removeHovering(e._display))}t&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",r))},pointerout:function(r){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",r))},pointerdown:function(r){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",r))},pointerup:function(r){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",r))},globalpointerup:function(r){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",r))},globalpointermove:function(r){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",r))},wheel:function(r){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:r.event,point:r.point})}}});class Kl extends na{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}_markDirtyKey(e){super._markDirtyKey(e),("x"==e||"y"==e||"dx"==e||"dy"==e)&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(e){super._markDirtyPrivateKey(e),("x"==e||"y"==e)&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new cp(this)}_processTemplateField(){let e;const t=this.get("templateField");if(t){const i=this.dataItem;if(i){const n=i.dataContext;n&&(e=n[t],!(e instanceof Pr)&&e&&(e=Pr.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}_setDataItem(e){const t=this._dataItem;this._dataItem=e,this._processTemplateField();const i="dataitemchanged";e!=t&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:t,newDataItem:e})}set dataItem(e){this._setDataItem(e)}get dataItem(){if(this._dataItem)return this._dataItem;{let e=this._parent;for(;e;){if(e._dataItem)return e._dataItem;e=e._parent}}}_addPercentageSizeChildren(){let e=this.parent;e&&(this.get("width")instanceof vn||this.get("height")instanceof vn?Ll(e._percentageSizeChildren,this):ta(e._percentageSizeChildren,this))}_addPercentagePositionChildren(){let e=this.parent;e&&(this.get("x")instanceof vn||this.get("y")instanceof vn?Ll(e._percentagePositionChildren,this):ta(e._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const e=this._localBounds;if(e){const t=this.get("centerX");null!=t&&(this._display.pivot.x=e.left+ur(t,e.right-e.left));const i=this.get("centerY");null!=i&&(this._display.pivot.y=e.top+ur(i,e.bottom-e.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const e=this._prevSettings.tooltip;e&&e.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const e=this._tooltipMoveDp;e&&(e.dispose(),this._tooltipMoveDp=void 0);const t=this._tooltipPointerDp;t&&(t.dispose(),this._tooltipPointerDp=void 0),"pointer"==this.get("tooltipPosition")&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})),this._tooltipPointerDp=new Gi([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})}),this.events.on("pointerout",()=>{const i=this._tooltipMoveDp;i&&(i.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const e=this._display,t=this.events;if(this.isDirty("draggable")){const n=this.get("draggable");n?(this.set("interactive",!0),this._dragDp=new Gi([t.on("pointerdown",s=>{this.dragStart(s)}),t.on("globalpointermove",s=>{this.dragMove(s)}),t.on("globalpointerup",s=>{this.dragStop(s)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),e.cancelTouch=!!n}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const n=this.get("tooltipText"),s=this.get("tooltipHTML"),a=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(n||s)&&("click"==a?(this._tooltipDp=new Gi([t.on("click",()=>{this.setTimeout(()=>this.showTooltip(),10)}),os(document,"click",o=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):"always"==a||(this._tooltipDp=new Gi([t.on("pointerover",()=>{this.showTooltip()}),t.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let n=this.get("toggleKey");n&&"none"!=n?this._toggleDp=t.on("click",()=>{this._isDragging||this.set(n,!this.get(n))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(e.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),e.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),e.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?e.visible=!0:(e.visible=!1,this.hideTooltip()),this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const n=this.parent;n&&(this.isDirty("width")&&this.get("width")instanceof vn||this.isDirty("height")&&this.get("height")instanceof vn)&&(n.markDirty(),n._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const n=this.get("wheelable");n&&this.set("interactive",!0),e.wheelable=!!n}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(e.filter=this.get("filter"));let i=this.get("filter","");if(this.isDirty("blur")){const n=this.get("blur",0);0!=n&&(i+=" blur("+n+"px)")}if(this.isDirty("saturate")){const n=this.get("saturate",1);1!=n&&(i+=" saturate("+n+")")}if(this.isDirty("brightness")){const n=this.get("brightness",1);1!=n&&(i+=" brightness("+n+")")}if(this.isDirty("contrast")){const n=this.get("contrast",1);1!=n&&(i+=" contrast("+n+")")}if(this.isDirty("sepia")){const n=this.get("sepia",0);0!=n&&(i+=" sepia("+n+")")}if(this.isDirty("hue")){const n=this.get("hue",0);0!=n&&(i+=" hue-rotate("+n+"deg)")}if(this.isDirty("invert")){const n=this.get("invert",0);0!=n&&(i+=" invert("+n+")")}if(i&&(e.filter=i),this.isDirty("cursorOverStyle")&&(e.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new Gi([t.on("focus",()=>{this.showTooltip()}),t.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility()),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(e.exportable=this.get("exportable")),this.isDirty("interactive")){const n=this.events;this.get("interactive")?this._hoverDp=new Gi([n.on("click",s=>{Pm(s.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:s.target,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})},10))}),n.on("globalpointerup",s=>{Pm(s.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:s.target,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})),this._isDown&&this._handleUp(s)}),n.on("pointerover",()=>{this._handleOver()}),n.on("pointerout",()=>{this._handleOut()}),n.on("pointerdown",s=>{this._handleDown(s)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),"always"==this.get("showTooltipOn")&&this._display.visible&&this.showTooltip()}dragStart(e){this._dragEvent=e,this.events.stopParentDispatch()}dragStop(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const t="dragstop";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const t=Xf(e.originalEvent);delete this._downPoints[t],0==Gr(this._downPoints).length&&(this._isDown=!1)}}_hasMoved(e){const t=Xf(e.originalEvent),i=this._downPoints[t];if(i){const n=Math.abs(i.x-e.point.x),s=Math.abs(i.y-e.point.y);return n>5||s>5}return!1}_hasDown(){return Gr(this._downPoints).length>0}_handleDown(e){const t=this.parent;if(t&&!this.get("draggable")&&t._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;const i=Xf(e.originalEvent);this._downPoints[i]={x:e.point.x,y:e.point.y}}}dragMove(e){let t=this._dragEvent;if(t){if(t.simulated&&!e.simulated)return!0;let i=0,n=this.parent;for(;null!=n;)i+=n.get("rotation",0),n=n.parent;let s=e.point.x-t.point.x,a=e.point.y-t.point.y;const o=this.events;if(t.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const l="dragstart";o.isEnabled(l)&&o.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){let l=this._dragPoint;this.set("x",l.x+s*co(i)+a*Ks(i)),this.set("y",l.y+a*co(i)-s*Ks(i));const c="dragged";o.isEnabled(c)&&o.dispatch(c,{type:c,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(s,a)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const l="dragstart";o.isEnabled(l)&&o.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let e=this.parent,t=0;for(;;){if(!e)return t;++t,e=e.parent}}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();const t=this.parent;t&&"absolute"!=this.get("position")&&(null==t.get("width")||null==t.get("height")||t.get("layout"))&&t.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const e=this._adjustedLocalBounds;let t;if(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),t=this._adjustedLocalBounds):(t={left:0,right:0,top:0,bottom:0},this._localBounds=t,this._adjustedLocalBounds=t),!e||e.left!==t.left||e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom){const i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds())}}_fixMinBounds(e){let t=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));at(t)&&e.right-e.left<t&&(e.right=e.left+t),at(i)&&e.bottom-e.top<i&&(e.bottom=e.top+i);let n=this.getPrivate("width"),s=this.getPrivate("height");at(n)&&(n>0?e.right=e.left+n:e.left=e.right+n),at(s)&&(s>0?e.bottom=e.top+s:e.top=e.bottom+s)}_removeParent(e){e&&(e.children.removeValue(this),ta(e._percentageSizeChildren,this),ta(e._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.showTooltip(),this._handleOver()}unhover(){this.hideTooltip(),this._handleOut()}showTooltip(e){const t=this.getTooltip(),i=this.get("tooltipText"),n=this.get("tooltipHTML");if((i||n)&&t){const s=this.get("tooltipPosition"),a=this.getPrivate("tooltipTarget",this);("fixed"==s||!e)&&(this._display._setMatrix(),e=this.toGlobal(a._getTooltipPoint())),t.set("pointTo",e),t.set("tooltipTarget",a),t.get("x")||t.set("x",e.x),t.get("y")||t.set("y",e.y),i&&t.label.set("text",i),n&&t.label.set("html",n);const o=this.dataItem;if(o&&t.label._setDataItem(o),"always"==this.get("showTooltipOn")&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height()))return void this.hideTooltip();t.label.text.markDirtyText();const l=t.show();return this.setPrivateRaw("showingTooltip",!0),l}}hideTooltip(){const e=this.getTooltip();if(e&&(e.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==e)){let t=e.get("keepTargetHover")&&0==e.get("stateAnimationDuration",0)?400:void 0;const i=e.hide(t);return this.setPrivateRaw("showingTooltip",!1),i}}_getTooltipPoint(){const e=this._localBounds;if(e){let t=0,i=0;return this.get("isMeasured")?(t=e.left+ur(this.get("tooltipX",0),e.right-e.left),i=e.top+ur(this.get("tooltipY",0),e.bottom-e.top)):(t=ur(this.get("tooltipX",0),this.width()),i=ur(this.get("tooltipY",0),this.height())),{x:t,y:i}}return{x:0,y:0}}getTooltip(){let e=this.get("tooltip");if(e)return e;{let t=this.parent;if(t)return t.getTooltip()}}_updatePosition(){const e=this.parent;let t=this.get("dx",0),i=this.get("dy",0),n=this.get("x"),s=this.getPrivate("x"),a=0,o=0;const l=this.get("position");n instanceof vn&&(n=e?e.innerWidth()*n.value+e.get("paddingLeft",0):0),at(n)?a=n+t:null!=s?a=s:e&&"relative"==l&&(a=e.get("paddingLeft",0)+t);let c=this.get("y"),A=this.getPrivate("y");c instanceof vn&&(c=e?e.innerHeight()*c.value+e.get("paddingTop",0):0),at(c)?o=c+i:null!=A?o=A:e&&"relative"==l&&(o=e.get("paddingTop",0)+i);const u=this._display;if(u.x!=a||u.y!=o){u.invalidateBounds(),u.x=a,u.y=o;const f="positionchanged";this.events.isEnabled(f)&&this.events.dispatch(f,{type:f,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let e=this.get("x"),t=this.getPrivate("x");const i=this.parent;return i?e instanceof vn?ur(e,i.innerWidth())+i.get("paddingLeft",0):at(e)?e:t??i.get("paddingLeft",this._display.x):this._display.x}y(){let e=this.getPrivate("y");if(null!=e)return e;let t=this.get("y");const i=this.parent;return i?t instanceof vn?ur(t,i.innerHeight())+i.get("paddingTop",0):at(t)?t:e??i.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const e=this.get("tooltip");e&&e.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const e=this._adjustedLocalBounds,t=this.x(),i=this.y();return{left:e.left+t,right:e.right+t,top:e.top+i,bottom:e.bottom+i}}globalBounds(){const e=this.localBounds(),t=this.toGlobal({x:e.left,y:e.top}),i=this.toGlobal({x:e.right,y:e.top}),n=this.toGlobal({x:e.right,y:e.bottom}),s=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(t.x,i.x,n.x,s.x),top:Math.min(t.y,i.y,n.y,s.y),right:Math.max(t.x,i.x,n.x,s.x),bottom:Math.max(t.y,i.y,n.y,s.y)}}_onShow(e){}_onHide(e){}appear(e,t){return(0,zs.mG)(this,void 0,void 0,function*(){return yield this.hide(0),t?new Promise((i,n)=>{this.setTimeout(()=>{i(this.show(e))},t)}):this.show(e)})}show(e){return(0,zs.mG)(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e);const t=this.states.applyAnimate("default",e);yield rp(t),this._isShowing=!1}})}hide(e){return(0,zs.mG)(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let t=this.states.lookup("hidden");t||(t=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e);const i=this.states.applyAnimate("hidden",e);yield rp(i),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const e=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*e:e}width(){let e=this.get("width"),t=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),n=this.getPrivate("width"),s=0;if(at(n))s=n;else if(null==e)this._adjustedLocalBounds&&(s=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof vn){const a=this.parent;s=a?a.innerWidth()*e.value:this._root.width()*e.value}else at(e)&&(s=e);return at(i)&&(s=Math.max(i,s)),at(t)&&(s=Math.min(t,s)),s}maxWidth(){let e=this.get("maxWidth",this.getPrivate("maxWidth"));if(at(e))return e;{let i=this.get("width");if(at(i))return i}const t=this.parent;return t?t.innerWidth():this._root.width()}maxHeight(){let e=this.get("maxHeight",this.getPrivate("maxHeight"));if(at(e))return e;{let i=this.get("height");if(at(i))return i}const t=this.parent;return t?t.innerHeight():this._root.height()}height(){let e=this.get("height"),t=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),n=this.getPrivate("height"),s=0;if(at(n))s=n;else if(null==e)this._adjustedLocalBounds&&(s=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof vn){const a=this.parent;s=a?a.innerHeight()*e.value:this._root.height()*e.value}else at(e)&&(s=e);return at(i)&&(s=Math.max(i,s)),at(t)&&(s=Math.min(t,s)),s}_findStaticTemplate(e){return this._templateField&&e(this._templateField)?this._templateField:super._findStaticTemplate(e)}_walkParents(e){this._parent&&this._walkParent(e)}_walkParent(e){this._parent&&this._parent._walkParent(e),e(this)}get parent(){return this._parent}_setParent(e,t=!1){const i=this._parent;e!==i&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,t&&(this._removeParent(i),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(e){return this._display.toGlobal(e)}toLocal(e){return this._display.toLocal(e)}_getDownPoint(){const e=this._getDownPointId();if(e)return this._downPoints[e]}_getDownPointId(){if(this._downPoints)return function bd(r,e){return Gr(r).sort(e)}(this._downPoints,(e,t)=>e>t?1:e<t?-1:0)[0]}toFront(){const e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}toBack(){const e=this.parent;e&&e.children.moveValue(this,0)}}Object.defineProperty(Kl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"}),Object.defineProperty(Kl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:na.classNames.concat([Kl.className])});class hp extends na{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("repetition",""),t=this.get("width",100),i=this.get("height",100),n=this.get("fill"),s=this.get("fillOpacity",1),a=this._backgroundDisplay,o=this._display;o.clear(),a.clear(),n&&s>0&&(a.beginFill(n,s),a.drawRect(0,0,t,i),a.endFill()),o.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(o,a,e,t,i)}this._clear=!1}}Object.defineProperty(hp,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"}),Object.defineProperty(hp,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:na.classNames.concat([hp.className])});class xd extends hp{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();const e=this.get("canvas");e&&(this.set("width",e.width),this.set("height",e.height))}_draw(){super._draw();const e=this._image;if(e){const i=this.get("width",100),n=this.get("height",100),s=this.get("fit","image");let a=0,o=0;"pattern"==s?(a=i,o=n):(a=e.width,o=e.height,"image"==s&&(this.set("width",a),this.set("height",o)));let c=0,A=0;this.get("centered",!0)&&(c=i/2-a/2,A=n/2-o/2),this._display.image(e,a,o,c,A)}const t=this.get("canvas");t&&this._display.image(t,t.width,t.height,0,0)}_load(){const e=this.get("src");if(e){const t=new Image;t.src=e,t.decode().then(()=>{this._image=t,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(i=>{})}}}Object.defineProperty(xd,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"}),Object.defineProperty(xd,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hp.classNames.concat([xd.className])});var $m=function(r){return r.ADD="lighter",r.COLOR="color",r.COLOR_BURN="color-burn",r.COLOR_DODGE="color-dodge",r.DARKEN="darken",r.DIFFERENCE="difference",r.DST_OVER="destination-over",r.EXCLUSION="exclusion",r.HARD_LIGHT="hard-light",r.HUE="hue",r.LIGHTEN="lighten",r.LUMINOSITY="luminosity",r.MULTIPLY="multiply",r.NORMAL="source-over",r.OVERLAY="overlay",r.SATURATION="saturation",r.SCREEN="screen",r.SOFT_LIGHT="soft-light",r.SRC_ATOP="source-atop",r.XOR="xor",r}($m||{});const ev=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset","shadowBlur","shadowColor","shadowOpacity","shadowOffsetX","shadowOffsetY","blur","sepia","invert","brightness","hue","contrast","saturate"];class lr extends Kl{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const e=this.get("fillGradient");if(e){this._display.isMeasured=!0;const t=e.get("target");t&&(this._disposers.push(t.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(t.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){const e=this.get("strokeGradient");if(e){this._display.isMeasured=!0;const t=e.get("target");t&&(this._disposers.push(t.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(t.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let e=this.get("strokeDasharray");at(e)&&(e=e<.5?[0]:[e]),this._display.setLineDash(e);const t=this.get("strokeDashoffset");t&&this._display.setLineDashOffset(t);const i=this.get("blendMode",$m.NORMAL);this._display.blendMode=i;const n=this.get("draw");n&&n(this._display,this);const s=this.get("svgPath");null!=s&&this._display.svgPath(s)}}_afterChanged(){if(super._afterChanged(),this._clear){const e=this.get("fill"),t=this.get("fillGradient"),i=this.get("fillPattern"),n=this.get("fillOpacity"),s=this.get("stroke"),a=this.get("strokeGradient"),o=this.get("strokePattern"),l=this.get("shadowColor"),c=this.get("shadowBlur"),A=this.get("shadowOffsetX"),u=this.get("shadowOffsetY"),f=this.get("shadowOpacity");if(l&&(c||A||u)&&this._display.shadow(l,c,A,u,f),e&&!t&&(this._display.beginFill(e,n),this._display.endFill()),t){if(e){const _=t.get("stops",[]);_.length&&Xe(_,p=>{(!p.color||p.colorInherited)&&e&&(p.color=e,p.colorInherited=!0),(null==p.opacity||p.opacityInherited)&&(p.opacity=n,p.opacityInherited=!0)})}const d=t.getFill(this);d&&(this._display.beginFill(d,n),this._display.endFill())}if(i){const d=i.pattern;d&&(this._display.beginFill(d,n),this._display.endFill(),i instanceof xd&&i.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(s||a||o){const d=this.get("strokeOpacity");let _=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(_/=this.get("scale",1)),this.get("crisp")&&(_/=this._root._renderer.resolution);const p=this.get("lineJoin");if(s&&!a&&(this._display.lineStyle(_,s,d,p),this._display.endStroke()),a){const g=a.get("stops",[]);g.length&&Xe(g,C=>{(!C.color||C.colorInherited)&&s&&(C.color=s,C.colorInherited=!0),(null==C.opacity||C.opacityInherited)&&(C.opacity=d,C.opacityInherited=!0)});const m=a.getFill(this);m&&(this._display.lineStyle(_,m,d,p),this._display.endStroke())}if(o){let g=o.pattern;g&&(this._display.lineStyle(_,g,d,p),this._display.endStroke(),o instanceof xd&&o.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(lr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"}),Object.defineProperty(lr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Kl.classNames.concat([lr.className])});class Ha extends lr{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}function ih(r,e){r.get("reverseChildren",!1)?r.children.eachReverse(e):r.children.each(e)}Object.defineProperty(Ha,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"}),Object.defineProperty(Ha,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lr.classNames.concat([Ha.className])});class Or extends na{}Object.defineProperty(Or,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"}),Object.defineProperty(Or,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:na.classNames.concat([Or.className])});class Zl extends Or{updateContainer(e){let t=e.get("paddingLeft",0),i=e.innerWidth(),n=0;ih(e,a=>{if(a.isVisible()&&"relative"==a.get("position")){let o=a.get("width");if(o instanceof vn){n+=o.value;let l=i*o.value,c=a.get("minWidth",a.getPrivate("minWidth",-1/0));c>l&&(i-=c,n-=o.value);let A=a.get("maxWidth",a.getPrivate("maxWidth",1/0));l>A&&(i-=A,n-=o.value)}else at(o)||(o=a.width()),i-=o+a.get("marginLeft",0)+a.get("marginRight",0)}}),(i<=0||i==1/0)&&(i=.1),ih(e,a=>{if(a.isVisible()&&"relative"==a.get("position")){let o=a.get("width");if(o instanceof vn){let l=i*o.value/n-a.get("marginLeft",0)-a.get("marginRight",0),c=a.get("minWidth",a.getPrivate("minWidth",-1/0)),A=a.get("maxWidth",a.getPrivate("maxWidth",1/0));l=Math.min(Math.max(c,l),A),a.setPrivate("width",l)}else a._prevSettings.width instanceof vn&&a.setPrivate("width",void 0)}});let s=t;ih(e,a=>{if("relative"==a.get("position"))if(a.isVisible()){let o=a.adjustedLocalBounds(),l=a.get("marginLeft",0),c=a.get("marginRight",0),A=a.get("maxWidth"),u=o.left,f=o.right;A&&f-u>A&&(f=u+A);let d=s+l-u;a.setPrivate("x",d),s=d+f+c}else a.setPrivate("x",void 0)})}}Object.defineProperty(Zl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"}),Object.defineProperty(Zl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Or.classNames.concat([Zl.className])});class Ec extends Or{updateContainer(e){let t=e.get("paddingTop",0),i=e.innerHeight(),n=0;ih(e,a=>{if(a.isVisible()&&"relative"==a.get("position")){let o=a.get("height");if(o instanceof vn){n+=o.value;let l=i*o.value,c=a.get("minHeight",a.getPrivate("minHeight",-1/0));c>l&&(i-=c,n-=o.value);let A=a.get("maxHeight",a.getPrivate("maxHeight",1/0));l>A&&(i-=A,n-=o.value)}else at(o)||(o=a.height()),i-=o+a.get("marginTop",0)+a.get("marginBottom",0)}}),(i<=0||i==1/0)&&(i=.1),ih(e,a=>{if(a.isVisible()&&"relative"==a.get("position")){let o=a.get("height");if(o instanceof vn){let l=i*o.value/n-a.get("marginTop",0)-a.get("marginBottom",0),c=a.get("minHeight",a.getPrivate("minHeight",-1/0)),A=a.get("maxHeight",a.getPrivate("maxHeight",1/0));l=Math.min(Math.max(c,l),A),a.setPrivate("height",l)}else a._prevSettings.height instanceof vn&&a.setPrivate("height",void 0)}});let s=t;ih(e,a=>{if("relative"==a.get("position"))if(a.isVisible()){let o=a.adjustedLocalBounds(),l=a.get("marginTop",0),c=o.top,A=o.bottom,u=a.get("maxHeight");u&&A-c>u&&(A=c+u);let f=a.get("marginBottom",0),d=s+l-c;a.setPrivate("y",d),s=d+A+f}else a.setPrivate("y",void 0)})}}Object.defineProperty(Ec,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"}),Object.defineProperty(Ec,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Or.classNames.concat([Ec.className])});class cl extends Or{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(e){let t=e.get("paddingLeft",0),i=e.get("paddingRight",0),n=e.get("paddingTop",0),s=e.maxWidth()-t-i,a=s,o=1;ih(e,_=>{if(_.get("visible")&&_.getPrivate("visible")&&!_.get("forceHidden")&&"absolute"!=_.get("position")){let p=_.width();p<a&&(a=p),p>o&&(o=p)}}),a=ls(a,1,s),o=ls(o,1,s);let l=1;l=this.get("fixedWidthGrid")?s/o:s/a,l=Math.max(1,Math.floor(l)),l=Math.min(this.get("maxColumns",Number.MAX_VALUE),l);let c=this.getColumnWidths(e,l,o,s),A=n,u=0,f=0;l=c.length;let d=t;ih(e,_=>{if("relative"==_.get("position")&&_.isVisible()){const p=_.get("marginTop",0),g=_.get("marginBottom",0);let m=_.adjustedLocalBounds(),C=_.get("marginLeft",0),B=_.get("marginRight",0),U=A+p-m.top;_.setPrivate("x",d+C-m.left),_.setPrivate("y",U),d+=c[u]+B,f=Math.max(f,_.height()+p+g),u++,u>=l&&(u=0,d=t,A+=f)}})}getColumnWidths(e,t,i,n){let s=0,a=[],o=0;return ih(e,l=>{let c=l.adjustedLocalBounds();"absolute"!=l.get("position")&&l.isVisible()&&(a[o]=this.get("fixedWidthGrid")?i:Math.max(0|a[o],c.right-c.left+l.get("marginLeft",0)+l.get("marginRight",0)),o<e.children.length-1&&(o++,o==t&&(o=0)))}),Xe(a,l=>{s+=l}),s>n?t>2?this.getColumnWidths(e,t-=1,i,n):[n]:a}}Object.defineProperty(cl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"}),Object.defineProperty(cl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Or.classNames.concat([cl.className])});class za{static escape(e){return e.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(e){return e.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(e,t=!1,i=!1){let n=[];e=this.escape(e);let s=t?e.split("'"):[e];for(let a=0;a<s.length;a++){let o=s[a];if(""!==o)if(a%2==0){o=o.replace(/\]\[/g,"]"+qc+"["),o=o.replace(/\[\]/g,"[ ]");let l=o.split(/[\[\]]+/);for(let c=0;c<l.length;c++){let A=this.cleanUp(this.unescape(l[c]));A!==qc&&""!==A&&n.push(c%2==0?{type:"value",text:A}:{type:i?"value":"format",text:"["+A+"]"})}}else{let l=o.split(/[\[\]]+/);for(let c=0;c<l.length;c++){let A=this.cleanUp(this.unescape(l[c]));""!==A&&(c%2==0?n.push({type:"text",text:A}):this.isImage(A)?n.push({type:"image",text:"["+A+"]"}):n.push({type:"format",text:"["+A+"]"}))}}}return n}static isImage(e){return!!e.match(/img[ ]?:/)}static getTextStyle(e){let t={};if(""==e||"[ ]"==e)return{};const i=e.match(/('[^']*')|("[^"]*")/gi);if(i)for(let s=0;s<i.length;s++)e=e.replace(i[s],i[s].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let n=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!n)return{};for(let s=0;s<n.length;s++)if(n[s].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))t.fontWeight=n[s];else if(n[s].match(/^(underline|line-through)$/i))t.textDecoration=n[s];else if("/"!=n[s])if(n[s].match(/:/)){const a=n[s].replace("+"," ").split(/:[ ]*/);t[a[0]]=a[1]}else t.fill=Wi.fromString(n[s]);return t}}function Fh(r,e){if(null!=e){let i,t=(e=za.escape(e=""+e)).match(/\{([^}]+)\}/g);if(t)for(i=0;i<t.length;i++){let s=Mc(r,t[i].replace(/\{([^}]+)\}/,"$1"),"");null==s&&(s=""),e=e.split(t[i]).join(s)}e=za.unescape(e)}else e="";return e}function Mc(r,e,t){let i;const n=r.dataItem;let o,s=[],a=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g;for(;o=a.exec(e),null!==o;)if(o[3]){s.push({prop:o[3]});const l=r.getDateFormatter().get("dateFields",[]),c=r.getNumberFormatter().get("numericFields",[]),A=r.getDurationFormatter().get("durationFields",[]);-1!==l.indexOf(o[3])?s.push({method:"formatDate",params:[]}):-1!==c.indexOf(o[3])?s.push({method:"formatNumber",params:[]}):-1!==A.indexOf(o[3])&&s.push({method:"formatDuration",params:[]})}else{let l=[];if(""!=yc(o[2])){let A,c=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g;for(;A=c.exec(o[2]),null!==A;)l.push(A[1]||A[2]||A[3])}s.push({method:o[1],params:l})}if(n){i=EA(r,s,n._settings),(null==i||ud(i))&&(i=EA(r,s,n));let l=n.dataContext;null==i&&l&&(i=EA(r,s,l),null==i&&(i=EA(r,[{prop:e}],l)),null==i&&l.dataContext&&(i=EA(r,s,l.dataContext))),null==i&&n.component&&n.component.dataItem!==n&&(i=Mc(n.component,e,t))}return null==i&&(i=EA(r,s,r)),null==i&&r.parent&&(i=Mc(r.parent,e,t)),i}function hb(r,e){const t=r.getPrivate("customData");if(ud(t))return t[e]}function EA(r,e,t,i){let n=t,s=!1;for(let a=0,o=e.length;a<o;a++){let l=e[a];if(l.prop){if(n instanceof Kl){let c=n.get(l.prop);null==c&&(c=n.getPrivate(l.prop)),null==c&&(c=hb(n,l.prop)),null==c&&(c=n[l.prop]),n=c}else if(n.get){let c=n.get(l.prop);null==c&&(c=n[l.prop]),n=c}else n=n[l.prop];if(null==n)return}else switch(l.method){case"formatNumber":let c=Wo(n);null!=c&&(n=r.getNumberFormatter().format(c,i||l.params[0]||void 0),s=!0);break;case"formatDate":let A=Fm(n);if(!pu(A)||ia(A.getTime()))return;null!=A&&(n=r.getDateFormatter().format(A,i||l.params[0]||void 0),s=!0);break;case"formatDuration":let u=Wo(n);null!=u&&(n=r.getDurationFormatter().format(u,i||l.params[0]||void 0,l.params[1]||void 0),s=!0);break;case"urlEncode":case"encodeURIComponent":n=encodeURIComponent(n);break;default:n[l.method]&&n[l.method].apply(t,l.params)}}if(!s){let a=[{method:"",params:i}];if(null==i)at(n)?(a[0].method="formatNumber",a[0].params=""):pu(n)&&(a[0].method="formatDate",a[0].params="");else{let o=function Jl(r){if(typeof r>"u")return"string";let e=(r=(r=(r=r.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return e?e[1]:"number"===r?"number":"date"===r?"date":"duration"===r?"duration":r.match(/[#0]/)?"number":r.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}(i);"number"===o?a[0].method="formatNumber":"date"===o?a[0].method="formatDate":"duration"===o&&(a[0].method="formatDuration")}a[0].method&&(n=EA(r,a,n))}return n}Object.defineProperty(za,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});class en extends Kl{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new Zf(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){Eh(this.allChildren(),e=>{e.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(e=>{e.removePrivate("x"),e.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(e=>{e.markDirtyPosition()}),this.isDirty("maskContent")){const e=this._childrenDisplay;let t=this._contentMask;this.get("maskContent")?t||(t=Ha.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=t,e.addChildAt(t._display,0),e.mask=t._display):t&&(e.removeChild(t._display),e.mask=null,t.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),Xe(this._percentageSizeChildren,e=>{e._updateSize()}),Xe(this._percentagePositionChildren,e=>{e.markDirtyPosition(),e._updateSize()}),this.updateBackground()}updateBackground(){const e=this.get("background");let t=this._localBounds;if(t&&!this.isHidden()){let i=t.left,n=t.top,s=t.right-i,a=t.bottom-n,o=this.get("maxWidth"),l=this.get("maxHeight");l&&a>l&&(a=l),o&&s>o&&(s=o);let c=this.width(),A=this.height();e&&(e.setAll({width:s,height:a,x:i,y:n}),this._display.interactive&&(e._display.interactive=!0));const u=this._contentMask;u&&u.setAll({width:c+1,height:A+1});const f=this.get("verticalScrollbar");if(f){f.set("height",A),f.set("x",c-f.width()-f.get("marginRight",0)),f.set("end",f.get("start",0)+A/this._contentHeight);const d=f.get("background");d&&d.setAll({width:f.width(),height:A});let _=!0;this._contentHeight<=A&&(_=!1),f.setPrivate("visible",_)}}}_applyThemes(e=!1){return!!super._applyThemes(e)&&(this.eachChildren(t=>{t._applyThemes(e)}),!0)}_applyState(e){super._applyState(e),this.get("setStateOnChildren")&&this.eachChildren(t=>{t.states.apply(e)})}_applyStateAnimated(e,t){super._applyStateAnimated(e,t),this.get("setStateOnChildren")&&this.eachChildren(i=>{i.states.applyAnimate(e,t)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){let e=this.get("width"),t=this.get("height"),i=this.getPrivate("width"),n=this.getPrivate("height"),s={left:0,top:0,right:this.width(),bottom:this.height()},a=this.get("layout"),o=!1,l=!1;if((a instanceof Zl||a instanceof cl)&&(o=!0),a instanceof Ec&&(l=!0),null==e&&null==i||null==t&&null==n||this.get("verticalScrollbar")){let c=Number.MAX_VALUE,A=c,u=-c,f=c,d=-c;const _=this.get("paddingLeft",0),p=this.get("paddingTop",0),g=this.get("paddingRight",0),m=this.get("paddingBottom",0);this.children.each(S=>{if("absolute"!=S.get("position")&&S.get("isMeasured")){let U=S.adjustedLocalBounds(),H=S.x(),N=S.y(),P=H+U.left,z=H+U.right,W=N+U.top,Y=N+U.bottom;o&&(P-=S.get("marginLeft",0),z+=S.get("marginRight",0)),l&&(W-=S.get("marginTop",0),Y+=S.get("marginBottom",0)),P<A&&(A=P),z>u&&(u=z),W<f&&(f=W),Y>d&&(d=Y)}}),A==c&&(A=0),u==-c&&(u=0),f==c&&(f=0),d==-c&&(d=0),s.left=A-_,s.top=f-p,s.right=u+g,s.bottom=d+m;const C=this.get("minWidth");at(C)&&C>0&&s.right-s.left<C&&(s.left=s.right-C);const B=this.get("minHeight");at(B)&&B>0&&s.bottom-s.top<B&&(s.top=s.bottom-B)}this._contentWidth=s.right-s.left,this._contentHeight=s.bottom-s.top,at(e)&&(s.left=0,s.right=e),at(i)&&(s.left=0,s.right=i),at(t)&&(s.top=0,s.bottom=t),at(n)&&(s.top=0,s.bottom=n),this._localBounds=s}_updateBounds(){const e=this.get("layout");e&&e.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const e=this.innerWidth(),t=this.innerHeight();if(e!=this._prevWidth||t!=this._prevHeight){let i=this.get("layout"),n=!1,s=!1;i&&((i instanceof Zl||i instanceof cl)&&(n=!0),i instanceof Ec&&(s=!0)),Xe(this._percentageSizeChildren,a=>{if(!n){let o=a.get("width");o instanceof vn&&a.setPrivate("width",o.value*e)}if(!s){let o=a.get("height");o instanceof vn&&a.setPrivate("height",o.value*t)}}),Xe(this._percentagePositionChildren,a=>{a.markDirtyPosition(),a.markDirtyBounds()}),this._prevWidth=e,this._prevHeight=t,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateChildren(){if(this.isDirty("html")){const e=this.get("html");e&&""!==e?this._root._setHTMLContent(this,Fh(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}if(this.isDirty("verticalScrollbar")){const e=this.get("verticalScrollbar");if(e){e._setParent(this),e.startGrip.setPrivate("visible",!1),e.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",e.width()+e.get("marginRight",0)+e.get("marginLeft",0));let t=this.get("background");t||(t=this.set("background",Ha.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",i=>{const n=i.originalEvent;if(!Um(n,this))return;n.preventDefault();let s=n.deltaY/5e3;const a=e.get("start",0),o=e.get("end",1);a+s<=0&&(s=-a),o+s>=1&&(s=1-o),a+s>=0&&o+s<=1&&(e.set("start",a+s),e.set("end",o+s))}),this._disposers.push(this._vsbd0),this._vsbd1=e.events.on("rangechanged",()=>{let i=this._contentHeight;const n=this._childrenDisplay,s=this._contentMask;n.y=-e.get("start",0)*i,n.markDirtyLayer(),s&&(s._display.y=-n.y,n.mask=s._display)}),this._disposers.push(this._vsbd1),this._display.addChild(e._display)}else{const t=this._prevSettings.verticalScrollbar;t&&(this._display.removeChild(t._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose(),this._childrenDisplay.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0))}}if(this.isDirty("background")){const e=this._prevSettings.background;e&&this._display.removeChild(e._display);const t=this.get("background");t instanceof Kl&&(t.set("isMeasured",!1),t._setParent(this),this._display.addChildAt(t._display,0))}if(this.isDirty("mask")){const e=this.get("mask"),t=this._prevSettings.mask;if(t&&(this._display.removeChild(t._display),t!=e&&t.dispose()),e){const i=e.parent;i&&i.children.removeValue(e),e._setParent(this),this._display.addChildAt(e._display,0),this._childrenDisplay.mask=e._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(e=>{e._processTemplateField()})}walkChildren(e){this.children.each(t=>{t instanceof en&&t.walkChildren(e),e(t)})}eachChildren(e){const t=this.get("background");t&&e(t);const i=this.get("verticalScrollbar");i&&e(i);const n=this.get("mask");n&&e(n),this.children.values.forEach(s=>{e(s)})}allChildren(){const e=[];return this.eachChildren(t=>{e.push(t)}),e}_setDataItem(e){const t=e!==this._dataItem;super._setDataItem(e);const i=this.get("html","");i&&""!==i&&t&&this._root._setHTMLContent(this,Fh(this,i))}}Object.defineProperty(en,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"}),Object.defineProperty(en,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Kl.classNames.concat([en.className])});class kh extends Kl{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){this.get("text")?super._updateBounds():this._adjustedLocalBounds={left:0,right:0,top:0,bottom:0}}_changed(){super._changed(),this._display.clear();let e=this.textStyle;if(this.isDirty("opacity")){let t=this.get("opacity",1);this._display.alpha=t}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),"tooltip"==this.get("role")&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new Hs(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(e.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(e.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(e.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(e.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(e.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(e.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")){let t=this.get("fill");t&&(e.fill=t)}if(this.isDirty("fillOpacity")){let t=this.get("fillOpacity",1);t&&(e.fillOpacity=t)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(e.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(e.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),Xe(this._textStyles,t=>{this._dirty[t]&&(e[t]=this.get(t),this.markDirtyBounds())}),e.fontSize=this.get("fontSize"),e.fontFamily=this.get("fontFamily"),this._display.style=e,this.isDirty("role")&&"tooltip"==this.get("role")&&this._root.updateTooltip(this)}_getText(){let e=this.get("text","");return this.get("maxChars")&&(e=function md(r,e,t=!1,i="..."){if(r.length>e){let n=e-1;for(;n>=0&&r.charAt(n).match(/\w/);)n--;return n>=0&&0==t?r.substring(0,n+1)+"...":r.substring(0,e)+i}return r}(e,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?Fh(this,e):e}markDirtyText(){this._display.text=this._getText(),"tooltip"==this.get("role")&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(e){super._setDataItem(e),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(kh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"}),Object.defineProperty(kh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Kl.classNames.concat([kh.className])});class Ap{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(e=>{Xe(e,t=>{Xe(this._targets,i=>{i.target===t.target&&i.callback()})})})}addTarget(e,t){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:t})}removeTarget(e){this._observer.unobserve(e),fu(this._targets,t=>t.target!==e)}}class up{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(e,t){if(null===this._timer){let n=null;const s=()=>{const a=Date.now();(null===n||a>n+up.delay)&&(n=a,Xe(this._targets,o=>{let l=o.target.getBoundingClientRect();(l.width!==o.size.width||l.height!==o.size.height)&&(o.size=l,o.callback())})),this._timer=0===this._targets.length?null:requestAnimationFrame(s)};this._timer=requestAnimationFrame(s)}this._targets.push({target:e,callback:t,size:{width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0}})}removeTarget(e){fu(this._targets,t=>t.target!==e),0===this._targets.length&&null!==this._timer&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(up,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let dp=null;class gB{constructor(e,t){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=function eg(){return null===dp&&(dp=typeof ResizeObserver<"u"?new Ap:new up),dp}(),this._element=e,this._listener=km(t),this._sensor.addTarget(e,t)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}class tg extends na{}Object.defineProperty(tg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(tg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:na.classNames.concat([tg.className])});class ho extends en{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),Xe(this._textKeys,e=>{const t=this.get(e);null!=t&&this._text.set(e,t)}),""!==this.get("html","")&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(kh.new(this._root,{}))}_updateChildren(){if(super._updateChildren(),Xe(this._textKeys,e=>{this._text.set(e,this.get(e))}),this.isDirty("maxWidth")&&this._setMaxDimentions(),this.isDirty("maxHeight")&&this._setMaxDimentions(),this.isDirty("rotation")&&this._setMaxDimentions(),""!==this.get("html","")?this._text.set("text",""):this._text.set("text",this.get("text")),this.isDirty("textAlign")||this.isDirty("width")){const e=this.get("textAlign");let t;null!=this.get("width")?t="right"==e?hi:"center"==e?pn:0:"left"==e||"start"==e?t=this.get("paddingLeft"):("right"==e||"end"==e)&&(t=-this.get("paddingRight")),this.text.set("x",t)}}_setMaxDimentions(){const e=this.get("rotation"),t=90==e||270==e||-90==e,i=this.get("maxWidth",this.getPrivate("maxWidth",1/0));at(i)?this.text.set(t?"maxHeight":"maxWidth",i-this.get("paddingLeft",0)-this.get("paddingRight",0)):this.text.set(t?"maxHeight":"maxWidth",void 0);const n=this.get("maxHeight",this.getPrivate("maxHeight",1/0));at(n)?this.text.set(t?"maxWidth":"maxHeight",n-this.get("paddingTop",0)-this.get("paddingBottom",0)):this.text.set(t?"maxWidth":"maxHeight",void 0)}_setDataItem(e){super._setDataItem(e),this._markDirtyKey("text"),this.text.get("populateText")&&this.text.markDirtyText()}getText(){return this._text._getText()}}Object.defineProperty(ho,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"}),Object.defineProperty(ho,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:en.classNames.concat([ho.className])});class Bd extends lr{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let e=this.width(),t=this.height();if(e>0&&t>0){let i=this.get("cornerRadius",8);i=ls(i,0,Math.min(e/2,t/2));let n=this.get("pointerX",0),s=this.get("pointerY",0),a=this.get("pointerBaseWidth",15)/2,o=0,l=0,d=0,p=(n-o)*(t-l)-(s-l)*(e-o),g=(n-d)*(0-t)-(s-t)*(e-d);const m=this._display;if(m.moveTo(i,0),p>0&&g>0){let C=Math.round(ls(n,i+a,e-a-i));s=ls(s,-1/0,0),m.lineTo(C-a,0),m.lineTo(n,s),m.lineTo(C+a,0)}if(m.lineTo(e-i,0),m.arcTo(e,0,e,i,i),p>0&&g<0){let C=Math.round(ls(s,i+a,t-a-i));n=ls(n,e,1/0),m.lineTo(e,i),m.lineTo(e,Math.max(C-a,i)),m.lineTo(n,s),m.lineTo(e,C+a)}if(m.lineTo(e,t-i),m.arcTo(e,t,e-i,t,i),p<0&&g<0){let C=Math.round(ls(n,i+a,e-a-i));s=ls(s,t,1/0),m.lineTo(e-i,t),m.lineTo(C+a,t),m.lineTo(n,s),m.lineTo(C-a,t)}if(m.lineTo(i,t),m.arcTo(0,t,0,t-i,i),p<0&&g>0){let C=Math.round(ls(s,i+a,t-i-a));n=ls(n,-1/0,0),m.lineTo(0,t-i),m.lineTo(0,C+a),m.lineTo(n,s),m.lineTo(0,Math.max(C-a,i))}m.lineTo(0,i),m.arcTo(0,0,i,0,i),m.closePath()}}}}Object.defineProperty(Bd,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty(Bd,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lr.classNames.concat([Bd.className])});class hl extends en{constructor(e,t,i,n=[]){super(e,t,i,n),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["tooltip"]),super._afterNew(),this.set("background",Bd.new(this._root,{themeTags:["tooltip","background"]})),this._label=this.children.push(ho.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",e=>{e&&(os(e,"pointerover",t=>{this._htmlContentHovered=!0}),os(e,"pointerout",t=>{this._htmlContentHovered=!1}))})),this._root._tooltips.push(this)}get label(){return this._label}dispose(){super.dispose(),xo(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),null!=this.get("labelText")&&this.label.set("text",this.get("labelText")),null!=this.get("labelHTML")&&this.label.set("html",this.get("labelHTML"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const t=this.get("background");this._keepHoverDp=new Gi([t.events.on("pointerover",i=>{let n=this.get("tooltipTarget");n&&(n.parent&&n.parent.getPrivate("tooltipTarget")==n&&(n=n.parent),n.hover())}),t.events.on("pointerout",i=>{let n=this.get("tooltipTarget");n&&(n.parent&&n.parent.getPrivate("tooltipTarget")==n&&(n=n.parent),this._htmlContentHovered||n.unhover())})]),this.label.onPrivate("htmlElement",i=>{this._keepHoverDp&&i&&this._keepHoverDp.disposers.push(os(i,"pointerleave",n=>{const s=this.root._renderer.getEvent(n);t.events.dispatch("pointerout",{type:"pointerout",originalEvent:s.event,point:s.point,simulated:!1,target:t})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let e=this.get("tooltipTarget");const t=this.get("background");let i,n;e&&t&&(i=e.get("fill"),n=e.get("stroke"),null==i&&(i=n),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),null!=i&&t.set("fill",i),this._fillDp=e.on("fill",s=>{null!=s&&(t.set("fill",s),this._updateTextColor(s))}),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),null!=i&&t.set("stroke",i),this._strokeDp=e.on("fill",s=>{null!=s&&t.set("stroke",s)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),null!=i&&this.label.set("fill",i),this._labelDp=e.on("fill",s=>{null!=s&&this.label.set("fill",s)}),this._disposers.push(this._labelDp))),this._updateTextColor(i)}_updateTextColor(e){this.get("autoTextColor")&&(null==e&&(e=this.get("background").get("fill")),null==e&&(e=this._root.interfaceColors.get("background")),e instanceof Wi&&this.label.set("fill",Wi.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(e){super._setDataItem(e),this.label._setDataItem(e)}_updateBackground(){super.updateBackground();const e=this._root.container;if(e){let t=.5,i=.5,n=this.get("centerX");n instanceof vn&&(t=n.value);let s=this.get("centerY");s instanceof vn&&(i=s.value);let a=e.width(),o=e.height(),l=this.parent,c=0,A=0;if(l){c=l.x(),A=l.y();const Y=l.get("layerMargin");Y&&(c+=Y.left||0,A+=Y.top||0,a+=(Y.left||0)+(Y.right||0),o+=(Y.top||0)+(Y.bottom||0))}const u=this.get("bounds",{left:-c,top:-A,right:a-c,bottom:o-A});this._updateBounds();let f=this.width(),d=this.height();0===f&&(f=this._w),0===d&&(d=this._h);let _=this.get("pointTo",{x:a/2,y:o/2}),p=_.x,g=_.y,m=this.get("pointerOrientation"),C=this.get("background"),B=0,S=0,U=0;C instanceof Bd&&(B=C.get("pointerLength",0),S=C.get("strokeWidth",0)/2,U=S,C.set("width",f),C.set("height",d));let H=0,N=0,P=u.right-u.left,z=u.bottom-u.top;"horizontal"==m||"left"==m||"right"==m?(S=0,"horizontal"==m?p>u.left+P/2?(p-=f*(1-t)+B,U*=-1):p+=f*t+B:"left"==m?p+=f*(1-t)+B:(p-=f*t+B,U*=-1)):(U=0,"vertical"==m?g>u.top+d/2+B?g-=d*(1-i)+B:(g+=d*i+B,S*=-1):"down"==m?g-=d*(1-i)+B:(g+=d*i+B,S*=-1)),p=ls(p,u.left+f*t,u.left+P-f*(1-t))+U,g=ls(g,u.top+d*i,u.top+z-d*(1-i))-S,H=_.x-p+f*t+U,N=_.y-g+d*i-S,this._fx=p,this._fy=g;const W=this.get("animationDuration",0);if(W>0&&this.get("visible")&&this.get("opacity")>.1){const Y=this.get("animationEasing");this.animate({key:"x",to:p,duration:W,easing:Y}),this.animate({key:"y",to:g,duration:W,easing:Y})}else this.set("x",p),this.set("y",g);C instanceof Bd&&(C.set("pointerX",H),C.set("pointerY",N)),f>0&&(this._w=f),d>0&&(this._h=d)}}}Object.defineProperty(hl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(hl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:en.classNames.concat([hl.className])});class tv extends na{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const e="_big_number_suffix_",t="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(t+"24")},{number:1e-21,suffix:this._t(t+"21")},{number:1e-18,suffix:this._t(t+"18")},{number:1e-15,suffix:this._t(t+"15")},{number:1e-12,suffix:this._t(t+"12")},{number:1e-9,suffix:this._t(t+"9")},{number:1e-6,suffix:this._t(t+"6")},{number:.001,suffix:this._t(t+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,i){(null==t||sl(t)&&"number"===t.toLowerCase())&&(t=this.get("numberFormat",""));let n,s=Number(e);if(ud(t))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),t).format(s):new Intl.NumberFormat(void 0,t).format(s)}catch{return"Invalid"}else{t=$c(t);let o,a=this.parseFormat(t,this._root.language);o=s>this.get("negativeBase")?a.positive:s<this.get("negativeBase")?a.negative:a.zero,null!=i&&!o.mod&&(o=xc(o),o.decimals.active=0==s?0:i),n=o.template.split(qc).join(this.applyFormat(s,o))}return!0===this.get("forceLTR")&&(n="\u200e"+n),n}parseFormat(e,t){const i=t.translateEmpty("_thousandSeparator"),n=t.translateEmpty("_decimalSeparator");let s={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:n},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:n},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:n},template:"",source:"",parsed:!1}},a=(e=e.replace("||",_A)).split("|");return s.positive.source=a[0],typeof a[2]>"u"?s.zero=s.positive:s.zero.source=a[2],typeof a[1]>"u"?s.negative=s.positive:s.negative.source=a[1],gr(s,(o,l)=>{if(l.parsed)return;let c=l.source;"number"===c.toLowerCase()&&(c=this.get("numberFormat","#,###.#####"));let A=za.chunk(c,!0);for(let u=0;u<A.length;u++){let f=A[u];if(f.text=f.text.replace(_A,"|"),"value"===f.type){let d=f.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP\u2030!]?/);if(d)if(null===d||""===d[0])l.template+=f.text;else{let _=d[0].match(/[abespABESP%\u2030!]{2}|[abespABESP%\u2030]{1}$/);_&&(l.mod=_[0].toLowerCase(),l.modSpacing=!!d[0].match(/[ ]{1}[abespABESP%\u2030!]{1}$/));let p=d[0].split(".");if(""!==p[0]){l.thousands.active=(p[0].match(/0/g)||[]).length,l.thousands.passive=(p[0].match(/\#/g)||[]).length+l.thousands.active;let g=p[0].split(",");1===g.length||(l.thousands.interval=(g.pop()||"").length,0===l.thousands.interval&&(l.thousands.interval=-1))}typeof p[1]>"u"||(l.decimals.active=(p[1].match(/0/g)||[]).length,l.decimals.passive=(p[1].match(/\#/g)||[]).length+l.decimals.active),l.template+=f.text.split(d[0]).join(qc)}}else l.template+=f.text}l.parsed=!0}),s}applyFormat(e,t){let i=e<0;e=Math.abs(e);let n="",s="",a=t.mod?t.mod.split(""):[];if(-1!==a.indexOf("b")){let u=this.applyPrefix(e,this.get("bytePrefixes"),-1!==a.indexOf("!"));e=u[0],n=u[1],s=u[2],t.modSpacing&&(s=" "+s)}else if(-1!==a.indexOf("a")){let u=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),-1!==a.indexOf("!"));e=u[0],n=u[1],s=u[2],t.modSpacing&&(s=" "+s)}else if(-1!==a.indexOf("p")){let u=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(u)),n=this._root.language.translate("_percentPrefix"),s=this._root.language.translate("_percentSuffix"),""==n&&""==s&&(s="%")}else if(-1!==a.indexOf("%")){let u=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(u)),s="%"}else if(-1!==a.indexOf("\u2030")){let u=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(u)),s="\u2030"}if(-1!==a.indexOf("e")){let u;u=t.decimals.passive>=0?e.toExponential(t.decimals.passive).split("e"):e.toExponential().split("e"),e=Number(u[0]),s="e"+u[1],t.modSpacing&&(s=" "+s)}else if(0===t.decimals.passive)e=Math.round(e);else if(t.decimals.passive>0){let u=Math.pow(10,t.decimals.passive);e=Math.round(e*u)/u}let o="",l=function I0(r){if(ia(r))return"NaN";if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(0===r&&1/r==-1/0)return"-0";let e=r<0;r=Math.abs(r);let s,t=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+r),i=t[1],n=t[2]||"";if(void 0===t[3])s=""===n?i:i+"."+n;else{let a=+t[3];if(r<1)s="0."+Jf("0",a-1)+i+n;else{let o=a-n.length;s=0===o?i+n:o<0?i+n.slice(0,o)+"."+n.slice(o):i+n+Jf("0",o)}}return e?"-"+s:s}(e).split("."),c=l[0];if(c.length<t.thousands.active&&(c=Array(t.thousands.active-c.length+1).join("0")+c),t.thousands.interval>0){let u=[],f=c.split("").reverse().join("");for(let d=0,_=c.length;d<=_;d+=t.thousands.interval){let p=f.substr(d,t.thousands.interval).split("").reverse().join("");""!==p&&u.unshift(p)}c=u.join(t.thousands.separator)}o+=c,1===l.length&&l.push("");let A=l[1];return A.length<t.decimals.active&&(A+=Array(t.decimals.active-A.length+1).join("0")),""!==A&&(o+=t.decimals.separator+A),""===o&&(o="0"),0!==e&&i&&-1===a.indexOf("s")&&(o="-"+o),n&&(o=n+o),s&&(o+=s),o}applyPrefix(e,t,i=!1){let n=e,s="",a="",o=!1,l=1;for(let c=0,A=t.length;c<A;c++)t[c].number<=e&&(0===t[c].number?n=0:(n=e/t[c].number,l=t[c].number),s=t[c].prefix,a=t[c].suffix,o=!0);return!o&&i&&t.length&&0!=e&&(n=e/t[0].number,s=t[0].prefix,a=t[0].suffix,o=!0),o&&(n=parseFloat(n.toPrecision(Math.min(l.toString().length+Math.floor(n).toString().replace(/[^0-9]*/g,"").length,21)))),[n,s,a]}escape(e){return e.replace("||",_A)}unescape(e){return e.replace(_A,"|")}}function Ab(r,e){let t=0,i=0,n=1,s=0,a=0,o=0,l=0,c=0;return r.formatToParts(e).forEach(A=>{switch(A.type){case"year":t=+A.value;break;case"month":i=+A.value-1;break;case"day":n=+A.value;break;case"hour":s=+A.value;break;case"minute":a=+A.value;break;case"second":o=+A.value;break;case"fractionalSecond":l=+A.value;break;case"weekday":switch(A.value){case"Sun":c=0;break;case"Mon":c=1;break;case"Tue":c=2;break;case"Wed":c=3;break;case"Thu":c=4;break;case"Fri":c=5;break;case"Sat":c=6}}}),24===s&&(s=0),{year:t,month:i,day:n,hour:s,minute:a,second:o,millisecond:l,weekday:c}}function ub(r,e){const{year:t,month:i,day:n,hour:s,minute:a,second:o,millisecond:l}=Ab(r,e);return Date.UTC(t,i,n,s,a,o,l)}class _B{constructor(e,t){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(e){return new this(e,!0)}convertLocal(e){const t=this.offsetUTC(e),i=e.getTimezoneOffset(),n=new Date(e);n.setUTCMinutes(n.getUTCMinutes()-(t-i));const s=n.getTimezoneOffset();return i!=s&&n.setUTCMinutes(n.getUTCMinutes()+s-i),n}offsetUTC(e){return(ub(this._utc,e)-ub(this._dtf,e))/6e4}parseDate(e){return Ab(this._dtf,e)}}class vB extends na{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t){(typeof t>"u"||""===t)&&(t=this.get("dateFormat","yyyy-MM-dd"));let i,n=e;if(ud(t))try{const o=this.get("intlLocales");return o?new Intl.DateTimeFormat(o,t).format(n):new Intl.DateTimeFormat(void 0,t).format(n)}catch{return"Invalid"}let s=this.parseFormat(t);const a=this._root.timezone;return a&&!this._root.utc&&(n=a.convertLocal(n)),at(n.getTime())?(i=this.applyFormat(n,s),this.get("capitalize")&&(i=i.replace(/^.{1}/,i.substr(0,1).toUpperCase())),i):"Invalid date"}applyFormat(e,t){let n,s,a,o,l,c,A,u,i=t.template,f=e.getTime();this._root.utc?(n=e.getUTCFullYear(),s=e.getUTCMonth(),a=e.getUTCDay(),o=e.getUTCDate(),l=e.getUTCHours(),c=e.getUTCMinutes(),A=e.getUTCSeconds(),u=e.getUTCMilliseconds()):(n=e.getFullYear(),s=e.getMonth(),a=e.getDay(),o=e.getDate(),l=e.getHours(),c=e.getMinutes(),A=e.getSeconds(),u=e.getMilliseconds());for(let d=0,_=t.parts.length;d<_;d++){let p="";switch(t.parts[d]){case"G":p=this._t(n<0?"_era_bc":"_era_ad");break;case"yyyy":p=Math.abs(n).toString(),n<0&&(p+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":p=Math.abs(n).toString().substr(-t.parts[d].length),n<0&&(p+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let g=eh(e,this._root.utc);p="YYYY"==t.parts[d]?Math.abs(g).toString():Math.abs(g).toString().substr(-t.parts[d].length),g<0&&(p+=this._t("_era_bc"));break;case"u":case"F":case"g":break;case"q":p=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":p=this._t(this._getMonth(s)).substr(0,1);break;case"MMMM":p=this._t(this._getMonth(s));break;case"MMM":p=this._t(this._getShortMonth(s));break;case"MM":p=vs(s+1,2,"0");break;case"M":p=(s+1).toString();break;case"ww":p=vs(Dh(e,this._root.utc),2,"0");break;case"w":p=Dh(e,this._root.utc).toString();break;case"W":p=tp(e,this._root.utc).toString();break;case"dd":p=vs(o,2,"0");break;case"d":p=o.toString();break;case"DD":case"DDD":p=vs(ol(e,this._root.utc).toString(),t.parts[d].length,"0");break;case"D":p=ol(e,this._root.utc).toString();break;case"t":p=this._root.language.translateFunc("_dateOrd").call(this,o);break;case"E":p=(a||7).toString();break;case"EE":p=vs((a||7).toString(),2,"0");break;case"EEE":case"eee":p=this._t(this._getShortWeekday(a));break;case"EEEE":case"eeee":p=this._t(this._getWeekday(a));break;case"EEEEE":case"eeeee":p=this._t(this._getShortWeekday(a)).substr(0,1);break;case"e":case"ee":p=(a-(this._root.locale.firstDayOfWeek||1)+1).toString(),"ee"==t.parts[d]&&(p=vs(p,2,"0"));break;case"a":p=this._t(l>=12?"PM":"AM");break;case"aa":p=this._t(l>=12?"P.M.":"A.M.");break;case"aaa":p=this._t(l>=12?"P":"A");break;case"h":p=gd(l).toString();break;case"hh":p=vs(gd(l),2,"0");break;case"H":p=l.toString();break;case"HH":p=vs(l,2,"0");break;case"K":p=gd(l,0).toString();break;case"KK":p=vs(gd(l,0),2,"0");break;case"k":p=(l+1).toString();break;case"kk":p=vs(l+1,2,"0");break;case"m":p=c.toString();break;case"mm":p=vs(c,2,"0");break;case"s":p=A.toString();break;case"ss":p=vs(A,2,"0");break;case"S":case"SS":case"SSS":p=Math.round(u/1e3*Math.pow(10,t.parts[d].length)).toString();break;case"x":p=f.toString();break;case"n":case"nn":case"nnn":p=vs(u,t.parts[d].length,"0");break;case"z":p=yA(e,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":p=yA(e,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":p=yA(e,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":p=yA(e,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let m=this._root.utc?"UTC":this._root.timezone;m instanceof _B&&(m=m.name);const C=m?O0(m):e.getTimezoneOffset();let B=Math.abs(C)/60,S=Math.floor(B),U=60*B-60*S;this._root.utc&&(S=0,U=0),"Z"==t.parts[d]?(p="GMT",p+=C>0?"-":"+",p+=vs(S,2)+":"+vs(U,2)):(p=C>0?"-":"+",p+=vs(S,2)+vs(U,2));break;case"i":p=e.toISOString();break;case"I":p=e.toUTCString()}i=i.replace(qc,p)}return i}parseFormat(e){let t={template:"",parts:[]},i=za.chunk(e,!0);for(let n=0;n<i.length;n++){let s=i[n];if("value"===s.type){if(s.text.match(/^date$/i)){let o=this.get("dateFormat","yyyy-MM-dd");sl(o)||(o="yyyy-MM-dd"),s.text=o}let a=s.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(a)for(let o=0;o<a.length;o++)t.parts.push(a[o]),s.text=s.text.replace(a[o],qc)}t.template+=s.text}return t}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(e){return this._months()[e]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(e){return this._shortMonths()[e]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(e){return this._weekdays()[e]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(e){return this._shortWeekdays()[e]}parse(e,t){if(e instanceof Date)return e;if(at(e))return new Date(e);if("x"==t)return new Date(parseInt(e));sl(e)||(e=e.toString());let i,n="";t=(t=$c(t)).substr(0,e.length);let s=this.parseFormat(t),a={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},o={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},l=0,c=0;for(let f=0;f<s.parts.length;f++){switch(c=f+l+1,s.parts[f]){case"yyyy":case"YYYY":n+="([0-9]{4})",a.year=c;break;case"yyy":case"YYY":n+="([0-9]{3})",a.year3=c;break;case"yy":case"YY":n+="([0-9]{2})",a.year2=c;break;case"y":case"Y":n+="([0-9]{1})",a.year1=c;break;case"MMMM":n+="("+this.getStringList(this._months()).join("|")+")",a.monthLong=c;break;case"MMM":n+="("+this.getStringList(this._shortMonths()).join("|")+")",a.monthShort=c;break;case"MM":case"M":n+="([0-9]{2}|[0-9]{1})",a.month=c;break;case"ww":case"w":n+="([0-9]{2}|[0-9]{1})",a.week=c;break;case"dd":case"d":n+="([0-9]{2}|[0-9]{1})",a.day=c;break;case"DDD":case"DD":case"D":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.yearDay=c;break;case"dddd":n+="("+this.getStringList(this._weekdays()).join("|")+")",a.weekdayLong=c;break;case"ddd":n+="("+this.getStringList(this._shortWeekdays()).join("|")+")",a.weekdayShort=c;break;case"aaa":case"aa":case"a":n+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",a.am=c;break;case"hh":case"h":n+="([0-9]{2}|[0-9]{1})",a.hour12Base1=c;break;case"HH":case"H":n+="([0-9]{2}|[0-9]{1})",a.hourBase0=c;break;case"KK":case"K":n+="([0-9]{2}|[0-9]{1})",a.hour12Base0=c;break;case"kk":case"k":n+="([0-9]{2}|[0-9]{1})",a.hourBase1=c;break;case"mm":case"m":n+="([0-9]{2}|[0-9]{1})",a.minute=c;break;case"ss":case"s":n+="([0-9]{2}|[0-9]{1})",a.second=c;break;case"SSS":case"SS":case"S":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=c,a.millisecondDigits=s.parts[f].length;break;case"nnn":case"nn":case"n":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=c;break;case"x":n+="([0-9]{1,})",a.timestamp=c;break;case"Z":n+="GMT([-+]+[0-9]{2}:[0-9]{2})",a.zone=c;break;case"ZZ":n+="([\\-+]+[0-9]{2}[0-9]{2})",a.zone=c;break;case"i":n+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",a.iso=c,l+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":l--}n+="[^0-9]*"}let A=new RegExp(n),u=e.match(A);if(u){if(a.year>-1&&(o.year=parseInt(u[a.year])),a.year3>-1){let f=parseInt(u[a.year3]);f+=1e3,o.year=f}if(a.year2>-1){let f=parseInt(u[a.year2]);f+=f>50?1e3:2e3,o.year=f}if(a.year1>-1){let f=parseInt(u[a.year1]);f=10*Math.floor((new Date).getFullYear()/10)+f,o.year=f}if(a.monthLong>-1&&(o.month=this.resolveMonth(u[a.monthLong])),a.monthShort>-1&&(o.month=this.resolveShortMonth(u[a.monthShort])),a.month>-1&&(o.month=parseInt(u[a.month])-1),a.week>-1&&-1===a.day&&(o.month=0,o.day=function ip(r,e,t=1,i=!1){let n=new Date(e,0,4,0,0,0,0);return i&&n.setUTCFullYear(e),7*r+t-((n.getDay()||7)+3)}(parseInt(u[a.week]),o.year,1,this._root.utc)),a.day>-1&&(o.day=parseInt(u[a.day])),a.yearDay>-1&&(o.month=0,o.day=parseInt(u[a.yearDay])),a.hourBase0>-1&&(o.hour=parseInt(u[a.hourBase0])),a.hourBase1>-1&&(o.hour=parseInt(u[a.hourBase1])-1),a.hour12Base0>-1){let f=parseInt(u[a.hour12Base0]);11==f&&(f=0),a.am>-1&&!this.isAm(u[a.am])&&(f+=12),o.hour=f}if(a.hour12Base1>-1){let f=parseInt(u[a.hour12Base1]);12==f&&(f=0),a.am>-1&&!this.isAm(u[a.am])&&(f+=12),o.hour=f}if(a.minute>-1&&(o.minute=parseInt(u[a.minute])),a.second>-1&&(o.second=parseInt(u[a.second])),a.millisecond>-1){let f=parseInt(u[a.millisecond]);2==a.millisecondDigits?f*=10:1==a.millisecondDigits&&(f*=100),o.millisecond=f}if(a.timestamp>-1){o.timestamp=parseInt(u[a.timestamp]);const f=new Date(o.timestamp);o.year=f.getUTCFullYear(),o.month=f.getUTCMonth(),o.day=f.getUTCDate(),o.hour=f.getUTCHours(),o.minute=f.getUTCMinutes(),o.second=f.getUTCSeconds(),o.millisecond=f.getUTCMilliseconds()}a.zone>-1&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),u[a.zone])),a.iso>-1&&(o.year=Wo(u[a.iso+0]),o.month=Wo(u[a.iso+1])-1,o.day=Wo(u[a.iso+2]),o.hour=Wo(u[a.iso+3]),o.minute=Wo(u[a.iso+4]),o.second=Wo(u[a.iso+5]),o.millisecond=Wo(u[a.iso+6]),"Z"==u[a.iso+7]||"z"==u[a.iso+7]?o.utc=!0:""!=u[a.iso+7]&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),u[a.iso+7]))),i=o.utc?new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond)):new Date(o.year,o.month,o.day,o.hour,o.minute+o.offset,o.second,o.millisecond)}else i=new Date(e);return i}resolveTimezoneOffset(e,t){if(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let n=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),s=n[1],o=n[3],l=60*parseInt(n[2])+parseInt(o);return"+"==s&&(l*=-1),l-(e||new Date).getTimezoneOffset()}return 0}resolveMonth(e){let t=this._months().indexOf(e);return t>-1||!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._months()).indexOf(e),t>-1)?t:0}resolveShortMonth(e){let t=this._shortMonths().indexOf(e);return t>-1||(t=this._months().indexOf(e),t>-1)||this._root.language&&!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._shortMonths()).indexOf(e),t>-1)?t:0}isAm(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}getStringList(e){let t=[];for(let i=0;i<e.length;i++)t.push(vu(this._root.language?this._t(e[i]):e[i]));return t}}class wB extends na{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const e="_duration_millisecond",t="_duration_second",i="_duration_minute",n="_duration_hour",s="_duration_day",a="_duration_week",o="_duration_month",A="_minute",u="_hour",f="_day",d="_week",_="_week",p="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+"_second"),minute:this._t(e+A),hour:this._t(e+u),day:this._t(e+f),week:this._t(e+d),month:this._t(e+_),year:this._t(e+p)},second:{second:this._t(t),minute:this._t(t+A),hour:this._t(t+u),day:this._t(t+f),week:this._t(t+d),month:this._t(t+_),year:this._t(t+p)},minute:{minute:this._t(i),hour:this._t(i+u),day:this._t(i+f),week:this._t(i+d),month:this._t(i+_),year:this._t(i+p)},hour:{hour:this._t(n),day:this._t(n+f),week:this._t(n+d),month:this._t(n+_),year:this._t(n+p)},day:{day:this._t(s),week:this._t(s+d),month:this._t(s+_),year:this._t(s+p)},week:{week:this._t(a),month:this._t(a+_),year:this._t(a+p)},month:{month:this._t(o),year:this._t(o+p)},year:{year:this._t("_duration_year")}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,i){let n=i||this.get("baseUnit");(typeof t>"u"||""===t)&&(t=null!=this.get("durationFormat")?this.get("durationFormat"):this.getFormat(Wo(e),void 0,n)),t=$c(t);let o,s=this.parseFormat(t,n),a=Number(e);o=a>this.get("negativeBase")?s.positive:a<this.get("negativeBase")?s.negative:s.zero;let l=this.applyFormat(a,o);return""!==o.color&&(l="["+o.color+"]"+l+"[/]"),l}parseFormat(e,t){let i=t||this.get("baseUnit"),n={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}},s=(e=e.replace("||",_A)).split("|");return n.positive.source=s[0],typeof s[2]>"u"?n.zero=n.positive:n.zero.source=s[2],typeof s[1]>"u"?n.negative=n.positive:n.negative.source=s[1],gr(n,(a,o)=>{if(o.parsed)return;let l=o.source,c=[];c=o.source.match(/^\[([^\]]*)\]/),c&&c.length&&""!==c[0]&&(l=o.source.substr(c[0].length),o.color=c[1]);let A=za.chunk(l,!0);for(let u=0;u<A.length;u++){let f=A[u];if(f.text=f.text.replace(_A,"|"),"value"===f.type){f.text.match(/[yYMdDwhHKkmsSn]+a/)&&(o.absolute=!0,f.text=f.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let d=f.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(d)for(let _=0;_<d.length;_++)null==d[_]&&(d[_]=this._unitAliases[d[_]]),o.parts.push(d[_]),f.text=f.text.replace(d[_],qc)}o.template+=f.text}o.parsed=!0}),n}applyFormat(e,t){let i=!t.absolute&&e<this.get("negativeBase");e=Math.abs(e);let n=this.toTimeStamp(e,t.baseUnit),s=t.template;for(let a=0,o=t.parts.length;a<o;a++){let l=t.parts[a],c=this._toTimeUnit(l.substr(0,1)),A=l.length,u=Math.floor(n/this._getUnitValue(c));s=s.replace(qc,vs(u,A,"0")),n-=u*this._getUnitValue(c)}return i&&(s="-"+s),s}toTimeStamp(e,t){return e*this._getUnitValue(t)}_toTimeUnit(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(e,t,i){if(null!=this.get("durationFormat"))return this.get("durationFormat");if(i||(i=this.get("baseUnit")),null!=t&&e!=t){e=Math.abs(e),t=Math.abs(t);let n=this.getValueUnit(Math.max(e,t),i);return this.get("durationFormats")[i][n]}{let n=this.getValueUnit(e,i);return this.get("durationFormats")[i][n]}}getValueUnit(e,t){t||(t=this.get("baseUnit"));let i,n=this.getMilliseconds(e,t);return function Vm(r,e){for(let t in r)if(z0(r,t)&&!e(t,r[t]))break}(this._getUnitValues(),(s,a)=>{if(s==t||i){if(n/a<=1)return i||(i=s),!1;i=s}return!0}),i}getMilliseconds(e,t){return t||(t=this.get("baseUnit")),e*this._getUnitValue(t)}_getUnitValue(e){return this._getUnitValues()[e]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}const ig={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(r){let e="th";if(r<11||r>13)switch(r%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd"}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};class iv extends na{_setDefaults(){this.setPrivate("defaultLocale",ig),super._setDefaults()}translate(e,t,...i){t||(t=this._root.locale||this.getPrivate("defaultLocale"));let n=e,s=t[e];if(null===s)n="";else if(null!=s)s&&(n=s);else if(t!==this.getPrivate("defaultLocale"))return this.translate(e,this.getPrivate("defaultLocale"),...i);if(i.length)for(let a=i.length,o=0;o<a;++o)n=n.split("%"+(o+1)).join(i[o]);return n}translateAny(e,t,...i){return this.translate(e,t,...i)}setTranslationAny(e,t,i){(i||this._root.locale)[e]=t}setTranslationsAny(e,t){gr(e,(i,n)=>{this.setTranslationAny(i,n,t)})}translateEmpty(e,t,...i){let n=this.translate(e,t,...i);return n==e?"":n}translateFunc(e,t){return this._root.locale[e]?this._root.locale[e]:t!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):()=>""}translateAll(e,t){return this.isDefault()?e:zf(e,i=>this.translate(i,t))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}class Cd{constructor(e,t){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=e,!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(e){const t=new this(e,!0);return t.setupDefaultRules(),t}setupDefaultRules(){}_lookupRules(e){return this._rules[e]}ruleRaw(e,t=[]){let i=this._rules[e];i||(i=this._rules[e]=[]),t.sort(Cc);const{index:n,found:s}=Vf(i,a=>{const o=Cc(a.tags.length,t.length);return 0===o?Km(a.tags,t,Cc):o});if(s)return i[n].template;{const a=Pr.new({});return i.splice(n,0,{tags:t,template:a}),a}}rule(e,t=[]){return this.ruleRaw(e,t)}}function Xi(r,e,t,i){r.set(e,t.get(i)),t.on(i,n=>{r.set(e,n)})}class bB extends Cd{setupDefaultRules(){super.setupDefaultRules();const e=this._root.language,t=this._root.interfaceColors,i=this._root.horizontalLayout,n=this._root.verticalLayout,s=this.rule.bind(this);s("InterfaceColors").setAll({stroke:Wi.fromHex(15066597),fill:Wi.fromHex(15987699),primaryButton:Wi.fromHex(6788316),primaryButtonHover:Wi.fromHex(6779356),primaryButtonDown:Wi.fromHex(6872182),primaryButtonActive:Wi.fromHex(6872182),primaryButtonText:Wi.fromHex(16777215),primaryButtonStroke:Wi.fromHex(16777215),secondaryButton:Wi.fromHex(14277081),secondaryButtonHover:Wi.fromHex(10724259),secondaryButtonDown:Wi.fromHex(9276813),secondaryButtonActive:Wi.fromHex(15132390),secondaryButtonText:Wi.fromHex(0),secondaryButtonStroke:Wi.fromHex(16777215),grid:Wi.fromHex(0),background:Wi.fromHex(16777215),alternativeBackground:Wi.fromHex(0),text:Wi.fromHex(0),alternativeText:Wi.fromHex(16777215),disabled:Wi.fromHex(11382189),positive:Wi.fromHex(5288704),negative:Wi.fromHex(11730944)});{const a=s("ColorSet");a.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[Wi.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),a.setPrivate("currentStep",0),a.setPrivate("currentPass",0)}s("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:Ji(j)}),s("Component").setAll({interpolationDuration:0,interpolationEasing:Ji(j)}),s("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:pn,tooltipY:pn,tooltipPosition:"fixed",isMeasured:!0}),s("Sprite").states.create("default",{visible:!0,opacity:1}),s("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),s("Graphics").setAll({strokeWidth:1}),s("Chart").setAll({width:hi,height:hi,interactiveChildren:!1}),s("Sprite",["horizontal","center"]).setAll({centerX:pn,x:pn}),s("Sprite",["vertical","center"]).setAll({centerY:pn,y:pn}),s("Container",["horizontal","layout"]).setAll({layout:i}),s("Container",["vertical","layout"]).setAll({layout:n}),s("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),s("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),s("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),s("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),s("GrainPattern").setAll({width:200,height:200,colors:[Wi.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2}),s("LinearGradient").setAll({rotation:90}),s("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:cl.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),s("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{const a=s("Rectangle",["legend","item","background"]);a.setAll({fillOpacity:0}),Xi(a,"fill",t,"background")}s("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:pn,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),s("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:hi,height:hi,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const a=s("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});Xi(a,"fill",t,"disabled"),Xi(a,"stroke",t,"disabled")}s("Label",["legend","label"]).setAll({centerY:pn,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0}),Xi(s("Label",["legend","label"]).states.create("disabled",{}),"fill",t,"disabled"),s("Label",["legend","value","label"]).setAll({centerY:pn,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:hi,populateText:!0}),Xi(s("Label",["legend","value","label"]).states.create("disabled",{}),"fill",t,"disabled"),s("HeatLegend").setAll({stepCount:1}),s("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),s("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:hi,width:15}),s("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:hi,height:15}),s("HeatLegend",["vertical"]).setAll({height:hi}),s("HeatLegend",["horizontal"]).setAll({width:hi}),s("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),s("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const a=s("Label");a.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),Xi(a,"fill",t,"text")}s("RadialLabel").setAll({textType:"regular",centerY:pn,centerX:pn,inside:!1,radius:0,baseRadius:hi,orientation:"auto",textAlign:"center"}),s("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),s("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),s("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const a=s("Tick");a.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),Xi(a,"stroke",t,"grid")}s("Bullet").setAll({locationX:.5,locationY:.5}),s("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:pn,centerY:pn,animationEasing:Ji(j),exportable:!1}),s("Polygon").setAll({animationEasing:Ji(j)}),s("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:Wi.fromHex(16777215)});{const a=s("Label",["tooltip"]);a.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),Xi(a,"fill",t,"alternativeText")}s("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),s("Button").states.create("hover",{}),s("Button").states.create("down",{stateAnimationDuration:0}),s("Button").states.create("active",{});{const a=s("RoundedRectangle",["button","background"]);Xi(a,"fill",t,"primaryButton"),Xi(a,"stroke",t,"primaryButtonStroke")}Xi(s("RoundedRectangle",["button","background"]).states.create("hover",{}),"fill",t,"primaryButtonHover"),Xi(s("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0}),"fill",t,"primaryButtonDown"),Xi(s("RoundedRectangle",["button","background"]).states.create("active",{}),"fill",t,"primaryButtonActive"),Xi(s("Graphics",["button","icon"]),"stroke",t,"primaryButtonText"),Xi(s("Label",["button"]),"fill",t,"primaryButtonText"),s("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:hi,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{const a=s("RoundedRectangle",["background","button","zoom"]);a.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),Xi(a,"fill",t,"primaryButton")}Xi(s("RoundedRectangle",["background","button","zoom"]).states.create("hover",{}),"fill",t,"primaryButtonHover"),Xi(s("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0}),"fill",t,"primaryButtonDown");{const a=s("Graphics",["icon","button","zoom"]);a.setAll({crisp:!0,strokeOpacity:.7,draw:o=>{o.moveTo(0,0),o.lineTo(12,0)}}),Xi(a,"stroke",t,"primaryButtonText")}s("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:pn,centerY:pn,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{const a=s("RoundedRectangle",["background","resize","button"]);a.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),Xi(a,"fill",t,"secondaryButton"),Xi(a,"stroke",t,"secondaryButtonStroke")}Xi(s("RoundedRectangle",["background","resize","button"]).states.create("hover",{}),"fill",t,"secondaryButtonHover"),Xi(s("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0}),"fill",t,"secondaryButtonDown");{const a=s("Graphics",["resize","button","icon"]);a.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:o=>{o.moveTo(0,.5),o.lineTo(0,12.5),o.moveTo(4,.5),o.lineTo(4,12.5)}}),Xi(a,"stroke",t,"secondaryButtonText")}s("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),s("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),s("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{const a=s("RoundedRectangle",["play","background"]);a.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),Xi(a,"fill",t,"primaryButton")}{const a=s("Graphics",["play","icon"]);a.setAll({stateAnimationDuration:0,dx:1,draw:o=>{o.moveTo(0,-5),o.lineTo(8,0),o.lineTo(0,5),o.lineTo(0,-5)}}),Xi(a,"fill",t,"primaryButtonText")}s("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),s("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:a=>{a.moveTo(-4,-5),a.lineTo(-1,-5),a.lineTo(-1,5),a.lineTo(-4,5),a.lineTo(-4,-5),a.moveTo(4,-5),a.lineTo(1,-5),a.lineTo(1,5),a.lineTo(4,5),a.lineTo(4,-5)}}),s("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const a=s("RoundedRectangle",["switch","background"]);a.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),Xi(a,"fill",t,"primaryButton")}{const a=s("Circle",["switch","icon"]);a.setAll({radius:8,centerY:0,centerX:0,dx:0}),Xi(a,"fill",t,"primaryButtonText")}s("Graphics",["switch","icon"]).states.create("active",{dx:16}),s("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:Ji(j)}),s("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:hi}),s("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:hi}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const a=s("RoundedRectangle",["scrollbar","main","background"]);a.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),Xi(a,"fill",t,"fill")}{const a=s("RoundedRectangle",["scrollbar","thumb"]);a.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),Xi(a,"fill",t,"secondaryButton")}Xi(s("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{}),"fill",t,"secondaryButtonHover"),Xi(s("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0}),"fill",t,"secondaryButtonDown"),s("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:pn,width:hi,centerX:pn,ariaLabel:e.translate("Use up and down arrows to move selection")}),s("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:pn,centerY:pn,height:hi,ariaLabel:e.translate("Use left and right arrows to move selection")});{const a=s("PointedRectangle",["axis","tooltip","background"]);a.setAll({cornerRadius:0}),Xi(a,"fill",t,"alternativeBackground")}s("Label",["axis","tooltip"]).setAll({role:void 0}),s("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),s("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),s("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),s("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),s("Star").setAll({spikes:5,innerRadius:5,radius:10}),s("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),s("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),s("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),s("SpriteResizer").setAll({rotationStep:10}),s("Container",["resizer","grip"]).states.create("hover",{});{const a=s("RoundedRectangle",["resizer","grip"]);a.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),Xi(a,"fill",t,"background"),Xi(a,"stroke",t,"alternativeBackground")}{const a=s("RoundedRectangle",["resizer","grip","outline"]);a.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),a.states.create("hover",{fillOpacity:.3}),Xi(a,"fill",t,"alternativeBackground")}s("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),s("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const a=s("Rectangle",["resizer","rectangle"]);a.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),Xi(a,"stroke",t,"alternativeBackground")}}}class ng{constructor(e=1,t=0,i=0,n=1,s=0,a=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=t,this.c=i,this.d=n,this.tx=s,this.ty=a}setTransform(e,t,i,n,s,a=1){this.a=Math.cos(s)*a,this.b=Math.sin(s)*a,this.c=-Math.sin(s)*a,this.d=Math.cos(s)*a,this.tx=e-(i*this.a+n*this.c),this.ty=t-(i*this.b+n*this.d)}apply(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}applyInverse(e){const t=1/(this.a*this.d+this.c*-this.b);return{x:this.d*t*e.x+-this.c*t*e.y+(this.ty*this.c-this.tx*this.d)*t,y:this.a*t*e.y+-this.b*t*e.x+(-this.ty*this.a+this.tx*this.b)*t}}append(e){const t=this.a,i=this.b,n=this.c,s=this.d;this.a=e.a*t+e.b*n,this.b=e.a*i+e.b*s,this.c=e.c*t+e.d*n,this.d=e.c*i+e.d*s,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*s+this.ty}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const i=this.a,n=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty}copyFrom(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}var fp=2*Math.PI,nv=function(e,t,i,n,s,a,o){var l=e.x,c=e.y;return{x:n*(l*=t)-s*(c*=i)+a,y:s*l+n*c+o}},xB=function(e,t){var i=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:1.3333333333333333*Math.tan(t/4),n=Math.cos(e),s=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[{x:n-s*i,y:s+n*i},{x:a+o*i,y:o-a*i},{x:a,y:o}]},db=function(e,t,i,n){var a=e*i+t*n;return a>1&&(a=1),a<-1&&(a=-1),(e*n-t*i<0?-1:1)*Math.acos(a)};const sv=function(e){var t=e.px,i=e.py,n=e.cx,s=e.cy,a=e.rx,o=e.ry,l=e.xAxisRotation,c=void 0===l?0:l,A=e.largeArcFlag,u=void 0===A?0:A,f=e.sweepFlag,d=void 0===f?0:f,_=[];if(0===a||0===o)return[];var p=Math.sin(c*fp/360),g=Math.cos(c*fp/360),m=g*(t-n)/2+p*(i-s)/2,C=-p*(t-n)/2+g*(i-s)/2;if(0===m&&0===C)return[];a=Math.abs(a),o=Math.abs(o);var B=Math.pow(m,2)/Math.pow(a,2)+Math.pow(C,2)/Math.pow(o,2);B>1&&(a*=Math.sqrt(B),o*=Math.sqrt(B));var S=function(e,t,i,n,s,a,o,l,c,A,u,f){var d=Math.pow(s,2),_=Math.pow(a,2),p=Math.pow(u,2),g=Math.pow(f,2),m=d*_-d*g-_*p;m<0&&(m=0),m/=d*g+_*p;var C=(m=Math.sqrt(m)*(o===l?-1:1))*s/a*f,B=m*-a/s*u,S=A*C-c*B+(e+i)/2,U=c*C+A*B+(t+n)/2,H=(u-C)/s,N=(f-B)/a,P=(-u-C)/s,z=(-f-B)/a,W=db(1,0,H,N),Y=db(H,N,P,z);return 0===l&&Y>0&&(Y-=fp),1===l&&Y<0&&(Y+=fp),[S,U,W,Y]}(t,i,n,s,a,o,u,d,p,g,m,C),U=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function r(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(i.push(l.value),!t||i.length!==t);n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return&&o.return()}finally{if(s)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(S,4),H=U[0],N=U[1],P=U[2],z=U[3],W=Math.abs(z)/(fp/4);Math.abs(1-W)<1e-7&&(W=1);var Y=Math.max(Math.ceil(W),1);z/=Y;for(var K=0;K<Y;K++)_.push(xB(P,z)),P+=z;return _.map(function(q){var Q=nv(q[0],a,o,g,p,H,N),ie=Q.x,ee=Q.y,he=nv(q[1],a,o,g,p,H,N),pe=he.x,ue=he.y,Be=nv(q[2],a,o,g,p,H,N);return{x1:ie,y1:ee,x2:pe,y2:ue,x:Be.x,y:Be.y}})};function CB(r,e,t){if(e!==t)throw new Error("Required "+t+" arguments for "+r+" but got "+e)}function Ti(r,e,t){if(e<t)throw new Error("Required at least "+t+" arguments for "+r+" but got "+e)}function Ga(r,e,t){if(Ti(r,e,t),e%t!=0)throw new Error("Arguments for "+r+" must be in pairs of "+t)}function rg(r){for(let e=0;e<r.length;e+=7){let t=e+3,i=r[t];if(i.length>1){const n=/^([01])([01])(.*)$/.exec(i);null!==n&&(r.splice(t,0,n[1]),++t,r.splice(t,0,n[2]),++t,n[3].length>0?r[t]=n[3]:r.splice(t,1))}if(++t,i=r[t],i.length>1){const n=/^([01])(.+)$/.exec(i);null!==n&&(r.splice(t,0,n[1]),++t,r[t]=n[2])}}}function Rl(r){if(0===r||1===r)return r;throw new Error("Flag must be 0 or 1")}function xr(r,e){for(;(!r.interactive||e(r))&&r._parent;)r=r._parent}function ws(r,e,t){return os(r,qf(e),i=>{const n=P0(i);let s=i.touches;s?(0==s.length&&(s=i.changedTouches),t(ld(s),n)):t([i],n)})}function pp(r){const e=document.createElement("canvas");e.width=1,e.height=1;const t=e.getContext("2d",{willReadFrequently:!0});t.drawImage(r,0,0,1,1);try{return t.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+r.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function mp(r){r.width=0,r.height=0,r.style.width="0px",r.style.height="0px"}function gp(r){return Math.floor(r)+.5}class MB{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(e){this._x=e}set y(e){this._y=e}}class bu extends hd{constructor(e){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new MB}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new ng}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new ng}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new ng}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=e}subStatus(e){return{inactive:null==this.inactive?e.inactive:this.inactive,layer:this._layer||e.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let e=this;for(;;){if(e._layer)return e._layer;if(!e._parent)return this._renderer.defaultLayer;e=e._parent}}setLayer(e,t){null==e?this._layer=void 0:(this._layer=this._renderer.getLayer(e,!0),this._layer.visible=!0,this._layer.margin=t,t&&gu(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(e){}_getColorId(){return void 0===this._colorId&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(e){return!e.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(e){return this._isInteractive(e)}contains(e){for(;;){if(e===this)return!0;if(!e._parent)return!1;e=e._parent}}toGlobal(e){return this._matrix.apply(e)}toLocal(e){return this._matrix.applyInverse(e)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(e){this._setMatrix();const t=this.getLocalMatrix(),i=t.apply({x:e.left,y:e.top}),n=t.apply({x:e.right,y:e.top}),s=t.apply({x:e.right,y:e.bottom}),a=t.apply({x:e.left,y:e.bottom});return{left:Math.min(i.x,n.x,s.x,a.x),top:Math.min(i.y,n.y,s.y,a.y),right:Math.max(i.x,n.x,s.x,a.x),bottom:Math.max(i.y,n.y,s.y,a.y)}}on(e,t,i){return this.interactive?this._renderer._addEvent(this,e,t,i):new Hs(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(e,t){const i=this._matrix;let n=i.tx*t,s=i.ty*t;this.crisp&&(n=gp(n),s=gp(s)),e.setTransform(i.a*t,i.b*t,i.c*t,i.d*t,n,s)}_transformMargin(e,t,i){const n=this._matrix;e.setTransform(n.a*t,n.b*t,n.c*t,n.d*t,(n.tx+i.left)*t,(n.ty+i.top)*t)}_transformLayer(e,t,i){i.margin?this._transformMargin(e,i.scale||t,i.margin):this._transform(e,i.scale||t)}render(e){if(this.visible&&(!1!==this.exportable||!this._renderer._omitTainted)){this._setMatrix();const t=this.subStatus(e),i=this._renderer.resolution,n=this._renderer.layers,s=this._renderer._ghostLayer,a=s.context,o=this.mask;o&&o._setMatrix(),Xe(n,l=>{if(l){const c=l.context;c.save(),o&&(o._transformLayer(c,i,l),o._runPath(c),c.clip()),c.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(c,i,l),this.filter&&(c.filter=this.filter)}}),a.save(),o&&this._isInteractiveMask(t)&&(o._transformMargin(a,i,s.margin),o._runPath(a),a.clip()),this._transformMargin(a,i,s.margin),this._render(t),a.restore(),Xe(n,l=>{l&&l.context.restore()})}}_render(e){!1===this.exportable&&(e.layer.tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(e=>e.value===this)}shouldCancelTouch(){const e=this._renderer;return!(e.tapToActivate&&!e._touchActive)&&(!!this.cancelTouch||!!this._parent&&this._parent.shouldCancelTouch())}}class TB extends bu{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(e){return this.interactiveChildren||super._isInteractiveMask(e)}addChild(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}addChildAt(e,t){e._parent=this,this._children.splice(t,0,e),e._layer&&this.registerChildLayer(e._layer)}removeChild(e){e._parent=void 0,ta(this._children,e)}_render(e){super._render(e);const t=this._renderer;this.interactive&&this.interactiveChildren&&++t._forceInteractive,Xe(this._children,i=>{i.compoundAlpha=this.compoundAlpha*this.alpha,i.render(e)}),this.interactive&&this.interactiveChildren&&--t._forceInteractive}registerChildLayer(e){this._childLayers||(this._childLayers=[]),Ll(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}markDirtyLayer(e=!1){super.markDirtyLayer(),e&&this._childLayers&&Xe(this._childLayers,t=>t.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&Xe(this._childLayers,e=>{e.dirty=!0})}}function Zs(r,e){r.left=Math.min(r.left,e.x),r.top=Math.min(r.top,e.y),r.right=Math.max(r.right,e.x),r.bottom=Math.max(r.bottom,e.y)}class ra{colorize(e,t){}path(e){}addBounds(e){}}class DB extends ra{colorize(e,t){e.beginPath()}}class sg extends ra{constructor(e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.fillStyle=void 0!==t?t:this.color}}class SB extends ra{constructor(e){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}class fb extends ra{colorize(e,t){e.stroke()}}class ag extends ra{constructor(e,t,i){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:i})}colorize(e,t){e.strokeStyle=void 0!==t?t:this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin)}}class av extends ra{constructor(e){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.setLineDash(this.dash)}}class pb extends ra{constructor(e){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.lineDashOffset=this.dashOffset}}class IB extends ra{constructor(e,t,i,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.rect(this.x,this.y,this.width,this.height)}addBounds(e){const t=this.x,i=this.y,n=t+this.width,s=i+this.height;Zs(e,{x:t,y:i}),Zs(e,{x:n,y:i}),Zs(e,{x:t,y:s}),Zs(e,{x:n,y:s})}}class mb extends ra{constructor(e,t,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(e){Zs(e,{x:this.x-this.radius,y:this.y-this.radius}),Zs(e,{x:this.x+this.radius,y:this.y+this.radius})}}class FB extends ra{constructor(e,t,i,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI)}addBounds(e){Zs(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),Zs(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class kB extends ra{constructor(e,t,i,n,s,a){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(e){let t=lp(this.cx,this.cy,this.startAngle*th,this.endAngle*th,this.radius);Zs(e,{x:t.left,y:t.top}),Zs(e,{x:t.right,y:t.bottom})}}class LB extends ra{constructor(e,t,i,n,s){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(e){}}class og extends ra{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.lineTo(this.x,this.y)}addBounds(e){Zs(e,{x:this.x,y:this.y})}}class Xl extends ra{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.moveTo(this.x,this.y)}addBounds(e){Zs(e,{x:this.x,y:this.y})}}class gb extends ra{path(e){e.closePath()}}class lg extends ra{constructor(e,t,i,n,s,a){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(e){Zs(e,{x:this.cpX,y:this.cpY}),Zs(e,{x:this.cpX2,y:this.cpY2}),Zs(e,{x:this.toX,y:this.toY})}}class PB extends ra{constructor(e,t,i,n){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(e){Zs(e,{x:this.cpX,y:this.cpY}),Zs(e,{x:this.toX,y:this.toY})}}class RB extends ra{constructor(e,t,i,n,s){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:s})}colorize(e,t){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}}class ov extends ra{constructor(e,t,i,n,s){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(e){Zs(e,{x:this.x,y:this.y}),Zs(e,{x:this.width,y:this.height})}}class Ed extends bu{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:$m.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(e){this._operations.push(e)}beginFill(e,t=1){this._fillAlpha=t,e?e instanceof Wi?this._pushOp(new sg(e.toCSS(t))):(this.isMeasured=!0,this._pushOp(new sg(e))):this._pushOp(new sg("rgba(0, 0, 0, "+t+")"))}endFill(){this._pushOp(new SB(this._hasShadows))}endStroke(){this._pushOp(new fb)}beginPath(){this._pushOp(new DB)}lineStyle(e=0,t,i=1,n){this._strokeAlpha=i,this._pushOp(new ag(e,t?t instanceof Wi?t.toCSS(i):t:"rgba(0, 0, 0, "+i+")",n))}setLineDash(e){this._pushOp(new av(e||[]))}setLineDashOffset(e=0){this._pushOp(new pb(e))}drawRect(e,t,i,n){this._pushOp(new IB(e,t,i,n))}drawCircle(e,t,i){this._pushOp(new mb(e,t,i))}drawEllipse(e,t,i,n){this._pushOp(new FB(e,t,i,n))}arc(e,t,i,n,s,a=!1){this._pushOp(new kB(e,t,i,n,s,a))}arcTo(e,t,i,n,s){this._pushOp(new LB(e,t,i,n,s))}lineTo(e,t){this._pushOp(new og(e,t))}moveTo(e,t){this._pushOp(new Xl(e,t))}bezierCurveTo(e,t,i,n,s,a){this._pushOp(new lg(e,t,i,n,s,a))}quadraticCurveTo(e,t,i,n){this._pushOp(new PB(e,t,i,n))}closePath(){this._pushOp(new gb)}shadow(e,t=0,i=0,n=0,s){this._hasShadows=!0,this._pushOp(new RB(e.toCSS(s||this._fillAlpha||this._strokeAlpha),t,i,n))}image(e,t,i,n,s){this._pushOp(new ov(e,t,i,n,s))}svgPath(e){let t=0,i=0,n=null,s=null,a=null,o=null;const l=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,c=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let A;for(;null!==(A=l.exec(e));){const u=A[1],f=A[2],d=[];for(;null!==(A=c.exec(f));)d.push(A[1]);switch("S"!==u&&"s"!==u&&"C"!==u&&"c"!==u&&(n=null,s=null),"Q"!==u&&"q"!==u&&"T"!==u&&"t"!==u&&(a=null,o=null),u){case"M":Ga(u,d.length,2),t=+d[0],i=+d[1],this.moveTo(t,i);for(let p=2;p<d.length;p+=2)t=+d[p],i=+d[p+1],this.lineTo(t,i);break;case"m":Ga(u,d.length,2),t+=+d[0],i+=+d[1],this.moveTo(t,i);for(let p=2;p<d.length;p+=2)t+=+d[p],i+=+d[p+1],this.lineTo(t,i);break;case"L":Ga(u,d.length,2);for(let p=0;p<d.length;p+=2)t=+d[p],i=+d[p+1],this.lineTo(t,i);break;case"l":Ga(u,d.length,2);for(let p=0;p<d.length;p+=2)t+=+d[p],i+=+d[p+1],this.lineTo(t,i);break;case"H":Ti(u,d.length,1);for(let p=0;p<d.length;++p)t=+d[p],this.lineTo(t,i);break;case"h":Ti(u,d.length,1);for(let p=0;p<d.length;++p)t+=+d[p],this.lineTo(t,i);break;case"V":Ti(u,d.length,1);for(let p=0;p<d.length;++p)i=+d[p],this.lineTo(t,i);break;case"v":Ti(u,d.length,1);for(let p=0;p<d.length;++p)i+=+d[p],this.lineTo(t,i);break;case"C":Ga(u,d.length,6);for(let p=0;p<d.length;p+=6)n=+d[p+2],s=+d[p+3],t=+d[p+4],i=+d[p+5],this.bezierCurveTo(+d[p],+d[p+1],n,s,t,i);break;case"c":Ga(u,d.length,6);for(let p=0;p<d.length;p+=6){const g=+d[p]+t,m=+d[p+1]+i;n=+d[p+2]+t,s=+d[p+3]+i,t+=+d[p+4],i+=+d[p+5],this.bezierCurveTo(g,m,n,s,t,i)}break;case"S":Ga(u,d.length,4),(null===n||null===s)&&(n=t,s=i);for(let p=0;p<d.length;p+=4){const g=2*t-n,m=2*i-s;n=+d[p],s=+d[p+1],t=+d[p+2],i=+d[p+3],this.bezierCurveTo(g,m,n,s,t,i)}break;case"s":Ga(u,d.length,4),(null===n||null===s)&&(n=t,s=i);for(let p=0;p<d.length;p+=4){const g=2*t-n,m=2*i-s;n=+d[p]+t,s=+d[p+1]+i,t+=+d[p+2],i+=+d[p+3],this.bezierCurveTo(g,m,n,s,t,i)}break;case"Q":Ga(u,d.length,4);for(let p=0;p<d.length;p+=4)a=+d[p],o=+d[p+1],t=+d[p+2],i=+d[p+3],this.quadraticCurveTo(a,o,t,i);break;case"q":Ga(u,d.length,4);for(let p=0;p<d.length;p+=4)a=+d[p]+t,o=+d[p+1]+i,t+=+d[p+2],i+=+d[p+3],this.quadraticCurveTo(a,o,t,i);break;case"T":Ga(u,d.length,2),(null===a||null===o)&&(a=t,o=i);for(let p=0;p<d.length;p+=2)a=2*t-a,o=2*i-o,t=+d[p],i=+d[p+1],this.quadraticCurveTo(a,o,t,i);break;case"t":Ga(u,d.length,2),(null===a||null===o)&&(a=t,o=i);for(let p=0;p<d.length;p+=2)a=2*t-a,o=2*i-o,t+=+d[p],i+=+d[p+1],this.quadraticCurveTo(a,o,t,i);break;case"A":case"a":const _="a"===u;rg(d),Ga(u,d.length,7);for(let p=0;p<d.length;p+=7){let g=+d[p+5],m=+d[p+6];_&&(g+=t,m+=i),Xe(sv({px:t,py:i,rx:+d[p],ry:+d[p+1],xAxisRotation:+d[p+2],largeArcFlag:Rl(+d[p+3]),sweepFlag:Rl(+d[p+4]),cx:g,cy:m}),B=>{this.bezierCurveTo(B.x1,B.y1,B.x2,B.y2,B.x,B.y),t=B.x,i=B.y})}break;case"Z":case"z":CB(u,d.length,0),this.closePath()}}}_runPath(e){e.beginPath(),Xe(this._operations,t=>{t.path(e)})}_render(e){super._render(e);const t=e.layer.dirty,i=this._isInteractive(e);if(t||i){const n=e.layer.context,s=this._renderer._ghostLayer.context;let a;t&&(n.globalCompositeOperation=this.blendMode,n.beginPath()),i&&(s.beginPath(),a=this._getColorId()),Xe(this._operations,o=>{t&&(o.path(n),o.colorize(n,void 0)),i&&(o.path(s),o.colorize(s,a))})}}renderDetached(e){if(this.visible){this._setMatrix(),e.save();const t=this.mask;t&&(t._setMatrix(),t._transform(e,1),t._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),Xe(this._operations,i=>{i.path(e),i.colorize(e,void 0)}),e.restore()}}_addBounds(e){this.visible&&this.isMeasured&&Xe(this._operations,t=>{t.addBounds(e)})}}class _p extends bu{constructor(e,t,i){super(e),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=t,this.style=i}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}_prerender(e,t=!1,i=!1){super._render(e);const n=e.layer.context,s=this._renderer._ghostLayer.context,a=this.style;let o=this._getFontStyle(void 0,i);n.font=o,this._isInteractive(e)&&!t&&(s.font=o),a.fill&&(n.fillStyle=a.fill instanceof Wi?a.fill.toCSS(null!=a.fillOpacity?a.fillOpacity:1):a.fill),a.shadowColor&&(e.layer.context.shadowColor=a.shadowColor.toCSS(a.shadowOpacity||1)),a.shadowBlur&&(e.layer.context.shadowBlur=a.shadowBlur),a.shadowOffsetX&&(e.layer.context.shadowOffsetX=a.shadowOffsetX),a.shadowOffsetY&&(e.layer.context.shadowOffsetY=a.shadowOffsetY),this._shared(n),this._isInteractive(e)&&!t&&(s.fillStyle=this._getColorId(),this._shared(s))}_getFontStyle(e,t=!1){const i=this.style;let n=[];return e&&e.fontVariant?n.push(e.fontVariant):i.fontVariant&&n.push(i.fontVariant),t||(e&&e.fontWeight?n.push(e.fontWeight):i.fontWeight&&n.push(i.fontWeight)),e&&e.fontStyle?n.push(e.fontStyle):i.fontStyle&&n.push(i.fontStyle),e&&e.fontSize?(at(e.fontSize)&&(e.fontSize=e.fontSize+"px"),n.push(e.fontSize)):i.fontSize&&(at(i.fontSize)&&(i.fontSize=i.fontSize+"px"),n.push(i.fontSize)),e&&e.fontFamily?n.push(e.fontFamily):i.fontFamily?n.push(i.fontFamily):n.length&&n.push("Arial"),n.join(" ")}_render(e){if(this._textInfo||this._measure(e),this.textVisible){const t=this._isInteractive(e),i=e.layer.context,n=e.layer.dirty,s=this._renderer._ghostLayer.context;i.save(),s.save(),this._prerender(e),Xe(this._textInfo,(a,o)=>{Xe(a.textChunks,(l,c)=>{if(l.style&&(i.save(),s.save(),i.font=l.style,this._isInteractive(e)&&(s.font=l.style)),l.fill&&(i.save(),i.fillStyle=l.fill.toCSS()),n&&i.fillText(l.text,l.offsetX,a.offsetY+l.offsetY),"underline"==l.textDecoration||"line-through"==l.textDecoration){let _,A=1,u=1,f=l.height,d=l.offsetX;switch(this.style.textAlign){case"right":case"end":d-=l.width;break;case"center":d-=l.width/2}if(l.style)switch(za.getTextStyle(l.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":A=2}f&&(u=f/20),_="line-through"==l.textDecoration?A+a.offsetY+l.offsetY-l.height/2:A+1.5*u+a.offsetY+l.offsetY,i.save(),i.beginPath(),l.fill?i.strokeStyle=l.fill.toCSS():this.style.fill&&this.style.fill instanceof Wi&&(i.strokeStyle=this.style.fill.toCSS()),i.lineWidth=A*u,i.moveTo(d,_),i.lineTo(d+l.width,_),i.stroke(),i.restore()}t&&this.interactive&&s.fillText(l.text,l.offsetX,a.offsetY+l.offsetY),l.fill&&i.restore(),l.style&&(i.restore(),s.restore())})}),i.restore(),s.restore()}}_addBounds(e){if(this.visible&&this.isMeasured){const t=this._measure({inactive:this.inactive,layer:this.getLayer()});Zs(e,{x:t.left,y:t.top}),Zs(e,{x:t.right,y:t.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(e){const t=e.layer.context,i=this._renderer._ghostLayer.context,n="rtl"==this.style.direction;this._textInfo=[];const s=this.style.oversizedBehavior,a=this.style.maxWidth,o=at(a)&&"truncate"==s,l=at(a)&&("wrap"==s||"wrap-no-break"==s);t.save(),i.save(),this._prerender(e,!0,this._ignoreFontWeight());const c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",A=this.text.toString().replace(/\r/g,"").split(/\n/);let p,u=!0,f=0,d=0,_=0;Xe(A,(m,C)=>{let B;for(B=""==m?[{type:"value",text:""}]:za.chunk(m,!1,this.style.ignoreFormatting);B.length>0;){let S={offsetY:_,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const U=this._measureText(c,t);S.height=U.actualBoundingBoxAscent+U.actualBoundingBoxDescent,S.ascent=U.actualBoundingBoxAscent;let N,z,W,Q,P=this.style.textDecoration,Y=!1,K=!0,q=[];Gf(B,(ie,ee)=>{if("format"==ie.type)if("[/]"==ie.text)u||(t.restore(),i.restore(),u=!0),z=void 0,p=void 0,W=void 0,P=this.style.textDecoration,Q=void 0,N=ie.text;else{u||(t.restore(),i.restore());let he=za.getTextStyle(ie.text);const pe=this._getFontStyle(he);t.save(),i.save(),t.font=pe,p=pe,N=ie.text,he.textDecoration&&(P=he.textDecoration),he.fill&&(z=he.fill),he.width&&(W=Wo(he.width)),he.verticalAlign&&(Q=he.verticalAlign),u=!1;const ue=this._measureText(c,t),Be=ue.actualBoundingBoxAscent+ue.actualBoundingBoxDescent;Be>S.height&&(S.height=Be),ue.actualBoundingBoxAscent>S.ascent&&(S.ascent=ue.actualBoundingBoxAscent)}else if("value"==ie.type&&!Y){const he=this._measureText(ie.text,t);let pe=he.actualBoundingBoxLeft+he.actualBoundingBoxRight;if(o){let J=K||this.style.breakWords||!1;const te=this.style.ellipsis||"",le=this._measureText(te,t);S.width+pe>a&&(ie.text=this._truncateText(t,ie.text,a-S.width-(le.actualBoundingBoxLeft+le.actualBoundingBoxRight),J),ie.text+=te,Y=!0)}else if(l&&S.width+pe>a){const te=this._truncateText(t,ie.text,a-S.width,!1,K&&"wrap-no-break"!=this.style.oversizedBehavior);if(""==te)return this.textVisible=!0,!1;q=B.slice(ee+1),yc(te)!=yc(ie.text)&&(q.unshift({type:"value",text:ie.text.substr(te.length)}),N&&q.unshift({type:"format",text:N})),ie.text=yc(te),B=[],Y=!0}let ue=1,Be=1;if(p&&W&&W>pe){const J=pe/W;switch(this.style.textAlign){case"right":case"end":ue=J;break;case"center":ue=J,Be=J;break;default:Be=J}pe=W}const Le=he.actualBoundingBoxAscent+he.actualBoundingBoxDescent;Le>S.height&&(S.height=Le),he.actualBoundingBoxAscent>S.ascent&&(S.ascent=he.actualBoundingBoxAscent),S.width+=pe,S.left+=he.actualBoundingBoxLeft/ue,S.right+=he.actualBoundingBoxRight/Be,S.textChunks.push({style:p,fill:z,text:ie.text,width:pe,height:Le,left:he.actualBoundingBoxLeft,right:he.actualBoundingBoxRight,ascent:he.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:P,verticalAlign:Q}),K=!1}return!0}),this.style.lineHeight instanceof vn?(S.height*=this.style.lineHeight.value,S.ascent*=this.style.lineHeight.value):(S.height*=this.style.lineHeight||1.2,S.ascent*=this.style.lineHeight||1.2),f<S.left&&(f=S.left),d<S.right&&(d=S.right),this._textInfo.push(S),_+=S.height,B=q||[]}}),u||(t.restore(),i.restore()),Xe(this._textInfo,(m,C)=>{let B=0;Xe(m.textChunks,S=>{if(S.offsetX=B+S.left-m.left,S.offsetY+=m.height-m.height*(this.style.baselineRatio||.19),B+=S.width,S.verticalAlign)switch(S.verticalAlign){case"super":S.offsetY-=m.height/2-S.height/2;break;case"sub":S.offsetY+=S.height/2}})});const g={left:n?-d:-f,top:0,right:n?f:d,bottom:_};if("none"!==s){const m=this._fitRatio(g);if(m<1)if("fit"==s)at(this.style.minScale)&&m<this.style.minScale?(this.textVisible=!1,g.left=0,g.top=0,g.right=0,g.bottom=0):((!this._originalScale||1==this._originalScale)&&(this._originalScale=this.scale),this.scale=m,this.textVisible=!0);else if("hide"==s)this.textVisible=!1,g.left=0,g.top=0,g.right=0,g.bottom=0;else{switch(this.style.textAlign){case"right":case"end":g.left=-a,g.right=0;break;case"center":g.left=-a/2,g.right=a/2;break;default:g.left=0,g.right=a}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return t.restore(),i.restore(),g}_fitRatio(e){const t=this.style.maxWidth,i=this.style.maxHeight;return at(t)||at(i)?Math.min(t/(e.right-e.left)||1,i/(e.bottom-e.top)||1):1}_truncateText(e,t,i,n=!1,s=!0){let a;do{if(n)t=t.slice(0,-1);else{let l=t.replace(/[^,;:!?\\\/\s\u200b]+[,;:!?\\\/\s\u200b]*$/g,"");if(""!=l&&l!==t||!s){if(""==l)return t;t=l}else n=!0}const o=this._measureText(t,e);a=o.actualBoundingBoxLeft+o.actualBoundingBoxRight}while(a>i&&""!=t);return t}_measureText(e,t){let i=t.measureText(e),n={};if(null==i.actualBoundingBoxAscent){const a=document.createElement("div");a.innerText=e,a.style.visibility="hidden",a.style.position="absolute",a.style.top="-1000000px;",a.style.fontFamily=this.style.fontFamily||"",a.style.fontSize=this.style.fontSize+"",document.body.appendChild(a);const o=a.getBoundingClientRect();document.body.removeChild(a);const l=o.height,c=i.width;n={actualBoundingBoxAscent:l,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:c,fontBoundingBoxAscent:l,fontBoundingBoxDescent:0,width:c}}else n={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};const s=i.width;switch(this.style.textAlign){case"right":case"end":n.actualBoundingBoxLeft=s,n.actualBoundingBoxRight=0;break;case"center":n.actualBoundingBoxLeft=s/2,n.actualBoundingBoxRight=s/2;break;default:n.actualBoundingBoxLeft=0,n.actualBoundingBoxRight=s}return n}}class UB{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:Tr(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\u2026"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Md extends _p{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(e){"circular"===this.textType?this._renderCircular(e):super._render(e)}_renderCircular(e){if(this.textVisible){this._prerender(e);const t=this._isInteractive(e),i=e.layer.context,n=e.layer.dirty,s=this._renderer._ghostLayer.context;i.save(),t&&s.save(),this._textInfo||this._measure(e);let a=this.radius||0,o=this.startAngle||0,l=0,c=this.orientation,A="auto"==c?"auto":"inward"==c;const u=this.inside,f=this.style.textAlign||"left",d=this.kerning||0;let _="left"==f?1:-1;const p=!this._textReversed;if("auto"==A){let g=0,m=0;Xe(this._textInfo,(C,B)=>{const S=o+C.width/(a-C.height)/2*-_;S>g&&(g=S)}),m="left"==f?(g+l/2)*th:"right"==f?(g-l/2)*th:o*th,m=Ih(m),A=m>=270||m<=90}1==A&&p&&(this._textInfo.reverse(),this._textReversed=!0),Xe(this._textInfo,(g,m)=>{const C=g.height;u||(a+=C),(-1==_&&A||1==_&&!A)&&p&&g.textChunks.reverse();let B=o;l=0,"center"==f&&(B+=g.width/(a-C)/2*-_,l=B-o),B+=Math.PI*(A?0:1),i.save(),t&&s.save(),i.rotate(B),t&&s.rotate(B);let S=0;Xe(g.textChunks,(U,H)=>{const N=U.text,P=U.width;S=P/2/(a-C)*_,i.rotate(S),t&&s.rotate(S),U.style&&(i.save(),s.save(),i.font=U.style,t&&(s.font=U.style)),U.fill&&(i.save(),i.fillStyle=U.fill.toCSS()),i.textBaseline="middle",i.textAlign="center",t&&(s.textBaseline="middle",s.textAlign="center"),n&&i.fillText(N,0,(A?1:-1)*(0-a+C/2)),t&&s.fillText(N,0,(A?1:-1)*(0-a+C/2)),U.fill&&i.restore(),U.style&&(i.restore(),s.restore()),S=(P/2+d)/(a-C)*_,i.rotate(S),t&&s.rotate(S)}),i.restore(),t&&s.restore(),u&&(a-=C)}),i.restore(),t&&s.restore()}}_measure(e){return"circular"===this.textType?this._measureCircular(e):super._measure(e)}_measureCircular(e){const t=e.layer.context,i=this._renderer._ghostLayer.context,n="rtl"==this.style.direction,s=this.style.oversizedBehavior,a=this.style.maxWidth,o=at(a)&&"truncate"==s,l=this.style.ellipsis||"";let c;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,t.save(),i.save(),this._prerender(e,!0);const A=this.text.toString().replace(/\r/g,"").split(/\n/);let u=!0,f=0,d=0;return Xe(A,(_,p)=>{let C,B,S,g=za.chunk(_,!1,this.style.ignoreFormatting),m={offsetY:d,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};Xe(g,(U,H)=>{if("format"==U.type){if("[/]"==U.text)u||(t.restore(),i.restore(),u=!0),B=void 0,C=void 0,S=void 0;else{let N=za.getTextStyle(U.text);const P=this._getFontStyle(N);t.save(),i.save(),t.font=P,C=P,N.fill&&(B=N.fill),N.width&&(S=Wo(N.width)),u=!1}o&&(c=this._measureText(l,t))}else if("value"==U.type){const N=U.text.match(/./gu)||[];n&&N.reverse();for(let P=0;P<N.length;P++){const z=N[P],W=this._measureText(z,t);let Y=W.width;C&&S&&S>Y&&(Y=S);const K=W.actualBoundingBoxAscent+W.actualBoundingBoxDescent;if(K>m.height&&(m.height=K),W.actualBoundingBoxAscent>m.ascent&&(m.ascent=W.actualBoundingBoxAscent),f+=Y,o){c||(c=this._measureText(l,t));const q=c.actualBoundingBoxLeft+c.actualBoundingBoxRight;if(f+q>a){1==m.textChunks.length?this.textVisible=!1:(m.width+=q,m.left+=c.actualBoundingBoxLeft,m.right+=c.actualBoundingBoxRight,m.textChunks.push({style:C,fill:B,text:l,width:q,height:K+c.actualBoundingBoxDescent,left:c.actualBoundingBoxLeft,right:c.actualBoundingBoxRight,ascent:c.actualBoundingBoxAscent,offsetX:0,offsetY:K,textDecoration:void 0}));break}}if(m.width+=Y,m.left+=W.actualBoundingBoxLeft,m.right+=W.actualBoundingBoxRight,m.textChunks.push({style:C,fill:B,text:z,width:Y,height:K+W.actualBoundingBoxDescent,left:W.actualBoundingBoxLeft,right:W.actualBoundingBoxRight,ascent:W.actualBoundingBoxAscent,offsetX:0,offsetY:K,textDecoration:void 0}),n)break}}}),m.height*=this.style.lineHeight instanceof vn?this.style.lineHeight.value:this.style.lineHeight||1.2,this._textInfo.push(m),d+=m.height}),u||(t.restore(),i.restore()),"hide"==s&&f>a&&(this.textVisible=!1),Xe(this._textInfo,_=>{Xe(_.textChunks,p=>{p.offsetY+=Math.round((_.height-p.height+(_.ascent-p.ascent))/2)})}),t.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}}class QB extends bu{constructor(e,t){super(e),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=t}_dispose(){super._dispose(),this._imageMask&&mp(this._imageMask)}getLocalBounds(){if(!this._localBounds){let e=0,t=0;this.width&&(e=this.width),this.height&&(t=this.height),this._localBounds={left:0,top:0,right:e,bottom:t},this._addBounds(this._localBounds)}return this._localBounds}_render(e){if(super._render(e),this.image){if(void 0===this.tainted&&(this.tainted=pp(this.image),e.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(e.layer.dirty&&(this.shadowColor&&(e.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.layer.context.shadowOffsetY=this.shadowOffsetY),e.layer.context.drawImage(this.image,0,0,this.width||this.image.naturalWidth,this.height||this.image.naturalHeight)),this.interactive&&this._isInteractive(e)){const t=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(t,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(e){if(void 0===this._imageMask){const t=this.width||e.naturalWidth,i=this.height||e.naturalHeight,n=document.createElement("canvas");n.width=t,n.height=i;const s=n.getContext("2d");s.imageSmoothingEnabled=!1,s.fillStyle=this._getColorId(),s.fillRect(0,0,t,i),pp(e)||(s.globalCompositeOperation="destination-in",s.drawImage(e,0,0,t,i)),this._imageMask=n}return this._imageMask}}class OB{constructor(e,t,i,n){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.id=al("touchevents")&&e instanceof Touch?e.identifier:null}}class _b extends Im{constructor(e){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new NB}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.resolution=null==e?window.devicePixelRatio:e,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new Hs(()=>{gr(this._events,(t,i)=>{i.disposer.dispose()}),Xe(this.layers,t=>{mp(t.view),t.exportableView&&mp(t.exportableView)}),mp(this._ghostLayer.view),mp(this._patternCanvas)})),this._disposers.push(km(()=>{null==e&&(this.resolution=window.devicePixelRatio)})),al("touchevents")){const t=i=>{0!==this._dragging.length&&Gf(this._dragging,n=>!n.value.shouldCancelTouch()||(i.preventDefault(),!1)),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(os(window,"touchstart",t,{passive:!1})),this._disposers.push(os(this.view,"touchstart",t,{passive:!1})),this._disposers.push(os(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(os(window,"click",i=>{this._touchActive=!1},{passive:!0})),this._disposers.push(os(this.view,"click",i=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}al("wheelevents")&&this._disposers.push(os(this.view,"wheel",t=>{let i=!1;this._hovering.forEach(n=>{if(n.wheelable)return i=!0,!1}),i&&t.preventDefault()},{passive:!1}))}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(e,t,i,n){return this.defaultLayer.context.createLinearGradient(e,t,i,n)}createRadialGradient(e,t,i,n,s,a){return this.defaultLayer.context.createRadialGradient(e,t,i,n,s,a)}createPattern(e,t,i,n,s){return this._patternCanvas.width=n,this._patternCanvas.height=s,this._patternContext.clearRect(0,0,n,s),t.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}makeContainer(){return new TB(this)}makeGraphics(){return new Ed(this)}makeText(e,t){return new _p(this,e,t)}makeTextStyle(){return new UB}makeRadialText(e,t){return new Md(this,e,t)}makePicture(e){return new QB(this,e)}resizeLayer(e){e.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(e,t,i,n){this._realWidth=e,this._realHeight=t,this._calculatedWidth=i,this._calculatedHeight=n,Xe(this.layers,s=>{s&&(s.dirty=!0,this.resizeLayer(s))}),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=n+"px"}createDetachedLayer(e=!1){const t=document.createElement("canvas"),i=t.getContext("2d",{willReadFrequently:e}),n=new vb(t,i);return t.style.position="absolute",t.style.top="0px",t.style.left="0px",n}getLayerByOrder(e){const t=this.layers,i=t.length;for(let n=0;n<i;n++){const s=t[n];if(s.order==e)return s}}getLayer(e,t=!0){let i=this.getLayerByOrder(e);if(i)return i;const n=this.createDetachedLayer(99==e);n.order=e,n.visible=t,n.view.className="am5-layer-"+e,n.visible&&this.resizeLayer(n);const s=this.layers;s.push(n),s.sort((c,A)=>c.order>A.order?1:c.order<A.order?-1:0);const a=s.length;let l;for(let c=wc(s,n)+1;c<a;c++)if(s[c].visible){l=s[c];break}return n.visible&&(void 0===l?this._layerDom.appendChild(n.view):this._layerDom.insertBefore(n.view,l.view)),n}render(e){if(this._dirtyLayers.length=0,Xe(this.layers,t=>{t&&t.dirty&&t.visible&&(this._dirtyLayers.push(t),t.clear())}),this._ghostLayer.clear(),e.render({inactive:null,layer:this.defaultLayer}),this._ghostLayer.context.restore(),Xe(this.layers,t=>{if(t){const i=t.context;i.beginPath(),i.moveTo(0,0),i.stroke()}}),Xe(this._dirtyLayers,t=>{t.context.restore(),t.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:t,target:i,native:n}=this._lastPointerMoveEvent;Xe(t,s=>{this._dispatchGlobalMousemove(s,i,n)})}}paintId(e){const t=function EB(r){const e=[0,0,0];for(let t=0;t<24;t++)e[t%3]<<=1,e[t%3]|=1&r,r>>=1;return(0|e[0])+(e[1]<<8)+(e[2]<<16)}(++this._colorId),i=Wi.fromHex(t).toCSS();return this._colorMap[i]=e,i}_removeObject(e){void 0!==e._colorId&&delete this._colorMap[e._colorId]}_adjustBoundingBox(e){const t=this._ghostLayer.margin;return new DOMRect(-t.left,-t.top,e.width+t.left+t.right,e.height+t.top+t.bottom)}getEvent(e,t=!0){const i=this.view.getBoundingClientRect(),n=e.clientX||0,s=e.clientY||0;return new OB(e,{x:n-i.left,y:s-i.top},{x:this._calculatedWidth/this._realWidth*(n-(t?i.left:0)),y:this._calculatedHeight/this._realHeight*(s-(t?i.top:0))},this._adjustBoundingBox(i))}_getHitTarget(e,t,i){if(0===t.width||0===t.height||e.x<t.left||e.x>t.right||e.y<t.top||e.y>t.bottom||!i||!this._layerDom.contains(i))return;const n=this._ghostLayer.getImageData(e,t);if(0===n.data[0]&&0===n.data[1]&&0===n.data[2])return!1;const s=Wi.fromRGB(n.data[0],n.data[1],n.data[2]).toCSS();return this._colorMap[s]}getObjectAtPoint(e){const t=this._adjustBoundingBox(this.view.getBoundingClientRect());return this._getHitTarget(e,t,this._layerDom)||void 0}_withEvents(e,t){const i=this._events[e];if(void 0!==i){i.dispatching=!0;try{t(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,fu(i.callbacks,n=>!n.disposed),0===i.callbacks.length&&(i.disposer.dispose(),delete this._events[e]))}}}_dispatchEventAll(e,t){this.interactionsEnabled&&this._withEvents(e,i=>{Xe(i.callbacks,n=>{n.disposed||n.callback.call(n.context,t)})})}_dispatchEvent(e,t,i){if(!this.interactionsEnabled)return!1;let n=!1;return this._withEvents(e,s=>{Xe(s.callbacks,a=>{!a.disposed&&a.object===t&&(a.callback.call(a.context,i),n=!0)})}),n}_dispatchMousedown(e,t){const i=e.button;if(0!=i&&2!=i&&1!=i&&void 0!==i)return;const n=this.getEvent(e),s=this._getHitTarget(n.originalPoint,n.bbox,t);if(s){const a=n.id;let o=!1;xr(s,l=>{const c={id:a,value:l};return this._mousedown.push(c),!o&&this._dispatchEvent("pointerdown",l,n)&&(o=!0,this._dragging.some(u=>u.value===l&&u.id===a)||this._dragging.push(c)),!0})}}_dispatchGlobalMousemove(e,t,i){const n=this.getEvent(e),s=this._getHitTarget(n.originalPoint,n.bbox,t);n.native=i,s?(this._hovering.forEach(a=>{a.contains(s)||(this._hovering.delete(a),a.cursorOverStyle&&$f(document.body,"cursor",a._replacedCursorStyle),this._dispatchEvent("pointerout",a,n))}),n.native&&xr(s,a=>(this._hovering.has(a)||(this._hovering.add(a),a.cursorOverStyle&&(a._replacedCursorStyle=function $w(r,e){return r.style[e]}(document.body,"cursor"),$f(document.body,"cursor",a.cursorOverStyle)),this._dispatchEvent("pointerover",a,n)),!0))):(this._hovering.forEach(a=>{a.cursorOverStyle&&$f(document.body,"cursor",a._replacedCursorStyle),this._dispatchEvent("pointerout",a,n)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",n)}removeHovering(e){this._hovering.delete(e),e.cursorOverStyle&&$f(document.body,"cursor",e._replacedCursorStyle)}_dispatchGlobalMouseup(e,t){const i=this.getEvent(e);i.native=t,this._dispatchEventAll("globalpointerup",i)}_dispatchDragMove(e){if(0!==this._dragging.length){const t=this.getEvent(e),i=t.id;this._dragging.forEach(n=>{n.id===i&&this._dispatchEvent("pointermove",n.value,t)})}}_dispatchDragEnd(e,t){const i=e.button;let n;if(0==i||void 0===i)n="click";else if(2==i)n="rightclick";else{if(1!=i)return;n="middleclick"}const s=this.getEvent(e),a=s.id;if(0!==this._mousedown.length){const o=this._getHitTarget(s.originalPoint,s.bbox,t);o&&this._mousedown.forEach(l=>{l.id===a&&l.value.contains(o)&&this._dispatchEvent(n,l.value,s)}),this._mousedown.length=0}0!==this._dragging.length&&(this._dragging.forEach(o=>{o.id===a&&this._dispatchEvent("pointerup",o.value,s)}),this._dragging.length=0)}_dispatchDoubleClick(e,t){const i=this.getEvent(e),n=this._getHitTarget(i.originalPoint,i.bbox,t);n&&xr(n,s=>!this._dispatchEvent("dblclick",s,i))}_dispatchWheel(e,t){const i=this.getEvent(e),n=this._getHitTarget(i.originalPoint,i.bbox,t);n&&xr(n,s=>!this._dispatchEvent("wheel",s,i))}_makeSharedEvent(e,t){if(void 0===this._listeners[e]){const i=t();this._listeners[e]=new S0(()=>{delete this._listeners[e],i.dispose()})}return this._listeners[e].increment()}_onPointerEvent(e,t){let i=!1,n=null;function s(){n=null,i=!1}return new Gi([new Hs(()=>{null!==n&&clearTimeout(n),s()}),os(this.view,qf(e),a=>{i=!0,null!==n&&clearTimeout(n),n=window.setTimeout(s,0)}),ws(window,e,(a,o)=>{null!==n&&(clearTimeout(n),n=null),t(a,o,i),i=!1})])}_initEvent(e){switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const t=(i,n,s)=>{this._lastPointerMoveEvent={events:i,target:n,native:s},Xe(i,a=>{this._dispatchGlobalMousemove(a,n,s)})};return new Gi([this._onPointerEvent("pointerdown",t),this._onPointerEvent("pointermove",t)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const t=this._onPointerEvent("pointerup",(n,s,a)=>{Xe(n,o=>{this._dispatchGlobalMouseup(o,a)}),this._lastPointerMoveEvent={events:n,target:s,native:a}}),i=this._onPointerEvent("pointercancel",(n,s,a)=>{Xe(n,o=>{this._dispatchGlobalMouseup(o,a)}),this._lastPointerMoveEvent={events:n,target:s,native:a}});return new Hs(()=>{t.dispose(),i.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const t=this._onPointerEvent("pointerdown",(a,o)=>{Xe(a,l=>{this._dispatchMousedown(l,o)})}),i=this._onPointerEvent("pointermove",a=>{Xe(a,o=>{this._dispatchDragMove(o)})}),n=this._onPointerEvent("pointerup",(a,o)=>{Xe(a,l=>{this._dispatchDragEnd(l,o)})}),s=this._onPointerEvent("pointercancel",(a,o)=>{Xe(a,l=>{this._dispatchDragEnd(l,o)})});return new Hs(()=>{t.dispose(),i.dispose(),n.dispose(),s.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(t,i)=>{Xe(t,n=>{this._dispatchDoubleClick(n,i)})}));case"wheel":return this._makeSharedEvent("wheel",()=>os(window,qf("wheel"),t=>{this._dispatchWheel(t,P0(t))},{passive:!1}))}}_addEvent(e,t,i,n){let s=this._events[t];void 0===s&&(s=this._events[t]={disposer:this._initEvent(t),callbacks:[],dispatching:!1,cleanup:!1});const a={object:e,context:n,callback:i,disposed:!1};return s.callbacks.push(a),new Hs(()=>{a.disposed=!0,s.dispatching?s.cleanup=!0:(ta(s.callbacks,a),0===s.callbacks.length&&(s.disposer.dispose(),delete this._events[t]))})}getCanvas(e,t){this.render(e),t||(t={});let i=this.resolution,n=Math.floor(this._calculatedWidth*this.resolution),s=Math.floor(this._calculatedHeight*this.resolution);if(t.minWidth&&t.minWidth>n){let d=t.minWidth/n;d>i&&(i=d*this.resolution)}if(t.minHeight&&t.minHeight>s){let d=t.minHeight/s;d>i&&(i=d*this.resolution)}if(t.maxWidth&&t.maxWidth<n){let d=t.maxWidth/n;d<i&&(i=d*this.resolution)}if(t.maxHeight&&t.maxHeight>s){let d=t.maxHeight/s;d<i&&(i=d*this.resolution)}t.maintainPixelRatio&&(i/=this.resolution);const a=[];let o=!1;const l=document.createElement("canvas");i!=this.resolution&&(o=!0,n=n*i/this.resolution,s=s*i/this.resolution),l.width=n,l.height=s,l.style.position="fixed",l.style.top="-10000px",this.view.appendChild(l),a.push(l);const c=l.getContext("2d");let A=0,u=0,f=!1;return Xe(this.layers,d=>{if(d&&d.visible&&(d.tainted||o)){f=!0,d.exportableView=d.view,d.exportableContext=d.context,d.view=document.createElement("canvas"),d.view.style.position="fixed",d.view.style.top="-10000px",this.view.appendChild(d.view),a.push(d.view);let _=0,p=0;d.margin&&(_+=d.margin.left||0+d.margin.right||0,p+=d.margin.top||0+d.margin.bottom||0),d.view.width=n+_,d.view.height=s+p,d.context=d.view.getContext("2d"),d.dirty=!0,d.scale=i}}),f&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),Xe(this.layers,d=>{if(d&&d.visible){let _=0,p=0;d.margin&&(_=-(d.margin.left||0)*this.resolution,p=-(d.margin.top||0)*this.resolution),c.drawImage(d.view,_,p),d.exportableView&&(d.view=d.exportableView,d.exportableView=void 0),d.exportableContext&&(d.context=d.exportableContext,d.exportableContext=void 0),A<d.view.clientWidth&&(A=d.view.clientWidth),u<d.view.clientHeight&&(u=d.view.clientHeight),d.scale=void 0}}),l.style.width=A+"px",l.style.height=u+"px",Xe(a,d=>{d.style.position="",d.style.top="",this.view.removeChild(d)}),l}}class NB{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(e,t,i,n,s){e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*s),this._height=Math.floor(t*s),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=n+"px"}getImageData(e,t){return this.context.getImageData(Math.round((e.x-t.left)/t.width*this._width),Math.round((e.y-t.top)/t.height*this._height),1,1)}setMargin(e){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,Xe(e,t=>{t.margin&&(this.margin.left=Math.max(this.margin.left,t.margin.left),this.margin.right=Math.max(this.margin.right,t.margin.right),this.margin.top=Math.max(this.margin.top,t.margin.top),this.margin.bottom=Math.max(this.margin.bottom,t.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class vb{constructor(e,t){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=t}resize(e,t,i,n,s){null!=this.width&&(e=this.width,i=this.width),null!=this.height&&(t=this.height,n=this.height),this.margin?(e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*s),this._height=Math.floor(t*s),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=n+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}function wb(r,e){null==r?requestAnimationFrame(e):setTimeout(()=>{requestAnimationFrame(e)},1e3/r)}class Lh{constructor(e,t={},i){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new vA}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:iv.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:ig}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:tv.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:vB.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:wB.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Ec.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Zl.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:cl.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");let n,s;if(this._settings=t,0==t.accessible&&(this._a11yD=!0),null==t.useSafeResolution&&(t.useSafeResolution=!0),t.useSafeResolution&&(n=function ep(){return function bc(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}()?1:void 0}()),this._renderer=new _b(n),s=e instanceof HTMLElement?e:document.getElementById(e),Xe(Pl.rootElements,l=>{if(l.dom===s)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=tg.new(this,{}),null===s)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=s;let a=document.createElement("div");a.style.position="relative",a.style.width="100%",a.style.height="100%",s.appendChild(a);const o=t.tooltipContainerBounds;o&&(this._tooltipContainerSettings=o),this._inner=a,this._updateComputedStyles(),Pl.rootElements.push(this)}static new(e,t){const i=new Lh(e,t,!0);return i._init(),i}moveDOM(e){let t;if(t=e instanceof HTMLElement?e:document.getElementById(e),t){for(;this.dom.childNodes.length>0;)t.appendChild(this.dom.childNodes[0]);this.dom=t,this._initResizeSensor(),this.resize()}}_handleLogo(){this._logo&&(this.dom.offsetWidth<=150||this.dom.offsetHeight<=60?this._logo.hide():this._logo.show())}_showBranding(){if(!this._logo){const e=this.tooltipContainer.children.push(en.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:Tr(100),centerY:hi,tooltipText:"Created using amCharts 5",tooltipX:hi,cursorOverStyle:"pointer",background:Ha.new(this,{fill:Qr(4671320),fillOpacity:0,tooltipY:5})})),t=hl.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});t.label.setAll({fontSize:12}),t.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),e.set("tooltip",t),e.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),e.states.create("hover",{}),e.children.push(lr.new(this,{stroke:Qr(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:Qr(3976191)}),e.children.push(lr.new(this,{stroke:Qr(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:Qr(4671320)}),this._logo=e,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}_init(){const e=this._settings;!1!==e.accessible&&(e.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),e.ariaLabel&&this._inner.setAttribute("aria-label",e.ariaLabel),e.role&&this._inner.setAttribute("role",e.role));const t=this._renderer,i=this._getRealSize(),n=this._getCalculatedSize(i),s=Math.floor(n.width),a=Math.floor(n.height),o=Math.floor(i.width),l=Math.floor(i.height),c=en.new(this,{visible:!0,width:s,height:a});this._rootContainer=c,this._rootContainer._defaultThemes.push(bB.new(this));const A=c.children.push(en.new(this,{visible:!0,width:hi,height:hi}));this.container=A,t.resize(o,l,s,a),this._inner.appendChild(t.view),this._initResizeSensor();const u=document.createElement("div");if(this._htmlElementContainer=u,u.className="am5-html-container",u.style.position="absolute",u.style.pointerEvents="none",this._tooltipContainerSettings||(u.style.overflow="hidden"),this._inner.appendChild(u),!0!==this._a11yD){const f=document.createElement("div");f.className="am5-reader-container",f.setAttribute("role","alert"),f.style.position="absolute",f.style.width="1px",f.style.height="1px",f.style.overflow="hidden",f.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=f,this._inner.appendChild(this._readerAlertElement);const d=document.createElement("div");d.className="am5-focus-container",d.style.position="absolute",d.style.pointerEvents="none",d.style.top="0px",d.style.left="0px",d.style.overflow="hidden",d.style.width=s+"px",d.style.height=a+"px",d.setAttribute("role","graphics-document"),gu(d,!1),this._focusElementContainer=d,this._inner.appendChild(this._focusElementContainer);const _=document.createElement("div");this._tooltipElementContainer=_,_.className="am5-tooltip-container",this._inner.appendChild(_),al("keyboardevents")&&(this._disposers.push(os(window,"keydown",p=>{16==p.keyCode?this._isShift=!0:9==p.keyCode&&(this._isShift=p.shiftKey)})),this._disposers.push(os(window,"keyup",p=>{16==p.keyCode&&(this._isShift=!1)})),this._disposers.push(os(d,"click",()=>{const p=this._focusedSprite;if(p){const g=t.getEvent(new MouseEvent("click"));p.events.dispatch("click",{type:"click",originalEvent:g.event,point:g.point,simulated:!0,target:p})}})),this._disposers.push(os(d,"keydown",p=>{const g=this._focusedSprite;if(g){27==p.keyCode&&(function L0(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let r=document.createElement("button");r.style.position="fixed",r.style.top="0px",r.style.left="-10000px",document.body.appendChild(r),r.focus(),r.blur(),document.body.removeChild(r)}}(),this._focusedSprite=void 0);let m=0,C=0;switch(p.keyCode){case 13:p.preventDefault();const B=t.getEvent(new MouseEvent("click"));return void g.events.dispatch("click",{type:"click",originalEvent:B.event,point:B.point,simulated:!0,target:g});case 37:m=-6;break;case 39:m=6;break;case 38:C=-6;break;case 40:C=6;break;default:return}if(0!=m||0!=C){if(p.preventDefault(),!g.isDragging()){this._keyboardDragPoint={x:0,y:0};const U=t.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));g.events.isEnabled("pointerdown")&&g.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:U.event,point:U.point,simulated:!0,target:g})}const B=this._keyboardDragPoint;B.x+=m,B.y+=C;const S=t.getEvent(new MouseEvent("mousemove",{clientX:B.x,clientY:B.y}),!1);g.events.isEnabled("globalpointermove")&&g.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:S.event,point:S.point,simulated:!0,target:g})}}})),this._disposers.push(os(d,"keyup",p=>{if(this._focusedSprite){const g=this._focusedSprite,m=p.keyCode;switch(m){case 37:case 39:case 38:case 40:if(g.isDragging()){const C=this._keyboardDragPoint,B=t.getEvent(new MouseEvent("mouseup",{clientX:C.x,clientY:C.y}));return g.events.isEnabled("globalpointerup")&&g.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:B.event,point:B.point,simulated:!0,target:g}),void(this._keyboardDragPoint=void 0)}if(g.get("focusableGroup")){const C=g.get("focusableGroup"),B=this._tabindexes.filter(H=>H.get("focusableGroup")==C&&!1!==H.getPrivate("focusable"));let S=B.indexOf(g);const U=B.length-1;S+=39==m||40==m?1:-1,S<0?S=U:S>U&&(S=0),function Lm(r){r&&r.focus()}(B[S].getPrivate("focusElement").dom)}}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new gB(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const e=this._getRealSize(),t=this._getCalculatedSize(e),i=Math.floor(t.width),n=Math.floor(t.height);if(i>0&&n>0){const s=Math.floor(e.width),a=Math.floor(e.height),o=this._htmlElementContainer;if(o.style.width=i+"px",o.style.height=n+"px",!0!==this._a11yD){const c=this._focusElementContainer;c.style.width=i+"px",c.style.height=n+"px"}this._renderer.resize(s,a,i,n);const l=this._rootContainer;l.setPrivate("width",i),l.setPrivate("height",n),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(e){Xe(this._tickers,t=>{t(e)})}_runAnimations(e){fu(this._animations,t=>t._runAnimation(e))}_runDirties(){let e={};for(;this._isDirtyParents;)this._isDirtyParents=!1,Gr(this._dirtyParents).forEach(a=>{const o=this._dirtyParents[a];delete this._dirtyParents[a],o.isDisposed()||(e[o.uid]=o,o._prepareChildren())});Gr(e).forEach(a=>{e[a]._updateChildren()});const t=[];Gr(this._dirty).forEach(a=>{const o=this._dirty[a];o.isDisposed()?delete this._dirty[o.uid]:(t.push(o),o._beforeChanged())}),t.forEach(a=>{a._changed(),delete this._dirty[a.uid],a._clearDirty()}),this._isDirty=!1;const i={},n=[];Gr(this._dirtyBounds).forEach(a=>{const o=this._dirtyBounds[a];delete this._dirtyBounds[a],o.isDisposed()||(i[o.uid]=o.depth(),n.push(o))}),this._positionHTMLElements(),n.sort((a,o)=>Cc(i[o.uid],i[a.uid])),n.forEach(a=>{a._updateBounds()});const s=this._dirtyPositions;Gr(s).forEach(a=>{const o=s[a];delete s[a],o.isDisposed()||o._updatePosition()}),t.forEach(a=>{a._afterChanged()})}_renderFrame(e){return!this._updateTick||(this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e),this._runAnimations(e),this._runDirties(),this._render(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),0===this._tickers.length&&0===this._animations.length&&!this._isDirty)}_runTicker(e,t){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||t||wb(this.fps,this._ticker))}_runTickerNow(e=1e4){if(!this.isDisposed()){const t=performance.now()+e;for(;;){const i=performance.now();if(i>=t){this.animationTime=null;break}if(this.animationTime=i,this._renderFrame(i)){this.animationTime=null;break}}}}_startTicker(){null===this._ticker&&(this.animationTime=null,this._ticker=e=>{this._runTicker(e)},wb(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(e){this._updateTick=e,e&&this._startTicker()}_addDirtyEntity(e){void 0===this._dirty[e.uid]&&(this._isDirty=!0,this._dirty[e.uid]=e,this._startTicker())}_addDirtyParent(e){void 0===this._dirtyParents[e.uid]&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[e.uid]=e,this._startTicker())}_addDirtyBounds(e){void 0===this._dirtyBounds[e.uid]&&(this._isDirty=!0,this._dirtyBounds[e.uid]=e,this._startTicker())}_addDirtyPosition(e){void 0===this._dirtyPositions[e.uid]&&(this._isDirty=!0,this._dirtyPositions[e.uid]=e,this._startTicker())}_addAnimation(e){-1===this._animations.indexOf(e)&&(this._animations.push(e),this._startTicker())}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(e){return this._tickers.push(e),this._startTicker(),new Hs(()=>{ta(this._tickers,e)})}markDirtyGlobal(e){e||(e=this.container),e.walkChildren(t=>{t instanceof en&&this.markDirtyGlobal(t),t.markDirty(),t.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),Xe(this._disposers,e=>{e.dispose()}),this._inner&&function k0(r){r.parentNode&&r.parentNode.removeChild(r)}(this._inner),xo(Pl.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(e){!0!==this._a11yD&&(this._readerAlertElement.innerHTML=_u(e))}setThemes(e){this._rootContainer.set("themes",e);const t=this.tooltipContainer;t&&t._applyThemes();const i=this.interfaceColors;i&&i._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const e=this._tooltipContainerSettings,t=this._rootContainer.children.push(en.new(this,{position:"absolute",isMeasured:!1,width:hi,height:hi,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=t;const i=hl.new(this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}_registerTabindexOrder(e){1!=this._a11yD&&(e.get("focusable")?Ll(this._tabindexes,e):xo(this._tabindexes,e),this._invalidateTabindexes())}_unregisterTabindexOrder(e){1!=this._a11yD&&(xo(this._tabindexes,e),this._invalidateTabindexes())}_invalidateTabindexes(){if(1==this._a11yD)return;this._tabindexes.sort((t,i)=>{const n=t.get("tabindexOrder",0),s=i.get("tabindexOrder",0);return n==s?0:n>s?1:-1});const e=[];Xe(this._tabindexes,(t,i)=>{t.getPrivate("focusElement")?this._moveFocusElement(i,t):this._makeFocusElement(i,t);const n=t.get("focusableGroup");n&&!1!==t.getPrivate("focusable")&&(-1!==e.indexOf(n)?t.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(n))})}_updateCurrentFocus(){1!=this._a11yD&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(e,t){if(1==this._a11yD||(t||(t=e.getPrivate("focusElement").dom),!t))return;const i=e.get("role");i?t.setAttribute("role",i):t.removeAttribute("role");const n=e.get("ariaLabel");if(n){const d=Fh(e,n);t.setAttribute("aria-label",d)}else t.removeAttribute("aria-label");const s=e.get("ariaLive");s?t.setAttribute("aria-live",s):t.removeAttribute("aria-live");const a=e.get("ariaChecked");null!=a?t.setAttribute("aria-checked",a?"true":"false"):t.removeAttribute("aria-checked"),e.get("ariaHidden")?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden");const o=e.get("ariaOrientation");o?t.setAttribute("aria-orientation",o):t.removeAttribute("aria-orientation");const l=e.get("ariaValueNow");l?t.setAttribute("aria-valuenow",l):t.removeAttribute("aria-valuenow");const c=e.get("ariaValueMin");c?t.setAttribute("aria-valuemin",c):t.removeAttribute("aria-valuemin");const A=e.get("ariaValueMax");A?t.setAttribute("aria-valuemax",A):t.removeAttribute("aria-valuemax");const u=e.get("ariaValueText");u?t.setAttribute("aria-valuetext",u):t.removeAttribute("aria-valuetext");const f=e.get("ariaControls");f?t.setAttribute("aria-controls",f):t.removeAttribute("aria-controls"),e.get("visible")&&0!==e.get("opacity")&&"tooltip"!=e.get("role")&&!e.isHidden()&&!1!==e.getPrivate("focusable")?("-1"!=t.getAttribute("tabindex")&&t.setAttribute("tabindex",""+this.tabindex),t.removeAttribute("aria-hidden")):(t.removeAttribute("tabindex"),t.setAttribute("aria-hidden","true"))}_makeFocusElement(e,t){if(t.getPrivate("focusElement")||1==this._a11yD)return;const i=document.createElement("div");"tooltip"!=t.get("role")&&(i.tabIndex=this.tabindex),i.style.position="absolute",gu(i,!1);const n=[];t.setPrivate("focusElement",{dom:i,disposers:n}),this._decorateFocusElement(t),n.push(os(i,"focus",s=>{this._handleFocus(s,e)})),n.push(os(i,"blur",s=>{this._handleBlur(s,e)})),this._moveFocusElement(e,t)}_removeFocusElement(e){if(1==this._a11yD)return;xo(this._tabindexes,e);const t=e.getPrivate("focusElement");t&&(this._focusElementContainer.removeChild(t.dom),Xe(t.disposers,n=>{n.dispose()}))}_hideFocusElement(e){1!=this._a11yD&&(e.getPrivate("focusElement").dom.style.display="none")}_moveFocusElement(e,t){if(1==this._a11yD)return;const i=this._focusElementContainer,n=t.getPrivate("focusElement").dom;if(n===this._focusElementContainer.children[e])return;const s=this._focusElementContainer.children[e+1];s?i.insertBefore(n,s):i.append(n)}_positionFocusElement(e){if(1==this._a11yD||null==e)return;const t=e.globalBounds();let i=t.right==t.left?e.width():t.right-t.left,n=t.top==t.bottom?e.height():t.bottom-t.top;const s=void 0!==this._settings.focusPadding?this._settings.focusPadding:2;let a=t.left-s,o=t.top-s;i<0&&(a+=i,i=Math.abs(i)),n<0&&(o+=n,n=Math.abs(n));const l=e.getPrivate("focusElement").dom;l.style.top=o+"px",l.style.left=a+"px",l.style.width=i+2*s+"px",l.style.height=n+2*s+"px"}_handleFocus(e,t){if(1==this._a11yD)return;const i=this._tabindexes[t];i.isVisibleDeep()?(this._positionFocusElement(i),this._focusedSprite=i,i.events.isEnabled("focus")&&i.events.dispatch("focus",{type:"focus",originalEvent:e,target:i})):this._focusNext(e.target,this._isShift?-1:1)}_focusNext(e,t){if(1==this._a11yD)return;const i=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let n=i.indexOf(e)+t;n<0?n=i.length-1:n>=i.length&&(n=0),i[n].focus()}_handleBlur(e,t){if(1==this._a11yD)return;const i=this._focusedSprite;i&&!i.isDisposed()&&i.events.isEnabled("blur")&&i.events.dispatch("blur",{type:"blur",originalEvent:e,target:i}),this._focusedSprite=void 0}updateTooltip(e){if(1==this._a11yD)return;const t=_u(e._getText());let i=e.getPrivate("tooltipElement");"tooltip"==e.get("role")&&""!=t?(i||(i=this._makeTooltipElement(e)),i.innerHTML!=t&&(i.innerHTML=t)):i&&(i.remove(),e.removePrivate("tooltipElement"))}_makeTooltipElement(e){const t=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",gu(i,!1),this._decorateFocusElement(e,i),t.append(i),e.setPrivate("tooltipElement",i),i}_removeTooltipElement(e){if(1==this._a11yD)return;const t=e.getPrivate("tooltipElement");if(t){const i=t.parentElement;i&&i.removeChild(t)}}_invalidateAccessibility(e){if(1==this._a11yD)return;this._focusElementDirty=!0;const t=e.getPrivate("focusElement");e.get("focusable")?t&&(this._decorateFocusElement(e),this._positionFocusElement(e)):t&&this._removeFocusElement(e)}focused(e){return this._focusedSprite===e}documentPointToRoot(e){const t=this._getRealSize(),i=this._getCalculatedSize(t);return{x:i.width/t.width*(e.x-t.left),y:i.height/t.height*(e.y-t.top)}}rootPointToDocument(e){const t=this._getRealSize(),i=this._getCalculatedSize(t);return{x:e.x/(i.width/t.width)+t.left,y:e.y/(i.height/t.height)+t.top}}addDisposer(e){return this._disposers.push(e),e}_updateComputedStyles(){const e=window.getComputedStyle(this.dom);let t="";gr(e,(n,s)=>{sl(n)&&n.match(/^font/)&&(t+=s)});const i=t!=this._fontHash;return i&&(this._fontHash=t),i}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(e){e instanceof en?e.children.each(t=>{this._invalidateLabelBounds(t)}):e instanceof kh&&e.markDirtyBounds()}_hasLicense(){for(let e=0;e<Pl.licenses.length;e++)if(Pl.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(e){this._renderer.debugGhostView=e}set tapToActivate(e){this._renderer.tapToActivate=e}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(e){this._renderer.tapToActivateTimeout=e}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(e){const t=this._htmlElementContainer,i=document.createElement("div");return e.setPrivate("htmlElement",i),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",gu(i,e.get("interactive",!1)),e.events.isEnabled("click")&&(gu(i,!0),this._disposers.push(os(i,"click",n=>{const s=this._renderer.getEvent(n);e.events.dispatch("click",{type:"click",originalEvent:s.event,point:s.point,simulated:!1,target:e})}))),this._positionHTMLElement(e),t.append(i),Ll(this._htmlEnabledContainers,e),i}_positionHTMLElements(){Xe(this._htmlEnabledContainers,e=>{this._positionHTMLElement(e)})}_positionHTMLElement(e){const t=e.getPrivate("htmlElement");if(t){Xe(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],u=>{const f=e.get(u);t.style[u]=f?f+"px":""});const n=e.compositeOpacity();setTimeout(()=>{t.style.opacity=n+""},10);const s=e.isVisibleDeep();s&&(t.style.display="block");const a=e.globalBounds();t.style.top=a.top+"px",t.style.left=a.left+"px";const o=e.get("width"),l=e.get("height");let c=0,A=0;if(o&&(c=e.width()),l&&(A=e.height()),o&&l)e.removePrivate("minWidth"),e.removePrivate("minHeight");else{t.style.position="fixed",t.style.width="",t.style.height="";const u=t.getBoundingClientRect();t.style.position="absolute",c=u.width,A=u.height,e._adjustedLocalBounds={left:0,right:0,top:0,bottom:0},e.setPrivate("minWidth",c),e.setPrivate("minHeight",A)}c>0&&(t.style.minWidth=c+"px"),A>0&&(t.style.minHeight=A+"px"),(!s||0==n)&&(t.style.display="none")}}_setHTMLContent(e,t){let i=e.getPrivate("htmlElement");i||(i=this._makeHTMLElement(e)),i.innerHTML!=t&&(i.innerHTML=t)}_removeHTMLContent(e){let t=e.getPrivate("htmlElement");t&&(this._htmlElementContainer.removeChild(t),e.removePrivate("htmlElement")),xo(this._htmlEnabledContainers,e)}}class yu extends na{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const e=this.get("sprite");e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}Object.defineProperty(yu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"}),Object.defineProperty(yu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:na.classNames.concat([yu.className])});class Td extends lr{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),this.isDirty("radius")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawCircle(0,0,this.get("radius",10))}}Object.defineProperty(Td,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Circle"}),Object.defineProperty(Td,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lr.classNames.concat([Td.className])});class Dd extends na{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const e=this.getPrivate("currentPass"),t=this.get("colors",[this.get("baseColor",Wi.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",t.length);const i=this.getPrivate("numColors"),s=this.get("passOptions"),a=this.get("reuse");for(let o=0;o<i;o++)if(a)t.push(t[o]);else{const l=t[o].toHSL();let c=l.h+(s.hue||0)*e;for(;c>1;)c-=1;let A=l.s+(s.saturation||0)*e;A>1&&(A=1),A<0&&(A=0);let u=l.l+(s.lightness||0)*e;for(;u>1;)u-=1;t.push(Wi.fromHSL(c,A,u))}}getIndex(e){const t=this.get("colors",[]),i=this.get("saturation");return e>=t.length?(this.generateColors(),this.getIndex(e)):null!=i?Wi.saturate(t[e],i):t[e]}next(){let e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(Dd,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(Dd,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:na.classNames.concat([Dd.className])});let lv={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function bb(r){switch(r){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Al(r,e){return null==e&&(e=1),lv[r]*e}function nh(r){return r?lv[r.timeUnit]*r.count:0}function cv(r,e,t,i,n){const s=r.timeUnit,a=r.count;if("hour"==s||"minute"==s||"second"==s||"millisecond"==s)return lv[r.timeUnit]*r.count;{const o=E(new Date(e.getTime()),s,a,t,i,void 0,n).getTime();let l=o+a*Al(s)*1.05;return l=E(new Date(l),s,1,t,i,void 0,n).getTime(),l-o}}function x(r,e,t,i,n){if(e-r>Al(t,1.2))return!0;let s=new Date(r),a=new Date(e);n&&(s=n.convertLocal(s),a=n.convertLocal(a));let o=0,l=0;!i&&"millisecond"!=t&&(o=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-o),l=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-l));let c=!1;switch(t){case"year":s.getUTCFullYear()!=a.getUTCFullYear()&&(c=!0);break;case"month":(s.getUTCFullYear()!=a.getUTCFullYear()||s.getUTCMonth()!=a.getUTCMonth())&&(c=!0);break;case"day":(s.getUTCMonth()!=a.getUTCMonth()||s.getUTCDate()!=a.getUTCDate())&&(c=!0);break;case"hour":s.getUTCHours()!=a.getUTCHours()&&(c=!0);break;case"minute":s.getUTCMinutes()!=a.getUTCMinutes()&&(c=!0);break;case"second":s.getUTCSeconds()!=a.getUTCSeconds()&&(c=!0);break;case"millisecond":s.getTime()!=a.getTime()&&(c=!0)}if(c)return c;let A=bb(t);return!!A&&x(r,e,A,i,n)}function M(r,e,t,i,n){let s;return null!=n&&(s=new Date(n)),E(new Date(r),e,t,i.locale.firstDayOfWeek,i.utc,s,i.timezone).getTime()}function E(r,e,t,i,n,s,a){if(!a||n){let o=0;switch(!n&&"millisecond"!=e&&(o=r.getTimezoneOffset(),r.setUTCMinutes(r.getUTCMinutes()-o)),e){case"day":let l=r.getUTCDate();if(t>1){if(s){s=E(s,"day",1);let m=r.getTime()-s.getTime(),C=Math.floor(m/Al("day")/t),B=Al("day",C*t);r.setTime(s.getTime()+B-o*Al("minute"))}}else r.setUTCDate(l);r.setUTCHours(0,0,0,0);break;case"second":let c=r.getUTCSeconds();t>1&&(c=Math.floor(c/t)*t),r.setUTCSeconds(c,0);break;case"millisecond":if(1==t)return r;let A=r.getUTCMilliseconds();A=Math.floor(A/t)*t,r.setUTCMilliseconds(A);break;case"hour":let u=r.getUTCHours();t>1&&(u=Math.floor(u/t)*t),r.setUTCHours(u,0,0,0);break;case"minute":let f=r.getUTCMinutes();t>1&&(f=Math.floor(f/t)*t),r.setUTCMinutes(f,0,0);break;case"month":let d=r.getUTCMonth();t>1&&(d=Math.floor(d/t)*t),r.setUTCMonth(d,1),r.setUTCHours(0,0,0,0);break;case"year":let _=r.getUTCFullYear();t>1&&(_=Math.floor(_/t)*t),r.setUTCFullYear(_,0,1),r.setUTCHours(0,0,0,0);break;case"week":let p=r.getUTCDate(),g=r.getUTCDay();at(i)||(i=1),p=g>=i?p-g+i:p-(7+g)+i,r.setUTCDate(p),r.setUTCHours(0,0,0,0)}if(!n&&"millisecond"!=e&&(r.setUTCMinutes(r.getUTCMinutes()+o),"day"==e||"week"==e||"month"==e||"year"==e)){let l=r.getTimezoneOffset();if(l!=o){let c=l-o;r.setUTCMinutes(r.getUTCMinutes()+c)}}return r}{if(isNaN(r.getTime()))return r;let o=a.offsetUTC(r),l=r.getTimezoneOffset(),c=a.parseDate(r),A=c.year,u=c.month,f=c.day,d=c.hour,_=c.minute,p=c.second,g=c.millisecond,m=c.weekday,C=o-l;switch(e){case"day":if(t>1&&s){s=E(s,"day",1,i,n,void 0,a);let H=r.getTime()-s.getTime(),N=Math.floor(H/Al("day")/t),P=Al("day",N*t);r.setTime(s.getTime()+P),c=a.parseDate(r),A=c.year,u=c.month,f=c.day}d=0,_=C,p=0,g=0;break;case"second":_+=C,t>1&&(p=Math.floor(p/t)*t),g=0;break;case"millisecond":_+=C,t>1&&(g=Math.floor(g/t)*t);break;case"hour":t>1&&(d=Math.floor(d/t)*t),_=C,p=0,g=0;break;case"minute":t>1&&(_=Math.floor(_/t)*t),_+=C,p=0,g=0;break;case"month":t>1&&(u=Math.floor(u/t)*t),f=1,d=0,_=C,p=0,g=0;break;case"year":t>1&&(A=Math.floor(A/t)*t),u=0,f=1,d=0,_=C,p=0,g=0;break;case"week":at(i)||(i=1),f=m>=i?f-m+i:f-(7+m)+i,d=0,_=C,p=0,g=0}let B=(r=new Date(A,u,f,d,_,p,g)).getTimezoneOffset(),U=a.offsetUTC(r)-B;return U!=C&&r.setTime(r.getTime()+6e4*(U-C)),r}}function O(r,e,t,i){let s=nh(i[r]),a=i.length-1;if(r>=a)return Object.assign({},i[a]);let o=Math.ceil(e/s);return e<s&&r>0?Object.assign({},i[r-1]):o<=t?Object.assign({},i[r]):r+1<i.length?O(r+1,e,t,i):Object.assign({},i[r])}class Ae extends Cd{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,t=this._root.language,i=this.rule.bind(this);i("XYChart").setAll({colors:Dd.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),i("XYSeries").setAll({legendLabelText:"{name}"}),i("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:Dd.new(this._root,{saturation:0})});{const l=i("Graphics",["scrollbar","overlay"]);l.setAll({fillOpacity:.5}),Xi(l,"fill",e,"background")}i("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),i("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),i("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),i("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),i("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),i("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),i("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:hi,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),i("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),i("AxisLabel",["x"]).setAll({centerY:0}),i("AxisLabel",["x","inside"]).setAll({centerY:hi}),i("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),i("AxisLabel",["x","opposite"]).setAll({centerY:hi}),i("AxisLabel",["y"]).setAll({centerX:hi}),i("AxisLabel",["y","inside"]).setAll({centerX:0}),i("AxisLabel",["y","inside","opposite"]).setAll({centerX:hi}),i("AxisLabel",["y","opposite"]).setAll({centerX:0}),i("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),i("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),i("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const l=i("Grid",["cursor","x"]);l.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:t.translate("Use left and right arrows to move selection")}),Xi(l,"stroke",e,"alternativeBackground")}{const l=i("Grid",["cursor","y"]);l.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:t.translate("Use up and down arrows to move selection")}),Xi(l,"stroke",e,"alternativeBackground")}{const l=i("Graphics",["cursor","selection"]);l.setAll({fillOpacity:.15}),Xi(l,"fill",e,"alternativeBackground")}i("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),i("AxisLabel").setAll({location:.5,multiLocation:0,centerX:pn,centerY:pn,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),i("Container",["axis","header"]).setAll({layer:30}),i("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const l=i("AxisRenderer");l.setAll({crisp:!0,strokeOpacity:0}),Xi(l,"stroke",e,"grid")}i("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:hi}),i("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:hi});{const l=i("Rectangle",["axis","thumb"]);l.setAll({fillOpacity:0}),Xi(l,"fill",e,"alternativeBackground"),l.states.create("hover",{fillOpacity:.1})}i("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),i("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const l=i("Grid");l.setAll({location:0,strokeOpacity:.15,crisp:!0}),Xi(l,"stroke",e,"grid")}{const l=i("Grid",["minor"]);l.setAll({location:0,strokeOpacity:.07,crisp:!0}),Xi(l,"stroke",e,"grid")}i("Grid",["base"]).setAll({strokeOpacity:.3});{const l=i("Graphics",["axis","fill"]);l.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),Xi(l,"fill",e,"alternativeBackground")}i("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),i("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),i("Grid",["series","range"]).setAll({visible:!1}),i("AxisTick",["series","range"]).setAll({visible:!1}),i("AxisLabel",["series","range"]).setAll({visible:!1});{const l=i("AxisTick");l.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),Xi(l,"stroke",e,"grid")}i("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(l,c)=>{const A=l.get("axisFill");A&&(at(c)&&c%2!=0?A.setPrivate("visible",!1):A.setPrivate("visible",!0))}});const n=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],s={millisecond:t.translate("_date_millisecond"),second:t.translate("_date_second"),minute:t.translate("_date_minute"),hour:t.translate("_date_hour"),day:t.translate("_date_day"),week:t.translate("_date_day"),month:t.translate("_date_month"),year:t.translate("_date_year")},a={millisecond:t.translate("_date_millisecond"),second:t.translate("_date_second"),minute:t.translate("_date_minute"),hour:t.translate("_date_day"),day:t.translate("_date_day"),week:t.translate("_date_day"),month:t.translate("_date_month")+" "+t.translate("_date_year"),year:t.translate("_date_year")},o={millisecond:t.translate("_date_millisecond_full"),second:t.translate("_date_second_full"),minute:t.translate("_date_minute_full"),hour:t.translate("_date_hour_full"),day:t.translate("_date_day_full"),week:t.translate("_date_week_full"),month:t.translate("_date_month_full"),year:t.translate("_date_year")};i("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:ld(n),dateFormats:xc(s),periodChangeDateFormats:xc(a)}),i("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:ld(n),dateFormats:xc(s),periodChangeDateFormats:xc(a),tooltipDateFormats:o,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:l=>{const c=l.get("axisFill");if(c){const A=l.component,u=l.get("value"),f=l.get("endValue"),d=A.intervalDuration(),_=A.getPrivate("baseInterval"),p=A.getPrivate("gridInterval",_);let g=A.getPrivate("min",0);if(g=E(new Date(g),p.timeUnit,p.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),null!=u&&null!=f){const m=Math.round(Math.round((u-g)/d))/2;m==Math.round(m)?c.setPrivate("visible",!0):c.setPrivate("visible",!1)}}}}),i("GaplessDateAxis").setAll({fillRule:l=>{const c=l.get("axisFill");if(c){const A=l.get("index");let u=!1;(!at(A)||A%2==0)&&(u=!0),c.setPrivate("visible",u)}}}),i("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:l=>{const c=l.get("axisFill");if(c){const A=l.component,u=l.get("value"),f=A.getPrivate("step");at(u)&&at(f)&&(Na(u/f/2,5)==Math.round(u/f/2)?c.setPrivate("visible",!1):c.setPrivate("visible",!0))}}}),i("DurationAxis").setAll({baseUnit:"second"}),i("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),i("BaseColumnSeries").setAll({adjustBulletPosition:!0}),i("ColumnSeries").setAll({clustered:!0}),i("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:Tr(70),height:Tr(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),i("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),i("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),i("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(l,c)=>{const A=c.parent;if(A){const u=A.height(),f=A.width();l.moveTo(0,u/2),l.lineTo(f,u/2)}}}),Xi(i("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{}),"stroke",e,"disabled"),i("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(l,c)=>{const A=c.parent;if(A){const u=A.height(),f=A.width();l.moveTo(0,0),l.lineTo(f,0),l.lineTo(f,u),l.lineTo(0,u),l.lineTo(0,0)}}}),Xi(i("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{}),"stroke",e,"disabled"),i("SmoothedXYLineSeries").setAll({tension:.5}),i("SmoothedXLineSeries").setAll({tension:.5}),i("SmoothedYLineSeries").setAll({tension:.5}),i("Candlestick").setAll({position:"absolute",isMeasured:!1,width:Tr(50),height:Tr(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("OHLC").setAll({width:Tr(80),height:Tr(80)}),i("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const l=i("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});Xi(l,"fill",e,"positive"),Xi(l,"stroke",e,"positive")}{const l=i("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});Xi(l,"fill",e,"negative"),Xi(l,"stroke",e,"negative")}i("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),i("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const l=i("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});Xi(l,"fill",e,"positive"),Xi(l,"stroke",e,"positive")}{const l=i("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});Xi(l,"fill",e,"negative"),Xi(l,"stroke",e,"negative")}i("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{const l=i("Graphics",["rangegrip","button","icon"]);l.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:c=>{c.moveTo(0,.5),c.lineTo(0,12.5),c.moveTo(2,.5),c.lineTo(2,12.5),c.moveTo(4,.5),c.lineTo(4,12.5)}}),Xi(l,"stroke",e,"secondaryButtonText")}i("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),i("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:pn}),i("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:pn}),i("Button",["rangegrip","vertical","left"]).setAll({centerY:hi}),i("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:hi})}}class Me extends en{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(en.new(this._root,{width:hi,height:hi,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:en.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:hi,height:hi})})}}Object.defineProperty(Me,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(Me,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:en.classNames.concat([Me.className])});class Ee extends Me{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:en.new(this._root,{width:hi,height:hi,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new dd})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(t=>{if("clear"===t.type){Xe(t.oldValues,n=>{this._removeSeries(n)});const i=this.get("colors");i&&i.reset()}else if("push"===t.type)e.moveValue(t.newValue),this._processSeries(t.newValue);else if("setIndex"===t.type)e.setIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("insertIndex"===t.type)e.insertIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("removeIndex"===t.type)this._removeSeries(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");e.moveValue(t.value,t.newIndex),this._processSeries(t.value)}}))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(Ee,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(Ee,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Me.classNames.concat([Ee.className])});class Ye extends Ha{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let e=this.width(),t=this.height(),i=e,n=t,s=i/Math.abs(e),a=n/Math.abs(t);if(at(i)&&at(n)){let o=Math.min(i,n)/2,l=ur(this.get("cornerRadiusTL",8),o),c=ur(this.get("cornerRadiusTR",8),o),A=ur(this.get("cornerRadiusBR",8),o),u=ur(this.get("cornerRadiusBL",8),o),f=Math.min(Math.abs(i/2),Math.abs(n/2));l=ls(l,0,f),c=ls(c,0,f),A=ls(A,0,f),u=ls(u,0,f);const d=this._display;d.moveTo(l*s,0),d.lineTo(i-c*s,0),c>0&&d.arcTo(i,0,i,c*a,c),d.lineTo(i,n-A*a),A>0&&d.arcTo(i,n,i-A*s,n,A),d.lineTo(u*s,n),u>0&&d.arcTo(0,n,0,n-u*a,u),d.lineTo(0,l*a),l>0&&d.arcTo(0,0,l*s,0,l),d.closePath()}}}Object.defineProperty(Ye,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(Ye,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ha.classNames.concat([Ye.className])});class $e extends en{_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",Ye.new(this._root,{themeTags:Sn(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const e=this._prevSettings.icon,t=this.get("icon");t!==e&&(this._disposeProperty("icon"),e&&e.dispose(),t&&this.children.push(t),this._prevSettings.icon=t)}if(this.isDirty("label")){const e=this._prevSettings.label,t=this.get("label");t!==e&&(this._disposeProperty("label"),e&&e.dispose(),t&&this.children.push(t),this._prevSettings.label=t)}}}Object.defineProperty($e,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty($e,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:en.classNames.concat([$e.className])});class rt extends Ee{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new dd}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new dd}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(en.new(this._root,{width:hi,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(en.new(this._root,{width:hi,height:hi,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(en.new(this._root,{width:hi,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(en.new(this._root,{height:hi,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(en.new(this._root,{width:hi,height:hi,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(en.new(this._root,{width:hi,height:hi}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(en.new(this._root,{width:hi,height:hi}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(en.new(this._root,{width:hi,height:hi,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:en.new(this._root,{width:hi,height:hi,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(en.new(this._root,{height:hi,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(en.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push($e.new(this._root,{themeTags:["zoom"],icon:lr.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(Ae.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const e=this._root;let t=this._root.verticalLayout;const i=this.zoomOutButton;i.events.on("click",()=>{this.zoomOut()}),i.hide(0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",t);const n=this.plotContainer;n.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),n.children.push(this.topGridContainer),n.children.push(this.bulletsContainer),n.set("interactive",!0),n.set("interactiveChildren",!1),n.set("background",Ha.new(e,{themeTags:["xy","background"],fill:Wi.fromHex(0),fillOpacity:0})),this._disposers.push(n.events.on("pointerdown",s=>{this._handlePlotDown(s)})),this._disposers.push(n.events.on("globalpointerup",s=>{this._handlePlotUp(s)})),this._disposers.push(n.events.on("globalpointermove",s=>{this._handlePlotMove(s)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(e){e._unstack(),e._posXDp&&e._posXDp.dispose(),e._posYDp&&e._posYDp.dispose(),e.set("baseAxis",void 0);const t=e.get("xAxis");t&&(xo(t.series,e),t.markDirtyExtremes());const i=e.get("yAxis");i&&(xo(i.series,e),i.markDirtyExtremes());const n=this.get("cursor");if(n){const s=n.get("snapToSeries");s&&xo(s,e)}super._removeSeries(e)}handleWheel(e){const t=this.get("wheelX"),i=this.get("wheelY"),n=this.plotContainer,s=e.originalEvent;if(!Um(s,this))return;s.preventDefault();const a=n.toLocal(e.point),o=this.get("wheelStep",.2),l=s.deltaY/100,c=s.deltaX/100,A=this.get("wheelZoomPositionX"),u=this.get("wheelZoomPositionY");("zoomX"===t||"zoomXY"===t)&&0!=c&&this.xAxes.each(f=>{if(f.get("zoomX")){let d=f.get("start"),_=f.get("end"),p=f.fixPosition(a.x/n.width());null!=A&&(p=A);let g=d-o*(_-d)*c*p,m=_+o*(_-d)*c*(1-p);1/(m-g)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(g,m))}}),("zoomX"===i||"zoomXY"===i)&&0!=l&&this.xAxes.each(f=>{if(f.get("zoomX")){let d=f.get("start"),_=f.get("end"),p=f.fixPosition(a.x/n.width());null!=A&&(p=A);let g=d-o*(_-d)*l*p,m=_+o*(_-d)*l*(1-p);1/(m-g)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(g,m))}}),("zoomY"===t||"zoomXY"===t)&&0!=c&&this.yAxes.each(f=>{if(f.get("zoomY")){let d=f.get("start"),_=f.get("end"),p=f.fixPosition(a.y/n.height());null!=u&&(p=u);let g=d-o*(_-d)*c*p,m=_+o*(_-d)*c*(1-p);1/(m-g)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(g,m))}}),("zoomY"===i||"zoomXY"===i)&&0!=l&&this.yAxes.each(f=>{if(f.get("zoomY")){let d=f.get("start"),_=f.get("end"),p=f.fixPosition(a.y/n.height());null!=u&&(p=u);let g=d-o*(_-d)*l*p,m=_+o*(_-d)*l*(1-p);1/(m-g)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)&&this._handleWheelAnimation(f.zoom(g,m))}}),("panX"===t||"panXY"===t)&&0!=c&&this.xAxes.each(f=>{if(f.get("panX")){let d=f.get("start"),_=f.get("end"),p=this._getWheelSign(f)*o*(_-d)*c,g=d+p,m=_+p,C=this._fixWheel(g,m);g=C[0],m=C[1],this._handleWheelAnimation(f.zoom(g,m))}}),("panX"===i||"panXY"===i)&&0!=l&&this.xAxes.each(f=>{if(f.get("panX")){let d=f.get("start"),_=f.get("end"),p=this._getWheelSign(f)*o*(_-d)*l,g=d+p,m=_+p,C=this._fixWheel(g,m);g=C[0],m=C[1],this._handleWheelAnimation(f.zoom(g,m))}}),("panY"===t||"panXY"===t)&&0!=c&&this.yAxes.each(f=>{if(f.get("panY")){let d=f.get("start"),_=f.get("end"),p=this._getWheelSign(f)*o*(_-d)*c,g=d+p,m=_+p,C=this._fixWheel(g,m);g=C[0],m=C[1],this._handleWheelAnimation(f.zoom(g,m))}}),("panY"===i||"panXY"===i)&&0!=l&&this.yAxes.each(f=>{if(f.get("panY")){let d=f.get("start"),_=f.get("end"),p=this._getWheelSign(f)*o*(_-d)*l,g=d-p,m=_-p,C=this._fixWheel(g,m);g=C[0],m=C[1],this._handleWheelAnimation(f.zoom(g,m))}})}_handleSetWheel(){const e=this.get("wheelX"),t=this.get("wheelY");"none"!==e||"none"!==t?(this._wheelDp=this.plotContainer.events.on("wheel",n=>{const s=n.originalEvent;("none"!==e&&0!=Math.abs(s.deltaX)||"none"!==t&&0!=Math.abs(s.deltaY))&&this.handleWheel(n)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(e){let t=1;return e.get("renderer").get("inversed")&&(t=-1),t}_fixWheel(e,t){const i=t-e;return e<0&&(t=(e=0)+i),t>1&&(e=(t=1)-i),[e,t]}_handlePlotDown(e){const t=e.originalEvent;if(2==t.button)return;const i=this.plotContainer;let n=i.toLocal(e.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&t.pointerId&&Gr(i._downPoints).length>0){const a=this.xAxes.getIndex(0),o=this.yAxes.getIndex(0);a&&(this._downStartX=a.get("start",0),this._downEndX=a.get("end",1)),o&&(this._downStartY=o.get("start",0),this._downEndY=o.get("end",1))}if((this.get("panX")||this.get("panY"))&&n.x>=0&&n.y>=0&&n.x<=i.width()&&n.y<=this.height()){this._downPoint={x:t.clientX,y:t.clientY};const s=this.get("panX"),a=this.get("panY");s&&this.xAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")}),a&&this.yAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")});const o="panstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:e.originalEvent})}}_handleWheelAnimation(e){e?e.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}_handlePlotUp(e){const t=this._downPoint;if(t&&(this.get("panX")||this.get("panY"))){let i=this.plotContainer.toLocal(e.point);if(i.x==t.x&&i.y==t.y){const s="pancancelled";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this,originalEvent:e.originalEvent})}const n="panended";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,originalEvent:e.originalEvent})}this._downPoint=void 0,this.xAxes.each(i=>{i._isPanning=!1}),this.yAxes.each(i=>{i._isPanning=!1})}_handlePlotMove(e){const t=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const s=e.originalEvent.pointerId;if(s&&(this._movePoints[s]=e.point,Gr(t._downPoints).length>1))return void this._handlePinch()}let i=this._downPoint;if(i){i=t.toLocal(this._root.documentPointToRoot(i));let n=t.toLocal(e.point);const s=this.get("panX"),a=this.get("panY");if(s){let o=this.get("scrollbarX");o&&o.events.disableType("rangechanged"),this.xAxes.each(l=>{if(l.get("panX")){l._isPanning=!0;let c=l._panStart,A=l._panEnd,f=(A-c)*(i.x-n.x)/t.width();l.get("renderer").get("inversed")&&(f*=-1);let d=c+f,_=A+f;_-d<1+2*l.get("maxDeviation",1)&&(l.set("start",d),l.set("end",_))}}),o&&o.events.enableType("rangechanged")}if(a){let o=this.get("scrollbarY");o&&o.events.disableType("rangechanged"),this.yAxes.each(l=>{if(l.get("panY")){l._isPanning=!0;let c=l._panStart,A=l._panEnd,f=(A-c)*(i.y-n.y)/t.height();l.get("renderer").get("inversed")&&(f*=-1);let d=c-f,_=A-f;_-d<1+2*l.get("maxDeviation",1)&&(l.set("start",d),l.set("end",_))}}),o&&o.events.enableType("rangechanged")}}}_handlePinch(){const e=this.plotContainer;let t=0,i=[],n=[];if(gr(e._downPoints,(s,a)=>{i[t]=a;let o=this._movePoints[s];o&&(n[t]=o),t++}),i.length>1&&n.length>1){const s=e.width(),a=e.height();let o=i[0],l=i[1],c=n[0],A=n[1];if(o&&l&&c&&A){if(c=e.toLocal(c),A=e.toLocal(A),o=e.toLocal(o),l=e.toLocal(l),this.get("pinchZoomX")){const u=this._downStartX,f=this._downEndX;if(null!=u&&null!=f){o.x>l.x&&([o,l]=[l,o],[c,A]=[A,c]);let d=u+o.x/s*(f-u),_=u+l.x/s*(f-u),p=u+c.x/s*(f-u),g=u+A.x/s*(f-u),B=Math.max(.001,_-d)/Math.max(.001,g-p),S=u*B+d-p*B,U=f*B+_-g*B;this.xAxes.each(H=>{let N=H.fixPosition(S),P=H.fixPosition(U);H.zoom(N,P,0)})}}if(this.get("pinchZoomY")){const u=this._downStartY,f=this._downEndY;if(null!=u&&null!=f){o.y<l.y&&([o,l]=[l,o],[c,A]=[A,c]);let d=u+(1-o.y/a)*(f-u),_=u+(1-l.y/a)*(f-u),p=u+(1-c.y/a)*(f-u),g=u+(1-A.y/a)*(f-u),B=Math.max(.001,_-d)/Math.max(.001,g-p),S=u*B+d-p*B,U=f*B+_-g*B;this.yAxes.each(H=>{let N=H.fixPosition(S),P=H.fixPosition(U);H.zoom(N,P,0)})}}}}}_handleCursorPosition(){const e=this.get("cursor");if(e){const t=e.getPrivate("point");let i=e.get("snapToSeries");if(e._downPoint&&(i=void 0),i&&t){const n=e.get("snapToSeriesBy"),s=[];Xe(i,l=>{if(!l.isHidden()&&!l.isHiding())if("x!"!=n&&"y!"!=n){const c=l.startIndex(),A=l.endIndex();for(let u=c;u<A;u++){const f=l.dataItems[u];f&&!f.isHidden()&&s.push(f)}}else{const c=l.get("tooltipDataItem");c&&s.push(c)}});let o,a=1/0;if(Xe(s,l=>{const c=l.get("point");if(c){let A=0;A="x"==n||"x!"==n?Math.abs(t.x-c.x):"y"==n||"y!"==n?Math.abs(t.y-c.y):Math.hypot(t.x-c.x,t.y-c.y),A<a&&(a=A,o=l)}}),Xe(i,l=>{const c=l.get("tooltip");c&&c._setDataItem(void 0)}),o){let l=o.component;l.showDataItemTooltip(o);const c=o.get("point");c&&e.handleMove(l.toGlobal({x:c.x-l.x(),y:c.y-l.y()}),!0)}}}}_updateCursor(){let e=this.get("cursor");e&&e.updateCursor()}_addCursor(e){this.plotContainer.children.push(e)}_prepareChildren(){if(super._prepareChildren(),this.series.each(e=>{this._colorize(e)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const e=this._prevSettings.cursor,t=this.get("cursor");t!==e&&(this._disposeProperty("cursor"),e&&e.dispose(),t&&(t._setChart(this),this._addCursor(t),this._pushPropertyDisposer("cursor",t.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=t)}if(this.isDirty("scrollbarX")){const e=this._prevSettings.scrollbarX,t=this.get("scrollbarX");t!==e&&(this._disposeProperty("scrollbarX"),e&&e.dispose(),t&&(t.parent||this.topAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarX",t.events.on("rangechanged",i=>{this._handleScrollbar(this.xAxes,i.start,i.end,i.grip)})),t.setPrivate("positionTextFunction",i=>{const n=this.xAxes.getIndex(0);return n&&n.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarX=t)}if(this.isDirty("scrollbarY")){const e=this._prevSettings.scrollbarY,t=this.get("scrollbarY");t!==e&&(this._disposeProperty("scrollbarY"),e&&e.dispose(),t&&(t.parent||this.rightAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarY",t.events.on("rangechanged",i=>{this._handleScrollbar(this.yAxes,i.start,i.end,i.grip)})),t.setPrivate("positionTextFunction",i=>{const n=this.yAxes.getIndex(0);return n&&n.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarY=t)}this._handleZoomOut()}_processSeries(e){super._processSeries(e);const t=e.get("xAxis"),i=e.get("yAxis");Mh(t.series,e),Mh(i.series,e),e._posXDp=e.addDisposer(t.events.on("positionchanged",()=>{e._fixPosition()})),e._posXDp=e.addDisposer(i.events.on("positionchanged",()=>{e._fixPosition()})),e.get("baseAxis")||(i.isType("CategoryAxis")||i.isType("DateAxis")?e.set("baseAxis",i):e.set("baseAxis",t)),e.get("stacked")&&(e._markDirtyKey("stacked"),Xe(e.dataItems,n=>{n.set("stackToItemY",void 0),n.set("stackToItemX",void 0)})),e._markDirtyAxes(),i.markDirtyExtremes(),t.markDirtyExtremes(),this._colorize(e)}_colorize(e){const t=this.get("colors");if(t&&null==e.get("fill")){const i=t.next();e._setSoft("stroke",i),e._setSoft("fill",i)}}_handleCursorSelectEnd(){const e=this.get("cursor"),t=e.get("behavior"),i=e.getPrivate("downPositionX",0),n=e.getPrivate("downPositionY",0),s=Math.min(1,Math.max(0,e.getPrivate("positionX",.5))),a=Math.min(1,Math.max(0,e.getPrivate("positionY",.5)));this.xAxes.each(o=>{if("zoomX"===t||"zoomXY"===t){let l=o.toAxisPosition(i),c=o.toAxisPosition(s);o.zoom(l,c)}o.setPrivate("updateScrollbar",!0)}),this.yAxes.each(o=>{if("zoomY"===t||"zoomXY"===t){let l=o.toAxisPosition(n),c=o.toAxisPosition(a);o.zoom(l,c)}o.setPrivate("updateScrollbar",!0)})}_handleScrollbar(e,t,i,n){e.each(s=>{let a=s.fixPosition(t),o=s.fixPosition(i),l=s.zoom(a,o,void 0,n);const c="updateScrollbar";s.setPrivateRaw(c,!1),l?l.events.on("stopped",()=>{s.setPrivateRaw(c,!0)}):s.setPrivateRaw(c,!0)})}_processAxis(e,t){return e.events.onAll(i=>{if("clear"===i.type)Xe(i.oldValues,n=>{this._removeAxis(n)});else if("push"===i.type)t.children.push(i.newValue),i.newValue.processChart(this);else if("setIndex"===i.type)t.children.setIndex(i.index,i.newValue),i.newValue.processChart(this);else if("insertIndex"===i.type)t.children.insertIndex(i.index,i.newValue),i.newValue.processChart(this);else if("removeIndex"===i.type)this._removeAxis(i.oldValue);else{if("moveIndex"!==i.type)throw new Error("Unknown IListEvent type");t.children.moveValue(i.value,i.newIndex),i.value.processChart(this)}})}_removeAxis(e){if(!e.isDisposed()){const t=e.parent;t&&t.children.removeValue(e);const i=e.gridContainer,n=i.parent;n&&n.children.removeValue(i);const s=e.topGridContainer,a=s.parent;a&&a.children.removeValue(s)}}_updateChartLayout(){const e=this.leftAxesContainer.width(),t=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",e),i.set("paddingRight",t);const n=this.topAxesContainer;n.set("paddingLeft",e),n.set("paddingRight",t)}processAxis(e){this.get("cursor")&&(this.addDisposer(e.on("start",()=>{this._updateCursor()})),this.addDisposer(e.on("end",()=>{this._updateCursor()})))}_handleAxisSelection(e,t){let i=e.fixPosition(e.get("start",0)),n=e.fixPosition(e.get("end",1));if(i>n&&([i,n]=[n,i]),-1!=this.xAxes.indexOf(e)){if(t||e.getPrivate("updateScrollbar")){let s=this.get("scrollbarX");s&&(!s.getPrivate("isBusy")||t)&&(s.setRaw("start",i),s.setRaw("end",n),s.updateGrips())}}else if(-1!=this.yAxes.indexOf(e)&&(t||e.getPrivate("updateScrollbar"))){let s=this.get("scrollbarY");s&&(!s.getPrivate("isBusy")||t)&&(s.setRaw("start",i),s.setRaw("end",n),s.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let e=this.zoomOutButton;if(e&&e.parent){let t=!1;this.xAxes.each(i=>{(0!=i.get("start")||1!=i.get("end"))&&(t=!0)}),this.yAxes.each(i=>{(0!=i.get("start")||1!=i.get("end"))&&(t=!0)}),t?e.isHidden()&&e.show():e.hide()}}inPlot(e){const t=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),n=t.toGlobal(e);if(e.x>=-.5&&e.y>=-.5&&e.x<=t.width()+.5&&e.y<=t.height()+.5)return!0;if(i)for(let s=i.length-1;s>=0;s--){const a=i[s];if(a!=this){const o=a.plotContainer,l=this._root.rootPointToDocument(n),c=a._root.documentPointToRoot(l),A=o.toLocal(c);if(A.x>=-.1&&A.y>=-.1&&A.x<=o.width()+.1&&A.y<=o.height()+.1)return!0}}return!1}arrangeTooltips(){const e=this.plotContainer,t=e.width(),i=e.height(),n=this.height();let s=e._display.toGlobal({x:0,y:0}),a=e._display.toGlobal({x:t,y:i});const o=[];let d,_,l=0,c=1/0,A=this._movePoint,u=this.get("maxTooltipDistance"),f=this.get("maxTooltipDistanceBy","xy");at(u)&&this.series.each(g=>{if(!g.isHidden()){const m=g.get("tooltip");if(m){let C=m.get("pointTo");if(C){let B=Math.hypot(A.x-C.x,A.y-C.y);"x"==f?B=Math.abs(A.x-C.x):"y"==f&&(B=Math.abs(A.y-C.y)),B<c&&(c=B,d=g,_=C)}}}});const p=[];if(this.series.each(g=>{const m=g.get("tooltip");if(m&&!m.get("forceHidden")){let C=!1,B=m.get("pointTo");if(B){if(u>=0){let S=m.get("pointTo");if(S&&_&&g!=d){let U=Math.hypot(_.x-S.x,_.y-S.y);"x"==f?U=Math.abs(_.x-S.x):"y"==f&&(U=Math.abs(_.y-S.y)),U>u&&(C=!0)}}else-1==u&&g!=d&&(C=!0);this.inPlot(this._tooltipToLocal(B))&&m.dataItem?C||(l+=B.y):C=!0,C||g.isHidden()||g.isHiding()?m.hide(0):(m.show(),o.push(m),p.push(g))}}}),this.setPrivate("tooltipSeries",p),this.get("arrangeTooltips")){const g=this._root.tooltipContainer;if(l/o.length>i/2+s.y){o.sort((S,U)=>rb(U.get("pointTo").y,S.get("pointTo").y));let B=a.y;if(Xe(o,S=>{let U=S.height(),H=S.get("centerY");H instanceof vn&&(U*=H.value),U+=S.get("marginBottom",0),S.set("bounds",{left:s.x,top:s.y,right:a.x,bottom:B}),S.setPrivate("customData",{left:s.x,top:s.y,right:a.x,bottom:B}),B=Math.min(B-U,S._fy-U),S.parent==g&&g.children.moveValue(S,0)}),B<0){o.reverse();let S=B;Xe(o,U=>{let H=U.get("bounds");if(H){let N=H.top-B,P=H.bottom-B;N<S&&(N=S,P=N+U.height()),U.set("bounds",{left:H.left,top:N,right:H.right,bottom:P}),S=H.bottom-B+U.get("marginBottom",0)}})}}else{o.reverse(),o.sort((S,U)=>rb(S.get("pointTo").y,U.get("pointTo").y));let B=0;if(Xe(o,S=>{let U=S.height(),H=S.get("centerY");H instanceof vn&&(U*=H.value),U+=S.get("marginBottom",0),S.set("bounds",{left:s.x,top:B,right:a.x,bottom:Math.max(s.y+n,B+U)}),S.parent==g&&g.children.moveValue(S,0),B=Math.max(B+U,S._fy+U)}),B>n){o.reverse();let S=n;Xe(o,U=>{let H=U.get("bounds");if(H){let N=H.top-(n-B),P=H.bottom-(n-B);P>S&&(P=S,N=P-U.height()),U.set("bounds",{left:H.left,top:N,right:H.right,bottom:P}),S=P-U.height()-U.get("marginBottom",0)}})}}}}_tooltipToLocal(e){return this.plotContainer.toLocal(e)}zoomOut(){this.xAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}),this.yAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})}}Object.defineProperty(rt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(rt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ee.classNames.concat([rt.className])});class St extends lr{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(St,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"}),Object.defineProperty(St,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lr.classNames.concat([St.className])});class Di extends en{constructor(){super(...arguments),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(St.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(St.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(lr.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:hi,height:hi,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",e=>this._handleLineFocus(e.target))),this._disposers.push(this.lineX.events.on("blur",e=>this._handleLineBlur(e.target))),this._disposers.push(this.lineY.events.on("focus",e=>this._handleLineFocus(e.target))),this._disposers.push(this.lineY.events.on("blur",e=>this._handleLineBlur(e.target))),al("keyboardevents")&&this._disposers.push(os(document,"keydown",e=>{this._handleLineMove(e.keyCode)}))}_setUpTouch(){const e=this.chart;e&&(e.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let e=this.lineX.x(),t=!0;(e<0||e>this.width())&&(t=!1),this.lineX.setPrivate("visible",t)}_handleYLine(){let e=this.lineY.y(),t=!0;(e<0||e>this.height())&&(t=!1),this.lineY.setPrivate("visible",t)}_handleLineMove(e){let t="",i=0,n=.1;const s=this.chart;this._root.focused(this.lineX)?(s&&s.xAxes.length&&(n=s.xAxes.getIndex(0).getCellWidthPosition()),i=this.getPrivate("positionX",0),t="positionX",37==e?i-=n:39==e&&(i+=n)):this._root.focused(this.lineY)&&(s&&s.yAxes.length&&(n=s.yAxes.getIndex(0).getCellWidthPosition()),i=this.getPrivate("positionY",0),t="positionY",38==e?i-=n:40==e&&(i+=n)),i<0?i=0:i>1&&(i=1),""!=t&&this.set(t,i)}_handleLineFocus(e){this.setAll({positionX:this.getPrivate("positionX"),positionY:this.getPrivate("positionY"),alwaysShow:!0})}_handleLineBlur(e){this.setAll({positionX:void 0,positionY:void 0,alwaysShow:!1})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const e=this.get("xAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipX=!0,this._disposers.push(t.on("pointTo",()=>{this._updateXLine(t)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const e=this.get("yAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipY=!0,this._disposers.push(t.on("pointTo",()=>{this._updateYLine(t)})))}}}_handleSyncWith(){const e=this.chart;if(e){const t=this.get("syncWith"),i=[];t&&Xe(t,n=>{const s=n.chart;s&&i.push(s)}),e._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const e=this.get("positionX"),t=this.get("positionY");null==e&&null==t?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(e){let t=Na(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,2);this._toX!=t&&(this.lineX.animate({key:"x",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=t)}_updateYLine(e){let t=Na(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,2);this._toY!=t&&(this.lineY.animate({key:"y",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=t)}_drawLines(){this.lineX.set("draw",e=>{e.moveTo(0,0),e.lineTo(0,this.height())}),this.lineY.set("draw",e=>{e.moveTo(0,0),e.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(e){this.chart=e,this._handleSyncWith();const t=e.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),al("touchevents")&&(this._disposers.push(t.events.on("click",n=>{Pm(n.originalEvent)&&this._handleMove(n)})),this._setUpTouch()),this._disposers.push(t.events.on("pointerdown",n=>{this._handleCursorDown(n)})),this._disposers.push(t.events.on("globalpointerup",n=>{this._handleCursorUp(n),!n.native&&!this.isHidden()&&this._handleMove(n)})),this._disposers.push(t.events.on("globalpointermove",n=>{!this.get("syncWith")&&0==Gr(t._downPoints).length&&!n.native&&this.isHidden()||this._handleMove(n)}));const i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(e){const t=this.chart;return!!t&&t.inPlot(e)}_handleCursorDown(e){if(2==e.originalEvent.button)return;let i=this._display.toLocal(e.point);const n=this.chart;if(this.selection.set("draw",()=>{}),n&&this._inPlot(i)){if(this._downPoint=i,"none"!=this.get("behavior")){this.selection.show();const o="selectstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:e.originalEvent})}let s=this._getPosition(i).x,a=this._getPosition(i).y;this.setPrivate("downPositionX",s),this.setPrivate("downPositionY",a)}}_handleCursorUp(e){if(this._downPoint){const t=this.get("behavior","none");if("none"!=t){"z"===t.charAt(0)&&this.selection.hide();let n=this._display.toLocal(e.point);const s=this._downPoint,a=this.get("moveThreshold",1);if(n&&s){let o=!1;if(("zoomX"===t||"zoomXY"===t||"selectX"===t||"selectXY"===t)&&Math.abs(n.x-s.x)>a&&(o=!0),("zoomY"===t||"zoomXY"===t||"selectY"===t||"selectXY"===t)&&Math.abs(n.y-s.y)>a&&(o=!0),o){const l="selectended";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}else{const l="selectcancelled";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}}}}this._downPoint=void 0}_handleMove(e){if(this.getPrivate("visible")){const t=this.chart;if(t&&Gr(t.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const i=e.point,n=this._lastPoint;if(Math.round(n.x)===Math.round(i.x)&&Math.round(n.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,e.originalEvent)}}_getPosition(e){return{x:e.x/this.width(),y:e.y/this.height()}}handleMove(e,t,i){e||(e=this._movePoint);const n=this.get("alwaysShow");if(!e)return void this.hide(0);this._movePoint=e;let s=this._display.toLocal(e),a=this.chart;if(a&&(this._inPlot(s)||this._downPoint)){a._movePoint=e,this.isHidden()&&(this.show(),"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",()=>{}));let o=s.x,l=s.y,c=this._getPosition(s);this.setPrivate("point",s);let A=this.get("snapToSeries");this._downPoint&&(A=void 0);let u=this.get("positionX"),f=c.x;at(u)&&(f=u);let d=this.get("positionY"),_=c.y;at(d)&&(_=d),this.setPrivate("positionX",f),this.setPrivate("positionY",_);const p=this._getPoint(f,_);if(o=p.x,l=p.y,a.xAxes.each(g=>{g._handleCursorPosition(f,A),n&&g.handleCursorShow()}),a.yAxes.each(g=>{g._handleCursorPosition(_,A),n&&g.handleCursorShow()}),!t){a._handleCursorPosition();const g="cursormoved";this.events.isEnabled(g)&&this.events.dispatch(g,{type:g,target:this,point:e,originalEvent:i})}this._updateLines(o,l),a.arrangeTooltips()}else if(!this._downPoint&&!n){this.hide(0);const o="cursorhidden";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(s)}_getPoint(e,t){return{x:this.width()*e,y:this.height()*t}}_updateLines(e,t){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",t),this._drawLines()}_updateSelection(e){const t=this.selection,i=this.get("behavior"),n=this.width(),s=this.height();e.x<0&&(e.x=0),e.x>n&&(e.x=n),e.y<0&&(e.y=0),e.y>s&&(e.y=s),t.set("draw",a=>{const o=this._downPoint;o&&("zoomXY"===i||"selectXY"===i?(a.moveTo(o.x,o.y),a.lineTo(o.x,e.y),a.lineTo(e.x,e.y),a.lineTo(e.x,o.y),a.lineTo(o.x,o.y)):"zoomX"===i||"selectX"===i?(a.moveTo(o.x,0),a.lineTo(o.x,s),a.lineTo(e.x,s),a.lineTo(e.x,0),a.lineTo(o.x,0)):("zoomY"===i||"selectY"===i)&&(a.moveTo(0,o.y),a.lineTo(n,o.y),a.lineTo(n,e.y),a.lineTo(0,e.y),a.lineTo(0,o.y)))})}_onHide(){if(this.isHidden()){let e=this.chart;e&&(e.xAxes.each(t=>{t.handleCursorHide()}),e.yAxes.each(t=>{t.handleCursorHide()}),e.series.each(t=>{t.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let e=this.chart;e&&(e.xAxes.each(t=>{t.handleCursorShow()}),e.yAxes.each(t=>{t.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(Di,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(Di,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:en.classNames.concat([Di.className])});class ui extends wA{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,t){this.processor&&this.processor.processRow(t),super._onInsertIndex(e,t)}_onSetIndex(e,t,i){this.processor&&this.processor.processRow(i),super._onSetIndex(e,t,i)}}class un extends op{constructor(e,t,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=t,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class zi extends en{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new ui}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(e=>{const t=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,"clear"===e.type)Xe(t,i=>{i.dispose()}),t.length=0,this._onDataClear();else if("push"===e.type){const i=new un(this,e.newValue,this._makeDataItem(e.newValue));t.push(i),this.processDataItem(i)}else if("setIndex"===e.type){const i=t[e.index],n=this._makeDataItem(e.newValue);i.bullets&&0==i.bullets.length&&(i.bullets=void 0),Gr(n).forEach(s=>{i.animate({key:s,to:n[s],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),i.dataContext=e.newValue}else if("insertIndex"===e.type){const i=new un(this,e.newValue,this._makeDataItem(e.newValue));t.splice(e.index,0,i),this.processDataItem(i)}else if("removeIndex"===e.type)t[e.index].dispose(),t.splice(e.index,1);else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");{const i=t[e.oldIndex];t.splice(e.oldIndex,1),t.splice(e.newIndex,0,i)}}this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},Xe(this.valueFields,e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},Xe(this.fields,e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")}))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const t={};return this._valueFields&&Xe(this._valueFields,i=>{const n=this.get(this._valueFieldsF[i].fieldKey);t[i]=e[n],t[this._valueFieldsF[i].workingKey]=t[i]}),this._fields&&Xe(this._fields,i=>{const n=this.get(this._fieldsF[i]);t[i]=e[n]}),t}makeDataItem(e){let t=new un(this,void 0,e);return this.processDataItem(t),t}pushDataItem(e){const t=this.makeDataItem(e);return this._mainDataItems.push(t),t}disposeDataItem(e){}showDataItem(e,t){return(0,zs.mG)(this,void 0,void 0,function*(){e.set("visible",!0)})}hideDataItem(e,t){return(0,zs.mG)(this,void 0,void 0,function*(){e.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(zi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(zi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:en.classNames.concat([zi.className])});class Ui extends zi{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(en.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:en.new(this._root,{width:hi,height:hi})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:en.new(this._root,{width:hi,height:hi})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(en.new(this._root,{isMeasured:!1,width:hi,height:hi,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new wA}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(en.new(this._root,{themeTags:["axis","header"],position:"absolute",background:Ha.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(t=>{if("clear"===t.type)Xe(t.oldValues,i=>{this.disposeDataItem(i)});else if("push"===t.type)this._processAxisRange(t.newValue,["range"]);else if("setIndex"===t.type)this._processAxisRange(t.newValue,["range"]);else if("insertIndex"===t.type)this._processAxisRange(t.newValue,["range"]);else if("removeIndex"===t.type)this.disposeDataItem(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(t.value,["range"])}}));const e=this.get("renderer");e&&(e.axis=this,e.processAxis()),this.children.push(e),this.ghostLabel=e.makeLabel(new un(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(e,t){}zoom(e,t,i,n){if(this.get("zoomable",!0))if(this._updateFinals(e,t),this.get("start")!==e||this.get("end")!=t){let s=this._sAnimation,a=this._eAnimation,o=this.get("maxDeviation",.5)*Math.min(1,t-e);e<-o&&(e=-o),t>1+o&&(t=1+o),e>t&&([e,t]=[t,e]),at(i)||(i=this.get("interpolationDuration",0)),n||(n="end");let l=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),c=l;1===t&&0!==e&&(n=e<this.get("start")?"start":"end"),0===e&&1!==t&&(n=t>this.get("end")?"end":"start");let A=this.get("minZoomCount"),u=this.get("maxZoomCount");at(A)&&(l=c/A);let f=1;if(at(u)&&(f=c/u),"start"===n?(u>0&&1/(t-e)<f&&(t=e+1/f),1/(t-e)>l&&(t=e+1/l),t>1&&t-e<1/l&&(e=t-1/l)):(u>0&&1/(t-e)<f&&(e=t-1/f),1/(t-e)>l&&(e=t-1/l),e<0&&t-e<1/l&&(t=e+1/l)),1/(t-e)>l&&(t=e+1/l),1/(t-e)>l&&(e=t-1/l),null!=u&&null!=A&&e==this.get("start")&&t==this.get("end")){const d=this.chart;d&&d._handleAxisSelection(this,!0)}if((s&&s.playing&&s.to==e||this.get("start")==e)&&(a&&a.playing&&a.to==t||this.get("end")==t))return;if(i>0){let _,p,d=this.get("interpolationEasing");if(this.get("start")!=e&&(_=this.animate({key:"start",to:e,duration:i,easing:d})),this.get("end")!=t&&(p=this.animate({key:"end",to:t,duration:i,easing:d})),this._sAnimation=_,this._eAnimation=p,_)return _;if(p)return p}else this.set("start",e),this.set("end",t),this._root.events.once("frameended",()=>{this._markDirtyKey("start"),this._root._markDirty()})}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(e,t){e.setRaw("isRange",!0),this._createAssets(e,t),this._rangesDirty=!0,this._prepareDataItem(e);const i=e.get("above"),n=this.topGridContainer,s=e.get("grid");i&&s&&n.children.moveValue(s);const a=e.get("axisFill");i&&a&&n.children.moveValue(a)}_prepareDataItem(e,t){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(e=>{this._prepareDataItem(e)}),Xe(this._seriesAxisRanges,e=>{this._prepareDataItem(e)})}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){const t=this.chart;t&&t._updateCursor();let i=this.get("start",0),n=this.get("end",1),s=this.get("maxDeviation",.5)*Math.min(1,n-i);if(i<-s){let a=i+s;i=-s,this.setRaw("start",i),this.isDirty("end")&&this.setRaw("end",n-a)}if(n>1+s){let a=n-1-s;n=1+s,this.setRaw("end",n),this.isDirty("start")&&this.setRaw("start",i-a)}}const e=this.get("renderer");if(e._start=this.get("start"),e._end=this.get("end"),e._inversed=e.get("inversed",!1),e._axisLength=e.axisLength()/(e._end-e._start),e._updateLC(),this.isDirty("tooltip")){const t=this.get("tooltip");if(t){const i=e.get("themeTags");t.addTag("axis"),t.addTag(this.className.toLowerCase()),t._applyThemes(),i&&(t.set("themeTags",Sn(t.get("themeTags"),i)),t.label._applyThemes())}}}_updateTooltipBounds(){const e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(e){this.chart=e,this.get("renderer").chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{e._handleAxisSelection(this)}),this.on("end",()=>{e._handleAxisSelection(this)}),e.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),e.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),e.processAxis(this)}hideDataItem(e){return this._toggleFHDataItem(e,!0),super.hideDataItem(e)}showDataItem(e){return this._toggleFHDataItem(e,!1),super.showDataItem(e)}_toggleFHDataItem(e,t){const i="forceHidden",n=e.get("label");n&&n.set(i,t);const s=e.get("grid");s&&s.set(i,t);const a=e.get("tick");a&&a.set(i,t);const o=e.get("axisFill");o&&o.set(i,t);const l=e.get("bullet");if(l){const c=l.get("sprite");c&&c.set(i,t)}}_toggleDataItem(e,t){const i=e.get("label"),n="visible";i&&i.setPrivate(n,t);const s=e.get("grid");s&&s.setPrivate(n,t);const a=e.get("tick");a&&a.setPrivate(n,t);const o=e.get("axisFill");o&&o.setPrivate(n,t);const l=e.get("bullet");if(l){const c=l.get("sprite");c&&c.setPrivate(n,t)}}_createAssets(e,t,i){var n,s,a;const o=this.get("renderer");let l="minor";const c=e.get("label");if(c){let f=c.get("themeTags"),d=!1;i?-1==f?.indexOf(l)&&(d=!0):-1!=f?.indexOf(l)&&(d=!0),d&&(null===(n=c.parent)||void 0===n||n.children.removeValue(c),o.makeLabel(e,t),c.dispose(),o.labels.removeValue(c))}else o.makeLabel(e,t);const A=e.get("grid");if(A){let f=A.get("themeTags"),d=!1;i?-1==f?.indexOf(l)&&(d=!0):-1!=f?.indexOf(l)&&(d=!0),d&&(null===(s=A.parent)||void 0===s||s.children.removeValue(A),o.makeGrid(e,t),A.dispose(),o.grid.removeValue(A))}else o.makeGrid(e,t);const u=e.get("tick");if(u){let f=!1,d=u.get("themeTags");i?-1==d?.indexOf(l)&&(f=!0):-1!=d?.indexOf(l)&&(f=!0),f&&(null===(a=u.parent)||void 0===a||a.children.removeValue(u),o.makeTick(e,t),u.dispose(),o.ticks.removeValue(u))}else o.makeTick(e,t);!i&&!e.get("axisFill")&&o.makeAxisFill(e,t),this._processBullet(e)}_processBullet(e){let t=e.get("bullet"),i=this.get("bullet");if(!t&&i&&!e.get("isRange")&&(t=i(this._root,this,e)),t){t.axis=this;const n=t.get("sprite");n&&(n._setDataItem(e),e.setRaw("bullet",t),n.parent||this.bulletsContainer.children.push(n))}}_afterChanged(){super._afterChanged();const e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions()}disposeDataItem(e){super.disposeDataItem(e);const t=this.get("renderer"),i=e.get("label");i&&(t.labels.removeValue(i),i.dispose());const n=e.get("tick");n&&(t.ticks.removeValue(n),n.dispose());const s=e.get("grid");s&&(t.grid.removeValue(s),s.dispose());const a=e.get("axisFill");a&&(t.axisFills.removeValue(a),a.dispose());const o=e.get("bullet");o&&o.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const e=this.ghostLabel;if(!e.isHidden()){const n=e.localBounds(),s=Math.ceil(n.right-n.left);let a=e.get("text");Xe(this.dataItems,o=>{const l=o.get("label");if(l&&!l.isHidden()){const c=l.localBounds();Math.ceil(c.right-c.left)>s&&(a=l.text._getText())}}),e.set("text",a)}let t=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(e,t+.5*(i-t))}_handleCursorPosition(e,t){e=this.get("renderer").toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=t,this.updateTooltip()}updateTooltip(){const e=this._snapToSeries;let t=this._cursorPosition;const i=this.get("tooltip"),n=this.get("renderer");at(t)&&(Xe(this.series,s=>{if(s.get("baseAxis")===this){const a=this.getSeriesItem(s,t,this.get("tooltipLocation"));s.setRaw("tooltipDataItem",a),e&&-1!=e.indexOf(s)?(s.updateLegendMarker(a),s.updateLegendValue(a)):s.showDataItemTooltip(a)}}),i&&(n.updateTooltipBounds(i),this.get("snapTooltip")&&(t=this.roundAxisPosition(t,this.get("tooltipLocation",.5))),ia(t)?i.hide(0):(this.setPrivateRaw("tooltipPosition",t),this._updateTooltipText(i,t),n.positionTooltip(i,t),t<this.get("start")||t>this.get("end")?i.hide(0):i.show(0))))}_updateTooltipText(e,t){e.label.set("text",this.getTooltipText(t))}roundAxisPosition(e,t){return e}handleCursorShow(){let e=this.get("tooltip");e&&e.show()}handleCursorHide(){let e=this.get("tooltip");e&&e.hide()}processSeriesDataItem(e,t){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(e){const t=this.get("renderer");return t.toAxisPosition(e/t.axisLength())}toAxisPosition(e){return this.get("renderer").toAxisPosition(e)}toGlobalPosition(e){return this.get("renderer").toGlobalPosition(e)}fixPosition(e){return this.get("renderer").fixPosition(e)}shouldGap(e,t,i,n){return!1}createAxisRange(e){return this.axisRanges.push(e)}_groupSeriesData(e){}getCellWidthPosition(){return.05}}Object.defineProperty(Ui,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(Ui,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zi.classNames.concat([Ui.className])});class Pn extends Ui{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let i=this.get("syncWithAxis");i&&(this._syncDp=new Gi([i.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),i.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}let e=!1;(this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(e=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||e||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_groupData(){}_formatText(e){const t=this.get("numberFormat"),i=this.getNumberFormatter();let n="";return n=t?i.format(e,t):i.format(e,void 0,this.getPrivate("stepDecimalPlaces")),n}_prepareAxisItems(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(at(e)&&at(t)){const i=this.get("logarithmic"),n=this.getPrivate("step"),s=this.getPrivate("selectionMin"),a=this.getPrivate("selectionMax")+n;let o=s-n,l=1,c=e;if(i){if(o=this._minLogAdjusted,o<s)for(;o<s;)o+=n;c=o,c<=0&&(c=1,n<1&&(c=n)),l=Math.log(a-n)*Math.LOG10E-Math.log(c)*Math.LOG10E,l>2&&(o=Math.pow(10,Math.log(c)*Math.LOG10E-5))}const A=this.get("renderer"),u=A.get("minorLabelsEnabled"),f=A.get("minorGridEnabled",u);let d=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E));const _=Math.round(n/d);let p=2;Na(_/5,10)%1==0&&(p=5),Na(_/10,10)%1==0&&(p=10);let g=n/p,m=0,C=0,B=-1/0;for(;o<a;){let S;this.dataItems.length<m+1?(S=new un(this,void 0,{}),this._dataItems.push(S),this.processDataItem(S)):S=this.dataItems[m],this._createAssets(S,[]),this._toggleDataItem(S,!0),S.setRaw("value",o);const U=S.get("label");U&&U.set("text",this._formatText(o)),this._prepareDataItem(S);let H=o;if(i&&l>2?H=Math.pow(10,Math.log(c)*Math.LOG10E+m-5):H+=n,f){let P=o+g;for(i&&(l>2&&(g=this._adjustMinMax(o,H,10).step),P=o+g);P<H-1e-11*n;){let z;this.minorDataItems.length<C+1?(z=new un(this,void 0,{}),this.minorDataItems.push(z),this.processDataItem(z)):z=this.minorDataItems[C],this._createAssets(z,["minor"],!0),this._toggleDataItem(z,!0),z.setRaw("value",P);const W=z.get("label");W&&(u?W.set("text",this._formatText(P)):W.setPrivate("visible",!1)),this._prepareDataItem(z),P+=g,C++}}if(o=H,B==o)break;let N=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E));N<1&&(o=Na(o,Math.round(Math.abs(Math.log(Math.abs(N))*Math.LOG10E))+2)),m++,B=o}for(let S=m;S<this.dataItems.length;S++)this._toggleDataItem(this.dataItems[S],!1);for(let S=C;S<this.minorDataItems.length;S++)this._toggleDataItem(this.minorDataItems[S],!1);Xe(this.series,S=>{S.inited&&S._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(e,t){let i=this.get("renderer"),n=e.get("value"),s=e.get("endValue"),a=this.valueToPosition(n),o=a,l=this.valueToPosition(n+this.getPrivate("step"));at(s)&&(o=this.valueToPosition(s),l=o),e.get("isRange")&&null==s&&(l=a);let c=o,A=e.get("labelEndValue");null!=A&&(c=this.valueToPosition(A)),i.updateLabel(e.get("label"),a,c,t);const u=e.get("grid");if(i.updateGrid(u,a,o),u&&(n==this.get("baseValue",0)?(u.addTag("base"),u._applyThemes()):u.hasTag("base")&&(u.removeTag("base"),u._applyThemes())),i.updateTick(e.get("tick"),a,c,t),i.updateFill(e.get("axisFill"),a,l),this._processBullet(e),i.updateBullet(e.get("bullet"),a,o),!e.get("isRange")){const f=this.get("fillRule");f&&f(e)}}_handleRangeChange(){let e=this.positionToValue(this.get("start",0)),t=this.positionToValue(this.get("end",1));const i=this.get("renderer").gridCount();let n=this._adjustMinMax(e,t,i,!0),s=function Q0(r){let e=(""+r).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}(n.step);this.setPrivateRaw("stepDecimalPlaces",s),e=Na(e,s),t=Na(t,s),n=this._adjustMinMax(e,t,i,!0);let a=n.step;e=n.min,t=n.max,(this.getPrivate("selectionMin")!==e||this.getPrivate("selectionMax")!==t||this.getPrivate("step")!==a)&&(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",t),this.setPrivateRaw("step",a))}positionToValue(e){const t=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)+Math.log(t)*Math.LOG10E)/Math.LOG10E):e*(i-t)+t}valueToPosition(e){const t=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){let n=this.get("treatZeroAs");at(n)&&(e=n)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}return(e-t)/(i-t)}valueToFinalPosition(e){const t=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){let n=this.get("treatZeroAs");at(n)&&(e=n)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}return(e-t)/(i-t)}getX(e,t,i){const n=this.valueToPosition(e=i+(e-i)*t);return this._settings.renderer.positionToCoordinate(n)}getY(e,t,i){const n=this.valueToPosition(e=i+(e-i)*t);return this._settings.renderer.positionToCoordinate(n)}getDataItemCoordinateX(e,t,i,n){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,n))}getDataItemPositionX(e,t,i,n){let s=e.get(t);return s=e.get("stackToItemX")?s*n+e.component.getStackedXValueWorking(e,t):this._baseValue+(s-this._baseValue)*n,this.valueToPosition(s)}getDataItemCoordinateY(e,t,i,n){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,n))}getDataItemPositionY(e,t,i,n){let s=e.get(t);return s=e.get("stackToItemY")?s*n+e.component.getStackedYValueWorking(e,t):this._baseValue+(s-this._baseValue)*n,this.valueToPosition(s)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),t=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let i=this.get("baseValue",0);return i<e&&(i=e),i>t&&(i=t),i}cellEndValue(e){return e}fixSmallStep(e){return 1+e===1?this.fixSmallStep(e*=2):e}_fixMin(e){return e}_fixMax(e){return e}_calculateTotals(){if(this.get("calculateTotals")){let e=this.series[0];if(e){let t=e.startIndex();if(e.dataItems.length>0){t>0&&t--;let n,s,i=e.endIndex();i<e.dataItems.length&&i++,e.get("yAxis")==this?(n="valueY",s="vcy"):e.get("xAxis")==this&&(n="valueX",s="vcx");let a=n+"Working";if(n)for(let o=t;o<i;o++){let l=0,c=0;Xe(this.series,A=>{if(!A.get("excludeFromTotal")){let u=A.dataItems[o];if(u){let f=u.get(a)*A.get(s);ia(f)||(l+=f,c+=Math.abs(f))}}}),Xe(this.series,A=>{if(!A.get("excludeFromTotal")){let u=A.dataItems[o];if(u){let f=u.get(a)*A.get(s);ia(f)||(u.set(n+"Total",c),u.set(n+"Sum",l),u.set(n+"TotalPercent",f/c*100))}}})}}}}}_getSelectionMinMax(){const e=this.getPrivate("minFinal"),t=this.getPrivate("maxFinal"),i=this.get("min"),n=this.get("max");let s=this.get("extraMin",0),a=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(s=.1),null==this.get("extraMax")&&(a=.2));const o=this.get("renderer").gridCount(),l=this.get("strictMinMaxSelection");let c=this.get("strictMinMax");if(at(e)&&at(t)){let A=t,u=e;if(Xe(this.series,B=>{if(!B.get("ignoreMinMax")){let S,U;const H=B.getPrivate("outOfSelection");if(B.get("xAxis")===this){if(!H){let N=B.getPrivate("minX"),P=B.getPrivate("maxX");(0!=B.startIndex()||B.endIndex()!=B.dataItems.length)&&(N=void 0,P=void 0),S=B.getPrivate("selectionMinX",N),U=B.getPrivate("selectionMaxX",P)}}else if(B.get("yAxis")===this&&!H){let N=B.getPrivate("minY"),P=B.getPrivate("maxY");(0!=B.startIndex()||B.endIndex()!=B.dataItems.length)&&(N=void 0,P=void 0),S=B.getPrivate("selectionMinY",N),U=B.getPrivate("selectionMaxY",P)}!B.isHidden()&&!B.isShowing()&&(at(S)&&(A=Math.min(A,S)),at(U)&&(u=Math.max(u,U)))}}),this.axisRanges.each(B=>{if(B.get("affectsMinMax")){let S=B.get("value");null!=S&&(A=Math.min(A,S),u=Math.max(u,S)),S=B.get("endValue"),null!=S&&(A=Math.min(A,S),u=Math.max(u,S))}}),A>u&&([A,u]=[u,A]),at(i)?A=c?i:e:c&&at(this._minReal)&&(A=this._minReal),at(n)?u=c?n:t:c&&at(this._maxReal)&&(u=this._maxReal),A===u){let B=A;if(A-=this._deltaMinMax,u+=this._deltaMinMax,A<e){let U=B-e;0==U&&(U=this._deltaMinMax),A=B-U,u=B+U,c=!0}let S=this._adjustMinMax(A,u,o,c);A=S.min,u=S.max}let f=A,d=u;A-=(u-A)*s,u+=(u-A)*a;let _=this._adjustMinMax(A,u,o);A=_.min,u=_.max,A=ls(A,e,t),u=ls(u,e,t),_=this._adjustMinMax(A,u,o,!0),c||(A=_.min,u=_.max);const p=this.get("syncWithAxis");p&&(_=this._syncAxes(A,u,_.step,p.getPrivate("selectionMinFinal",p.getPrivate("minFinal",0)),p.getPrivate("selectionMaxFinal",p.getPrivate("maxFinal",1)),p.getPrivate("selectionStepFinal",p.getPrivate("step",1))),A=_.min,u=_.max),c&&(at(i)&&(A=Math.max(A,i)),at(n)&&(u=Math.min(u,n))),l&&(A=f-(u-A)*s,u=d+(u-A)*a),this.get("logarithmic")&&(A<=0&&(A=f*(1-Math.min(s,.99))),A<e&&(A=e),u>t&&(u=t));let g=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),m=Na(this.valueToFinalPosition(A),g),C=Na(this.valueToFinalPosition(u),g);this.setPrivateRaw("selectionMinFinal",A),this.setPrivateRaw("selectionMaxFinal",u),this.setPrivateRaw("selectionStepFinal",_.step),this.zoom(m,C)}}_getMinMax(){let e=this.get("min"),t=this.get("max"),i=1/0,n=-1/0,s=this.get("extraMin",0),a=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(s=.1),null==this.get("extraMax")&&(a=.2));let o=1/0;if(Xe(this.series,B=>{if(!B.get("ignoreMinMax")){let S,U;if(B.get("xAxis")===this?(S=B.getPrivate("minX"),U=B.getPrivate("maxX")):B.get("yAxis")===this&&(S=B.getPrivate("minY"),U=B.getPrivate("maxY")),at(S)&&at(U)){i=Math.min(i,S),n=Math.max(n,U);let H=U-S;H<=0&&(H=Math.abs(U/100)),H<o&&(o=H)}}}),this.axisRanges.each(B=>{if(B.get("affectsMinMax")){let S=B.get("value");null!=S&&(i=Math.min(i,S),n=Math.max(n,S)),S=B.get("endValue"),null!=S&&(i=Math.min(i,S),n=Math.max(n,S))}}),this.get("logarithmic")){let B=this.get("treatZeroAs");at(B)&&i<=0&&(i=B),i<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(0===i&&0===n&&(n=.9,i=-.9),at(e)&&(i=e),at(t)&&(n=t),i===1/0||n===-1/0)return this.setPrivate("minFinal",void 0),void this.setPrivate("maxFinal",void 0);const l=i,c=n;let A=this.adapters.fold("min",i),u=this.adapters.fold("max",n);at(A)&&(i=A),at(u)&&(n=u),i=this._fixMin(i),n=this._fixMax(n),n-i<=1/Math.pow(10,15)&&(n-i!=0?this._deltaMinMax=(n-i)/2:this._getDelta(n),i-=this._deltaMinMax,n+=this._deltaMinMax),i-=(n-i)*s,n+=(n-i)*a,this.get("logarithmic")&&(i<0&&l>=0&&(i=0),n>0&&c<=0&&(n=0)),this._minReal=i,this._maxReal=n;let f=this.get("strictMinMax"),d=this.get("strictMinMaxSelection",!1);d&&(f=d);let _=f;at(t)&&(_=!0);let p=this.get("renderer").gridCount(),g=this._adjustMinMax(i,n,p,_);i=g.min,n=g.max,g=this._adjustMinMax(i,n,p,!0),i=g.min,n=g.max,f&&(i=at(e)?e:this._minReal,n=at(t)?t:this._maxReal,n-i<=1e-8&&(i-=this._deltaMinMax,n+=this._deltaMinMax),i-=(n-i)*s,n+=(n-i)*a),A=this.adapters.fold("min",i),u=this.adapters.fold("max",n),at(A)&&(i=A),at(u)&&(n=u),o==1/0&&(o=n-i);let m=Math.round(Math.abs(Math.log(Math.abs(n-i))*Math.LOG10E))+5;i=Na(i,m),n=Na(n,m);const C=this.get("syncWithAxis");if(C&&(g=this._syncAxes(i,n,g.step,C.getPrivate("minFinal",C.getPrivate("min",0)),C.getPrivate("maxFinal",C.getPrivate("max",1)),C.getPrivate("step",1)),i=g.min,n=g.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((n-i)/o*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,n=this._maxReal,i<=0&&(i=l*(1-Math.min(s,.99)))),at(i)&&at(n)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==n)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",n),this._saveMinMax(i,n);const B=this.get("interpolationDuration",0),S=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:B,easing:S}),this.animatePrivate({key:"max",to:n,duration:B,easing:S})}}_fixZoomFactor(){}_getDelta(e){let t=Math.log(Math.abs(e))*Math.LOG10E,i=Math.pow(10,Math.floor(t));i/=10,this._deltaMinMax=i}_saveMinMax(e,t){}_adjustMinMax(e,t,i,n){i<=1&&(i=1),i=Math.round(i);let s=e,a=t,o=t-e;0===o&&(o=Math.abs(t));let l=Math.log(Math.abs(o))*Math.LOG10E,c=Math.pow(10,Math.floor(l));c/=10;let A=c;n&&(A=0),n?(e=Math.floor(e/c)*c,t=Math.ceil(t/c)*c):(e=Math.ceil(e/c)*c-A,t=Math.floor(t/c)*c+A),e<0&&s>=0&&(e=0),t>0&&a<=0&&(t=0),l=Math.log(Math.abs(o))*Math.LOG10E,c=Math.pow(10,Math.floor(l)),c/=100;let u=Math.ceil(o/i/c)*c,f=Math.pow(10,Math.floor(Math.log(Math.abs(u))*Math.LOG10E)),d=Math.ceil(u/f);d>5?d=10:d<=5&&d>2&&(d=5),u=Math.ceil(u/(f*d))*f*d;let _=this.get("maxPrecision");if(at(_)){let C=function uB(r,e){if(!at(e)||e<=0)return Math.ceil(r);{let t=Math.pow(10,e);return Math.ceil(r*t)/t}}(u,_);_<Number.MAX_VALUE&&u!==C&&(u=C)}let p=0;f<1&&(p=Math.round(Math.abs(Math.log(Math.abs(f))*Math.LOG10E))+1,u=Na(u,p));let m,g=Math.floor(e/u);return e=Na(u*g,p),m=n?Math.floor(t/u):Math.ceil(t/u),m===g&&m++,(t=Na(u*m,p))<a&&(t+=u),e>s&&(e-=u),u=this.fixSmallStep(u),{min:e,max:t,step:u}}getTooltipText(e,t){const i=this.get("tooltipNumberFormat",this.get("numberFormat")),n=this.getNumberFormatter(),s=this.get("extraTooltipPrecision",0),a=this.getPrivate("stepDecimalPlaces",0)+s,o=Na(this.positionToValue(e),a);return i?n.format(o,i):n.format(o,void 0,a)}getSeriesItem(e,t){let s,a,i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=this.positionToValue(t);if(Xe(e.dataItems,(o,l)=>{const c=Math.abs(o.get(i)-n);(void 0===s||c<a)&&(s=l,a=c)}),null!=s)return e.dataItems[s]}zoomToValues(e,t,i){const n=this.getPrivate("minFinal",0),s=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((e-n)/(s-n),(t-n)/(s-n),i)}_syncAxes(e,t,i,n,s,a){if(this.get("syncWithAxis")){let l=Math.round(s-n)/a,c=Math.round((t-e)/i),A=this.get("renderer").gridCount();if(at(l)&&at(c)){let u=!1,f=0,d=.01*(t-e),_=e,p=t,g=i;for(;1!=u;)if(u=this._checkSync(_,p,g,l),f++,f>500&&(u=!0),u)e=_,t=p,i=g;else{f/3==Math.round(f/3)?(_=e-d*f,e>=0&&_<0&&(_=0)):(p=t+d*f,p<=0&&p>0&&(p=0));let m=this._adjustMinMax(_,p,A,!0);_=m.min,p=m.max,g=m.step}}}return{min:e,max:t,step:i}}_checkSync(e,t,i,n){let s=(t-e)/i;for(let a=1;a<n;a++)if(Na(s/a,1)==n||s*a==n)return!0;return!1}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return at(e)&&at(t)?this.getPrivate("step",1)/(e-t):.05}}Object.defineProperty(Pn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(Pn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ui.classNames.concat([Pn.className])});class Tn extends Pn{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(e){this.setPrivateRaw("baseInterval",e),this._baseDuration=nh(e)}_fixZoomFactor(){const e=this.get("maxZoomFactor");this.setPrivateRaw("maxZoomFactor",null!=e&&e!=1/0?e:Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(at(e)&&at(t)){this._fixZoomFactor();const i=this.getPrivate("groupInterval");if(this._setBaseInterval(i||this.get("baseInterval")),this.isDirty("groupInterval")){let n=this.get("groupInterval");n&&(this.setRaw("groupIntervals",[n]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))Xe(this.series,n=>{this._groupSeriesData(n)}),this._handleRangeChange();else{let n=this.get("baseInterval"),s=n.timeUnit+n.count;Xe(this.series,a=>{a.setDataSet(s),a.resetGrouping()}),this._setBaseInterval(n),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(e){if(this.get("groupData")&&!e.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let t=[],i=this.baseMainDuration();Xe(this.get("groupIntervals"),d=>{nh(d)>i&&t.push(d)}),e._dataSets={};const s=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let a;const o=e.get("baseAxis");e.get("xAxis")===o?a=e._valueYFields:e.get("yAxis")===o&&(a=e._valueXFields);let l=e._mainDataItems,c=this.get("baseInterval");e._dataSets[c.timeUnit+c.count]=l;const u=e.get("groupDataCallback");let f=e.get("groupDataWithOriginals",!1);u&&(f=!0),Xe(t,d=>{let _=-1/0,p=d.timeUnit+d.count;e._dataSets[p]=[];let g,m={},C={},B={},S={};Xe(a,z=>{m[z]=0,C[z]=0,B[z]=e.get(z+"Grouped"),S[z]=z+"Working"});let N,P,U=Al(d.timeUnit);l[0]&&(N=l[0].get(s)),Xe(l,z=>{let K,Y=M(z.get(s),d.timeUnit,d.count,this._root,N);_<Y-U/24?(K=xc(z.dataContext),g=new un(e,K,e._makeDataItem(K)),g.setRaw(s,Y),e._dataSets[p].push(g),Xe(a,q=>{let Q=z.get(q);at(Q)?(g.setRaw(q,Q),g.setRaw(S[q],Q),C[q]=1,m[q]=Q):(m[q]=0,C[q]=0)}),f&&g.set("originals",[z]),u&&P&&u(P,d),P=g):(Xe(a,q=>{let Q=B[q],ie=z.get(q);if(null!=ie){let ee=g.get(q);switch(Q){case"close":g.setRaw(q,ie);break;case"sum":g.setRaw(q,ee+ie);break;case"open":break;case"low":ie<ee&&g.setRaw(q,ie);break;case"high":ie>ee&&g.setRaw(q,ie);break;case"average":C[q]++,m[q]+=ie,g.setRaw(q,m[q]/C[q]);break;case"extreme":Math.abs(ie)>Math.abs(ee)&&g.setRaw(q,ie)}g.setRaw(S[q],g.get(q));let he=xc(z.dataContext);he[s]=Y,g.dataContext=he}}),f&&g.get("originals").push(z)),_=Y}),u&&P&&u(P,d)}),e._dataSetId&&e.setDataSet(e._dataSetId),this.markDirtySize()}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(e){let t=this.get("baseInterval"),i=O(0,e,this.get("groupCount",1/0),this.get("groupIntervals"));return nh(i)<nh(t)&&(i=Object.assign({},t)),i}getIntervalMax(e){return this._intervalMax[e.timeUnit+e.count]}getIntervalMin(e){return this._intervalMin[e.timeUnit+e.count]}_handleRangeChange(){super._handleRangeChange();let e=Math.round(this.getPrivate("selectionMin")),t=Math.round(this.getPrivate("selectionMax"));if(at(e)&&at(t)){if(0==this.get("endLocation")&&(t+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let i=this.get("groupInterval"),n=this.getPrivate("groupInterval"),s=t-e+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(n){let a=nh(n);s=Math.ceil(s/a)*a}if(i||(i=this.getGroupInterval(s)),i&&(!n||n.timeUnit!==i.timeUnit||n.count!==i.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",i),this._setBaseInterval(i);let a=i.timeUnit+i.count;Xe(this.series,o=>{o.get("baseAxis")===this&&o.setDataSet(a)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const o="groupintervalchanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})})})}}Xe(this.series,i=>{if(i.get("baseAxis")===this){let n=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=Sm(i.dataItems,p=>Cc(p.get(n),e)).index;a>0&&(a-=1),t+=this.baseDuration()*(1-this.get("endLocation",1));let l=Vf(i.dataItems,p=>Cc(p.get(n),t)).index,c=l;c>1&&c--;const A=i.dataItems[a],u=i.dataItems[c];let f,d;A&&(d=A.get(n)),u&&(f=u.get(n));let _=!1;null!=f&&null!=d&&(f<e||d>t)&&(_=!0),i.setPrivate("outOfSelection",_),i.setPrivate("startIndex",a),i.setPrivate("endIndex",l)}})}}_adjustMinMax(e,t,i,n){return{min:e,max:t,step:(t-e)/i}}intervalDuration(){return this._intervalDuration}_saveMinMax(e,t){let i=this.getPrivate("groupInterval");i||(i=this.get("baseInterval"));let n=i.timeUnit+i.count;this._intervalMin[n]=e,this._intervalMax[n]=t}_getM(e){return"month"==e||"year"==e||"day"==e?1.05:1.01}_getMinorInterval(e){var t;let i,n=e.count,s=e.timeUnit;return n>1&&(10==n||15==n?n=5:12==n?n=2:6==n?n=1:30==n?n=10:n<10&&(n=1),i={timeUnit:s,count:n}),"week"==s&&"week"!=(null===(t=this.getPrivate("baseInterval"))||void 0===t?void 0:t.timeUnit)&&(i={timeUnit:"day",count:1}),i}_prepareAxisItems(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(at(e)&&at(t)){const i=this._root,n=Math.round(this.getPrivate("selectionMin")),s=Math.round(this.getPrivate("selectionMax")),a=this.get("renderer"),o=this.getPrivate("baseInterval");let l=n,c=0;const A=this.get("gridIntervals");let u=O(0,s-n,a.gridCount(),A);nh(u)<this.baseDuration()&&(u=Object.assign({},o));const f=nh(u);this._intervalDuration=f;const d=bb(u.timeUnit),_=i.utc,p=i.timezone;l=M(n-f,u.timeUnit,u.count,i,e);let m,g=l-f;const C=this.get("dateFormats");this.setPrivateRaw("gridInterval",u);const B=a.get("minorLabelsEnabled"),S=a.get("minorGridEnabled",B);let U,H=0;S&&(U=this._getMinorInterval(u),H=nh(U));let N=0;for(;l<s+f;){let P;this.dataItems.length<c+1?(P=new un(this,void 0,{}),this._dataItems.push(P),this.processDataItem(P)):P=this.dataItems[c],this._createAssets(P,[]),this._toggleDataItem(P,!0),P.setRaw("value",l),P.setRaw("labelEndValue",void 0);let z=l+Al(u.timeUnit,u.count*this._getM(u.timeUnit));z=M(z,u.timeUnit,1,i),P.setRaw("endValue",z);let W=new Date(l);m=C[u.timeUnit],d&&this.get("markUnitChange")&&at(g)&&"year"!=u.timeUnit&&x(l,g,d,_,p)&&(m=this.get("periodChangeDateFormats")[u.timeUnit]);const Y=P.get("label");Y&&Y.set("text",i.dateFormatter.format(W,m));let K=u.count;if("week"==u.timeUnit&&P.setRaw("labelEndValue",l),S){K=1;let q=u.timeUnit;"week"==q&&(q="day");let Q=l+Al(q,this._getM(q));Q=M(Q,q,1,i),P.setRaw("labelEndValue",Q)}if(this._prepareDataItem(P,K),g=l,l=z,U){const q=U.timeUnit,Q=U.count,ie=this._getM(q);let he,ee=M(g+H*ie,q,Q,i,g),pe=this.get("minorDateFormats",this.get("dateFormats"));for(;ee<l-.01*H;){let ue;this.minorDataItems.length<N+1?(ue=new un(this,void 0,{}),this.minorDataItems.push(ue),this.processDataItem(ue)):ue=this.minorDataItems[N],this._createAssets(ue,["minor"],!0),this._toggleDataItem(ue,!0),ue.setRaw("value",ee);let Be=ee+Al(q,Q*ie);Be=M(Be,q,1,i),ue.setRaw("endValue",Be);let Le=new Date(ee);m=pe[q];const J=ue.get("label");if(J&&(B?J.set("text",i.dateFormatter.format(Le,m)):J.setPrivate("visible",!1)),this._prepareDataItem(ue,1),ee==he)break;he=ee,ee=Be,N++}}if(l==g)break;c++}for(let P=c;P<this.dataItems.length;P++)this._toggleDataItem(this.dataItems[P],!1);for(let P=N;P<this.minorDataItems.length;P++)this._toggleDataItem(this.minorDataItems[P],!1);Xe(this.series,P=>{P.inited&&P._markDirtyAxes()})}this._updateGhost()}_updateFinals(e,t){this.setPrivateRaw("selectionMinFinal",this.positionToValue(e)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(t))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(e){const t=this.getPrivate("baseInterval"),i=t.timeUnit;let n=M(e,i,t.count,this._root),s=n+Al(i,t.count*this._getM(i));return s=M(s,i,1,this._root),n+(s-n)*this.get("startLocation",0)}_fixMax(e){const t=this.getPrivate("baseInterval"),i=t.timeUnit;let n=M(e,i,t.count,this._root),s=n+Al(i,t.count*this._getM(i));return s=M(s,i,1,this._root),n+(s-n)*this.get("endLocation",1)}_updateDates(e,t){}baseDuration(){return this._baseDuration}baseMainDuration(){return nh(this.get("baseInterval"))}processSeriesDataItem(e,t){const i=this.getPrivate("baseInterval");e.open||(e.open={}),e.close||(e.close={}),Xe(t,n=>{let s=e.get(n);if(at(s)){let a=e.open[n],o=e.close[n];if(!(s>=a&&s<=o)){const l=i.timeUnit,c=i.count;a=M(s,l,c,this._root),o=a+Al(l,c*this._getM(l)),o=M(o,l,1,this._root),e.open[n]=a,e.close[n]=o}this._updateDates(a,e.component)}})}getDataItemPositionX(e,t,i,n){let s,a;e.open&&e.close?(s=e.open[t],a=e.close[t]):(s=e.get(t),a=s);let o=s+(a-s)*i;return o=this._baseValue+(o-this._baseValue)*n,this.valueToPosition(o)}getDataItemCoordinateX(e,t,i,n){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,n))}getDataItemPositionY(e,t,i,n){let s,a;e.open&&e.close?(s=e.open[t],a=e.close[t]):(s=e.get(t),a=s);let o=s+(a-s)*i;return o=this._baseValue+(o-this._baseValue)*n,this.valueToPosition(o)}getDataItemCoordinateY(e,t,i,n){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,n))}roundAxisPosition(e,t){let i=this.positionToValue(e);i-=(t-.5)*this.baseDuration();let n=this.getPrivate("baseInterval");if(!ia(i)){const s=this._root.locale.firstDayOfWeek,a=n.timeUnit,o=this._root.utc,l=this._root.timezone,c=n.count;i=M(i,a,c,this._root,this.getPrivate("min",0));let A=cv(n,new Date(i),s,o,l);return l&&(i=M(i+.05*this.baseDuration(),a,c,this._root,this.getPrivate("min",0)),A=cv(n,new Date(i+A*t),s,o,l)),this.valueToPosition(i+A*t)}return NaN}getTooltipText(e,t){if(null!=this.getPrivate("min")){let i=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],n=this.positionToValue(e);if(at(n)){let s=new Date(n),o=cv(this.getPrivate("baseInterval"),s,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return!1!==t&&(s=new Date(n+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*o)),this._root.dateFormatter.format(s,this.get("tooltipDateFormat",i))}}return""}getSeriesItem(e,t,i,n){let s=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=this.positionToValue(t);null==i&&(i=.5),a-=(i-.5)*this.baseDuration();const o=Vf(e.dataItems,l=>{let c=0;return l.open&&(c=l.open[s]),Cc(c,a)});if(n||e.get("snapTooltip")){let l=e.dataItems[o.index-1],c=e.dataItems[o.index];if(l&&c&&l.open&&c.close){let u=c.close[s];if(Math.abs(a-l.open[s])>Math.abs(a-u))return c}if(l)return l;if(c)return c}else{const l=e.dataItems[o.index-1];if(l&&l.open&&l.close&&a>=l.open[s]&&a<=l.close[s])return l}}shouldGap(e,t,i,n){const s=e.get(n);return t.get(n)-s>this.baseDuration()*i}zoomToDates(e,t,i){this.zoomToValues(e.getTime(),t.getTime(),i)}positionToDate(e){return new Date(this.positionToValue(e))}dateToPosition(e){return this.valueToPosition(e.getTime())}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return at(e)&&at(t)?this._intervalDuration/(e-t):.05}}function wn(r,e){for(let t=0,i=e.length;t<i;t++){const n=e[t];if(n.length>0){let s=n[0];if(s.length>0){let a=s[0];r.moveTo(a.x,a.y);for(let o=0,l=n.length;o<l;o++)Li(r,n[o])}}}}function Li(r,e){for(let t=0,i=e.length;t<i;t++){const n=e[t];r.lineTo(n.x,n.y)}}Object.defineProperty(Tn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"}),Object.defineProperty(Tn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pn.classNames.concat([Tn.className])});class Ya extends lr{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),t=this.get("segments");if(e&&e.length>0){let i=e[0];this._display.moveTo(i.x,i.y),wn(this._display,[[e]])}else if(t)wn(this._display,t);else if(!this.get("draw")){let i=this.width(),n=this.height();this._display.moveTo(0,0),this._display.lineTo(i,n)}}}}Object.defineProperty(Ya,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(Ya,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lr.classNames.concat([Ya.className])});class Wa extends Ya{}Object.defineProperty(Wa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(Wa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ya.classNames.concat([Wa.className])});class Dr extends Wa{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Dr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"}),Object.defineProperty(Dr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Wa.classNames.concat([Dr.className])});class aa extends ho{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(aa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"}),Object.defineProperty(aa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ho.classNames.concat([aa.className])});class Eo extends lr{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>Dr._new(this._root,{themeTags:Sn(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template]))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>St._new(this._root,{themeTags:Sn(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template]))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>lr._new(this._root,{themeTags:Sn(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>aa._new(this._root,{themeTags:Sn(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template]))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(e,t){const i=this.ticks.make();return i._setDataItem(e),e.setRaw("tick",i),i.set("themeTags",Sn(i.get("themeTags"),t)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}makeGrid(e,t){const i=this.grid.make();return i._setDataItem(e),e.setRaw("grid",i),i.set("themeTags",Sn(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}makeAxisFill(e,t){const i=this.axisFills.make();return i._setDataItem(e),i.set("themeTags",Sn(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),e.setRaw("axisFill",i),this.axisFills.push(i),i}makeLabel(e,t){const i=this.labels.make();return i.set("themeTags",Sn(i.get("themeTags"),t)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(e),e.setRaw("label",i),this.labels.push(i),i}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const e=this.thumb;e&&(this._disposers.push(e.events.on("pointerdown",t=>{this._handleThumbDown(t)})),this._disposers.push(e.events.on("globalpointerup",t=>{this._handleThumbUp(t)})),this._disposers.push(e.events.on("globalpointermove",t=>{this._handleThumbMove(t)})))}_beforeChanged(){super._beforeChanged(),this.isDirty("minGridDistance")&&this.root.events.once("frameended",()=>{this.axis.markDirtySize()})}_changed(){if(super._changed(),this.isDirty("pan")){const e=this.thumb;if(e){const t=this.axis.labelsContainer,i=this.get("pan");"zoom"==i?t.children.push(e):"none"==i&&t.children.removeValue(e)}}}_handleThumbDown(e){this._thumbDownPoint=this.toLocal(e.point);const t=this.axis;this._downStart=t.get("start"),this._downEnd=t.get("end")}_handleThumbUp(e){this._thumbDownPoint=void 0}_handleThumbMove(e){const t=this._thumbDownPoint;if(t){const i=this.toLocal(e.point),n=this._downStart,s=this._downEnd,a=this._getPan(i,t)*Math.min(1,s-n)/2;this.axis.zoom(n-a,s+a,0)}}_getPan(e,t){return 0}positionToCoordinate(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}updateTooltipBounds(e){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e*=i-t,this.get("inversed")?i-e:t+e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e-=t,e/(i-t)}fixPosition(e){return this.get("inversed")?1-e:e}_updateLC(){}toggleVisibility(e,t,i,n){let s=this.axis;const a=s.get("start",0),o=s.get("end",1);e.setPrivate("visible",!(t<a+(o-a)*(i-1e-4)||t>a+(o-a)*(n+1e-4)))}_positionTooltip(e,t){const i=this.chart;i&&(i.inPlot(t)?e.set("pointTo",this._display.toGlobal(t)):e.hide())}processAxis(){}}Object.defineProperty(Eo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"}),Object.defineProperty(Eo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lr.classNames.concat([Eo.className])});class Ms extends Eo{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:Ha.new(this._root,{width:hi,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const e=this.grid.template;e.set("height",hi),e.set("width",0),e.set("draw",(t,i)=>{t.moveTo(0,0),t.lineTo(0,i.height())}),this.set("draw",(t,i)=>{t.moveTo(0,0),t.lineTo(i.width(),0)})}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("x",-1e3);const t="opposite",i="inside";if(this.isDirty(t)||this.isDirty(i)){const n=this.chart,s=e.children;if(this.get(i)?e.addTag(i):e.removeTag(i),n){if(this.get(t)){const a=n.topAxesContainer.children;-1==a.indexOf(e)&&a.insertIndex(0,e),e.addTag(t),s.moveValue(this)}else{const a=n.bottomAxesContainer.children;-1==a.indexOf(e)&&a.moveValue(e),e.removeTag(t),s.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each(a=>{a._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}_getPan(e,t){return(t.x-e.x)/this.width()}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e=(e-=this._ls)*(i-t)/this._lc,this.get("inversed")?i-e:t+e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e-=t,(e=e/(i-t)*this._lc)+this._ls}_updateLC(){const e=this.axis,t=e.parent;if(t){const i=t.innerWidth();this._lc=this.axisLength()/i,this._ls=(e.x()-t.get("paddingLeft",0))/i}}_updatePositions(){const e=this.axis,t=e.x()-ur(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0);e.gridContainer.set("x",t),e.topGridContainer.set("x",t),e.bulletsContainer.set("y",this.y());const i=e.chart;if(i){const n=i.plotContainer,s=e.axisHeader;let a=e.get("marginLeft",0),o=e.x()-a;const l=e.parent;l&&(o-=l.get("paddingLeft",0)),s.children.length>0?(a=e.axisHeader.width(),e.set("marginLeft",a+1)):s.set("width",a),s.setAll({x:o,y:-1,height:n.height()+2})}}processAxis(){super.processAxis();const e=this.axis;null==e.get("width")&&e.set("width",hi);const t=this._root.verticalLayout;e.set("layout",t),e.labelsContainer.set("width",hi),e.axisHeader.setAll({layout:t})}axisLength(){return this.axis.width()}positionToPoint(e){return{x:this.positionToCoordinate(e),y:0}}updateTick(e,t,i,n){if(e){at(t)||(t=0);let s=.5;s=at(n)&&n>1?e.get("multiLocation",s):e.get("location",s),at(i)&&i!=t&&(t+=(i-t)*s),e.set("x",this.positionToCoordinate(t));let a=e.get("length",0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",hi),o||(a*=-1)):(e.set("y",0),o&&(a*=-1)),e.set("draw",l=>{l.moveTo(0,0),l.lineTo(0,a)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateLabel(e,t,i,n){if(e){let s=.5;s=at(n)&&n>1?e.get("multiLocation",s):e.get("location",s),at(t)||(t=0);const a=e.get("inside",this.get("inside",!1));this.get("opposite")?a?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",hi)):a?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),at(i)&&i!=t&&(t+=(i-t)*s),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,i){if(e){at(t)||(t=0);let n=e.get("location",.5);at(i)&&i!=t&&(t+=(i-t)*n),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateBullet(e,t,i){if(e){const n=e.get("sprite");if(n){at(t)||(t=0);let s=e.get("location",.5);at(i)&&i!=t&&(t+=(i-t)*s);let a=this.axis.roundAxisPosition(t,s),o=this.axis._bullets[a],l=-1;if(this.get("opposite")&&(l=1),e.get("stacked"))if(o){let c=o.get("sprite");c&&n.set("y",c.y()+c.height()*l)}else n.set("y",0);this.axis._bullets[a]=e,n.set("x",this.positionToCoordinate(t)),this.toggleVisibility(n,t,0,1)}}}updateFill(e,t,i){if(e){at(t)||(t=0),at(i)||(i=1);let n=this.positionToCoordinate(t),s=this.positionToCoordinate(i);this.fillDrawMethod(e,n,s)}}fillDrawMethod(e,t,i){e.set("draw",n=>{const s=this.axis.gridContainer.height(),a=this.width();i<t&&([i,t]=[t,i]),!(t>a||i<0)&&(n.moveTo(t,0),n.lineTo(i,0),n.lineTo(i,s),n.lineTo(t,s),n.lineTo(t,0))})}positionTooltip(e,t){this._positionTooltip(e,{x:this.positionToCoordinate(t),y:0})}updateTooltipBounds(e){const t=this.get("inside"),i=1e5;let n=this._display.toGlobal({x:0,y:0}),s=n.x,a=0,o=this.axisLength(),l=i,c="up";this.get("opposite")?t?(c="up",a=n.y,l=i):(c="down",a=n.y-i,l=i):t?(c="down",a=n.y-i,l=i):(c="up",a=n.y,l=i);const A={left:s,right:s+o,top:a,bottom:a+l};Gm(A,e.get("bounds"))||(e.set("bounds",A),e.set("pointerOrientation",c))}}Object.defineProperty(Ms,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(Ms,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Eo.classNames.concat([Ms.className])});class Ts extends Eo{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:Ha.new(this._root,{height:hi,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const e=this.grid.template;e.set("width",hi),e.set("height",0),e.set("draw",(t,i)=>{t.moveTo(0,0),t.lineTo(i.width(),0)}),this.set("draw",(t,i)=>{t.moveTo(0,0),t.lineTo(0,i.height())})}_getPan(e,t){return(e.y-t.y)/this.height()}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("y",-1e3);const t=this.thumb,i="opposite",n="inside",s=this.chart;if(this.isDirty(i)||this.isDirty(n)){const o=e.children;if(this.get(n)?e.addTag(n):e.removeTag(n),s){if(this.get(i)){const l=s.rightAxesContainer.children;-1==l.indexOf(e)&&l.moveValue(e,0),e.addTag(i),o.moveValue(this,0)}else{const l=s.leftAxesContainer.children;-1==l.indexOf(e)&&l.moveValue(e),e.removeTag(i),o.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each(l=>{l._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}const a=e.labelsContainer.width();s&&(this.get(i)?t.set("centerX",0):t.set("centerX",a)),t.setPrivate("width",a)}processAxis(){super.processAxis();const e=this.axis;null==e.get("height")&&e.set("height",hi);const t=this._root.horizontalLayout;e.set("layout",t),e.labelsContainer.set("height",hi),e.axisHeader.set("layout",t)}_updatePositions(){const e=this.axis,t=e.y()-ur(e.get("centerY",0),e.height());e.gridContainer.set("y",t),e.topGridContainer.set("y",t),e.bulletsContainer.set("x",this.x());const i=e.chart;if(i){const n=i.plotContainer,s=e.axisHeader;let a=e.get("marginTop",0);s.children.length>0?(a=e.axisHeader.height(),e.set("marginTop",a+1)):s.set("height",a),s.setAll({y:e.y()-a,x:-1,width:n.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(e){return{x:0,y:this.positionToCoordinate(e)}}updateLabel(e,t,i,n){if(e){at(t)||(t=0);let s=.5;s=at(n)&&n>1?e.get("multiLocation",s):e.get("location",s);const a=this.get("opposite"),o=e.get("inside",this.get("inside",!1));a?(e.set("x",0),e.set("position",o?"absolute":"relative")):o?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),at(i)&&i!=t&&(t+=(i-t)*s),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,i){if(e){at(t)||(t=0);let n=e.get("location",.5);at(i)&&i!=t&&(t+=(i-t)*n),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateTick(e,t,i,n){if(e){at(t)||(t=0);let s=.5;s=at(n)&&n>1?e.get("multiLocation",s):e.get("location",s),at(i)&&i!=t&&(t+=(i-t)*s),e.set("y",this.positionToCoordinate(t));let a=e.get("length",0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),o&&(a*=-1)):o||(a*=-1),e.set("draw",l=>{l.moveTo(0,0),l.lineTo(a,0)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateBullet(e,t,i){if(e){const n=e.get("sprite");if(n){at(t)||(t=0);let s=e.get("location",.5);at(i)&&i!=t&&(t+=(i-t)*s);let a=this.axis.roundAxisPosition(t,s),o=this.axis._bullets[a],l=1;if(this.get("opposite")&&(l=-1),e.get("stacked"))if(o){let c=o.get("sprite");c&&n.set("x",c.x()+c.width()*l)}else n.set("x",0);this.axis._bullets[a]=e,n.set("y",this.positionToCoordinate(t)),this.toggleVisibility(n,t,0,1)}}}updateFill(e,t,i){if(e){at(t)||(t=0),at(i)||(i=1);let n=this.positionToCoordinate(t),s=this.positionToCoordinate(i);this.fillDrawMethod(e,n,s)}}fillDrawMethod(e,t,i){e.set("draw",n=>{const s=this.axis.gridContainer.width(),a=this.height();i<t&&([i,t]=[t,i]),!(t>a||i<0)&&(n.moveTo(0,t),n.lineTo(s,t),n.lineTo(s,i),n.lineTo(0,i),n.lineTo(0,t))})}positionToCoordinate(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}positionTooltip(e,t){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(t)})}updateTooltipBounds(e){const t=this.get("inside"),i=1e5;let n=this._display.toGlobal({x:0,y:0}),s=n.y,a=0,o=this.axisLength(),l=i,c="right";this.get("opposite")?t?(c="right",a=n.x-i,l=i):(c="left",a=n.x,l=i):t?(c="left",a=n.x,l=i):(c="right",a=n.x-i,l=i);const A={left:a,right:a+l,top:s,bottom:s+o};Gm(A,e.get("bounds"))||(e.set("bounds",A),e.set("pointerOrientation",c))}_updateLC(){const e=this.axis,t=e.parent;if(t){const i=t.innerHeight();this._lc=this.axisLength()/i,this._ls=e.y()/i}}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e=(e-=this._ls)*(i-t)/this._lc,this.get("inversed")?t+e:i-e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e-=t:e=i-e,(e=e/(i-t)*this._lc)+this._ls}fixPosition(e){return this.get("inversed")?e:1-e}}Object.defineProperty(Ts,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(Ts,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Eo.classNames.concat([Ts.className])});class Tc extends en{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=Sn(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=Ye.new(this._root,{themeTags:Sn(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push($e.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:lr.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(Ye.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(e){e&&this._disposers.push(e.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const e=this.startGrip,t=this.endGrip,i=this.thumb,n=this.get("background");n&&this._disposers.push(n.events.on("click",s=>{this.setPrivateRaw("isBusy",!0);const a=this._display.toLocal(s.point),o=this.width(),l=this.height(),c=this.get("orientation");let A,u,f;A="vertical"==c?(a.y-i.height()/2)/l:(a.x-i.width()/2)/o,"vertical"==c?(u=A*l,f="y"):(u=A*o,f="x");const d=this.get("animationDuration",0);d>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:f,to:u,duration:d,easing:this.get("animationEasing")}))):(this.thumb.set(f,u),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(i.events.on("dblclick",s=>{if(!Um(s.originalEvent,this))return;const a=this.get("animationDuration",0),o=this.get("animationEasing");this.animate({key:"start",to:0,duration:a,easing:o}),this.animate({key:"end",to:1,duration:a,easing:o})})),this._disposers.push(e.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(t.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(i.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(e.events.on("globalpointerup",()=>{this._startDown&&this.setPrivateRaw("isBusy",!1),this._startDown=!1})),this._disposers.push(t.events.on("globalpointerup",()=>{this._endDown&&this.setPrivateRaw("isBusy",!1),this._endDown=!1})),this._disposers.push(i.events.on("globalpointerup",()=>{this._thumbDown&&this.setPrivateRaw("isBusy",!1),this._thumbDown=!1})),this._disposers.push(e.on("x",()=>{this._updateThumb()})),this._disposers.push(t.on("x",()=>{this._updateThumb()})),this._disposers.push(e.on("y",()=>{this._updateThumb()})),this._disposers.push(t.on("y",()=>{this._updateThumb()})),this._disposers.push(i.events.on("positionchanged",()=>{this._updateGripsByThumb()})),"vertical"==this.get("orientation")?(e.set("x",0),t.set("x",0),this._disposers.push(i.adapters.add("y",s=>Math.max(Math.min(Number(s),this.height()-i.height()),0))),this._disposers.push(i.adapters.add("x",s=>this.width()/2)),this._disposers.push(e.adapters.add("x",s=>this.width()/2)),this._disposers.push(t.adapters.add("x",s=>this.width()/2)),this._disposers.push(e.adapters.add("y",s=>Math.max(Math.min(Number(s),this.height()),0))),this._disposers.push(t.adapters.add("y",s=>Math.max(Math.min(Number(s),this.height()),0)))):(e.set("y",0),t.set("y",0),this._disposers.push(i.adapters.add("x",s=>Math.max(Math.min(Number(s),this.width()-i.width()),0))),this._disposers.push(i.adapters.add("y",s=>this.height()/2)),this._disposers.push(e.adapters.add("y",s=>this.height()/2)),this._disposers.push(t.adapters.add("y",s=>this.height()/2)),this._disposers.push(e.adapters.add("x",s=>Math.max(Math.min(Number(s),this.width()),0))),this._disposers.push(t.adapters.add("x",s=>Math.max(Math.min(Number(s),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const e="rangechanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}updateGrips(){const e=this.startGrip,t=this.endGrip,i=this.get("orientation"),n=this.height(),s=this.width();"vertical"==i?(e.set("y",n*this.get("start",0)),t.set("y",n*this.get("end",1))):(e.set("x",s*this.get("start",0)),t.set("x",s*this.get("end",1)));const a=this.getPrivate("positionTextFunction"),o=Math.round(100*this.get("start",0)),l=Math.round(100*this.get("end",0));let c,A;a?(c=a.call(this,this.get("start",0)),A=a.call(this,this.get("end",0))):(c=o+"%",A=l+"%"),e.set("ariaLabel",this._t("From %1",void 0,c)),e.set("ariaValueNow",""+o),e.set("ariaValueText",o+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100"),t.set("ariaLabel",this._t("To %1",void 0,A)),t.set("ariaValueNow",""+l),t.set("ariaValueText",l+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100")}_updateThumb(){const e=this.thumb,t=this.startGrip,i=this.endGrip,n=this.height(),s=this.width();let a=t.x(),o=i.x(),l=t.y(),c=i.y(),A=0,u=1;"vertical"==this.get("orientation")?at(l)&&at(c)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("height",c-l),e.set("y",l)),A=l/n,u=c/n):at(a)&&at(o)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("width",o-a),e.set("x",a)),A=a/s,u=o/s),this.getPrivate("isBusy")&&(this.get("start")!=A||this.get("end")!=u)&&(this.set("start",A),this.set("end",u));const f=this.getPrivate("positionTextFunction"),d=Math.round(100*this.get("start",0)),_=Math.round(100*this.get("end",0));let p,g;f?(p=f.call(this,this.get("start",0)),g=f.call(this,this.get("end",0))):(p=d+"%",g=_+"%"),e.set("ariaLabel",this._t("From %1 to %2",void 0,p,g)),e.set("ariaValueNow",""+d),e.set("ariaValueText",d+"%")}_updateGripsByThumb(){const e=this.thumb,t=this.startGrip,i=this.endGrip;if("vertical"==this.get("orientation")){const n=e.height();t.set("y",e.y()),i.set("y",e.y()+n)}else{const n=e.width();t.set("x",e.x()),i.set("x",e.x()+n)}}}Object.defineProperty(Tc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(Tc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:en.classNames.concat([Tc.className])});class Vo extends Tc{constructor(){super(...arguments),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(rt.new(this._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(this,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(lr.new(this._root,{themeTags:["overlay"],interactive:!1}))})}_afterNew(){this._addOrientationClass(),this._settings.themeTags=Sn(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);const e=this.children;e.moveValue(this.thumb),e.moveValue(this.startGrip),e.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});const t=this.chart.plotContainer;t.set("interactive",!1),t.remove("background"),t.children.removeValue(this.chart.zoomOutButton),super._afterNew()}_updateThumb(){super._updateThumb(),this.overlay.set("draw",e=>{const t=this.startGrip,i=this.endGrip;let n=t.x(),s=t.y(),a=i.x(),o=i.y();const l=this.height(),c=this.width();n>a&&([n,a]=[a,n]),s>o&&([s,o]=[o,s]),"horizontal"===this.get("orientation")?(e.moveTo(0,0),e.lineTo(n,0),e.lineTo(n,l),e.lineTo(0,l),e.lineTo(0,0),e.moveTo(a,0),e.lineTo(c,0),e.lineTo(c,l),e.lineTo(a,l),e.lineTo(a,0)):(e.moveTo(0,0),e.lineTo(0,s),e.lineTo(c,s),e.lineTo(c,0),e.lineTo(0,0),e.moveTo(0,o),e.lineTo(0,l),e.lineTo(c,l),e.lineTo(c,o),e.lineTo(0,o))})}}Object.defineProperty(Vo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(Vo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Tc.classNames.concat([Vo.className])});class Mo extends zi{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new wA}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:en.new(this._root,{width:hi,height:hi,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(e=>{if("clear"===e.type)this._handleBullets(this.dataItems);else if("push"===e.type)this._handleBullets(this.dataItems);else if("setIndex"===e.type)this._handleBullets(this.dataItems);else if("insertIndex"===e.type)this._handleBullets(this.dataItems);else if("removeIndex"===e.type)this._handleBullets(this.dataItems);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");this._handleBullets(this.dataItems)}}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){Xe(e,t=>{const i=t.bullets;i&&(Xe(i,n=>{n.dispose()}),t.bullets=void 0)}),this.markDirtyValues()}getDataItemById(e){return Dm(this.dataItems,t=>t.get("id")==e)}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(t=>{this._makeBullet(e,t)}))}_shouldMakeBullet(e){return!0}_makeBullet(e,t,i){const n=t(this._root,this,e);return n&&(n._index=i,this._makeBulletReal(e,n)),n}_makeBulletReal(e,t){let i=t.get("sprite");i&&(i._setDataItem(e),i.setRaw("position","absolute"),this.bulletsContainer.children.push(i)),t.series=this,e.bullets.push(t)}addBullet(e,t){e.bullets||(e.bullets=[]),t&&this._makeBulletReal(e,t)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),t=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const n=this.getPrivate("baseValueSeries");n&&this._disposers.push(n.onPrivate("startIndex",()=>{this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,0!=e&&(this._psi=void 0))),(this._psi!=e||this._pei!=t)&&!this._selectionAggregatesCalculated&&(0===e&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let n=this.get("tooltip");n&&(n.hide(0),n.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let n;const s=this.get("legendDataItem");if(s&&(n=s.get("markerRectangle"),n&&this.isVisible())){if(this.isDirty("stroke")){let a=this.get("stroke");n.set("stroke",a)}if(this.isDirty("fill")){let a=this.get("fill");n.set("fill",a)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let n=this.startIndex(),s=this.endIndex();s<this.dataItems.length&&s++;for(let a=n;a<s;a++){let o=this.dataItems[a];o.bullets||this._makeBullets(o)}}}_calculateAggregates(e,t){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");const n={},s={},a={},o={},l={},c={},A={},u={},f={};Xe(i,d=>{n[d]=0,s[d]=0,a[d]=0}),Xe(i,d=>{let _=d+"Change",p=d+"ChangePercent",g=d+"ChangePrevious",m=d+"ChangePreviousPercent",C=d+"ChangeSelection",B=d+"ChangeSelectionPercent",S="valueY";("valueX"==d||"openValueX"==d||"lowValueX"==d||"highValueX"==d)&&(S="valueX");const U=this.getPrivate("baseValueSeries");for(let H=e;H<t;H++){const N=this.dataItems[H];let P=N.get(d);null!=P&&(a[d]++,n[d]+=P,s[d]+=Math.abs(P),u[d]=n[d]/a[d],(o[d]>P||null==o[d])&&(o[d]=P),(l[d]<P||null==l[d])&&(l[d]=P),A[d]=P,null==c[d]&&(c[d]=P,f[d]=P,U&&(c[S]=U._getBase(S))),0===e&&(N.setRaw(_,P-c[S]),N.setRaw(p,(P-c[S])/c[S]*100)),N.setRaw(g,P-f[S]),N.setRaw(m,(P-f[S])/f[S]*100),N.setRaw(C,P-c[S]),N.setRaw(B,(P-c[S])/c[S]*100),f[d]=P)}}),Xe(i,d=>{this.setPrivate(d+"AverageSelection",u[d]),this.setPrivate(d+"CountSelection",a[d]),this.setPrivate(d+"SumSelection",n[d]),this.setPrivate(d+"AbsoluteSumSelection",s[d]),this.setPrivate(d+"LowSelection",o[d]),this.setPrivate(d+"HighSelection",l[d]),this.setPrivate(d+"OpenSelection",c[d]),this.setPrivate(d+"CloseSelection",A[d])}),0===e&&t===this.dataItems.length&&Xe(i,d=>{this.setPrivate(d+"Average",u[d]),this.setPrivate(d+"Count",a[d]),this.setPrivate(d+"Sum",n[d]),this.setPrivate(d+"AbsoluteSum",s[d]),this.setPrivate(d+"Low",o[d]),this.setPrivate(d+"High",l[d]),this.setPrivate(d+"Open",c[d]),this.setPrivate(d+"Close",A[d])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&Xe(e,t=>{const i=t.minValue||this.getPrivate(t.dataField+"Low")||0,n=t.maxValue||this.getPrivate(t.dataField+"High")||0;Xe(t.target._entities,s=>{const a=s.dataItem.get(t.dataField);if(at(a))if(t.customFunction)t.customFunction.call(this,s,i,n,a);else{let o,l;o=t.logarithmic?(Math.log(a)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(n)*Math.LOG10E-Math.log(i)*Math.LOG10E):(a-i)/(n-i),at(a)&&(!at(o)||Math.abs(o)==1/0)&&(o=.5),at(t.min)?l=t.min+(t.max-t.min)*o:t.min instanceof Wi?l=Wi.interpolate(o,t.min,t.max):t.min instanceof vn&&(l=Jm(o,t.min,t.max)),s.set(t.key,l)}else t.neutral&&s.set(t.key,t.neutral)})}),this.get("visible")){let t=this.dataItems.length,i=this.startIndex(),n=this.endIndex();n<t&&n++,i>0&&i--;for(let s=0;s<i;s++)this._hideBullets(this.dataItems[s]);for(let s=i;s<n;s++)this._positionBullets(this.dataItems[s]);for(let s=n;s<t;s++)this._hideBullets(this.dataItems[s])}}_positionBullets(e){e.bullets&&Xe(e.bullets,t=>{this._positionBullet(t);const i=t.get("sprite");t.get("dynamic")&&(i&&(i._markDirtyKey("fill"),i.markDirtySize()),i instanceof en&&i.walkChildren(n=>{n._markDirtyKey("fill"),n.markDirtySize(),n instanceof ho&&n.text.markDirtyText()})),i instanceof ho&&i.get("populateText")&&i.text.markDirtyText()})}_hideBullets(e){e.bullets&&Xe(e.bullets,t=>{let i=t.get("sprite");i&&i.setPrivate("visible",!1)})}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const t=e.bullets;t&&Xe(t,i=>{i.dispose()})}_getItemReaderLabel(){return""}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,zs.mG)(this,void 0,void 0,function*(){const n=[i.showDataItem.call(this,e,t)],s=e.bullets;s&&Xe(s,a=>{const o=a.get("sprite");o&&n.push(o.show(t))}),yield Promise.all(n)})}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,zs.mG)(this,void 0,void 0,function*(){const n=[i.hideDataItem.call(this,e,t)],s=e.bullets;s&&Xe(s,a=>{const o=a.get("sprite");o&&n.push(o.hide(t))}),yield Promise.all(n)})}_sequencedShowHide(e,t){return(0,zs.mG)(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(at(t)||(t=this.get("interpolationDuration",0)),t>0){const i=this.startIndex(),n=this.endIndex();yield Promise.all(zf(this.dataItems,(s,a)=>(0,zs.mG)(this,void 0,void 0,function*(){let o=t||0;(a<i-10||a>n+10)&&(o=0);let l=this.get("sequencedDelay",0)+o/(n-i);yield function HB(r){return new Promise((e,t)=>{setTimeout(e,r)})}(l*(a-i)),e?yield this.showDataItem(s,o):yield this.hideDataItem(s,o)})))}else yield Promise.all(zf(this.dataItems,i=>e?this.showDataItem(i,0):this.hideDataItem(i,0)))})}updateLegendValue(e){if(e){const t=e.get("legendDataItem");if(t){const i=t.get("valueLabel");if(i){const s=i.text;let a="";i._setDataItem(e),a=this.get("legendValueText",s.get("text","")),i.set("text",a),s.markDirtyText()}const n=t.get("label");if(n){const s=n.text;let a="";n._setDataItem(e),a=this.get("legendLabelText",s.get("text","")),n.set("text",a),s.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const t=this.dataItems[this.startIndex()];return t?t.get(e):0}}Object.defineProperty(Mo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(Mo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zi.classNames.concat([Mo.className])});class jo extends Mo{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(en.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new wA}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new un(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(e=>{if("clear"===e.type)Xe(e.oldValues,t=>{this._removeAxisRange(t)});else if("push"===e.type)this._processAxisRange(e.newValue);else if("setIndex"===e.type)this._processAxisRange(e.newValue);else if("insertIndex"===e.type)this._processAxisRange(e.newValue);else if("removeIndex"===e.type)this._removeAxisRange(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(e.value)}})),this.states.create("hidden",{opacity:1,visible:!1}),this._makeFieldNames()}_processAxisRange(e){const t=en.new(this._root,{});e.container=t,this.children.push(t),e.series=this;const i=e.axisDataItem;i.setRaw("isRange",!0);const n=i.component;if(n){n._processAxisRange(i,["range","series"]);const s=i.get("bullet");if(s){const o=s.get("sprite");o&&o.setPrivate("visible",!1)}const a=i.get("axisFill");a&&t.set("mask",a),n._seriesAxisRanges.push(i)}}_removeAxisRange(e){const t=e.axisDataItem,i=t.component;i.disposeDataItem(t),xo(i._seriesAxisRanges,t);const n=e.container;n&&n.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&Xe(this.valueXFields,e=>{if(this.get(e+"Field")){this._valueXFields.push(e);let i=this.get(e+"Show");this.__valueXShowFields.push(i),-1!=i.indexOf("Working")?this._valueXShowFields.push(i.split("Working")[0]):this._valueXShowFields.push(i)}}),this.valueYFields&&Xe(this.valueYFields,e=>{if(this.get(e+"Field")){this._valueYFields.push(e);let i=this.get(e+"Show");this.__valueYShowFields.push(i),-1!=i.indexOf("Working")?this._valueYShowFields.push(i.split("Working")[0]):this._valueYShowFields.push(i)}})}_dispose(){super._dispose(),this._bullets={};const e=this.chart;e&&e.series.removeValue(this),ta(this.get("xAxis").series,this),ta(this.get("yAxis").series,this)}_min(e,t){let i=function xu(r,e){return null==r?e:null==e?r:e<r?e:r}(this.getPrivate(e),t);this.setPrivate(e,i)}_max(e,t){let i=function Bu(r,e){return null==r?e:null==e?r:e>r?e:r}(this.getPrivate(e),t);this.setPrivate(e,i)}_shouldMakeBullet(e){const t=this.get("xAxis"),i=this.get("yAxis"),n=this.get("baseAxis");if(!t.inited||!i.inited)return!1;const s=this.get("minBulletDistance",0);if(s>0){let a=this.startIndex(),l=this.endIndex()-a;if(t==n){if(t.get("renderer").axisLength()/l<s/5)return!1}else if(i==n&&i.get("renderer").axisLength()/l<s/5)return!1}return null!=e.get(this._xField)&&null!=e.get(this._yField)}_makeFieldNames(){const e=this.get("xAxis"),t=this.get("yAxis"),i=e.getPrivate("name"),n=_d(i),s=t.getPrivate("name"),a=_d(s),o=e.get("renderer").getPrivate("letter"),l=t.get("renderer").getPrivate("letter"),c="open",A="low",u="high",f="Show";"ValueAxis"===e.className?(this._xField=this.get(i+o+f),this._xOpenField=this.get(c+n+o+f),this._xLowField=this.get(A+n+o+f),this._xHighField=this.get(u+n+o+f)):(this._xField=i+o,this._xOpenField=c+n+o,this._xLowField=A+n+o,this._xHighField=u+n+o),"ValueAxis"===t.className?(this._yField=this.get(s+l+f),this._yOpenField=this.get(c+a+l+f),this._yLowField=this.get(A+a+l+f),this._yHighField=this.get(u+a+l+f)):(this._yField=s+l,this._yOpenField=c+a+l,this._yLowField=A+a+l,this._yHighField=u+a+l)}_fixVC(){const e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis"),n=this.states.lookup("hidden"),s=this.get("sequencedInterpolation");if(n){let a=0;s&&(a=.999999999999),e===i?n.set("vcy",a):(t===i||n.set("vcy",a),n.set("vcx",a))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){const e=this.get("xAxis"),t=this.get("yAxis");this.set("x",e.x()-ur(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),this.set("y",t.y()-ur(t.get("centerY",0),t.height())-t.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis");let s,o;switch(this.get("tooltipPositionX")){case"open":s=this._xOpenField;break;case"low":s=this._xLowField;break;case"high":s=this._xHighField;break;default:s=this._xField}switch(this._tooltipFieldX=s,this.get("tooltipPositionY")){case"open":o=this._yOpenField;break;case"low":o=this._yLowField;break;case"high":o=this._yHighField;break;default:o=this._yField}this._tooltipFieldY=o,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();const l=this.get("stacked");if(this.isDirty("stacked")&&(l?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,l&&this._stack(),Xe(this.dataItems,c=>{Xe(this._valueXShowFields,A=>{let u=c.get(A);null!=u&&(l&&(u+=this.getStackedXValue(c,A)),this._min("minX",u),this._max("maxX",u))}),Xe(this._valueYShowFields,A=>{let u=c.get(A);null!=u&&(l&&(u+=this.getStackedYValue(c,A)),this._min("minY",u),this._max("maxY",u))}),e.processSeriesDataItem(c,this._valueXFields),t.processSeriesDataItem(c,this._valueYFields)}),e._seriesValuesDirty=!0,t._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&e.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&t.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(e._groupSeriesData(this),t._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty){let c=this.startIndex(),A=this.endIndex(),u=this.get("minBulletDistance",0);if(u>0&&i&&(this._showBullets=i.get("renderer").axisLength()/(A-c)>u),(this._psi!=c||this._pei!=A||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const f=this.get("vcx",1),d=this.get("vcy",1),_=this.get("stacked",!1),p=this.getPrivate("outOfSelection");if(i===e||!i)if(t._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),p)t.markDirtySelectionExtremes();else for(let g=c;g<A;g++)this.processYSelectionDataItem(this.dataItems[g],d,_);if(i===t||!i)if(e._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),p)t.markDirtySelectionExtremes();else for(let g=c;g<A;g++)this.processXSelectionDataItem(this.dataItems[g],f,_);if((i===e||!i)&&"valueYWorking"!==this.get("valueYShow")){const g=this.getPrivate("selectionMinY");null!=g&&(this.setPrivateRaw("minY",g),t.markDirtyExtremes());const m=this.getPrivate("selectionMaxY");null!=m&&(this.setPrivateRaw("maxY",m),t.markDirtyExtremes())}if((i===t||!i)&&"valueXWorking"!==this.get("valueXShow")){const g=this.getPrivate("selectionMinX");null!=g&&(this.setPrivateRaw("minX",g),t.markDirtyExtremes());const m=this.getPrivate("selectionMaxX");null!=m&&(this.setPrivateRaw("maxX",m),e.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&e.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&t.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let e=this._mainContainerMask;null==e&&(e=this.children.push(lr.new(this._root,{})),this._mainContainerMask=e,e.set("draw",(t,i)=>{const n=this.parent;if(n){const s=this._root.container.width(),a=this._root.container.height();t.moveTo(-s,-a),t.lineTo(-s,2*a),t.lineTo(2*s,2*a),t.lineTo(2*s,-a),t.lineTo(-s,-a),this.axisRanges.each(o=>{const l=o.axisDataItem.get("axisFill");if(n&&l){let c=l.get("draw");c&&c(t,i)}})}this.mainContainer._display.mask=e._display})),e.markDirty(),e._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const e=this.chart;if(e){const t=e.series.indexOf(this);if(this._couldStackTo=[],t>0){let i;for(let n=t-1;n>=0&&(i=e.series.getIndex(n),i.get("xAxis")!==this.get("xAxis")||i.get("yAxis")!==this.get("yAxis")||i.className!==this.className||(this._couldStackTo.push(i),i.get("stacked")));n--);}this._stackDataItems()}}_unstack(){gr(this._reallyStackedTo,(e,t)=>{delete t._stackedSeries[this.uid]}),this._reallyStackedTo={},Xe(this.dataItems,e=>{e.setRaw("stackToItemY",void 0),e.setRaw("stackToItemX",void 0)})}_stackDataItems(){const e=this.get("baseAxis"),t=this.get("xAxis"),i=this.get("yAxis");let n,s;e===t?(n="valueY",s="stackToItemY"):e===i&&(n="valueX",s="stackToItemX");let a=this._couldStackTo.length,o=0;const l=this.get("stackToNegative");this._reallyStackedTo={},Xe(this.dataItems,c=>{for(let A=0;A<a;A++){let u=this._couldStackTo[A],f=u.dataItems[o],d=c.get(n);if(f){let _=f.get(n);if(l){if(!at(d))break;if(at(_)){if(d>=0&&_>=0){c.setRaw(s,f),this._reallyStackedTo[u.uid]=u,u._stackedSeries[this.uid]=this;break}if(d<0&&_<0){c.setRaw(s,f),this._reallyStackedTo[u.uid]=u,u._stackedSeries[this.uid]=this;break}}}else if(at(d)&&at(_)){c.setRaw(s,f),this._reallyStackedTo[u.uid]=u,u._stackedSeries[this.uid]=this;break}}}o++})}processXSelectionDataItem(e,t,i){Xe(this.__valueXShowFields,n=>{let s=e.get(n);null!=s&&(i&&(s+=this.getStackedXValueWorking(e,n)),this._min("selectionMinX",s),this._max("selectionMaxX",s*t))})}processYSelectionDataItem(e,t,i){Xe(this.__valueYShowFields,n=>{let s=e.get(n);null!=s&&(i&&(s+=this.getStackedYValueWorking(e,n)),this._min("selectionMinY",s),this._max("selectionMaxY",s*t))})}getStackedYValueWorking(e,t){const i=e.get("stackToItemY");if(i){const n=i.component;return i.get(t,0)*n.get("vcy",1)+this.getStackedYValueWorking(i,t)}return 0}getStackedXValueWorking(e,t){const i=e.get("stackToItemX");if(i){const n=i.component;return i.get(t,0)*n.get("vcx",1)+this.getStackedXValueWorking(i,t)}return 0}getStackedYValue(e,t){const i=e.get("stackToItemY");return i?i.get(t,0)+this.getStackedYValue(i,t):0}getStackedXValue(e,t){const i=e.get("stackToItemX");return i?i.get(t,0)+this.getStackedXValue(i,t):0}createLegendMarker(e){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(e){let t=e.get("sprite");if(t){let i=t.dataItem,n=e.get("locationX",i.get("locationX",.5)),s=e.get("locationY",i.get("locationY",.5)),a=this.get("xAxis"),o=this.get("yAxis"),l=a.getDataItemPositionX(i,this._xField,n,this.get("vcx",1)),c=o.getDataItemPositionY(i,this._yField,s,this.get("vcy",1)),A=this.getPoint(l,c),u=i.get("left",A.x),f=i.get("right",A.x),d=i.get("top",A.y),_=i.get("bottom",A.y),p=0,g=0,m=f-u,C=_-d;if(this._shouldShowBullet(l,c)){t.setPrivate("visible",!e.getPrivate("hidden"));let B=e.get("field");const S=this.get("baseAxis"),U=this.get("xAxis"),H=this.get("yAxis");if(null!=B){let P;S==U?("value"==B?P=this._yField:"open"==B?P=this._yOpenField:"high"==B?P=this._yHighField:"low"==B&&(P=this._yLowField),P&&(c=H.getDataItemPositionY(i,P,0,this.get("vcy",1)),A=H.get("renderer").positionToPoint(c),g=A.y,p=u+m*n)):("value"==B?P=this._xField:"open"==B?P=this._xOpenField:"high"==B?P=this._xHighField:"low"==B&&(P=this._xLowField),P&&(l=U.getDataItemPositionX(i,P,0,this.get("vcx",1)),A=U.get("renderer").positionToPoint(l),p=A.x,g=_-C*s))}else p=u+m*n,g=_-C*s;const N=e.get("stacked");if(N){const P=this.chart;if(S==U){let z=this._bullets[l+"_"+c];if(z){let W=z.bounds(),Y=t.localBounds(),K=g;g=W.top,"down"==N?g=W.bottom-Y.top:"auto"==N?P&&(K<P.plotContainer.height()/2?g=W.bottom-Y.top:g+=Y.bottom):g+=Y.bottom}this._bullets[l+"_"+c]=t}else{let z=this._bullets[l+"_"+c];if(z){let W=z.bounds(),Y=t.localBounds(),K=p;p=W.right,"down"==N?p=W.left-Y.right:"auto"==N?P&&(K<P.plotContainer.width()/2?p=W.left-Y.right:p-=Y.left):p-=Y.left}this._bullets[l+"_"+c]=t}}t.isType("Label")&&(t.setPrivate("maxWidth",Math.abs(m)),t.setPrivate("maxHeight",Math.abs(C))),t.setAll({x:p,y:g})}else t.setPrivate("visible",!1)}}_shouldShowBullet(e,t){return this._showBullets}setDataSet(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;const t="datasetchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,id:e})}}resetGrouping(){gr(this._dataSets,(e,t)=>{t!=this._mainDataItems&&Xe(t,i=>{this.disposeDataItem(i)})}),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){Xe(this._dataItems,e=>{let t=e.bullets;t&&Xe(t,i=>{if(i){let n=i.get("sprite");n&&n.setPrivate("visible",!1)}})}),this._selectionProcessed=!1}show(e){const t=Object.create(null,{show:{get:()=>super.show}});return(0,zs.mG)(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(t.show.call(this,e).then(()=>{this._isShowing=!1;let n=this.get("xAxis"),s=this.get("yAxis"),a=this.get("baseAxis");s!==a&&s.markDirtySelectionExtremes(),n!==a&&n.markDirtySelectionExtremes()})),i.push(this.bulletsContainer.show(e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)})}hide(e){const t=Object.create(null,{hide:{get:()=>super.hide}});return(0,zs.mG)(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(t.hide.call(this,e).then(()=>{this._isHiding=!1})),i.push(this.bulletsContainer.hide(e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)})}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,zs.mG)(this,void 0,void 0,function*(){const n=[i.showDataItem.call(this,e,t)];at(t)||(t=this.get("stateAnimationDuration",0));const s=this.get("stateAnimationEasing");Xe(this._valueFields,a=>{n.push(e.animate({key:a+"Working",to:e.get(a),duration:t,easing:s}).waitForStop())}),yield Promise.all(n)})}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,zs.mG)(this,void 0,void 0,function*(){const n=[i.hideDataItem.call(this,e,t)],s=this.states.create("hidden",{});at(t)||(t=s.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const a=s.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=this.get("xAxis"),l=this.get("yAxis"),c=this.get("baseAxis"),A=this.get("stacked");if((c===o||!c)&&Xe(this._valueYFields,u=>{let f=l.getPrivate("min"),d=l.baseValue();at(f)&&f>d&&(d=f),A&&(d=0),null!=e.get(u)&&n.push(e.animate({key:u+"Working",to:d,duration:t,easing:a}).waitForStop())}),c===l||!c){let u=o.getPrivate("min"),f=o.baseValue();at(u)&&u>f&&(f=u),A&&(f=0),Xe(this._valueXFields,d=>{null!=e.get(d)&&n.push(e.animate({key:d+"Working",to:f,duration:t,easing:a}).waitForStop())})}yield Promise.all(n)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const e=this._stackedSeries;e&&gr(e,(t,i)=>{i._stackDirty||i._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(e){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(e),this.updateLegendValue(e));const t=this.get("tooltip");if(t)if(this.isHidden())this.hideTooltip();else if(t._setDataItem(e),e){let i=this.get("locationX",0),n=this.get("locationY",1),s=e.get("locationX",i),a=e.get("locationY",n);const o=this.get("xAxis"),l=this.get("yAxis"),c=this.get("vcx",1),A=this.get("vcy",1),u=o.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*s,c),f=l.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*a,A),d=this.getPoint(u,f);let _=!0;if(Xe(this._valueFields,p=>{null==e.get(p)&&(_=!1)}),_){const p=this.chart;p&&p.inPlot(d)?(t.label.text.markDirtyText(),t.set("tooltipTarget",this._getTooltipTarget(e)),t.set("pointTo",this._display.toGlobal({x:d.x,y:d.y}))):t._setDataItem(void 0)}else t._setDataItem(void 0)}}hideTooltip(){const e=this.get("tooltip");return e&&e.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(e){if("bullet"==this.get("seriesTooltipTarget")){const t=e.bullets;if(t&&t.length>0){const n=t[0].get("sprite");if(n)return n}}return this}updateLegendValue(e){const t=this.get("legendDataItem");if(t){const i=t.get("label");if(i){let s="";e?(i._setDataItem(e),s=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),s=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",s)}const n=t.get("valueLabel");if(n){let s="";e?(n._setDataItem(e),s=this.get("legendValueText",n.get("text",""))):(n._setDataItem(this._emptyDataItem),s=this.get("legendRangeValueText",n.get("text",""))),n.set("text",s)}}}_getItemReaderLabel(){let e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}getPoint(e,t){let i=this.get("xAxis").get("renderer").positionToCoordinate(e),n=this.get("yAxis").get("renderer").positionToCoordinate(t),s=999999999;return n<-s&&(n=-s),n>s&&(n=s),i<-s&&(i=-s),i>s&&(i=s),{x:i,y:n}}_shouldInclude(e){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(e){return this.axisRanges.push({axisDataItem:e})}get mainDataItems(){return this._mainDataItems}}function rh(r){return"object"==typeof r&&"length"in r?r:Array.from(r)}function Sr(r){return function(){return r}}function Id(r){this._context=r}function sT(r){return new Id(r)}Object.defineProperty(jo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"}),Object.defineProperty(jo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Mo.classNames.concat([jo.className])}),Id.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e)}}};const GB=Math.PI,YB=2*GB,vp=1e-6,UP=YB-vp;function aT(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}class yb{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?aT:function QP(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return aT;const t=10**e;return function(i){this._+=i[0];for(let n=1,s=i.length;n<s;++n)this._+=Math.round(arguments[n]*t)/t+i[n]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,n){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+n}`}bezierCurveTo(e,t,i,n,s,a){this._append`C${+e},${+t},${+i},${+n},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,i,n,s){if(e=+e,t=+t,i=+i,n=+n,(s=+s)<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=i-e,c=n-t,A=a-e,u=o-t,f=A*A+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(f>vp)if(Math.abs(u*l-c*A)>vp&&s){let d=i-a,_=n-o,p=l*l+c*c,g=d*d+_*_,m=Math.sqrt(p),C=Math.sqrt(f),B=s*Math.tan((GB-Math.acos((p+f-g)/(2*m*C)))/2),S=B/C,U=B/m;Math.abs(S-1)>vp&&this._append`L${e+S*A},${t+S*u}`,this._append`A${s},${s},0,0,${+(u*d>A*_)},${this._x1=e+U*l},${this._y1=t+U*c}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,i,n,s,a){if(e=+e,t=+t,a=!!a,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(n),l=i*Math.sin(n),c=e+o,A=t+l,u=1^a,f=a?n-s:s-n;null===this._x1?this._append`M${c},${A}`:(Math.abs(this._x1-c)>vp||Math.abs(this._y1-A)>vp)&&this._append`L${c},${A}`,i&&(f<0&&(f=f%YB+YB),f>UP?this._append`A${i},${i},0,1,${u},${e-o},${t-l}A${i},${i},0,1,${u},${this._x1=c},${this._y1=A}`:f>vp&&this._append`A${i},${i},0,${+(f>=GB)},${u},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+n}h${-i}Z`}toString(){return this._}}function WB(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(null==t)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return r},()=>new yb(e)}function oT(r){return r[0]}function lT(r){return r[1]}function cT(r,e){var t=Sr(!0),i=null,n=sT,s=null,a=WB(o);function o(l){var c,u,d,A=(l=rh(l)).length,f=!1;for(null==i&&(s=n(d=a())),c=0;c<=A;++c)!(c<A&&t(u=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+r(u,c,l),+e(u,c,l));if(d)return s=null,d+""||null}return r="function"==typeof r?r:void 0===r?oT:Sr(r),e="function"==typeof e?e:void 0===e?lT:Sr(e),o.x=function(l){return arguments.length?(r="function"==typeof l?l:Sr(+l),o):r},o.y=function(l){return arguments.length?(e="function"==typeof l?l:Sr(+l),o):e},o.defined=function(l){return arguments.length?(t="function"==typeof l?l:Sr(!!l),o):t},o.curve=function(l){return arguments.length?(n=l,null!=i&&(s=n(i)),o):n},o.context=function(l){return arguments.length?(null==l?i=s=null:s=n(i=l),o):i},o}function NP(r,e,t){var i=null,n=Sr(!0),s=null,a=sT,o=null,l=WB(c);function c(u){var f,d,_,g,C,p=(u=rh(u)).length,m=!1,B=new Array(p),S=new Array(p);for(null==s&&(o=a(C=l())),f=0;f<=p;++f){if(!(f<p&&n(g=u[f],f,u))===m)if(m=!m)d=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),_=f-1;_>=d;--_)o.point(B[_],S[_]);o.lineEnd(),o.areaEnd()}m&&(B[f]=+r(g,f,u),S[f]=+e(g,f,u),o.point(i?+i(g,f,u):B[f],t?+t(g,f,u):S[f]))}if(C)return o=null,C+""||null}function A(){return cT().defined(n).curve(a).context(s)}return r="function"==typeof r?r:void 0===r?oT:Sr(+r),e="function"==typeof e?e:Sr(void 0===e?0:+e),t="function"==typeof t?t:void 0===t?lT:Sr(+t),c.x=function(u){return arguments.length?(r="function"==typeof u?u:Sr(+u),i=null,c):r},c.x0=function(u){return arguments.length?(r="function"==typeof u?u:Sr(+u),c):r},c.x1=function(u){return arguments.length?(i=null==u?null:"function"==typeof u?u:Sr(+u),c):i},c.y=function(u){return arguments.length?(e="function"==typeof u?u:Sr(+u),t=null,c):e},c.y0=function(u){return arguments.length?(e="function"==typeof u?u:Sr(+u),c):e},c.y1=function(u){return arguments.length?(t=null==u?null:"function"==typeof u?u:Sr(+u),c):t},c.lineX0=c.lineY0=function(){return A().x(r).y(e)},c.lineY1=function(){return A().x(r).y(t)},c.lineX1=function(){return A().x(i).y(e)},c.defined=function(u){return arguments.length?(n="function"==typeof u?u:Sr(!!u),c):n},c.curve=function(u){return arguments.length?(a=u,null!=s&&(o=a(s)),c):a},c.context=function(u){return arguments.length?(null==u?s=o=null:o=a(s=u),c):s},c}class wp extends jo{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:cT()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:NP()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>lr._new(this._root,{themeTags:Sn(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template]))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>lr._new(this._root,{themeTags:Sn(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template]))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(e){return e[3]}),this._fillGenerator.x0(function(e){return e[2]}),this._fillGenerator.y1(function(e){return e[1]}),this._fillGenerator.x1(function(e){return e[0]}),super._afterNew()}makeStroke(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}makeFill(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),t=this.get("yAxis");if(this.isDirty("stroke")){const i=this.get("stroke");this.strokes.template.set("stroke",i);const n=this._legendStroke;n&&n.states.lookup("default").set("stroke",i)}if(this.isDirty("fill")){const i=this.get("fill");this.fills.template.set("fill",i);const n=this._legendFill;n&&n.states.lookup("default").set("fill",i)}if(this.isDirty("curveFactory")){const i=this.get("curveFactory");i&&(this._strokeGenerator.curve(i),this._fillGenerator.curve(i))}if(e.inited&&t.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(A=>{A.setPrivate("visible",!1)}),this.strokes.each(A=>{A.setPrivate("visible",!1)}),this.axisRanges.each(A=>{let u=A.fills;u&&u.each(d=>{d.setPrivate("visible",!1)});let f=A.strokes;f&&f.each(d=>{d.setPrivate("visible",!1)})});let i=this.startIndex(),n=this.strokes.template.get("templateField"),s=this.fills.template.get("templateField"),a=!0,o=!0;n&&(a=!1),s&&(o=!1);for(let A=i-1;A>=0;A--){let u=this.dataItems[A],f=!0,d=u.dataContext;if(n&&d[n]&&(a=!0),s&&d[s]&&(o=!0),Xe(this._valueFields,_=>{at(u.get(_))||(f=!1)}),f&&a&&o){i=A;break}}let l=this.dataItems.length,c=this.endIndex();if(c<l){c++;for(let A=c;A<l;A++){let u=this.dataItems[A],f=!0;if(Xe(this._valueFields,d=>{at(u.get(d))||(f=!1)}),f){c=A+1;break}}}if(i>0&&i--,this._endIndex=c,this._clearGraphics(),this._sindex=0,this._dindex=i,1==this.dataItems.length)this._startSegment(0);else for(;this._dindex<c-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear()}_startSegment(e){let t=this._endIndex,i=t;const n=this.get("autoGapCount"),s=this.get("connect"),a=this.makeFill(this.fills),o=this._fillTemplate;o&&o!=this.fills.template&&(a.template=o),a.setPrivate("visible",!0);const c=this.makeStroke(this.strokes),A=this._strokeTemplate;A&&A!=this.strokes.template&&(c.template=A),c.setPrivate("visible",!0);let u=this.get("xAxis"),f=this.get("yAxis"),d=this.get("baseAxis"),_=this.get("vcx",1),p=this.get("vcy",1),g=this._xField,m=this._yField,C=this._xOpenField,B=this._yOpenField;const S=this.get("openValueXField"),U=this.get("openValueYField");S||(C=this._xField),U||(B=this._yField);const H=this.get("stacked"),N=u.basePosition(),P=f.basePosition();let z;z=d===f?this._yField:this._xField;const W=[];let Y=[];W.push(Y);const K=this.strokes.template.get("templateField"),q=this.fills.template.get("templateField");let Q=this.get("locationX",.5),ie=this.get("locationY",.5),ee=this.get("openLocationX",Q),he=this.get("openLocationY",ie);const pe=this.get("minDistance",0);let ue,Be=this.fills.template.get("visible");this.axisRanges.length>0&&(Be=!0);let Le=!1;(H||S||U)&&(Le=!0);const J={points:Y,segments:W,stacked:H,getOpen:Le,basePosX:N,basePosY:P,fillVisible:Be,xField:g,yField:m,xOpenField:C,yOpenField:B,vcx:_,vcy:p,baseAxis:d,xAxis:u,yAxis:f,locationX:Q,locationY:ie,openLocationX:ee,openLocationY:he,minDistance:pe};for(ue=e;ue<i;ue++){this._dindex=ue;const te=this._dataItems[ue];let le=te.get(g),be=te.get(m);if(null==le||null==be?s||(Y=[],W.push(Y),J.points=Y):this._getPoints(te,J),K){let De=te.dataContext[K];if(De){if(De instanceof Pr||(De=Pr.new(De)),this._strokeTemplate=De,ue>e){i=ue;break}c.template=De}}if(q){let De=te.dataContext[q];if(De){if(De instanceof Pr||(De=Pr.new(De)),this._fillTemplate=De,ue>e){i=ue;break}a.template=De}}if(!s){let De=this.dataItems[ue+1];De&&d.shouldGap(te,De,n,z)&&(Y=[],W.push(Y),J.points=Y)}}a.setRaw("userData",[e,ue]),c.setRaw("userData",[e,ue]),ue===t&&this._endLine(Y,W[0][0]),c&&this._drawStroke(c,W),a&&this._drawFill(a,W),this.axisRanges.each(te=>{const le=te.container,De=this.makeFill(te.fills);le&&le.children.push(De),De.setPrivate("visible",!0),this._drawFill(De,W);const He=this.makeStroke(te.strokes);le&&le.children.push(He),He.setPrivate("visible",!0),this._drawStroke(He,W),De.setRaw("userData",[e,ue]),He.setRaw("userData",[e,ue])})}_getPoints(e,t){let i=t.points,n=e.get("locationX",t.locationX),s=e.get("locationY",t.locationY),a=t.xAxis.getDataItemPositionX(e,t.xField,n,t.vcx),o=t.yAxis.getDataItemPositionY(e,t.yField,s,t.vcy);if(this._shouldInclude(a)){const l=this.getPoint(a,o),c=[l.x,l.y];if(l.x+=this._x,l.y+=this._y,e.set("point",l),t.fillVisible){let A=a,u=o;if(t.baseAxis===t.xAxis?u=t.basePosY:t.baseAxis===t.yAxis&&(A=t.basePosX),t.getOpen){let d=e.get(t.xOpenField),_=e.get(t.yOpenField);if(null!=d&&null!=_){let p=e.get("openLocationX",t.openLocationX),g=e.get("openLocationY",t.openLocationY);if(t.stacked){let m=e.get("stackToItemX"),C=e.get("stackToItemY");m?(A=t.xAxis.getDataItemPositionX(m,t.xField,p,m.component.get("vcx")),ia(A)&&(A=t.basePosX)):A=t.yAxis===t.baseAxis?t.basePosX:t.xAxis.getDataItemPositionX(e,t.xOpenField,p,t.vcx),C?(u=t.yAxis.getDataItemPositionY(C,t.yField,g,C.component.get("vcy")),ia(u)&&(u=t.basePosY)):u=t.xAxis===t.baseAxis?t.basePosY:t.yAxis.getDataItemPositionY(e,t.yOpenField,g,t.vcy)}else A=t.xAxis.getDataItemPositionX(e,t.xOpenField,p,t.vcx),u=t.yAxis.getDataItemPositionY(e,t.yOpenField,g,t.vcy)}}let f=this.getPoint(A,u);c[2]=f.x,c[3]=f.y}if(t.minDistance>0){const f=c[2],d=c[3],_=this._previousPoint,m=_[2],C=_[3];(Math.hypot(c[0]-_[0],c[1]-_[1])>t.minDistance||f&&d&&Math.hypot(f-m,d-C)>t.minDistance)&&(i.push(c),this._previousPoint=c)}else i.push(c)}}_endLine(e,t){}_drawStroke(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{Xe(t,n=>{this._strokeGenerator.context(i),this._strokeGenerator(n)})})}_drawFill(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{Xe(t,n=>{this._fillGenerator.context(i),this._fillGenerator(n)})})}_processAxisRange(e){super._processAxisRange(e),e.fills=new Kr(Pr.new({}),()=>lr._new(this._root,{themeTags:Sn(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template])),e.strokes=new Kr(Pr.new({}),()=>lr._new(this._root,{themeTags:Sn(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template]))}createLegendMarker(e){const t=this.get("legendDataItem");if(t){const i=t.get("marker"),n=t.get("markerRectangle");n&&n.setPrivate("visible",!1),i.set("background",Ha.new(i._root,{fillOpacity:0,fill:Qr(0)}));const s=i.children.push(lr._new(i._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=s;const a=i.children.push(lr._new(i._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=a;const o=this._root.interfaceColors.get("disabled");if(s.states.create("disabled",{fill:o,stroke:o}),a.states.create("disabled",{fill:o,stroke:o}),this.bullets.length>0){const l=this.bullets.getIndex(0);if(l){const c=l(i._root,this,new un(this,{legend:!0},{}));if(c){const A=c.get("sprite");A instanceof lr&&A.states.create("disabled",{fill:o,stroke:o}),A&&(A.set("tooltipText",void 0),A.set("tooltipHTML",void 0),i.children.push(A),A.setAll({x:i.width()/2,y:i.height()/2}),i.events.on("boundschanged",()=>{A.setAll({x:i.width()/2,y:i.height()/2})}))}}}}}}Object.defineProperty(wp,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"}),Object.defineProperty(wp,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:jo.classNames.concat([wp.className])});const bp=class HP extends Cd{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}};var VB=ge(9880),cg=ge(754);const MA=Object.create(null);MA.open="0",MA.close="1",MA.ping="2",MA.pong="3",MA.message="4",MA.upgrade="5",MA.noop="6";const xb=Object.create(null);Object.keys(MA).forEach(r=>{xb[MA[r]]=r});const jB={type:"error",data:"parser error"},hT="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),AT="function"==typeof ArrayBuffer,uT=r=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,JB=({type:r,data:e},t,i)=>hT&&e instanceof Blob?t?i(e):dT(e,i):AT&&(e instanceof ArrayBuffer||uT(e))?t?i(e):dT(new Blob([e]),i):i(MA[r]+(e||"")),dT=(r,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(r)};function fT(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let KB;const hv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<64;r++)hv["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(r)]=r;const YP="function"==typeof ArrayBuffer,ZB=(r,e)=>{if("string"!=typeof r)return{type:"message",data:pT(r,e)};const t=r.charAt(0);return"b"===t?{type:"message",data:WP(r.substring(1),e)}:xb[t]?r.length>1?{type:xb[t],data:r.substring(1)}:{type:xb[t]}:jB},WP=(r,e)=>{if(YP){const t=(r=>{let i,s,a,o,l,e=.75*r.length,t=r.length,n=0;"="===r[r.length-1]&&(e--,"="===r[r.length-2]&&e--);const c=new ArrayBuffer(e),A=new Uint8Array(c);for(i=0;i<t;i+=4)s=hv[r.charCodeAt(i)],a=hv[r.charCodeAt(i+1)],o=hv[r.charCodeAt(i+2)],l=hv[r.charCodeAt(i+3)],A[n++]=s<<2|a>>4,A[n++]=(15&a)<<4|o>>2,A[n++]=(3&o)<<6|63&l;return c})(r);return pT(t,e)}return{base64:!0,data:r}},pT=(r,e)=>"blob"===e?r instanceof Blob?r:new Blob([r]):r instanceof ArrayBuffer?r:r.buffer,mT=String.fromCharCode(30);let XB;function Bb(r){return r.reduce((e,t)=>e+t.length,0)}function Cb(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let i=0;for(let n=0;n<e;n++)t[n]=r[0][i++],i===r[0].length&&(r.shift(),i=0);return r.length&&i<r[0].length&&(r[0]=r[0].slice(i)),t}function Va(r){if(r)return function ZP(r){for(var e in Va.prototype)r[e]=Va.prototype[e];return r}(r)}Va.prototype.on=Va.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this},Va.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this},Va.prototype.off=Va.prototype.removeListener=Va.prototype.removeAllListeners=Va.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+r],this;for(var i,n=0;n<t.length;n++)if((i=t[n])===e||i.fn===e){t.splice(n,1);break}return 0===t.length&&delete this._callbacks["$"+r],this},Va.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){i=0;for(var n=(t=t.slice(0)).length;i<n;++i)t[i].apply(this,e)}return this},Va.prototype.emitReserved=Va.prototype.emit,Va.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},Va.prototype.hasListeners=function(r){return!!this.listeners(r).length};const sh=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function _T(r,...e){return e.reduce((t,i)=>(r.hasOwnProperty(i)&&(t[i]=r[i]),t),{})}const XP=sh.setTimeout,qP=sh.clearTimeout;function Eb(r,e){e.useNativeTimers?(r.setTimeoutFn=XP.bind(sh),r.clearTimeoutFn=qP.bind(sh)):(r.setTimeoutFn=sh.setTimeout.bind(sh),r.clearTimeoutFn=sh.clearTimeout.bind(sh))}function eR(r){return"string"==typeof r?function tR(r){let e=0,t=0;for(let i=0,n=r.length;i<n;i++)e=r.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}(r):Math.ceil(1.33*(r.byteLength||r.size))}class rR extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class qB extends Va{constructor(e){super(),this.writable=!1,Eb(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,i){return super.emitReserved("error",new rR(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=ZB(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function iR(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}(e);return t.length?"?"+t:""}}const vT="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Mb=64,wT={};let yT,bT=0,Fd=0;function xT(r){let e="";do{e=vT[r%Mb]+e,r=Math.floor(r/Mb)}while(r>0);return e}function BT(){const r=xT(+new Date);return r!==yT?(bT=0,yT=r):r+"."+xT(bT++)}for(;Fd<Mb;Fd++)wT[vT[Fd]]=Fd;let CT=!1;try{CT=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const sR=CT;function ET(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||sR))return new XMLHttpRequest}catch{}if(!e)try{return new(sh[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function aR(){}const oR=null!=new ET({xdomain:!1}).responseType;let Tb=(()=>{class r extends Va{constructor(t,i){super(),Eb(this,i),this.opts=i,this.method=i.method||"GET",this.uri=t,this.data=void 0!==i.data?i.data:null,this.create()}create(){var t;const i=_T(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this.opts.xd;const n=this.xhr=new ET(i);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var s;3===n.readyState&&(null===(s=this.opts.cookieJar)||void 0===s||s.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof n.status?n.status:0)},0))},n.send(this.data)}catch(s){return void this.setTimeoutFn(()=>{this.onError(s)},0)}typeof document<"u"&&(this.index=r.requestsCount++,r.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=aR,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete r.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return r.requestsCount=0,r.requests={},r})();function MT(){for(let r in Tb.requests)Tb.requests.hasOwnProperty(r)&&Tb.requests[r].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",MT):"function"==typeof addEventListener&&addEventListener("onpagehide"in sh?"pagehide":"unload",MT,!1));const $B="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Db=sh.WebSocket||sh.MozWebSocket,TT=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),uR={websocket:class hR extends qB{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,i=TT?{}:_T(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=TT?new Db(e,t,i):t?new Db(e,t):new Db(e)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=t===e.length-1;JB(e[t],this.supportsBinary,s=>{try{this.ws.send(s)}catch{}n&&$B(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=BT()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Db}},webtransport:class AR extends qB{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=function KP(r,e){XB||(XB=new TextDecoder);const t=[];let i=0,n=-1,s=!1;return new TransformStream({transform(a,o){for(t.push(a);;){if(0===i){if(Bb(t)<1)break;const l=Cb(t,1);s=128==(128&l[0]),n=127&l[0],i=n<126?3:126===n?1:2}else if(1===i){if(Bb(t)<2)break;const l=Cb(t,2);n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(2===i){if(Bb(t)<8)break;const l=Cb(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),A=c.getUint32(0);if(A>Math.pow(2,21)-1){o.enqueue(jB);break}n=A*Math.pow(2,32)+c.getUint32(4),i=3}else{if(Bb(t)<n)break;const l=Cb(t,n);o.enqueue(ZB(s?l:XB.decode(l),e)),i=0}if(0===n||n>r){o.enqueue(jB);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),n=function JP(){return new TransformStream({transform(r,e){!function zP(r,e){hT&&r.data instanceof Blob?r.data.arrayBuffer().then(fT).then(e):AT&&(r.data instanceof ArrayBuffer||uT(r.data))?e(fT(r.data)):JB(r,!1,t=>{KB||(KB=new TextEncoder),e(KB.encode(t))})}(r,t=>{const i=t.length;let n;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);const s=new DataView(n.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{n=new Uint8Array(9);const s=new DataView(n.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}r.data&&"string"!=typeof r.data&&(n[0]|=128),e.enqueue(n),e.enqueue(t)})}})}();n.readable.pipeTo(e.writable),this.writer=n.writable.getWriter();const s=()=>{i.read().then(({done:o,value:l})=>{o||(this.onPacket(l),s())}).catch(o=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=t===e.length-1;this.writer.write(e[t]).then(()=>{n&&$B(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class lR extends qB{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i="https:"===location.protocol;let n=location.port;n||(n=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}this.supportsBinary=oR&&!(e&&e.forceBase64),this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((r,e)=>{const t=r.split(mT),i=[];for(let n=0;n<t.length;n++){const s=ZB(t[n],e);if(i.push(s),"error"===s.type)break}return i})(e,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((r,e)=>{const t=r.length,i=new Array(t);let n=0;r.forEach((s,a)=>{JB(s,!1,o=>{i[a]=o,++n===t&&e(i.join(mT))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=BT()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Tb(this.uri(),e)}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(n,s)=>{this.onError("xhr post error",n,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}},dR=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,fR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function tC(r){if(r.length>2e3)throw"URI too long";const e=r,t=r.indexOf("["),i=r.indexOf("]");-1!=t&&-1!=i&&(r=r.substring(0,t)+r.substring(t,i).replace(/:/g,";")+r.substring(i,r.length));let n=dR.exec(r||""),s={},a=14;for(;a--;)s[fR[a]]=n[a]||"";return-1!=t&&-1!=i&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function pR(r,e){const i=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&i.splice(0,1),"/"==e.slice(-1)&&i.splice(i.length-1,1),i}(0,s.path),s.queryKey=function mR(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,s){n&&(t[n]=s)}),t}(0,s.query),s}let DT=(()=>{class r extends Va{constructor(t,i={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],t&&"object"==typeof t&&(i=t,t=null),t?(t=tC(t),i.hostname=t.host,i.secure="https"===t.protocol||"wss"===t.protocol,i.port=t.port,t.query&&(i.query=t.query)):i.host&&(i.hostname=tC(i.host).host),Eb(this,i),this.secure=null!=i.secure?i.secure:typeof location<"u"&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function nR(r){let e={},t=r.split("&");for(let i=0,n=t.length;i<n;i++){let s=t[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=t,this.id&&(i.sid=this.id);const n=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new uR[t](n)}open(){let t;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch{return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",i=>this.onClose("transport close",i))}probe(t){let i=this.createTransport(t),n=!1;r.priorWebsocketSuccess=!1;const s=()=>{n||(i.send([{type:"ping",data:"probe"}]),i.once("packet",f=>{if(!n)if("pong"===f.type&&"probe"===f.data){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;r.priorWebsocketSuccess="websocket"===i.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=i.name,this.emitReserved("upgradeError",d)}}))};function a(){n||(n=!0,u(),i.close(),i=null)}const o=f=>{const d=new Error("probe error: "+f);d.transport=i.name,a(),this.emitReserved("upgradeError",d)};function l(){o("transport closed")}function c(){o("socket closed")}function A(f){i&&f.name!==i.name&&a()}const u=()=>{i.removeListener("open",s),i.removeListener("error",o),i.removeListener("close",l),this.off("close",c),this.off("upgrading",A)};i.once("open",s),i.once("error",o),i.once("close",l),this.once("close",c),this.once("upgrading",A),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn(()=>{n||i.open()},200):i.open()}onOpen(){if(this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const i=this.upgrades.length;for(;t<i;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const i=new Error("server error");i.code=t.data,this.onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(i+=eR(s)),n>0&&i>this.maxPayload)return this.writeBuffer.slice(0,n);i+=2}return this.writeBuffer}write(t,i,n){return this.sendPacket("message",t,i,n),this}send(t,i,n){return this.sendPacket("message",t,i,n),this}sendPacket(t,i,n,s){if("function"==typeof i&&(s=i,i=void 0),"function"==typeof n&&(s=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:t,data:i,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},n=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){r.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,i){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const i=[];let n=0;const s=t.length;for(;n<s;n++)~this.transports.indexOf(t[n])&&i.push(t[n]);return i}}return r.protocol=4,r})();const _R="function"==typeof ArrayBuffer,vR=r=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,ST=Object.prototype.toString,wR="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===ST.call(Blob),bR="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===ST.call(File);function iC(r){return _R&&(r instanceof ArrayBuffer||vR(r))||wR&&r instanceof Blob||bR&&r instanceof File}function Sb(r,e){if(!r||"object"!=typeof r)return!1;if(Array.isArray(r)){for(let t=0,i=r.length;t<i;t++)if(Sb(r[t]))return!0;return!1}if(iC(r))return!0;if(r.toJSON&&"function"==typeof r.toJSON&&1===arguments.length)return Sb(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&Sb(r[t]))return!0;return!1}function yR(r){const e=[],i=r;return i.data=nC(r.data,e),i.attachments=e.length,{packet:i,buffers:e}}function nC(r,e){if(!r)return r;if(iC(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}if(Array.isArray(r)){const t=new Array(r.length);for(let i=0;i<r.length;i++)t[i]=nC(r[i],e);return t}if("object"==typeof r&&!(r instanceof Date)){const t={};for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=nC(r[i],e));return t}return r}function xR(r,e){return r.data=rC(r.data,e),delete r.attachments,r}function rC(r,e){if(!r)return r;if(r&&!0===r._placeholder){if("number"==typeof r.num&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=rC(r[t],e);else if("object"==typeof r)for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=rC(r[t],e));return r}const BR=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],CR=5;var Br=function(r){return r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK",r}(Br||{});class ER{constructor(e){this.replacer=e}encode(e){return e.type!==Br.EVENT&&e.type!==Br.ACK||!Sb(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Br.EVENT?Br.BINARY_EVENT:Br.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return(e.type===Br.BINARY_EVENT||e.type===Br.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=yR(e),i=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(i),n}}function IT(r){return"[object Object]"===Object.prototype.toString.call(r)}class sC extends Va{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===Br.BINARY_EVENT;i||t.type===Br.BINARY_ACK?(t.type=i?Br.EVENT:Br.ACK,this.reconstructor=new MR(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!iC(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(void 0===Br[i.type])throw new Error("unknown packet type "+i.type);if(i.type===Br.BINARY_EVENT||i.type===Br.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(s,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(a)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);i.nsp=e.substring(s,t)}else i.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const s=t+1;for(;++t;){const a=e.charAt(t);if(null==a||Number(a)!=a){--t;break}if(t===e.length)break}i.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!sC.isPayloadValid(i.type,s))throw new Error("invalid payload");i.data=s}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Br.CONNECT:return IT(t);case Br.DISCONNECT:return void 0===t;case Br.CONNECT_ERROR:return"string"==typeof t||IT(t);case Br.EVENT:case Br.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===BR.indexOf(t[0]));case Br.ACK:case Br.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class MR{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=xR(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Ph(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const TR=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class FT extends Va{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ph(e,"open",this.onopen.bind(this)),Ph(e,"packet",this.onpacket.bind(this)),Ph(e,"error",this.onerror.bind(this)),Ph(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(TR.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const i={type:Br.EVENT,data:t,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const a=this.ids++,o=t.pop();this._registerAckCallback(a,o),i.id=a}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var i;const n=null!==(i=this.flags.timeout)&&void 0!==i?i:this._opts.ackTimeout;if(void 0===n)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},n);this.acks[e]=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,[null,...a])}}emitWithAck(e,...t){const i=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((n,s)=>{t.push((a,o)=>i?a?s(a):n(o):n(a)),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((n,...s)=>i!==this._queue[0]?void 0:(null!==n?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(n)):(this._queue.shift(),t&&t(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Br.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Br.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Br.EVENT:case Br.BINARY_EVENT:this.onevent(e);break;case Br.ACK:case Br.BINARY_ACK:this.onack(e);break;case Br.DISCONNECT:this.ondisconnect();break;case Br.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...n){i||(i=!0,t.packet({type:Br.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Br.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function Ag(r){this.ms=(r=r||{}).min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}Ag.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=1&Math.floor(10*e)?r+t:r-t}return 0|Math.min(r,this.max)},Ag.prototype.reset=function(){this.attempts=0},Ag.prototype.setMin=function(r){this.ms=r},Ag.prototype.setMax=function(r){this.max=r},Ag.prototype.setJitter=function(r){this.jitter=r};class aC extends Va{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Eb(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=t.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new Ag({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||R;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new DT(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=Ph(t,"open",function(){i.onopen(),e&&e()}),s=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=Ph(t,"error",s);if(!1!==this._timeout){const l=this.setTimeoutFn(()=>{n(),s(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(n),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ph(e,"ping",this.onping.bind(this)),Ph(e,"data",this.ondata.bind(this)),Ph(e,"error",this.onerror.bind(this)),Ph(e,"close",this.onclose.bind(this)),Ph(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){$B(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new FT(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(n=>{n?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",n)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Av={};function Ib(r,e){"object"==typeof r&&(e=r,r=void 0);const t=function gR(r,e="",t){let i=r;t=t||typeof location<"u"&&location,null==r&&(r=t.protocol+"//"+t.host),"string"==typeof r&&("/"===r.charAt(0)&&(r="/"===r.charAt(1)?t.protocol+r:t.host+r),/^(https?|wss?):\/\//.test(r)||(r=typeof t<"u"?t.protocol+"//"+r:"https://"+r),i=tC(r)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(t&&t.port===i.port?"":":"+i.port),i}(r,(e=e||{}).path||"/socket.io"),i=t.source,n=t.id;let l;return e.forceNew||e["force new connection"]||!1===e.multiplex||Av[n]&&t.path in Av[n].nsps?l=new aC(i,e):(Av[n]||(Av[n]=new aC(i,e)),l=Av[n]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(Ib,{Manager:aC,Socket:FT,io:Ib,connect:Ib});var kT=ge(8132),oC=ge(4852),lC=ge(3561);let ql=(()=>{class r{get socket(){return this._socket||(this._socket=Ib("https://stageapi.i4twins.com",{path:"/stagesocket/socket.io",transports:["websocket"]})),this._socket}constructor(t,i,n){this.dashboardService=t,this.store=i,this.notify=n,this.baseUrl=oo.N.webSocket,this._remoteStatus=!1}connect(){this.socket.connected||(console.log("Socket is not connected",(new Date).toLocaleString("fa-IR-u-nu-latn")),this.socket.connect(),console.log("Socket connected",(new Date).toLocaleString("fa-IR-u-nu-latn")),this.socket.on("disconnect",()=>{console.log("Socket disconnected",(new Date).toLocaleString("fa-IR-u-nu-latn")),this.notify.errorSnack("Socket Disconnected"),this.socket.connect(),oo.N.LOGGER&&console.log("Socket try to connect",(new Date).toLocaleString("fa-IR-u-nu-latn"))}))}reconnect(){this.socket.connected?oo.N.LOGGER&&console.log("socket is connected",(new Date).toLocaleString("fa-IR-u-nu-latn")):(oo.N.LOGGER&&console.log("Socket try to connect",(new Date).toLocaleString("fa-IR-u-nu-latn")),this.socket.connect())}disconnect(){oo.N.LOGGER&&console.log("Socket try to disconnect",(new Date).toLocaleString("fa-IR-u-nu-latn")),this.socket.connected&&this.socket.disconnect()}fetchDeviceData(t,i,n=!0,s=!1){return oo.N.LOGGER&&console.log(`get ${i} on socket`,(new Date).toLocaleString("fa-IR-u-nu-latn")),new kT.y(a=>(this.socket.on(t,o=>{let l=o;"string"==typeof o&&(l=JSON.parse(o));let c=l.content;if("string"==typeof l.content&&(c=JSON.parse(l.content)),!c)return;const A=c.deviceTwinDocument.attributes.reported,u=JSON.parse(A.Remote_Status||A.Local_Remote||"false");this._remoteStatus!==u&&(this._remoteStatus=u,this.store.dispatch((0,k.S_)({status:u})));const f=this.dashboardService.getEquivalent(i,n,s,u);a.next(f?A[f]:A[i])}),()=>{this.socket.off(t)}))}fetchDeviceAllData(t){return new kT.y(i=>(this.socket.on(t,n=>{let s=n;"string"==typeof n&&(s=JSON.parse(n));let a=s.content;"string"==typeof s.content&&(a=JSON.parse(s.content)),i.next(a.deviceTwinDocument.attributes.reported)}),()=>{this.socket.off(t)}))}fetchData(t,i){this.socket.emit(i,t)}static#e=this.\u0275fac=function(i){return new(i||r)(h.LFG(oC.s),h.LFG(er.yh),h.LFG(lC.d))};static#t=this.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),DR=(()=>{class r{constructor(t,i){this.historicalService=t,this.socketService=i,this.unsubscribe$=new Yn.x,this.backgroundColor="transparent"}ngAfterViewInit(){const t=this.config;new Date((new Date).getTime()-1e4),this._root&&this._root.dispose(),this._root=Lh.new("dynamic_chart_"+this.id),this._root.setThemes([bp.new(this._root)]),t.view.chart.BackgroundColor&&(this.backgroundColor=t.view.chart.BackgroundColor);let s=this._root.container.children.push(rt.new(this._root,{focusable:!0,panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0}));const a=s.set("cursor",Di.new(this._root,{}));a.lineX.set("visible",!1),a.lineY.set("visible",!1);let o=s.xAxes.push(Tn.new(this._root,{baseInterval:{timeUnit:"second",count:1},renderer:Ms.new(this._root,{}),tooltip:hl.new(this._root,{})}));o.set("tooltipDateFormat","yyyy/MM/dd HH:mm:ss");let l=s.yAxes.push(Pn.new(this._root,{maxDeviation:.3,renderer:Ts.new(this._root,{minGridDistance:20,strokeOpacity:.1})}));s.appear(1e3,100),o.set("dateFormats",{second:"HH:mm:ss",minute:"HH:mm:ss",hour:"HH:mm:ss",day:"HH:mm:ss",week:"HH:mm:ss",month:"HH:mm:ss",year:"HH:mm:ss"});let c=[];const A=this;let u,f,d;s.plotContainer.children.push(ho.new(this._root,{x:10,y:10,text:t.view.label?.title,fill:Qr(16777215)})),t.view.scrollbarY.enable&&s.set("scrollbarY",Vo.new(this._root,{orientation:"vertical",width:t.view.scrollbarY.width||20})),t.view.scrollbarX.enable&&(u=s.set("scrollbarX",Vo.new(this._root,{orientation:"horizontal",height:t.view.scrollbarX.height||40})),"bottom"===t.view.scrollbarX.position?s.bottomAxesContainer.children.push(u):s.topAxesContainer.children.push(u),f=u.chart.xAxes.push(Tn.new(this._root,{baseInterval:{timeUnit:"second",count:1},markUnitChange:!1,renderer:Ms.new(this._root,{})})),d=u.chart.yAxes.push(Pn.new(this._root,{renderer:Ts.new(this._root,{})})));const _=new Date((new Date).toLocaleString("fa-IR-u-nu-latn")).getTime();t.content.forEach(p=>{this.generateData(_).pipe((0,Dn.U)(g=>{console.log("history",g),g.map(C=>{c.push({date:C.date,[p.outputs.read.name]:C.value})});const m=s.series.push(wp.new(this._root,{name:p.outputs.read.name,xAxis:o,yAxis:l,fill:Qr(p.color||7649791),stroke:Qr(p.color||7649791),valueYField:p.outputs.read.name,valueXField:"date",tooltip:hl.new(this._root,{labelText:`${p.outputs.read.name}:{valueY}`})}));if(m.bullets.push(()=>yu.new(A._root,{locationY:0,sprite:Td.new(A._root,{radius:t.view.bullet.size||2,fill:m.get("fill")})})),m.data.setAll(c),u&&f&&d&&"data"===t.view.scrollbarX.type&&u.chart.series.push(wp.new(this._root,{valueYField:"value",valueXField:"date",xAxis:f,yAxis:d})).data.setAll(g),t.view.target.enabled){const C=l.makeDataItem({value:t.view.target.value||20,endValue:0});m.createAxisRange(C),C.get("grid").setAll({strokeOpacity:1,visible:!0,stroke:Qr(0),strokeDasharray:[2,2]}),C.get("label").setAll({location:0,visible:!0,text:t.view.target.title,inside:!0,centerX:0,centerY:hi,fontWeight:"bold"})}return m.appear(1e3),this._root?.resize(),m}),(0,Oe.q)(1),(0,VB.z)(g=>this.socketService.fetchDeviceData(p.topic.id,p.outputs.read.name).pipe((0,Dn.U)(m=>{console.log(m),this._root?.resize(),this.addData(g,+m,o,p.outputs.read.name)})))).subscribe()}),s.appear(1e3,100)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}generateData(t){const i=[];for(let n=10;n>0;n--)i.push({date:t-1e3*n,value:0});return(0,xe.of)(i)}addData(t,i,n,s){const a=b;let o=new Date((new Date).toLocaleString("fa-IR-u-nu-latn")).getTime();t.data.push({date:o,[s]:i});let c=t.dataItems[t.dataItems.length-1].get("valueY");t.dataItems[t.dataItems.length-1].animate({key:"valueYWorking",to:i,from:c,duration:600,easing:a}),t.data.length>9&&t.data.removeIndex(0)}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(cg.O),h.Y36(ql))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-dynamic-chart"]],inputs:{id:"id",config:"config"},decls:2,vars:3,consts:[[1,"container"],[1,"chat-container",3,"id"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.qZA()),2&i&&(h.Udp("background-color",n.backgroundColor),h.xp6(1),h.Q6J("id","dynamic_chart_"+n.id))},styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;display:flex;flex-direction:column}.chat-container[_ngcontent-%COMP%]{padding:0;width:100%;height:100%}h6[_ngcontent-%COMP%]{text-align:center;color:#fff}"]})}return r})();class SR extends Cd{setupDefaultRules(){super.setupDefaultRules();const e=this.rule.bind(this),t=this._root.interfaceColors;e("RadarChart").setAll({radius:Tr(80),innerRadius:0,startAngle:-90,endAngle:270}),e("RadarColumnSeries").setAll({clustered:!0}),e("Slice",["radar","column","series"]).setAll({width:Tr(80),height:Tr(80)}),e("RadarLineSeries").setAll({connectEnds:!0}),e("SmoothedRadarLineSeries").setAll({tension:.5}),e("AxisRendererRadial").setAll({minGridDistance:40,axisAngle:-90,inversed:!1,cellStartLocation:0,cellEndLocation:1}),e("AxisRendererCircular").setAll({minGridDistance:100,inversed:!1,cellStartLocation:0,cellEndLocation:1}),e("RadialLabel",["circular"]).setAll({textType:"circular",paddingTop:1,paddingRight:0,paddingBottom:1,paddingLeft:0,centerX:0,centerY:0,radius:8}),e("AxisLabelRadial",["category"]).setAll({text:"{category}",populateText:!0}),e("RadialLabel",["radial"]).setAll({textType:"regular",centerX:0,textAlign:"right"}),e("RadarChart",["gauge"]).setAll({startAngle:180,endAngle:360,innerRadius:Tr(90)}),e("ClockHand").setAll({topWidth:1,bottomWidth:10,radius:Tr(90),pinRadius:10});{const i=e("Graphics",["clock","hand"]);i.setAll({fillOpacity:1}),Xi(i,"fill",t,"alternativeBackground")}{const i=e("Graphics",["clock","pin"]);i.setAll({fillOpacity:1}),Xi(i,"fill",t,"alternativeBackground")}}}const LT=Math.abs,ul=Math.atan2,yp=Math.cos,IR=Math.max,cC=Math.min,TA=Math.sin,ug=Math.sqrt,$l=1e-12,uv=Math.PI,Fb=uv/2,FR=2*uv;function PT(r){return r>=1?Fb:r<=-1?-Fb:Math.asin(r)}function LR(r){return r.innerRadius}function PR(r){return r.outerRadius}function RR(r){return r.startAngle}function UR(r){return r.endAngle}function QR(r){return r&&r.padAngle}function kb(r,e,t,i,n,s,a){var o=r-t,l=e-i,c=(a?s:-s)/ug(o*o+l*l),A=c*l,u=-c*o,f=r+A,d=e+u,_=t+A,p=i+u,g=(f+_)/2,m=(d+p)/2,C=_-f,B=p-d,S=C*C+B*B,U=n-s,H=f*p-_*d,N=(B<0?-1:1)*ug(IR(0,U*U*S-H*H)),P=(H*B-C*N)/S,z=(-H*C-B*N)/S,W=(H*B+C*N)/S,Y=(-H*C+B*N)/S,K=P-g,q=z-m,Q=W-g,ie=Y-m;return K*K+q*q>Q*Q+ie*ie&&(P=W,z=Y),{cx:P,cy:z,x01:-A,y01:-u,x11:P*(n/U-1),y11:z*(n/U-1)}}function hC(){var r=LR,e=PR,t=Sr(0),i=null,n=RR,s=UR,a=QR,o=null,l=WB(c);function c(){var A,u,f=+r.apply(this,arguments),d=+e.apply(this,arguments),_=n.apply(this,arguments)-Fb,p=s.apply(this,arguments)-Fb,g=LT(p-_),m=p>_;if(o||(o=A=l()),d<f&&(u=d,d=f,f=u),d>$l)if(g>FR-$l)o.moveTo(d*yp(_),d*TA(_)),o.arc(0,0,d,_,p,!m),f>$l&&(o.moveTo(f*yp(p),f*TA(p)),o.arc(0,0,f,p,_,m));else{var q,Q,C=_,B=p,S=_,U=p,H=g,N=g,P=a.apply(this,arguments)/2,z=P>$l&&(i?+i.apply(this,arguments):ug(f*f+d*d)),W=cC(LT(d-f)/2,+t.apply(this,arguments)),Y=W,K=W;if(z>$l){var ie=PT(z/f*TA(P)),ee=PT(z/d*TA(P));(H-=2*ie)>$l?(S+=ie*=m?1:-1,U-=ie):(H=0,S=U=(_+p)/2),(N-=2*ee)>$l?(C+=ee*=m?1:-1,B-=ee):(N=0,C=B=(_+p)/2)}var he=d*yp(C),pe=d*TA(C),ue=f*yp(U),Be=f*TA(U);if(W>$l){var be,Le=d*yp(B),J=d*TA(B),te=f*yp(S),le=f*TA(S);if(g<uv)if(be=function OR(r,e,t,i,n,s,a,o){var l=t-r,c=i-e,A=a-n,u=o-s,f=u*l-A*c;if(!(f*f<$l))return[r+(f=(A*(e-s)-u*(r-n))/f)*l,e+f*c]}(he,pe,te,le,Le,J,ue,Be)){var De=he-be[0],Fe=pe-be[1],He=Le-be[0],Je=J-be[1],ut=1/TA(function kR(r){return r>1?0:r<-1?uv:Math.acos(r)}((De*He+Fe*Je)/(ug(De*De+Fe*Fe)*ug(He*He+Je*Je)))/2),bt=ug(be[0]*be[0]+be[1]*be[1]);Y=cC(W,(f-bt)/(ut-1)),K=cC(W,(d-bt)/(ut+1))}else Y=K=0}N>$l?K>$l?(q=kb(te,le,he,pe,d,K,m),Q=kb(Le,J,ue,Be,d,K,m),o.moveTo(q.cx+q.x01,q.cy+q.y01),K<W?o.arc(q.cx,q.cy,K,ul(q.y01,q.x01),ul(Q.y01,Q.x01),!m):(o.arc(q.cx,q.cy,K,ul(q.y01,q.x01),ul(q.y11,q.x11),!m),o.arc(0,0,d,ul(q.cy+q.y11,q.cx+q.x11),ul(Q.cy+Q.y11,Q.cx+Q.x11),!m),o.arc(Q.cx,Q.cy,K,ul(Q.y11,Q.x11),ul(Q.y01,Q.x01),!m))):(o.moveTo(he,pe),o.arc(0,0,d,C,B,!m)):o.moveTo(he,pe),f>$l&&H>$l?Y>$l?(q=kb(ue,Be,Le,J,f,-Y,m),Q=kb(he,pe,te,le,f,-Y,m),o.lineTo(q.cx+q.x01,q.cy+q.y01),Y<W?o.arc(q.cx,q.cy,Y,ul(q.y01,q.x01),ul(Q.y01,Q.x01),!m):(o.arc(q.cx,q.cy,Y,ul(q.y01,q.x01),ul(q.y11,q.x11),!m),o.arc(0,0,f,ul(q.cy+q.y11,q.cx+q.x11),ul(Q.cy+Q.y11,Q.cx+Q.x11),m),o.arc(Q.cx,Q.cy,Y,ul(Q.y11,Q.x11),ul(Q.y01,Q.x01),!m))):o.arc(0,0,f,U,S,m):o.lineTo(ue,Be)}else o.moveTo(0,0);if(o.closePath(),A)return o=null,A+""||null}return c.centroid=function(){var A=(+r.apply(this,arguments)+ +e.apply(this,arguments))/2,u=(+n.apply(this,arguments)+ +s.apply(this,arguments))/2-uv/2;return[yp(u)*A,TA(u)*A]},c.innerRadius=function(A){return arguments.length?(r="function"==typeof A?A:Sr(+A),c):r},c.outerRadius=function(A){return arguments.length?(e="function"==typeof A?A:Sr(+A),c):e},c.cornerRadius=function(A){return arguments.length?(t="function"==typeof A?A:Sr(+A),c):t},c.padRadius=function(A){return arguments.length?(i=null==A?null:"function"==typeof A?A:Sr(+A),c):i},c.startAngle=function(A){return arguments.length?(n="function"==typeof A?A:Sr(+A),c):n},c.endAngle=function(A){return arguments.length?(s="function"==typeof A?A:Sr(+A),c):s},c.padAngle=function(A){return arguments.length?(a="function"==typeof A?A:Sr(+A),c):a},c.context=function(A){return arguments.length?(o=A??null,c):o},c}class Lb extends rt{constructor(){super(...arguments),Object.defineProperty(this,"radarContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(en.new(this._root,{x:pn,y:pn}))}),Object.defineProperty(this,"_arcGenerator",{enumerable:!0,configurable:!0,writable:!0,value:hC()}),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){this._defaultThemes.push(SR.new(this._root)),super._afterNew();const t=this.gridContainer,n=this.seriesContainer;this.radarContainer.children.pushAll([t,n,this.topGridContainer,this.bulletsContainer]),n.set("mask",lr.new(this._root,{})),t.set("mask",lr.new(this._root,{})),this._disposers.push(this.plotContainer.events.on("boundschanged",()=>{this._updateRadius()}))}_maskGrid(){}_prepareChildren(){if(super._prepareChildren(),this._sizeDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")){const e=this.chartContainer,t=e.innerWidth(),i=e.innerHeight(),n=this.get("startAngle",0),s=this.get("endAngle",0),a=this.get("innerRadius");let o=lp(0,0,n,s,1);const l=t/(o.right-o.left),c=i/(o.bottom-o.top);let A={left:0,right:0,top:0,bottom:0};if(a instanceof vn){let f=a.value,d=Math.min(l,c);f=Math.max(d*f,d-Math.min(i,t))/d,A=lp(0,0,n,s,f),this.setPrivateRaw("irModifyer",f/a.value)}o=X0([o,A]),this._maxRadius=Math.max(0,Math.min(l,c));const u=ur(this.get("radius",0),this._maxRadius);this.radarContainer.setAll({dy:-u*(o.bottom+o.top)/2,dx:-u*(o.right+o.left)/2}),this._updateRadius()}}_addCursor(e){this.radarContainer.children.push(e)}_updateRadius(){const e=ur(this.get("radius",Tr(80)),this._maxRadius);this.setPrivateRaw("radius",e);let t=ur(this.get("innerRadius",0),e);t<0&&(t=e+t),this.setPrivateRaw("innerRadius",t),this.xAxes.each(n=>{n.get("renderer").updateLayout()}),this.yAxes.each(n=>{n.get("renderer").updateLayout()}),this._updateMask(this.seriesContainer,t,e),this._updateMask(this.gridContainer,t,e),this.series.each(n=>{n.get("maskBullets")?this._updateMask(n.bulletsContainer,t,e):n.bulletsContainer.remove("mask")});const i=this.get("cursor");i&&i.updateLayout()}_updateMask(e,t,i){const n=e.get("mask");n&&n.set("draw",s=>{this._arcGenerator.context(s),this._arcGenerator({innerRadius:t,outerRadius:i+.5,startAngle:(this.get("startAngle",0)+90)*Co,endAngle:(this.get("endAngle",0)+90)*Co})})}processAxis(e){this.radarContainer.children.push(e)}inPlot(e,t,i){const n=Math.hypot(e.x,e.y),s=Ih(Math.atan2(e.y,e.x)*th);let a=Ih(this.get("startAngle",0)),o=Ih(this.get("endAngle",0)),l=!1;return a<o&&a<s&&s<o&&(l=!0),a>o&&(s>a&&(l=!0),s<o&&(l=!0)),a==o&&(l=!0),!!l&&(null==t&&(t=this.getPrivate("radius",0)),null==i&&(i=this.getPrivate("innerRadius",0)),i>t&&([i,t]=[t,i]),n<=t+.5&&n>=i-.5)}_tooltipToLocal(e){return this.radarContainer._display.toLocal(e)}_handlePinch(){}}Object.defineProperty(Lb,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadarChart"}),Object.defineProperty(Lb,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:rt.classNames.concat([Lb.className])});class dv extends lr{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:hC()})}_getTooltipPoint(){let e=this.get("tooltipX"),t=this.get("tooltipY"),i=0,n=0;at(e)&&(i=e),at(t)&&(n=t);let s=this.get("radius",0),a=this.get("innerRadius",0);return s+=this.get("dRadius",0),a+=this.get("dInnerRadius",0),a<0&&(a=s+a),e instanceof vn&&(i=this.ix*(a+(s-a)*e.value)),t instanceof vn&&(n=this.iy*(a+(s-a)*t.value)),this.get("arc")>=360&&0==a&&(i=0,n=0),{x:i,y:n}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let e=this.get("startAngle",0),t=this.get("arc",0);const i=this._generator;t<0&&(e+=t,t*=-1),t>.1&&i.cornerRadius(this.get("cornerRadius",0)),i.context(this._display);let n=this.get("radius",0),s=this.get("innerRadius",0);n+=this.get("dRadius",0),s+=this.get("dInnerRadius",0),s<0&&(s=n+s),i({innerRadius:s,outerRadius:n,startAngle:(e+90)*Co,endAngle:(e+t+90)*Co});let l=e+t/2;this.ix=co(l),this.iy=Ks(l);const c=this.get("shiftRadius",0);this.setRaw("dx",this.ix*c),this.setRaw("dy",this.iy*c),this.markDirtyPosition()}}}Object.defineProperty(dv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(dv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lr.classNames.concat([dv.className])});class Pb extends kh{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*Co,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(Pb,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(Pb,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kh.classNames.concat([Pb.className])});class dg extends ho{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(Pb.new(this._root,{}))}baseRadius(){const e=this.getPrivate("radius",0),t=this.getPrivate("innerRadius",0);return t+ur(this.get("baseRadius",0),e-t)}radius(){const e=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(e?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const e=this.get("textType","adjusted"),t=this.get("inside",!1),i=this.get("orientation");let n=Ih(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",t);const s=Ks(n),a=co(n);let o=this.baseRadius(),l=this.radius();if(this._display.angle=0,"circular"==e)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this._text.set("orientation",i),this._text.set("radius",l);else{0==o&&(n=0,l=0);let c=l*a,A=l*s;"radial"==e?(this.setRaw("x",c),this.setRaw("y",A),n<90||n>270||"auto"!=i?(this._display.angle=n,this._flipped=!1):(this._display.angle=n+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==e?(this.setRaw("centerX",pn),this.setRaw("centerY",pn),this.setRaw("x",c),this.setRaw("y",A)):"regular"==e&&(this.setRaw("x",c),this.setRaw("y",A))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const e=this.get("textType","regular"),t=this.get("inside",!1);let i=0,n=0,s=this.get("labelAngle",0),a=this.localBounds(),o=a.right-a.left,l=a.bottom-a.top;if("radial"==e){if(this._flipped){let c=this.get("centerX");c instanceof vn&&(o*=1-2*c.value),i=o*co(s),n=o*Ks(s)}}else!t&&"adjusted"==e&&(i=o/2*co(s),n=l/2*Ks(s));this.setRaw("dx",i),this.setRaw("dy",n),super._updatePosition()}get text(){return this._text}}Object.defineProperty(dg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(dg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ho.classNames.concat([dg.className])});class Rb extends dg{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Rb,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabelRadial"}),Object.defineProperty(Rb,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dg.classNames.concat([Rb.className])});class Ub extends Eo{constructor(){super(...arguments),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>Rb._new(this._root,{themeTags:Sn(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template]))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>dv._new(this._root,{themeTags:Sn(this.axisFills.template.get("themeTags",["fill"]),this.get("themeTags",[]))},[this.axisFills.template]))}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:hC()})}_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["renderer","circular"]),super._afterNew(),this.setPrivateRaw("letter","X"),this.setRaw("position","absolute")}_changed(){super._changed(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle"))&&this.updateLayout()}processAxis(){super.processAxis(),this.axis.labelsContainer.set("isMeasured",!1)}updateLayout(){const e=this.chart;if(e){const t=e.getPrivate("radius",0);let i=ur(this.get("radius",hi),t);i<0&&(i=t+i),this.setPrivate("radius",i);let n=ur(this.get("innerRadius",e.getPrivate("innerRadius",0)),t)*e.getPrivate("irModifyer",1);n<0&&(n=i+n),this.setPrivate("innerRadius",n);let s=this.get("startAngle",e.get("startAngle",-90)),a=this.get("endAngle",e.get("endAngle",270));this.setPrivate("startAngle",s),this.setPrivate("endAngle",a),this.set("draw",o=>{const l=this.positionToPoint(0);o.moveTo(l.x,l.y),s>a&&([s,a]=[a,s]),o.arc(0,0,i,s*Co,a*Co)}),this.axis.markDirtySize()}}updateGrid(e,t,i){if(e){null==t&&(t=0);let n=e.get("location",.5);null!=i&&i!=t&&(t+=(i-t)*n);let s=this.getPrivate("radius",0),a=this.getPrivate("innerRadius",0),o=this.positionToAngle(t);this.toggleVisibility(e,t,0,1),null!=s&&e.set("draw",l=>{l.moveTo(a*co(o),a*Ks(o)),l.lineTo(s*co(o),s*Ks(o))})}}positionToAngle(e){const t=this.axis,i=this.getPrivate("startAngle",0),n=this.getPrivate("endAngle",360),s=t.get("start",0),a=t.get("end",1);let l,o=(n-i)/(a-s);return l=this.get("inversed")?i+(a-e)*o:i+(e-s)*o,l}_handleOpposite(){}positionToPoint(e){const t=this.getPrivate("radius",0),i=this.positionToAngle(e);return{x:t*co(i),y:t*Ks(i)}}updateLabel(e,t,i,n){if(e){null==t&&(t=0);let s=.5;s=e.get(null!=n&&n>1?"multiLocation":"location",s),null!=i&&i!=t&&(t+=(i-t)*s);const a=this.getPrivate("radius",0),o=this.getPrivate("innerRadius",0),l=this.positionToAngle(t);e.setPrivate("radius",a),e.setPrivate("innerRadius",o),e.set("labelAngle",l),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}fillDrawMethod(e,t,i){e.set("draw",n=>{null==t&&(t=this.getPrivate("startAngle",0)),null==i&&(i=this.getPrivate("endAngle",0));const s=this.getPrivate("innerRadius",0),a=this.getPrivate("radius",0);this._fillGenerator.context(n),this._fillGenerator({innerRadius:s,outerRadius:a,startAngle:(t+90)*Co,endAngle:(i+90)*Co})})}updateTick(e,t,i,n){if(e){null==t&&(t=0);let s=.5;s=e.get(null!=n&&n>1?"multiLocation":"location",s),null!=i&&i!=t&&(t+=(i-t)*s);let a=e.get("length",0);e.get("inside")&&(a*=-1);let l=this.getPrivate("radius",0),c=this.positionToAngle(t);this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1)),null!=l&&e.set("draw",A=>{A.moveTo(l*co(c),l*Ks(c)),l+=a,A.lineTo(l*co(c),l*Ks(c))})}}updateBullet(e,t,i){if(e){const n=e.get("sprite");if(n){null==t&&(t=0);let s=e.get("location",.5);null!=i&&i!=t&&(t+=(i-t)*s);let a=this.getPrivate("radius",0),o=this.positionToAngle(t);this.toggleVisibility(n,t,0,1),n.setAll({rotation:o,x:a*co(o),y:a*Ks(o)})}}}updateFill(e,t,i){if(e){null==t&&(t=0),null==i&&(i=1);let n=this.fitAngle(this.positionToAngle(t)),s=this.fitAngle(this.positionToAngle(i));e.setAll({startAngle:n,arc:s-n}),e._setSoft("innerRadius",this.getPrivate("innerRadius")),e._setSoft("radius",this.getPrivate("radius"))}}fitAngle(e){const t=this.getPrivate("startAngle",0),i=this.getPrivate("endAngle",0),n=Math.min(t,i),s=Math.max(t,i);return e<n&&(e=n),e>s&&(e=s),e}axisLength(){return Math.abs(this.getPrivate("radius",0)*Math.PI*2*(this.getPrivate("endAngle",360)-this.getPrivate("startAngle",0))/360)}positionTooltip(e,t){let i=this.getPrivate("radius",0);const n=this.positionToAngle(t);this._positionTooltip(e,{x:i*co(n),y:i*Ks(n)})}updateTooltipBounds(e){}}Object.defineProperty(Ub,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererCircular"}),Object.defineProperty(Ub,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Eo.classNames.concat([Ub.className])});class Qb extends en{constructor(){super(...arguments),Object.defineProperty(this,"hand",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(lr.new(this._root,{themeTags:["hand"]}))}),Object.defineProperty(this,"pin",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(lr.new(this._root,{themeTags:["pin"]}))})}_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["clock"]),super._afterNew(),this.set("width",Tr(1)),this.adapters.add("x",()=>0),this.adapters.add("y",()=>0),this.pin.set("draw",(e,t)=>{const i=t.parent;if(i){const n=i.dataItem;if(n){const s=n.component;if(s){const a=s.chart;if(a){const o=a.getPrivate("radius",0);let l=ur(i.get("pinRadius",0),o);l<0&&(l=o+l),e.moveTo(l,0),e.arc(0,0,l,0,360)}}}}}),this.hand.set("draw",(e,t)=>{const i=t.parent;if(i){let n=i.parent;n&&n.set("width",Tr(1));const s=i.dataItem;if(s){const a=s.component;if(a){const o=a.chart;if(o){const l=i.get("bottomWidth",10)/2,c=i.get("topWidth",0)/2,A=o.getPrivate("radius",0);let u=ur(i.get("radius",0),A);u<0&&(u=A+u);let f=i.get("innerRadius",0);f instanceof vn?f=ur(f,A):f<0&&f<0&&(f=u+f),e.moveTo(f,-l),e.lineTo(u,-c),e.lineTo(u,c),e.lineTo(f,l),e.lineTo(f,-l)}}}}})}_prepareChildren(){super._prepareChildren(),this.hand._markDirtyKey("fill"),this.pin._markDirtyKey("fill")}}Object.defineProperty(Qb,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ClockHand"}),Object.defineProperty(Qb,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:en.classNames.concat([Qb.className])});class Ob extends na{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();const e=this.get("sprite");if(this.isDirty("sprite")&&e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e)),this.isDirty("location")){const t=e.dataItem;this.axis&&e&&t&&this.axis._prepareDataItem(t)}}dispose(){const e=this.axis;e&&gr(e._bullets,(t,i)=>{i.uid==this.uid&&delete e._bullets[t]}),super.dispose()}}function NR(r){let e,t,i;if(r.match(/^rgb/)){const s=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);e=Number(s[1]),t=Number(s[2]),i=Number(s[3])}else{const s=+("0x"+r.slice(1).replace(r.length<5&&/./g,"$&$&"));e=s>>16,t=s>>8&255,i=255&s}return Math.sqrt(e*e*.299+t*t*.587+i*i*.114)>127.5?"light":"dark"}Object.defineProperty(Ob,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"}),Object.defineProperty(Ob,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:na.classNames.concat([Ob.className])});let HR=(()=>{class r{constructor(t){this.socketService=t,this.unsubscribe$=new Yn.x,this.backgroundColor="transparent"}ngAfterViewInit(){const t=this.config;this._root&&this._root.dispose(),this._root=Lh.new("gauge_chart_"+this.id),this._root.setThemes([bp.new(this._root)]),t.view.chart.BackgroundColor&&(this.backgroundColor=t.view.chart.BackgroundColor);let i=this._root.container.children.push(Lb.new(this._root,{panX:!1,panY:!1,startAngle:t.view.chart.startAngle||180,endAngle:t.view.chart.endAngle||360})),n=Ub.new(this._root,{innerRadius:t.view.axisRenderer.innerRadius||-15});n.grid.template.setAll({stroke:this._root.interfaceColors.get("background"),visible:!0,strokeOpacity:.8});let s=i.xAxes.push(Pn.new(this._root,{maxDeviation:0,min:t.view.xAxis.min||0,max:t.view.xAxis.max||100,strictMinMax:!0,renderer:n})),a=s.makeDataItem({}),o=Qb.new(this._root,{pinRadius:Tr(t.view.clockHand.pinRadius||10),radius:Tr(t.view.clockHand.radius||90),bottomWidth:t.view.clockHand.bottomWidth||10}),l=a.set("bullet",Ob.new(this._root,{sprite:o}));s.createAxisRange(a),i.plotContainer.children.push(ho.new(this._root,{centerX:Tr(-30),centerY:Tr(-5),textAlign:"center",text:t.view.labels.title,fill:Qr("light"===NR(this.backgroundColor)?"#000000":"#ffffff")}));let c=i.radarContainer.children.push(ho.new(this._root,{fill:Qr(t.view.label.fill||16777215),centerX:Tr(50),textAlign:"center",centerY:Tr(50),fontSize:`${t.view.label.fontSize}%`}));a.set("value",0),l.get("sprite").on("rotation",function(){let u=a.get("value");Math.round(a.get("value")||0).toString();let f=Qr(0);s.axisRanges.each(function(d){u&&u>=d.get("value")&&u<=d.get("endValue")&&(f=d.get("axisFill").get("fill"))}),c.set("text",Math.round(u||0).toString()),o.pin.animate({key:"fill",to:f,duration:500,easing:Ji(j)}),o.hand.animate({key:"fill",to:f,duration:500,easing:Ji(j)})}),t.content?.topic.id&&t.content?.outputs.read.name&&this.socketService.fetchDeviceData(t.content?.topic.id,t.content?.outputs.read.name).pipe((0,Rt.R)(this.unsubscribe$),(0,Dn.U)(u=>{a.animate({key:"value",to:u,duration:500,easing:Ji(j)})})).subscribe(),i.bulletsContainer.set("mask",void 0),Xe(t.view.bands||[{color:"#fdae19",lowScore:0,highScore:20},{color:"#f3eb0c",lowScore:20,highScore:40},{color:"#b0d136",lowScore:40,highScore:60},{color:"#54b947",lowScore:60,highScore:80},{color:"#0f9747",lowScore:80,highScore:100}],function(u){let f=s.createAxisRange(s.makeDataItem({}));f.setAll({value:u.lowScore,endValue:u.highScore}),f.get("axisFill")?.setAll({visible:!0,fill:Qr(u.color),fillOpacity:.8})}),i.appear(1e3,100)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(ql))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-gauge"]],inputs:{id:"id",config:"config"},decls:2,vars:3,consts:[[1,"container"],[1,"chat-container",3,"id"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.qZA()),2&i&&(h.Udp("background-color",n.backgroundColor),h.xp6(1),h.Q6J("id","gauge_chart_"+n.id))},styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;display:flex;flex-direction:column}.chat-container[_ngcontent-%COMP%]{padding:0;width:100%;height:100%}"]})}return r})();var AC=ge(6188);let RT=(()=>{class r{setStyle(t){}constructor(t){this.el=t,this.backgroundColor="#6F90D5",this.borderColor="#6F90D5"}ngOnChanges(t){this.el.nativeElement.style.backgroundColor=this.backgroundColor,this.el.nativeElement.style.borderColor=this.borderColor}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:r,selectors:[["","Card",""]],inputs:{backgroundColor:"backgroundColor",borderColor:"borderColor"},features:[h.TTD]})}return r})(),zR=(()=>{class r{constructor(t){this.el=t,this.color="#FFFFFF",this.fontSize="20px"}ngOnChanges(t){this.el.nativeElement.style.color=this.color,this.el.nativeElement.style.fontSize=this.fontSize}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:r,selectors:[["","Text",""]],inputs:{color:"color",fontSize:"fontSize"},features:[h.TTD]})}return r})();function GR(r,e){if(1&r&&(h.TgZ(0,"div",4),h._uU(1),h.qZA()),2&r){const t=h.oxw();h.xp6(1),h.Oqu(t.Subtitle)}}const YR=function(r){return[r]};let WR=(()=>{class r{constructor(t,i){this.socketService=t,this.historicalService=i,this.unsubscribe$=new Yn.x,this.unsubscribeInterval$=new Yn.x,this.Title="Title",this.Subtitle="",this.Label="Label",this.Unit="Unit",this.titleSize="25px",this.titleColor="#ffffff",this.titlePosition="TopCenter",this.labelSize="20px",this.labelColor="#ffffff",this.unitSize="15px",this.unitColor="#ffffff",this.backgroundColor="#6F90D5",this.borderColor="#6F90D5"}ngOnInit(){const t=this.config,n=t.view;this.applyContent(t.content),this.applyViewConfig(n)}applyContent(t){this.Title=t?.Title,this.Subtitle=t?.Subtitle||"",this.Unit=t?.Unit,this.Label=t.Label,t.topic&&t.outputs?.read.name&&(t.isApi?(this.historicalService.callAPI(t.api,t.topic.id,t.outputs.read.name).pipe((0,Oe.q)(1),(0,Dn.U)(i=>{this.Label=i.data.value})).subscribe(),(0,AC.F)(6e4).pipe((0,Rt.R)(this.unsubscribeInterval$),(0,Pa.w)(()=>t.topic&&t.outputs?.read.name?this.historicalService.callAPI(t.api,t.topic.id,t.outputs.read.name).pipe((0,Oe.q)(1),(0,Dn.U)(i=>{this.Label=i.data.value})):(0,xe.of)(0))).subscribe()):this.socketService.fetchDeviceData(t.topic.id,t.outputs.read.name).pipe((0,Dn.U)(i=>{this.Label=i})).subscribe())}applyViewConfig(t){this.backgroundColor=t.Card.BackgroundColor,this.borderColor=t.Card.BorderColor,this.titleColor=t.Title.color,this.titleSize=`${t.Title.fontSize}px`,this.titlePosition=`${t.Title.position}`,this.labelColor=t.Label.color,this.labelSize=`${t.Label.fontSize}px`,this.unitColor=t.Unit.color,this.unitSize=`${t.Unit.fontSize}px`}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.unsubscribeInterval$.next(),this.unsubscribeInterval$.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(ql),h.Y36(cg.O))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-card"]],inputs:{id:"id",config:"config"},decls:9,vars:15,consts:[["Card","",1,"box",3,"backgroundColor","borderColor"],["Text","",3,"color","fontSize","ngClass"],["class","subtitle",4,"ngIf"],["Text","",3,"color","fontSize"],[1,"subtitle"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"h4",1),h._uU(2),h.YNc(3,GR,2,1,"div",2),h.qZA(),h.TgZ(4,"div")(5,"h4",3),h._uU(6),h.qZA(),h.TgZ(7,"h4",3),h._uU(8),h.qZA()()()),2&i&&(h.Q6J("backgroundColor",n.backgroundColor)("borderColor",n.borderColor),h.xp6(1),h.Q6J("color",n.titleColor)("fontSize",n.titleSize)("ngClass",h.VKq(13,YR,n.titlePosition)),h.xp6(1),h.hij(" ",n.Title," "),h.xp6(1),h.Q6J("ngIf",n.Subtitle&&n.Subtitle.length>0),h.xp6(2),h.Q6J("color",n.labelColor)("fontSize",n.labelSize),h.xp6(1),h.Oqu(n.Label),h.xp6(1),h.Q6J("color",n.unitColor)("fontSize",n.unitSize),h.xp6(1),h.Oqu(n.Unit))},dependencies:[G.mk,G.O5,RT,zR],styles:[".box[_ngcontent-%COMP%]{color:#fff;width:100%;height:100%;border:1px solid #ffffff;border-radius:.25rem;display:flex;align-items:center;justify-content:space-evenly;flex-direction:column;padding:.5rem}.box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{width:90%;margin:0 auto}.box[_ngcontent-%COMP%]   h4.TopCenter[_ngcontent-%COMP%]{text-align:center}.box[_ngcontent-%COMP%]   h4.TopStart[_ngcontent-%COMP%]{text-align:start}.box[_ngcontent-%COMP%]   h4.TopEnd[_ngcontent-%COMP%]{text-align:end}.box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{opacity:.6;font-size:.7em;display:block}.box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}"]})}return r})(),VR=(()=>{class r{constructor(){this.center={lat:43.65107,lng:-79.347015},this.zoom=13,this.mapOptions={zoomControl:!0,scrollwheel:!0,disableDoubleClickZoom:!0,maxZoom:15,mapTypeControl:!1},this.redMarkerIcon={url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:{width:40,height:40}},this.greenMarkerIcon={url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png"},this.yellowMarkerIcon={url:"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png"},this.markers=[],this.infoWindowOptions={maxWidth:200},this.infoWindowOpen={}}openInfoWindow(t,i){}ngAfterViewInit(){const t=this.config;this.markers.length&&(this.markers=[]);const i=t.view.options;this.mapOptions={...this.mapOptions,zoomControl:i.ZoomControl,scrollwheel:i.ScrollWheel,maxZoom:i.MaxZoom,minZoom:i.MinZoom},t.content&&t.content.length&&t.content.map((n,s)=>{this.markers.push({name:n.device?n.device:`Marker ${s+1}`,topic:n.topic?.name,read:n.outputs?.read?.name,write:n.outputs?.write?.name})})}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-map"]],inputs:{id:"id",config:"config"},decls:0,vars:0,template:function(i,n){},styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%}  .map-container{height:100%!important;width:100%!important;overflow:hidden}"]})}return r})();var uC=ge(5130);let jR=(()=>{class r{get title(){return this._title}constructor(t,i){this.historicalService=t,this.socketService=i,this.unsubscribe$=new Yn.x,this._title="Title",this.backgroundColor="transparent"}ngOnInit(){this._title=this.config.view.labels.title}ngAfterViewInit(){const t=this.config;this._root&&this._root.dispose(),this._root=Lh.new("line_chart_"+this.id),this._root.setThemes([bp.new(this._root)]),t.view.chart.BackgroundColor&&(this.backgroundColor=t.view.chart.BackgroundColor);let i=this._root.container.children.push(rt.new(this._root,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX"})),n=i.set("cursor",Di.new(this._root,{behavior:"zoomX"}));n.lineX.set("visible",t.view.cursor.lineX||!1),n.lineY.set("visible",t.view.cursor.lineY||!1);let s=i.xAxes.push(Tn.new(this._root,{baseInterval:{timeUnit:"second",count:1},renderer:Ms.new(this._root,{minGridDistance:75}),tooltip:hl.new(this._root,{}),markUnitChange:!1}));s.set("dateFormats",{second:"MM/dd HH:mm:ss",minute:"MM/dd HH:mm:ss",hour:"MM/dd",day:"MM/dd",week:"MM/dd HH:mm:ss",month:"MM/dd HH:mm:ss",year:"MM/dd HH:mm:ss"}),this._root.numberFormatter.set("durationFormat","MM/dd HH:mm:ss"),s.set("tooltipDateFormat","yyyy/MM/dd HH:mm:ss");let a=i.yAxes.push(Pn.new(this._root,{renderer:Ts.new(this._root,{})})),o=i.series.push(wp.new(this._root,{name:t.content.outputs.read.name,xAxis:s,yAxis:a,fill:Qr(t.view.series.color||7649791),stroke:Qr(t.view.series.color||7649791),valueYField:"value",valueXField:"date",tooltip:hl.new(this._root,{labelText:`${t.view.labels.title}:{valueY}`})}));const l=this;return o.bullets.push(()=>yu.new(l._root,{locationY:0,sprite:Td.new(l._root,{radius:2,fill:o.get("fill")})})),i.plotContainer.children.push(ho.new(this._root,{y:-20,x:Tr(50),textAlign:"center",text:t.view.labels.title,fill:Qr(16777215)})),i.zoomOutButton.set("forceHidden",!0),i.appear(1e3,100),this.historicalService.getOutputHistory(t.content.topic.id,t.content.outputs.read.name).pipe((0,Dn.U)(c=>{if(o.data.setAll(c),t.view.scroll.enable){let A=i.set("scrollbarX",Vo.new(this._root,{orientation:"horizontal",height:40}));if(i.bottomAxesContainer.children.push(A),"sb"===t.view.scroll.type){let u=A.chart.xAxes.push(Tn.new(this._root,{baseInterval:{timeUnit:"second",count:1},markUnitChange:!1,renderer:Ms.new(this._root,{})}));u.set("dateFormats",{second:"MM/dd",minute:"MM/dd",hour:"MM/dd",day:"MM/dd",week:"MM/dd",month:"MM/dd",year:"MM/dd"});let f=A.chart.yAxes.push(Pn.new(this._root,{renderer:Ts.new(this._root,{})}));A.chart.series.push(wp.new(this._root,{valueYField:"value",valueXField:"date",xAxis:u,yAxis:f})).data.setAll(c)}}return o.appear(1e3),o}),(0,uC.z)(c=>(c.appear(1e3),this._root.resize(),this.socketService.fetchDeviceData(t.content.topic.id,t.content.outputs.read.name).pipe((0,Dn.U)(A=>{this.addData(c,A)}),(0,Rt.R)(this.unsubscribe$)))),(0,Rt.R)(this.unsubscribe$)).subscribe()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}addData(t,i){const n=b;let s=new Date((new Date).toLocaleString("fa-IR-u-nu-latn")).getTime();if(t.data.length>0){let o=t.dataItems[t.dataItems.length-1].get("valueY");t.data.push({date:s,value:i}),t.dataItems[t.dataItems.length-1].animate({key:"valueYWorking",to:i,from:o,duration:500,easing:n})}else t.data.push({date:s,value:i})}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(cg.O),h.Y36(ql))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-line-chart"]],inputs:{id:"id",config:"config"},decls:2,vars:3,consts:[[1,"container"],[1,"chat-container",3,"id"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.qZA()),2&i&&(h.Udp("background-color",n.backgroundColor),h.xp6(1),h.Q6J("id","line_chart_"+n.id))},styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;display:flex;flex-direction:column}.chat-container[_ngcontent-%COMP%]{padding:0;width:100%;height:100%}h6[_ngcontent-%COMP%]{text-align:center;color:#fff}"]})}return r})();class Cu extends Ui{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const e=this.dataItems.length;let t=0;this._valuesDirty&&(this._itemMap={},Xe(this.dataItems,i=>{i.setRaw("index",t),this._itemMap[i.get("category")]=i,t++}),this.setPrivateRaw("maxZoomFactor",e)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*e),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*e),e)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){Xe(this.series,e=>{let t=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),n=e.get("baseAxis"),s=e.get("xAxis"),a=e.get("yAxis");if(s instanceof Cu&&a instanceof Cu)e._markDirtyAxes();else if(n===this){let o,l,c=a;if(s===n?(e.get("categoryXField")&&(o="categoryX"),e.get("openCategoryXField")&&(l="openCategoryX")):a===n&&(e.get("categoryYField")&&(o="categoryY"),e.get("openCategoryYField")&&(l="openCategoryY"),c=s),"ValueAxis"==c.className&&(o||l)){let A,u;for(let p=0,g=e.dataItems.length;p<g;p++){let m=e.dataItems[p];if(o&&m.get(o)===t){A=m;break}if(l&&m.get(l)===t){A=m;break}}for(let p=e.dataItems.length-1;p>=0;p--){let g=e.dataItems[p];if(o&&g.get(o)===i){u=g;break}if(l&&g.get(l)===i){u=g;break}}let f=0,d=e.dataItems.length;A&&(f=e.dataItems.indexOf(A)),u&&(d=e.dataItems.indexOf(u)+1),e.setPrivate("startIndex",f),e.setPrivate("endIndex",d);let _=!1;for(let p=f;p<d;p++){const g=e.dataItems[p];if(Xe(e.__valueXShowFields,m=>{null!=g.get(m)&&(_=!0)}),Xe(e.__valueYShowFields,m=>{null!=g.get(m)&&(_=!0)}),_)break}e.setPrivate("outOfSelection",!_)}e._markDirtyAxes()}})}_prepareAxisItems(){var e;const t=this.get("renderer"),i=this.dataItems.length;let n=this.startIndex();n>0&&n--;let s=this.endIndex();s<i&&s++;const a=t.get("minorLabelsEnabled"),o=t.get("minorGridEnabled",a);let l=t.axisLength()/Math.max(t.get("minGridDistance"),1),c=Math.max(1,Math.min(i,Math.ceil((s-n)/l)));n=Math.floor(n/c)*c,this._frequency=c;for(let u=0;u<i;u++)this._toggleDataItem(this.dataItems[u],!1);let A=this.dataItems[n].get("index",0);for(let u=n;u<s;u+=c){let f=this.dataItems[u];this._createAssets(f,[]),this._toggleDataItem(f,!0);let d=c;o&&(d=1),this._prepareDataItem(f,A,d),A++}if(t.get("minorGridEnabled"))for(let u=n;u<s;u++){let f=this.dataItems[u];u%c!=0&&(this._createAssets(f,["minor"],!0),this._toggleDataItem(f,!0),this._prepareDataItem(f,0,1),a||null===(e=f.get("label"))||void 0===e||e.setPrivate("visible",!1))}this._updateGhost()}_prepareDataItem(e,t,i){let n=this.get("renderer"),s=e.get("categoryLocation",0),a=e.get("endCategoryLocation",1),o=e.get("index");at(o)||(o=this.categoryToIndex(e.get("category")));let A,l=this.indexToPosition(o,s),c=e.get("endCategory");c?(A=this.categoryToIndex(c),at(A)||(A=o)):A=o;let f,d,u=this.indexToPosition(A,a);f=e.get("isRange")?A:o+this._frequency-1,d=this.indexToPosition(f,a),n.updateLabel(e.get("label"),l,u,i),n.updateGrid(e.get("grid"),l,u),n.updateTick(e.get("tick"),l,u,i),n.updateFill(e.get("axisFill"),l,d),this._processBullet(e),n.updateBullet(e.get("bullet"),l,u);const _=this.get("fillRule");_&&_(e,t)}startIndex(){let e=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),e-1)}endIndex(){let e=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",e),e))}baseValue(){}basePosition(){return 0}getX(e){let t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}getY(e){let t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}getDataItemPositionX(e,t,i,n){const s=e.get(t),a=this._itemMap[s];return a?this.indexToPosition(a.get("index",0),i):NaN}getDataItemCoordinateX(e,t,i,n){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,n))}getDataItemPositionY(e,t,i,n){const s=e.get(t),a=this._itemMap[s];return a?this.indexToPosition(a.get("index",0),i):NaN}getDataItemCoordinateY(e,t,i,n){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,n))}indexToPosition(e,t){at(t)||(t=.5);let i=this.dataItems.length,n=this.get("startLocation",0);i-=n,i-=1-this.get("endLocation",1);let a=(e+t-n)/i,o=this.dataItems[e];return o&&(a+=o.get("deltaPosition",0)),a}categoryToIndex(e){let t=this._itemMap[e];return t?t.get("index"):NaN}dataItemToPosition(e){return this.indexToPosition(e.get("index"))}roundAxisPosition(e,t){return this.indexToPosition(this.axisPositionToIndex(e+=(.5-t)/this.dataItems.length),t)}axisPositionToIndex(e){let t=this.dataItems.length;return ls(Math.floor(e*t),0,t-1)}getTooltipText(e,t){const i=this.dataItems[this.axisPositionToIndex(e)];if(i){const n=i.get("label");if(n)return Fh(n,this.get("tooltipText",""))}}_updateTooltipText(e,t){e._setDataItem(this.dataItems[this.axisPositionToIndex(t)]),e.label.text.markDirtyText()}getSeriesItem(e,t){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=this.axisPositionToIndex(t),s=e.dataItems[n],a=this.dataItems[n],o=a.get("category");if(s&&a&&s.get(i)===o)return s;for(let l=0,c=e.dataItems.length;l<c;l++){let A=e.dataItems[l];if(A.get(i)===o)return A}}}zoomToIndexes(e,t,i){let n=this.dataItems.length;this.zoom(e/n,t/n,i)}zoomToCategories(e,t,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}}Object.defineProperty(Cu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(Cu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ui.classNames.concat([Cu.className])});class xp extends jo{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(e,t){return this.makeColumn(t,e)}_makeFieldNames(){super._makeFieldNames();const e=this.get("xAxis"),t=this.get("yAxis"),i="CategoryAxis",n="ValueAxis";e.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),e.isType(n)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),t.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),t.isType(n)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();const e=this.get("xAxis"),t=this.get("yAxis"),i=this.dataItems.length,n=Math.max(0,this.startIndex()-2),s=Math.min(this.endIndex()+2,i-1);if(e.inited&&t.inited)for(let a=n;a<=s;a++)this._createGraphics(this.dataItems[a])}_updateChildren(){const e=this.chart;e&&(this._ph=e.plotContainer.height(),this._pw=e.plotContainer.width());const t=this.get("xAxis"),i=this.get("yAxis"),n=this.get("baseAxis"),s=this.columns.template;this.isDirty("fill")&&null==s.get("fill")&&s.set("fill",this.get("fill")),this.isDirty("stroke")&&null==s.get("stroke")&&s.set("stroke",this.get("stroke"));let a=0,o=0,l=0;Xe(n.series,m=>{if(m instanceof xp){const C=m.get("stacked");C&&0==l&&o++,!C&&m.get("clustered")&&o++}m===this&&(a=o-1),l++}),this.get("clustered")||(a=0,o=1),0===o&&(o=1,a=0);const c=t.get("renderer"),A=i.get("renderer"),u="cellStartLocation",f="cellEndLocation",d=c.get(u,0),_=c.get(f,1),p=A.get(u,0),g=A.get(f,1);if(this._aLocationX0=d+a/o*(_-d),this._aLocationX1=d+(a+1)/o*(_-d),this._aLocationY0=p+a/o*(g-p),this._aLocationY1=p+(a+1)/o*(g-p),t.inited&&i.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){const m=this.dataItems.length;let C=Math.max(0,this.startIndex()-2),B=Math.min(this.endIndex()+2,m-1);for(let U=0;U<C;U++)this._toggleColumn(this.dataItems[U],!1);let S=this.dataItems[C];for(let U=C;U<=B;U++){let H=this.dataItems[U];if(null!=H.get("valueX")&&null!=H.get("valueY")){if(S=H,U>0&&C>0)for(let N=U-1;N>=0;N--){let P=this.dataItems[N];if(null!=P.get("valueX")&&null!=P.get("valueY")){S=P;break}}break}this._toggleColumn(H,!1)}for(let U=C;U<=B;U++){let H=this.dataItems[U];this._updateGraphics(H,S),null!=H.get("valueX")&&null!=H.get("valueY")&&(S=H)}for(let U=B+1;U<m;U++)this._toggleColumn(this.dataItems[U],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(e){let t=e.get("graphics");if(!t){t=this._makeGraphics(this.columns,e),e.set("graphics",t),t._setDataItem(e);const i=e.get("legendDataItem");if(i){const s=i.get("markerRectangle");if(s){const a=s.states.lookup("default");Xe(ev,o=>{const l=t.get(o,this.get(o));s.set(o,l),a.set(o,l)})}}let n=e.get("rangeGraphics");n&&Xe(n,s=>{s.dispose()}),n=[],e.setRaw("rangeGraphics",n),this.axisRanges.each(s=>{const a=s.container,o=this._makeGraphics(s.columns,e);n&&n.push(o),o.setPrivate("list",s.columns),a.children.push(o)})}}createAxisRange(e){return Xe(this.dataItems,t=>{const i=t.get("graphics");i&&(i.dispose(),t.set("graphics",void 0))}),super.createAxisRange(e)}_updateGraphics(e,t){let i=e.get("graphics");const n=this._xField,s=this._yField,a=e.get(n),o=e.get(s);if(null!=a&&null!=o){const l=this._xOpenField,c=this._yOpenField,A=this.get("locationX",e.get("locationX",.5)),u=this.get("locationY",e.get("locationY",.5)),f=this.get("openLocationX",e.get("openLocationX",A)),d=this.get("openLocationY",e.get("openLocationY",u)),_=i.get("width"),p=i.get("height"),g=this.get("stacked"),m=this.get("xAxis"),C=this.get("yAxis"),B=this.get("baseAxis"),S=m.get("start"),U=m.get("end"),H=C.get("start"),N=C.get("end");let P,z,W,Y,K=this.get("vcy",1),q=this.get("vcx",1),Q=!1,ie=!1;if(C.isType("CategoryAxis")&&m.isType("CategoryAxis")){let he=this._aLocationX0+f-.5,pe=this._aLocationX1+A-.5;if(_ instanceof vn){let ue=(pe-he)*(1-_.value)/2;he+=ue,pe-=ue}if(P=m.getDataItemPositionX(e,l,he,q),z=m.getDataItemPositionX(e,n,pe,q),he=this._aLocationY0+d-.5,pe=this._aLocationY1+u-.5,p instanceof vn){let ue=(pe-he)*(1-p.value)/2;he+=ue,pe-=ue}W=C.getDataItemPositionY(e,c,he,K),Y=C.getDataItemPositionY(e,s,pe,K),e.setRaw("point",{x:P+(z-P)/2,y:W+(Y-W)/2})}else if(m===B){let he=this._aLocationX0+f-.5,pe=this._aLocationX1+A-.5;if(_ instanceof vn){let ue=(pe-he)*(1-_.value)/2;he+=ue,pe-=ue}if(P=m.getDataItemPositionX(e,l,he,q),z=m.getDataItemPositionX(e,n,pe,q),W=C.getDataItemPositionY(e,s,u,K),this._yOpenField!==this._yField)Y=C.getDataItemPositionY(e,c,d,K);else if(g){let ue=e.get("stackToItemY");Y=ue?C.getDataItemPositionY(ue,s,d,ue.component.get("vcy")):C.basePosition()}else Y=C.basePosition();e.setRaw("point",{x:P+(z-P)/2,y:W}),ie=!0}else if(C===B){let he=this._aLocationY0+d-.5,pe=this._aLocationY1+u-.5;if(p instanceof vn){let ue=(pe-he)*(1-p.value)/2;he+=ue,pe-=ue}if(W=C.getDataItemPositionY(e,c,he,K),Y=C.getDataItemPositionY(e,s,pe,K),z=m.getDataItemPositionX(e,n,A,q),this._xOpenField!==this._xField)P=m.getDataItemPositionX(e,l,f,q);else if(g){let ue=e.get("stackToItemX");P=ue?m.getDataItemPositionX(ue,n,f,ue.component.get("vcx")):m.basePosition()}else P=m.basePosition();Q=!0,e.setRaw("point",{x:z,y:W+(Y-W)/2})}this._updateSeriesGraphics(e,i,P,z,W,Y,Q,ie),P<S&&z<S||P>U&&z>U||W<H&&Y<=H||W>=N&&Y>N||ia(P)||ia(W)?this._toggleColumn(e,!1):this._toggleColumn(e,!0);let ee=e.get("rangeGraphics");ee&&Xe(ee,he=>{this._updateSeriesGraphics(e,he,P,z,W,Y,Q,ie)}),this._applyGraphicsStates(e,t)}}_updateSeriesGraphics(e,t,i,n,s,a,o,l){const c=t.get("width"),A=t.get("height"),u=t.get("maxWidth"),f=t.get("maxHeight"),d=this.getPoint(i,s),_=this.getPoint(n,a),p=e.get("point");if(p){const g=this.getPoint(p.x,p.y);p.x=g.x+this._x,p.y=g.y+this._y}if(i=d.x,n=_.x,s=d.y,a=_.y,at(c)){const g=(n-i-c)/2;i+=g,n-=g}if(at(u)&&u<Math.abs(n-i)){const g=(n-i-u)/2;i+=g,n-=g}if(at(A)){const g=(a-s-A)/2;s+=g,a-=g}if(at(f)&&f<Math.abs(a-s)){const g=(a-s-f)/2;s+=g,a-=g}this.get("adjustBulletPosition")&&(o&&(n=Math.min(Math.max(0,n),this._pw),i=Math.min(Math.max(0,i),this._pw)),l&&(s=Math.min(Math.max(0,s),this._ph),a=Math.min(Math.max(0,a),this._ph))),e.setRaw("left",i),e.setRaw("right",n),e.setRaw("top",s),e.setRaw("bottom",a),t.setPrivate("width",n-i),t.setPrivate("height",a-s),t.set("x",i),t.set("y",a-(a-s))}_handleDataSetChange(){super._handleDataSetChange(),Xe(this._dataItems,e=>{this._toggleColumn(e,!1)})}_applyGraphicsStates(e,t){const i=e.get("graphics"),n=i.states.lookup("dropFromOpen"),s=i.states.lookup("riseFromOpen"),a=i.states.lookup("dropFromPrevious"),o=i.states.lookup("riseFromPrevious");if(n||a||s||o){const l=this.get("xAxis"),c=this.get("yAxis"),A=this.get("baseAxis");let u,f,d;A===l&&c.isType("ValueAxis")?(u=e.get(this._yOpenField),f=e.get(this._yField),d=t.get(this._yField)):A===c&&l.isType("ValueAxis")&&(u=e.get(this._xOpenField),f=e.get(this._xField),d=t.get(this._xField)),at(u)&&at(f)&&(f<u?n&&n.apply():s&&s.apply(),at(d)&&(f<d?a&&a.apply():o&&o.apply()))}}disposeDataItem(e){super.disposeDataItem(e);const t=e.get("graphics");t&&(this.columns.removeValue(t),t.dispose());const i=e.get("rangeGraphics");i&&Xe(i,n=>{const s=n.getPrivate("list");s&&s.removeValue(n),n.dispose()})}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,zs.mG)(this,void 0,void 0,function*(){const n=[i.hideDataItem.call(this,e,t)],s=e.get("graphics");s&&n.push(s.hide(t));const a=e.get("rangeGraphics");a&&Xe(a,o=>{n.push(o.hide(t))}),yield Promise.all(n)})}_toggleColumn(e,t){const i=e.get("graphics");i&&i.setPrivate("visible",t);const n=e.get("rangeGraphics");n&&Xe(n,a=>{a.setPrivate("visible",t)});const s=e.bullets;s&&Xe(s,a=>{a.setPrivate("hidden",!t)})}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,zs.mG)(this,void 0,void 0,function*(){const n=[i.showDataItem.call(this,e,t)],s=e.get("graphics");s&&n.push(s.show(t));const a=e.get("rangeGraphics");a&&Xe(a,o=>{n.push(o.show(t))}),yield Promise.all(n)})}updateLegendMarker(e){let t=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!e){const i=this.dataItems[this.endIndex()-1];i&&(e=i)}if(t){let i=this.columns.template;if(e){let s=e.get("graphics");s&&(i=s)}const n=t.get("markerRectangle");if(n&&!t.get("itemContainer").get("disabled")){const s=n.states.lookup("default");Xe(ev,a=>{const o=i.get(a,this.get(a));n.set(a,o),s.set(a,o)})}}}_getTooltipTarget(e){return"bullet"==this.get("seriesTooltipTarget")?super._getTooltipTarget(e):e.get("graphics")||this}}Object.defineProperty(xp,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"}),Object.defineProperty(xp,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:jo.classNames.concat([xp.className])});class fg extends xp{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>Ye._new(this._root,{position:"absolute",themeTags:Sn(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template]))})}makeColumn(e,t){const i=this.mainContainer.children.push(t.make());return i._setDataItem(e),t.push(i),i}_processAxisRange(e){super._processAxisRange(e),e.columns=new Kr(Pr.new({}),()=>Ye._new(this._root,{position:"absolute",themeTags:Sn(e.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,e.columns.template]))}}function JR(r,e){if(1&r&&(h.TgZ(0,"h6"),h._uU(1),h.qZA()),2&r){const t=h.oxw();h.xp6(1),h.Oqu(t.config.view.labels.title||"")}}Object.defineProperty(fg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(fg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xp.classNames.concat([fg.className])});let KR=(()=>{class r{constructor(t,i,n){this.socketService=t,this.historicalService=i,this.store=n,this.backgroundColor="transparent",this.unsubscribe$=new Yn.x,this.unsubscribeInterval$=new Yn.x}ngAfterViewInit(){let t,i=[],n=this.config;this._root&&this._root.dispose(),this._root=Lh.new("column_chart_"+this.id),this._root.setThemes([bp.new(this._root)]),n.view.chart.BackgroundColor&&(this.backgroundColor=n.view.chart.BackgroundColor);const s=this._root.container.children.push(rt.new(this._root,{panX:!1,panY:!1,wheelX:"none",wheelY:"none",pinchZoomX:!1})),a=Ms.new(this._root,{minGridDistance:10}),o=n.view.xRenderer;a.labels.template.setAll({rotation:n.view.xRenderer.rotation||0,centerY:("100"===o.centerY?hi:"50"===o.centerY?pn:fd)||pn,centerX:("100"===o.centerX?hi:"50"===o.centerX?pn:fd)||hi,breakWords:n.view.xRenderer.breakWords||!0,textAlign:n.view.xRenderer.textAlign||"center",fontSize:n.view.xRenderer.fontSize||"10",visible:n.view.xRenderer.visible||!1}),a.grid.template.setAll({location:1});const A=s.xAxes.push(Cu.new(this._root,{categoryField:"outputs",renderer:a,maxDeviation:.3,tooltip:hl.new(this._root,{})})),u=s.yAxes.push(Pn.new(this._root,{maxDeviation:.3,max:n.view.chart.max||100,min:n.view.chart.min||0,strictMinMax:!0,renderer:Ts.new(this._root,{minGridDistance:20,strokeOpacity:.1})}));s.set("cursor",Di.new(this._root,{})).lineY.set("visible",!1);const d=s.series.push(fg.new(this._root,{name:"Series 1",xAxis:A,yAxis:u,valueYField:"value",sequencedInterpolation:!0,categoryXField:"outputs",tooltip:hl.new(this._root,{labelText:"{valueY}"})}));n.content.length>0&&(i=n.content.map(_=>({topic:_.topic.id,color:Qr(_.color),outputs:this.getItemLabel(_),value:10}))),d.columns.template.setAll({cornerRadiusTL:5,cornerRadiusTR:5,strokeOpacity:0}),d.columns.template.adapters.add("fill",function(_,p){return p.dataItem?p.dataItem.dataContext.color:Qr("0xeeeeee")}),d.columns.template.adapters.add("stroke",function(_,p){return p.dataItem?p.dataItem.dataContext.color:Qr("0xeeeeee")}),d.events.on("datavalidated",function(){t&&u.setAll({min:0,max:+t+20,start:0,end:1})}),A.data.setAll(i),d.data.setAll(i),s.zoomOutButton.set("forceHidden",!0),d.appear(1e3),s.appear(1e3,100),n.content[0]?.isApi?(t="0",this.store.select((0,Yi.rM)(this.id)).pipe((0,Oe.q)(1),(0,Dn.U)(_=>{const p=_.config.content[0];this.historicalService.callAPI(p.api,p.topic.id,p.outputs.read.name).pipe((0,Oe.q)(1),(0,Dn.U)(g=>{const m=g.data.map((C,B)=>{+g.data[B].value>+t&&(t=g.data[B].value);const S={...C,outputs:C.topic};return d.data.setIndex(B,S),S});A.data.setAll(m),this._root?.resize()})).subscribe(),(0,AC.F)(3e3).pipe((0,Rt.R)(this.unsubscribeInterval$),(0,Pa.w)(()=>this.historicalService.callAPI(p.api,p.topic.id,p.outputs.read.name).pipe((0,Oe.q)(1),(0,Dn.U)(g=>{const m=g.data.map((C,B)=>{+g.data[B].value>+t&&(t=g.data[B].value);const S={...C,outputs:C.topic};return d.data.setIndex(B,S),S});A.data.setAll(m),this._root?.resize()})))).subscribe()})).subscribe()):n.content.length>0&&(i=n.content.map((_,p)=>(this.socketService.fetchDeviceData(_.topic.id,_.outputs.read.name).pipe((0,Dn.U)(g=>{d.data.setIndex(p,{topic:_.topic.id,outputs:this.getItemLabel(_),value:g,color:Qr(_.color)}),this._root?.resize()})).subscribe(),{topic:_.topic.id,outputs:this.getItemLabel(_),value:0,color:Qr(_.color)})))}getItemLabel(t){return t.outputs?.read?.name?t.outputs?.read?.name:t.Equivalent?t.Equivalent:t.topic?.name??"undefined"}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.unsubscribeInterval$.next(),this.unsubscribeInterval$.complete(),this._root&&this._root.dispose()}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(ql),h.Y36(cg.O),h.Y36(er.yh))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-column-chart"]],inputs:{id:"id",config:"config"},decls:3,vars:4,consts:[[1,"container"],[4,"ngIf"],[1,"chat-container",3,"id"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0),h.YNc(1,JR,2,1,"h6",1),h._UZ(2,"div",2),h.qZA()),2&i&&(h.Udp("background-color",n.backgroundColor),h.xp6(1),h.Q6J("ngIf",n.config),h.xp6(1),h.Q6J("id","column_chart_"+n.id))},dependencies:[G.O5],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;display:flex;flex-direction:column;border:1px solid #FFFFFF;border-radius:.5rem}.chat-container[_ngcontent-%COMP%]{padding:0;width:100%;height:100%}h6[_ngcontent-%COMP%]{text-align:center;color:#fff}"]})}return r})();function ZR(){}function dC(r){return null==r?ZR:function(){return this.querySelector(r)}}function $R(){return[]}function UT(r){return null==r?$R:function(){return this.querySelectorAll(r)}}function QT(r){return function(){return this.matches(r)}}function OT(r){return function(e){return e.matches(r)}}var iU=Array.prototype.find;function rU(){return this.firstElementChild}var aU=Array.prototype.filter;function oU(){return Array.from(this.children)}function NT(r){return new Array(r.length)}function Nb(r,e){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=e}function dU(r,e,t,i,n,s){for(var o,a=0,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],i[a]=o):t[a]=new Nb(r,s[a]);for(;a<l;++a)(o=e[a])&&(n[a]=o)}function fU(r,e,t,i,n,s,a){var o,l,d,c=new Map,A=e.length,u=s.length,f=new Array(A);for(o=0;o<A;++o)(l=e[o])&&(f[o]=d=a.call(l,l.__data__,o,e)+"",c.has(d)?n[o]=l:c.set(d,l));for(o=0;o<u;++o)d=a.call(r,s[o],o,s)+"",(l=c.get(d))?(i[o]=l,l.__data__=s[o],c.delete(d)):t[o]=new Nb(r,s[o]);for(o=0;o<A;++o)(l=e[o])&&c.get(f[o])===l&&(n[o]=l)}function pU(r){return r.__data__}function gU(r){return"object"==typeof r&&"length"in r?r:Array.from(r)}function xU(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}Nb.prototype={constructor:Nb,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,e){return this._parent.insertBefore(r,e)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};var fC="http://www.w3.org/1999/xhtml";const HT={svg:"http://www.w3.org/2000/svg",xhtml:fC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Hb(r){var e=r+="",t=e.indexOf(":");return t>=0&&"xmlns"!==(e=r.slice(0,t))&&(r=r.slice(t+1)),HT.hasOwnProperty(e)?{space:HT[e],local:r}:r}function SU(r){return function(){this.removeAttribute(r)}}function IU(r){return function(){this.removeAttributeNS(r.space,r.local)}}function FU(r,e){return function(){this.setAttribute(r,e)}}function kU(r,e){return function(){this.setAttributeNS(r.space,r.local,e)}}function LU(r,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(r):this.setAttribute(r,t)}}function PU(r,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,t)}}function zT(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function UU(r){return function(){this.style.removeProperty(r)}}function QU(r,e,t){return function(){this.style.setProperty(r,e,t)}}function OU(r,e,t){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(r):this.style.setProperty(r,i,t)}}function pg(r,e){return r.style.getPropertyValue(e)||zT(r).getComputedStyle(r,null).getPropertyValue(e)}function HU(r){return function(){delete this[r]}}function zU(r,e){return function(){this[r]=e}}function GU(r,e){return function(){var t=e.apply(this,arguments);null==t?delete this[r]:this[r]=t}}function GT(r){return r.trim().split(/^|\s+/)}function pC(r){return r.classList||new YT(r)}function YT(r){this._node=r,this._names=GT(r.getAttribute("class")||"")}function WT(r,e){for(var t=pC(r),i=-1,n=e.length;++i<n;)t.add(e[i])}function VT(r,e){for(var t=pC(r),i=-1,n=e.length;++i<n;)t.remove(e[i])}function WU(r){return function(){WT(this,r)}}function VU(r){return function(){VT(this,r)}}function jU(r,e){return function(){(e.apply(this,arguments)?WT:VT)(this,r)}}function KU(){this.textContent=""}function ZU(r){return function(){this.textContent=r}}function XU(r){return function(){var e=r.apply(this,arguments);this.textContent=e??""}}function $U(){this.innerHTML=""}function eQ(r){return function(){this.innerHTML=r}}function tQ(r){return function(){var e=r.apply(this,arguments);this.innerHTML=e??""}}function nQ(){this.nextSibling&&this.parentNode.appendChild(this)}function sQ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oQ(r){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===fC&&e.documentElement.namespaceURI===fC?e.createElement(r):e.createElementNS(t,r)}}function lQ(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function jT(r){var e=Hb(r);return(e.local?lQ:oQ)(e)}function hQ(){return null}function uQ(){var r=this.parentNode;r&&r.removeChild(this)}function fQ(){var r=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function pQ(){var r=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function wQ(r){return function(){var e=this.__on;if(e){for(var s,t=0,i=-1,n=e.length;t<n;++t)s=e[t],r.type&&s.type!==r.type||s.name!==r.name?e[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?e.length=i:delete this.__on}}}function bQ(r,e,t){return function(){var n,i=this.__on,s=function _Q(r){return function(e){r.call(this,e,this.__data__)}}(e);if(i)for(var a=0,o=i.length;a<o;++a)if((n=i[a]).type===r.type&&n.name===r.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=s,n.options=t),void(n.value=e);this.addEventListener(r.type,s,t),n={type:r.type,name:r.name,value:e,listener:s,options:t},i?i.push(n):this.__on=[n]}}function JT(r,e,t){var i=zT(r),n=i.CustomEvent;"function"==typeof n?n=new n(e,t):(n=i.document.createEvent("Event"),t?(n.initEvent(e,t.bubbles,t.cancelable),n.detail=t.detail):n.initEvent(e,!1,!1)),r.dispatchEvent(n)}function xQ(r,e){return function(){return JT(this,r,e)}}function BQ(r,e){return function(){return JT(this,r,e.apply(this,arguments))}}YT.prototype={add:function(r){this._names.indexOf(r)<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var e=this._names.indexOf(r);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};var KT=[null];function Dc(r,e){this._groups=r,this._parents=e}function ZT(){return new Dc([[document.documentElement]],KT)}Dc.prototype=ZT.prototype={constructor:Dc,select:function XR(r){"function"!=typeof r&&(r=dC(r));for(var e=this._groups,t=e.length,i=new Array(t),n=0;n<t;++n)for(var l,c,s=e[n],a=s.length,o=i[n]=new Array(a),A=0;A<a;++A)(l=s[A])&&(c=r.call(l,l.__data__,A,s))&&("__data__"in l&&(c.__data__=l.__data__),o[A]=c);return new Dc(i,this._parents)},selectAll:function tU(r){r="function"==typeof r?function eU(r){return function(){return function qR(r){return null==r?[]:Array.isArray(r)?r:Array.from(r)}(r.apply(this,arguments))}}(r):UT(r);for(var e=this._groups,t=e.length,i=[],n=[],s=0;s<t;++s)for(var l,a=e[s],o=a.length,c=0;c<o;++c)(l=a[c])&&(i.push(r.call(l,l.__data__,c,a)),n.push(l));return new Dc(i,n)},selectChild:function sU(r){return this.select(null==r?rU:function nU(r){return function(){return iU.call(this.children,r)}}("function"==typeof r?r:OT(r)))},selectChildren:function cU(r){return this.selectAll(null==r?oU:function lU(r){return function(){return aU.call(this.children,r)}}("function"==typeof r?r:OT(r)))},filter:function hU(r){"function"!=typeof r&&(r=QT(r));for(var e=this._groups,t=e.length,i=new Array(t),n=0;n<t;++n)for(var l,s=e[n],a=s.length,o=i[n]=[],c=0;c<a;++c)(l=s[c])&&r.call(l,l.__data__,c,s)&&o.push(l);return new Dc(i,this._parents)},data:function mU(r,e){if(!arguments.length)return Array.from(this,pU);var t=e?fU:dU,i=this._parents,n=this._groups;"function"!=typeof r&&(r=function uU(r){return function(){return r}}(r));for(var s=n.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var A=i[c],u=n[c],f=u.length,d=gU(r.call(A,A&&A.__data__,c,i)),_=d.length,p=o[c]=new Array(_),g=a[c]=new Array(_);t(A,u,p,g,l[c]=new Array(f),d,e);for(var S,U,C=0,B=0;C<_;++C)if(S=p[C]){for(C>=B&&(B=C+1);!(U=g[B])&&++B<_;);S._next=U||null}}return(a=new Dc(a,i))._enter=o,a._exit=l,a},enter:function AU(){return new Dc(this._enter||this._groups.map(NT),this._parents)},exit:function _U(){return new Dc(this._exit||this._groups.map(NT),this._parents)},join:function vU(r,e,t){var i=this.enter(),n=this,s=this.exit();return"function"==typeof r?(i=r(i))&&(i=i.selection()):i=i.append(r+""),null!=e&&(n=e(n))&&(n=n.selection()),null==t?s.remove():t(s),i&&n?i.merge(n).order():n},merge:function wU(r){for(var e=r.selection?r.selection():r,t=this._groups,i=e._groups,n=t.length,a=Math.min(n,i.length),o=new Array(n),l=0;l<a;++l)for(var d,c=t[l],A=i[l],u=c.length,f=o[l]=new Array(u),_=0;_<u;++_)(d=c[_]||A[_])&&(f[_]=d);for(;l<n;++l)o[l]=t[l];return new Dc(o,this._parents)},selection:function MQ(){return this},order:function bU(){for(var r=this._groups,e=-1,t=r.length;++e<t;)for(var a,i=r[e],n=i.length-1,s=i[n];--n>=0;)(a=i[n])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this},sort:function yU(r){function e(u,f){return u&&f?r(u.__data__,f.__data__):!u-!f}r||(r=xU);for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s){for(var c,a=t[s],o=a.length,l=n[s]=new Array(o),A=0;A<o;++A)(c=a[A])&&(l[A]=c);l.sort(e)}return new Dc(n,this._parents).order()},call:function BU(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this},nodes:function CU(){return Array.from(this)},node:function EU(){for(var r=this._groups,e=0,t=r.length;e<t;++e)for(var i=r[e],n=0,s=i.length;n<s;++n){var a=i[n];if(a)return a}return null},size:function MU(){let r=0;for(const e of this)++r;return r},empty:function TU(){return!this.node()},each:function DU(r){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var o,n=e[t],s=0,a=n.length;s<a;++s)(o=n[s])&&r.call(o,o.__data__,s,n);return this},attr:function RU(r,e){var t=Hb(r);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==e?t.local?IU:SU:"function"==typeof e?t.local?PU:LU:t.local?kU:FU)(t,e))},style:function NU(r,e,t){return arguments.length>1?this.each((null==e?UU:"function"==typeof e?OU:QU)(r,e,t??"")):pg(this.node(),r)},property:function YU(r,e){return arguments.length>1?this.each((null==e?HU:"function"==typeof e?GU:zU)(r,e)):this.node()[r]},classed:function JU(r,e){var t=GT(r+"");if(arguments.length<2){for(var i=pC(this.node()),n=-1,s=t.length;++n<s;)if(!i.contains(t[n]))return!1;return!0}return this.each(("function"==typeof e?jU:e?WU:VU)(t,e))},text:function qU(r){return arguments.length?this.each(null==r?KU:("function"==typeof r?XU:ZU)(r)):this.node().textContent},html:function iQ(r){return arguments.length?this.each(null==r?$U:("function"==typeof r?tQ:eQ)(r)):this.node().innerHTML},raise:function rQ(){return this.each(nQ)},lower:function aQ(){return this.each(sQ)},append:function cQ(r){var e="function"==typeof r?r:jT(r);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function AQ(r,e){var t="function"==typeof r?r:jT(r),i=null==e?hQ:"function"==typeof e?e:dC(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function dQ(){return this.each(uQ)},clone:function mQ(r){return this.select(r?pQ:fQ)},datum:function gQ(r){return arguments.length?this.property("__data__",r):this.node().__data__},on:function yQ(r,e,t){var n,a,i=function vQ(r){return r.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}(r+""),s=i.length;if(!(arguments.length<2)){for(o=e?bQ:wQ,n=0;n<s;++n)this.each(o(i[n],e,t));return this}var o=this.node().__on;if(o)for(var A,l=0,c=o.length;l<c;++l)for(n=0,A=o[l];n<s;++n)if((a=i[n]).type===A.type&&a.name===A.name)return A.value},dispatch:function CQ(r,e){return this.each(("function"==typeof e?BQ:xQ)(r,e))},[Symbol.iterator]:function*EQ(){for(var r=this._groups,e=0,t=r.length;e<t;++e)for(var a,i=r[e],n=0,s=i.length;n<s;++n)(a=i[n])&&(yield a)}};const pv=ZT;var TQ={value:()=>{}};function XT(){for(var i,r=0,e=arguments.length,t={};r<e;++r){if(!(i=arguments[r]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new zb(t)}function zb(r){this._=r}function SQ(r,e){for(var n,t=0,i=r.length;t<i;++t)if((n=r[t]).name===e)return n.value}function qT(r,e,t){for(var i=0,n=r.length;i<n;++i)if(r[i].name===e){r[i]=TQ,r=r.slice(0,i).concat(r.slice(i+1));break}return null!=t&&r.push({name:e,value:t}),r}zb.prototype=XT.prototype={constructor:zb,on:function(r,e){var n,t=this._,i=function DQ(r,e){return r.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}(r+"",t),s=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(r=i[s]).type)t[n]=qT(t[n],r.name,e);else if(null==e)for(n in t)t[n]=qT(t[n],r.name,null);return this}for(;++s<a;)if((n=(r=i[s]).type)&&(n=SQ(t[n],r.name)))return n},copy:function(){var r={},e=this._;for(var t in e)r[t]=e[t].slice();return new zb(r)},call:function(r,e){if((n=arguments.length-2)>0)for(var n,s,t=new Array(n),i=0;i<n;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(i=0,n=(s=this._[r]).length;i<n;++i)s[i].value.apply(e,t)},apply:function(r,e,t){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var i=this._[r],n=0,s=i.length;n<s;++n)i[n].value.apply(e,t)}};const IQ=XT;var Gb,_v,mg=0,mv=0,gv=0,$T=1e3,Yb=0,Bp=0,Wb=0,vv="object"==typeof performance&&performance.now?performance:Date,eD="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function mC(){return Bp||(eD(FQ),Bp=vv.now()+Wb)}function FQ(){Bp=0}function Vb(){this._call=this._time=this._next=null}function tD(r,e,t){var i=new Vb;return i.restart(r,e,t),i}function iD(){Bp=(Yb=vv.now())+Wb,mg=mv=0;try{!function kQ(){mC(),++mg;for(var e,r=Gb;r;)(e=Bp-r._time)>=0&&r._call.call(void 0,e),r=r._next;--mg}()}finally{mg=0,function PQ(){for(var r,t,e=Gb,i=1/0;e;)e._call?(i>e._time&&(i=e._time),r=e,e=e._next):(t=e._next,e._next=null,e=r?r._next=t:Gb=t);_v=r,gC(i)}(),Bp=0}}function LQ(){var r=vv.now(),e=r-Yb;e>$T&&(Wb-=e,Yb=r)}function gC(r){mg||(mv&&(mv=clearTimeout(mv)),r-Bp>24?(r<1/0&&(mv=setTimeout(iD,r-vv.now()-Wb)),gv&&(gv=clearInterval(gv))):(gv||(Yb=vv.now(),gv=setInterval(LQ,$T)),mg=1,eD(iD)))}function nD(r,e,t){var i=new Vb;return i.restart(n=>{i.stop(),r(n+e)},e=null==e?0:+e,t),i}Vb.prototype=tD.prototype={constructor:Vb,restart:function(r,e,t){if("function"!=typeof r)throw new TypeError("callback is not a function");t=(null==t?mC():+t)+(null==e?0:+e),!this._next&&_v!==this&&(_v?_v._next=this:Gb=this,_v=this),this._call=r,this._time=t,gC()},stop:function(){this._call&&(this._call=null,this._time=1/0,gC())}};var RQ=IQ("start","end","cancel","interrupt"),UQ=[],rD=0,jb=3;function Kb(r,e,t,i,n,s){var a=r.__transition;if(a){if(t in a)return}else r.__transition={};!function QQ(r,e,t){var n,i=r.__transition;function a(c){var A,u,f,d;if(1!==t.state)return l();for(A in i)if((d=i[A]).name===t.name){if(d.state===jb)return nD(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",r,r.__data__,d.index,d.group),delete i[A]):+A<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",r,r.__data__,d.index,d.group),delete i[A])}if(nD(function(){t.state===jb&&(t.state=4,t.timer.restart(o,t.delay,t.time),o(c))}),t.state=2,t.on.call("start",r,r.__data__,t.index,t.group),2===t.state){for(t.state=jb,n=new Array(f=t.tween.length),A=0,u=-1;A<f;++A)(d=t.tween[A].value.call(r,r.__data__,t.index,t.group))&&(n[++u]=d);n.length=u+1}}function o(c){for(var A=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=5,1),u=-1,f=n.length;++u<f;)n[u].call(r,A);5===t.state&&(t.on.call("end",r,r.__data__,t.index,t.group),l())}function l(){for(var c in t.state=6,t.timer.stop(),delete i[e],i)return;delete r.__transition}i[e]=t,t.timer=tD(function s(c){t.state=1,t.timer.restart(a,t.delay,t.time),t.delay<=c&&a(c-t.delay)},0,t.time)}(r,t,{name:e,index:i,group:n,on:RQ,tween:UQ,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:rD})}function wC(r,e){var t=Rh(r,e);if(t.state>rD)throw new Error("too late; already scheduled");return t}function DA(r,e){var t=Rh(r,e);if(t.state>jb)throw new Error("too late; already running");return t}function Rh(r,e){var t=r.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function kd(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}var Zb,oD=180/Math.PI,bC={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lD(r,e,t,i,n,s){var a,o,l;return(a=Math.sqrt(r*r+e*e))&&(r/=a,e/=a),(l=r*t+e*i)&&(t-=r*l,i-=e*l),(o=Math.sqrt(t*t+i*i))&&(t/=o,i/=o,l/=o),r*i<e*t&&(r=-r,e=-e,l=-l,a=-a),{translateX:n,translateY:s,rotate:Math.atan2(e,r)*oD,skewX:Math.atan(l)*oD,scaleX:a,scaleY:o}}function cD(r,e,t,i){function n(c){return c.length?c.pop()+" ":""}return function(c,A){var u=[],f=[];return c=r(c),A=r(A),function s(c,A,u,f,d,_){if(c!==u||A!==f){var p=d.push("translate(",null,e,null,t);_.push({i:p-4,x:kd(c,u)},{i:p-2,x:kd(A,f)})}else(u||f)&&d.push("translate("+u+e+f+t)}(c.translateX,c.translateY,A.translateX,A.translateY,u,f),function a(c,A,u,f){c!==A?(c-A>180?A+=360:A-c>180&&(c+=360),f.push({i:u.push(n(u)+"rotate(",null,i)-2,x:kd(c,A)})):A&&u.push(n(u)+"rotate("+A+i)}(c.rotate,A.rotate,u,f),function o(c,A,u,f){c!==A?f.push({i:u.push(n(u)+"skewX(",null,i)-2,x:kd(c,A)}):A&&u.push(n(u)+"skewX("+A+i)}(c.skewX,A.skewX,u,f),function l(c,A,u,f,d,_){if(c!==u||A!==f){var p=d.push(n(d)+"scale(",null,",",null,")");_.push({i:p-4,x:kd(c,u)},{i:p-2,x:kd(A,f)})}else(1!==u||1!==f)&&d.push(n(d)+"scale("+u+","+f+")")}(c.scaleX,c.scaleY,A.scaleX,A.scaleY,u,f),c=A=null,function(d){for(var g,_=-1,p=f.length;++_<p;)u[(g=f[_]).i]=g.x(d);return u.join("")}}}var GQ=cD(function HQ(r){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(r+"");return e.isIdentity?bC:lD(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),YQ=cD(function zQ(r){return null!=r&&(Zb||(Zb=document.createElementNS("http://www.w3.org/2000/svg","g")),Zb.setAttribute("transform",r),r=Zb.transform.baseVal.consolidate())?lD((r=r.matrix).a,r.b,r.c,r.d,r.e,r.f):bC},", ",")",")");function WQ(r,e){var t,i;return function(){var n=DA(this,r),s=n.tween;if(s!==t)for(var a=0,o=(i=t=s).length;a<o;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}n.tween=i}}function VQ(r,e,t){var i,n;if("function"!=typeof t)throw new Error;return function(){var s=DA(this,r),a=s.tween;if(a!==i){n=(i=a).slice();for(var o={name:e,value:t},l=0,c=n.length;l<c;++l)if(n[l].name===e){n[l]=o;break}l===c&&n.push(o)}s.tween=n}}function yC(r,e,t){var i=r._id;return r.each(function(){var n=DA(this,i);(n.value||(n.value={}))[e]=t.apply(this,arguments)}),function(n){return Rh(n,i).value[e]}}function xC(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function hD(r,e){var t=Object.create(r.prototype);for(var i in e)t[i]=e[i];return t}function wv(){}var Xb=1/.7,gg="\\s*([+-]?\\d+)\\s*",yv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",SA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JQ=/^#([0-9a-f]{3,8})$/,KQ=new RegExp(`^rgb\\(${gg},${gg},${gg}\\)$`),ZQ=new RegExp(`^rgb\\(${SA},${SA},${SA}\\)$`),XQ=new RegExp(`^rgba\\(${gg},${gg},${gg},${yv}\\)$`),qQ=new RegExp(`^rgba\\(${SA},${SA},${SA},${yv}\\)$`),$Q=new RegExp(`^hsl\\(${yv},${SA},${SA}\\)$`),e4=new RegExp(`^hsla\\(${yv},${SA},${SA},${yv}\\)$`),AD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function uD(){return this.rgb().formatHex()}function dD(){return this.rgb().formatRgb()}function xv(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=JQ.exec(r))?(t=e[1].length,e=parseInt(e[1],16),6===t?fD(e):3===t?new ec(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===t?qb(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===t?qb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=KQ.exec(r))?new ec(e[1],e[2],e[3],1):(e=ZQ.exec(r))?new ec(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=XQ.exec(r))?qb(e[1],e[2],e[3],e[4]):(e=qQ.exec(r))?qb(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$Q.exec(r))?gD(e[1],e[2]/100,e[3]/100,1):(e=e4.exec(r))?gD(e[1],e[2]/100,e[3]/100,e[4]):AD.hasOwnProperty(r)?fD(AD[r]):"transparent"===r?new ec(NaN,NaN,NaN,0):null}function fD(r){return new ec(r>>16&255,r>>8&255,255&r,1)}function qb(r,e,t,i){return i<=0&&(r=e=t=NaN),new ec(r,e,t,i)}function $b(r,e,t,i){return 1===arguments.length?function r4(r){return r instanceof wv||(r=xv(r)),r?new ec((r=r.rgb()).r,r.g,r.b,r.opacity):new ec}(r):new ec(r,e,t,i??1)}function ec(r,e,t,i){this.r=+r,this.g=+e,this.b=+t,this.opacity=+i}function pD(){return`#${Ep(this.r)}${Ep(this.g)}${Ep(this.b)}`}function mD(){const r=ey(this.opacity);return`${1===r?"rgb(":"rgba("}${Cp(this.r)}, ${Cp(this.g)}, ${Cp(this.b)}${1===r?")":`, ${r})`}`}function ey(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Cp(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Ep(r){return((r=Cp(r))<16?"0":"")+r.toString(16)}function gD(r,e,t,i){return i<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Uh(r,e,t,i)}function _D(r){if(r instanceof Uh)return new Uh(r.h,r.s,r.l,r.opacity);if(r instanceof wv||(r=xv(r)),!r)return new Uh;if(r instanceof Uh)return r;var e=(r=r.rgb()).r/255,t=r.g/255,i=r.b/255,n=Math.min(e,t,i),s=Math.max(e,t,i),a=NaN,o=s-n,l=(s+n)/2;return o?(a=e===s?(t-i)/o+6*(t<i):t===s?(i-e)/o+2:(e-t)/o+4,o/=l<.5?s+n:2-s-n,a*=60):o=l>0&&l<1?0:a,new Uh(a,o,l,r.opacity)}function Uh(r,e,t,i){this.h=+r,this.s=+e,this.l=+t,this.opacity=+i}function vD(r){return(r=(r||0)%360)<0?r+360:r}function ty(r){return Math.max(0,Math.min(1,r||0))}function BC(r,e,t){return 255*(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)}function wD(r,e,t,i,n){var s=r*r,a=s*r;return((1-3*r+3*s-a)*e+(4-6*s+3*a)*t+(1+3*r+3*s-3*a)*i+a*n)/6}xC(wv,xv,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:uD,formatHex:uD,formatHex8:function t4(){return this.rgb().formatHex8()},formatHsl:function n4(){return _D(this).formatHsl()},formatRgb:dD,toString:dD}),xC(ec,$b,hD(wv,{brighter(r){return r=null==r?Xb:Math.pow(Xb,r),new ec(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=null==r?.7:Math.pow(.7,r),new ec(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new ec(Cp(this.r),Cp(this.g),Cp(this.b),ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pD,formatHex:pD,formatHex8:function s4(){return`#${Ep(this.r)}${Ep(this.g)}${Ep(this.b)}${Ep(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:mD,toString:mD})),xC(Uh,function a4(r,e,t,i){return 1===arguments.length?_D(r):new Uh(r,e,t,i??1)},hD(wv,{brighter(r){return r=null==r?Xb:Math.pow(Xb,r),new Uh(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=null==r?.7:Math.pow(.7,r),new Uh(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+360*(this.h<0),e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,n=2*t-i;return new ec(BC(r>=240?r-240:r+120,n,i),BC(r,n,i),BC(r<120?r+240:r-120,n,i),this.opacity)},clamp(){return new Uh(vD(this.h),ty(this.s),ty(this.l),ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=ey(this.opacity);return`${1===r?"hsl(":"hsla("}${vD(this.h)}, ${100*ty(this.s)}%, ${100*ty(this.l)}%${1===r?")":`, ${r})`}`}}));const bD=r=>()=>r;function xD(r,e){var t=e-r;return t?function yD(r,e){return function(t){return r+t*e}}(r,t):bD(isNaN(r)?e:r)}const BD=function r(e){var t=function h4(r){return 1==(r=+r)?xD:function(e,t){return t-e?function c4(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(i){return Math.pow(r+i*e,t)}}(e,t,r):bD(isNaN(e)?t:e)}}(e);function i(n,s){var a=t((n=$b(n)).r,(s=$b(s)).r),o=t(n.g,s.g),l=t(n.b,s.b),c=xD(n.opacity,s.opacity);return function(A){return n.r=a(A),n.g=o(A),n.b=l(A),n.opacity=c(A),n+""}}return i.gamma=r,i}(1);function CD(r){return function(e){var a,o,t=e.length,i=new Array(t),n=new Array(t),s=new Array(t);for(a=0;a<t;++a)o=$b(e[a]),i[a]=o.r||0,n[a]=o.g||0,s[a]=o.b||0;return i=r(i),n=r(n),s=r(s),o.opacity=1,function(l){return o.r=i(l),o.g=n(l),o.b=s(l),o+""}}}CD(function o4(r){var e=r.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),n=r[i],s=r[i+1];return wD((t-i/e)*e,i>0?r[i-1]:2*n-s,n,s,i<e-1?r[i+2]:2*s-n)}}),CD(function l4(r){var e=r.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*e);return wD((t-i/e)*e,r[(i+e-1)%e],r[i%e],r[(i+1)%e],r[(i+2)%e])}});var CC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,EC=new RegExp(CC.source,"g");function d4(r,e){var i,n,s,t=CC.lastIndex=EC.lastIndex=0,a=-1,o=[],l=[];for(r+="",e+="";(i=CC.exec(r))&&(n=EC.exec(e));)(s=n.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(n=n[0])?o[a]?o[a]+=n:o[++a]=n:(o[++a]=null,l.push({i:a,x:kd(i,n)})),t=EC.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?function u4(r){return function(e){return r(e)+""}}(l[0].x):function A4(r){return function(){return r}}(e):(e=l.length,function(c){for(var u,A=0;A<e;++A)o[(u=l[A]).i]=u.x(c);return o.join("")})}function ED(r,e){var t;return("number"==typeof e?kd:e instanceof xv?BD:(t=xv(e))?(e=t,BD):d4)(r,e)}function f4(r){return function(){this.removeAttribute(r)}}function p4(r){return function(){this.removeAttributeNS(r.space,r.local)}}function m4(r,e,t){var i,s,n=t+"";return function(){var a=this.getAttribute(r);return a===n?null:a===i?s:s=e(i=a,t)}}function g4(r,e,t){var i,s,n=t+"";return function(){var a=this.getAttributeNS(r.space,r.local);return a===n?null:a===i?s:s=e(i=a,t)}}function _4(r,e,t){var i,n,s;return function(){var a,l,o=t(this);return null==o?void this.removeAttribute(r):(a=this.getAttribute(r))===(l=o+"")?null:a===i&&l===n?s:(n=l,s=e(i=a,o))}}function v4(r,e,t){var i,n,s;return function(){var a,l,o=t(this);return null==o?void this.removeAttributeNS(r.space,r.local):(a=this.getAttributeNS(r.space,r.local))===(l=o+"")?null:a===i&&l===n?s:(n=l,s=e(i=a,o))}}function x4(r,e){var t,i;function n(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&function y4(r,e){return function(t){this.setAttributeNS(r.space,r.local,e.call(this,t))}}(r,s)),t}return n._value=e,n}function B4(r,e){var t,i;function n(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&function b4(r,e){return function(t){this.setAttribute(r,e.call(this,t))}}(r,s)),t}return n._value=e,n}function E4(r,e){return function(){wC(this,r).delay=+e.apply(this,arguments)}}function M4(r,e){return e=+e,function(){wC(this,r).delay=e}}function D4(r,e){return function(){DA(this,r).duration=+e.apply(this,arguments)}}function S4(r,e){return e=+e,function(){DA(this,r).duration=e}}var W4=pv.prototype.constructor;function MD(r){return function(){this.style.removeProperty(r)}}var cO=0;function Eu(r,e,t,i){this._groups=r,this._parents=e,this._name=t,this._id=i}function TD(){return++cO}var Mu=pv.prototype;Eu.prototype=function hO(r){return pv().transition(r)}.prototype={constructor:Eu,select:function G4(r){var e=this._name,t=this._id;"function"!=typeof r&&(r=dC(r));for(var i=this._groups,n=i.length,s=new Array(n),a=0;a<n;++a)for(var A,u,o=i[a],l=o.length,c=s[a]=new Array(l),f=0;f<l;++f)(A=o[f])&&(u=r.call(A,A.__data__,f,o))&&("__data__"in A&&(u.__data__=A.__data__),c[f]=u,Kb(c[f],e,t,f,c,Rh(A,t)));return new Eu(s,this._parents,e,t)},selectAll:function Y4(r){var e=this._name,t=this._id;"function"!=typeof r&&(r=UT(r));for(var i=this._groups,n=i.length,s=[],a=[],o=0;o<n;++o)for(var A,l=i[o],c=l.length,u=0;u<c;++u)if(A=l[u]){for(var d,f=r.call(A,A.__data__,u,l),_=Rh(A,t),p=0,g=f.length;p<g;++p)(d=f[p])&&Kb(d,e,t,p,f,_);s.push(f),a.push(A)}return new Eu(s,a,e,t)},selectChild:Mu.selectChild,selectChildren:Mu.selectChildren,filter:function R4(r){"function"!=typeof r&&(r=QT(r));for(var e=this._groups,t=e.length,i=new Array(t),n=0;n<t;++n)for(var l,s=e[n],a=s.length,o=i[n]=[],c=0;c<a;++c)(l=s[c])&&r.call(l,l.__data__,c,s)&&o.push(l);return new Eu(i,this._parents,this._name,this._id)},merge:function U4(r){if(r._id!==this._id)throw new Error;for(var e=this._groups,t=r._groups,i=e.length,s=Math.min(i,t.length),a=new Array(i),o=0;o<s;++o)for(var f,l=e[o],c=t[o],A=l.length,u=a[o]=new Array(A),d=0;d<A;++d)(f=l[d]||c[d])&&(u[d]=f);for(;o<i;++o)a[o]=e[o];return new Eu(a,this._parents,this._name,this._id)},selection:function V4(){return new W4(this._groups,this._parents)},transition:function oO(){for(var r=this._name,e=this._id,t=TD(),i=this._groups,n=i.length,s=0;s<n;++s)for(var l,a=i[s],o=a.length,c=0;c<o;++c)if(l=a[c]){var A=Rh(l,e);Kb(l,r,t,c,a,{time:A.time+A.delay+A.duration,delay:0,duration:A.duration,ease:A.ease})}return new Eu(i,this._parents,r,t)},call:Mu.call,nodes:Mu.nodes,node:Mu.node,size:Mu.size,empty:Mu.empty,each:Mu.each,on:function N4(r,e){var t=this._id;return arguments.length<2?Rh(this.node(),t).on.on(r):this.each(function O4(r,e,t){var i,n,s=function Q4(r){return(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(e)?wC:DA;return function(){var a=s(this,r),o=a.on;o!==i&&(n=(i=o).copy()).on(e,t),a.on=n}}(t,r,e))},attr:function w4(r,e){var t=Hb(r),i="transform"===t?YQ:ED;return this.attrTween(r,"function"==typeof e?(t.local?v4:_4)(t,i,yC(this,"attr."+r,e)):null==e?(t.local?p4:f4)(t):(t.local?g4:m4)(t,i,e))},attrTween:function C4(r,e){var t="attr."+r;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;var i=Hb(r);return this.tween(t,(i.local?x4:B4)(i,e))},style:function X4(r,e,t){var i="transform"==(r+="")?GQ:ED;return null==e?this.styleTween(r,function j4(r,e){var t,i,n;return function(){var s=pg(this,r),a=(this.style.removeProperty(r),pg(this,r));return s===a?null:s===t&&a===i?n:n=e(t=s,i=a)}}(r,i)).on("end.style."+r,MD(r)):"function"==typeof e?this.styleTween(r,function K4(r,e,t){var i,n,s;return function(){var a=pg(this,r),o=t(this),l=o+"";return null==o&&(this.style.removeProperty(r),l=o=pg(this,r)),a===l?null:a===i&&l===n?s:(n=l,s=e(i=a,o))}}(r,i,yC(this,"style."+r,e))).each(function Z4(r,e){var t,i,n,o,s="style."+e,a="end."+s;return function(){var l=DA(this,r),c=l.on,A=null==l.value[s]?o||(o=MD(e)):void 0;(c!==t||n!==A)&&(i=(t=c).copy()).on(a,n=A),l.on=i}}(this._id,r)):this.styleTween(r,function J4(r,e,t){var i,s,n=t+"";return function(){var a=pg(this,r);return a===n?null:a===i?s:s=e(i=a,t)}}(r,i,e),t).on("end.style."+r,null)},styleTween:function eO(r,e,t){var i="style."+(r+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function $4(r,e,t){var i,n;function s(){var a=e.apply(this,arguments);return a!==n&&(i=(n=a)&&function q4(r,e,t){return function(i){this.style.setProperty(r,e.call(this,i),t)}}(r,a,t)),i}return s._value=e,s}(r,e,t??""))},text:function nO(r){return this.tween("text","function"==typeof r?function iO(r){return function(){var e=r(this);this.textContent=e??""}}(yC(this,"text",r)):function tO(r){return function(){this.textContent=r}}(null==r?"":r+""))},textTween:function aO(r){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==r)return this.tween(e,null);if("function"!=typeof r)throw new Error;return this.tween(e,function sO(r){var e,t;function i(){var n=r.apply(this,arguments);return n!==t&&(e=(t=n)&&function rO(r){return function(e){this.textContent=r.call(this,e)}}(n)),e}return i._value=r,i}(r))},remove:function z4(){return this.on("end.remove",function H4(r){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==r)return;e&&e.removeChild(this)}}(this._id))},tween:function jQ(r,e){var t=this._id;if(r+="",arguments.length<2){for(var a,i=Rh(this.node(),t).tween,n=0,s=i.length;n<s;++n)if((a=i[n]).name===r)return a.value;return null}return this.each((null==e?WQ:VQ)(t,r,e))},delay:function T4(r){var e=this._id;return arguments.length?this.each(("function"==typeof r?E4:M4)(e,r)):Rh(this.node(),e).delay},duration:function I4(r){var e=this._id;return arguments.length?this.each(("function"==typeof r?D4:S4)(e,r)):Rh(this.node(),e).duration},ease:function k4(r){var e=this._id;return arguments.length?this.each(function F4(r,e){if("function"!=typeof e)throw new Error;return function(){DA(this,r).ease=e}}(e,r)):Rh(this.node(),e).ease},easeVarying:function P4(r){if("function"!=typeof r)throw new Error;return this.each(function L4(r,e){return function(){var t=e.apply(this,arguments);if("function"!=typeof t)throw new Error;DA(this,r).ease=t}}(this._id,r))},end:function lO(){var r,e,t=this,i=t._id,n=t.size();return new Promise(function(s,a){var o={value:a},l={value:function(){0==--n&&s()}};t.each(function(){var c=DA(this,i),A=c.on;A!==r&&((e=(r=A).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),0===n&&s()})},[Symbol.iterator]:Mu[Symbol.iterator]};var uO={time:null,delay:0,duration:250,ease:function AO(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}};function dO(r,e){for(var t;!(t=r.__transition)||!(t=t[e]);)if(!(r=r.parentNode))throw new Error(`transition ${e} not found`);return t}pv.prototype.interrupt=function NQ(r){return this.each(function(){!function OQ(r,e){var i,n,a,t=r.__transition,s=!0;if(t){for(a in e=null==e?null:e+"",t)(i=t[a]).name===e?(n=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(n?"interrupt":"cancel",r,r.__data__,i.index,i.group),delete t[a]):s=!1;s&&delete r.__transition}}(this,r)})},pv.prototype.transition=function fO(r){var e,t;r instanceof Eu?(e=r._id,r=r._name):(e=TD(),(t=uO).time=mC(),r=null==r?null:r+"");for(var i=this._groups,n=i.length,s=0;s<n;++s)for(var l,a=i[s],o=a.length,c=0;c<o;++c)(l=a[c])&&Kb(l,r,e,c,a,t||dO(l,e));return new Eu(i,this._parents,r,e)};Math;function Bv(r){return{type:r}}function IA(r){return"string"==typeof r?new Dc([[document.querySelector(r)]],[document.documentElement]):new Dc([[r]],KT)}function wg(r,e,t){this.k=r,this.x=e,this.y=t}["w","e"].map(Bv),["n","s"].map(Bv),["n","w","e","s","nw","ne","sw","se"].map(Bv),wg.prototype={constructor:wg,scale:function(r){return 1===r?this:new wg(this.k*r,this.x,this.y)},translate:function(r,e){return 0===r&0===e?this:new wg(this.k,this.x+this.k*r,this.y+this.k*e)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new wg(1,0,0);var FA=function(r){return r[r.dialog=0]="dialog",r[r.hover=1]="hover",r[r.redirect=2]="redirect",r[r.url=3]="url",r}(FA||{}),ry=function(r){return r[r.motion=0]="motion",r[r.conditional=1]="conditional",r}(ry||{}),bg=function(r){return r.GT=">",r.LT="<",r.E="=",r.between0=">>",r.between1="<<",r}(bg||{}),DO=ge(9286),IC=ge(7560),Qh=ge(3005);const SO=["Host"];function IO(r,e){}let PD=(()=>{class r{constructor(t){this.componentName=t.componentName,this.componentConfig=t.config}ngAfterViewInit(){this.drawComponent()}drawComponent(){const t=Wk[this.componentName],i=this.host;i.clear();const n=i.createComponent(t);n.instance.config=this.componentConfig,n.instance.id=this.componentName}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(Qh.WI))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-action-dialog"]],viewQuery:function(i,n){if(1&i&&h.Gf(SO,7,h.s_b),2&i){let s;h.iGM(s=h.CRH())&&(n.host=s.first)}},decls:4,vars:0,consts:[[1,"grid-item-container"],[1,"grid-item-content"],["Host",""]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,IO,0,0,"ng-template",null,2,h.W1O),h.qZA()())},styles:["*[_ngcontent-%COMP%]{transition:.5s}.grid-item-container[_ngcontent-%COMP%]{background-color:#5d5c61;display:flex;align-items:center;justify-content:center;margin:0;padding:0;width:100%;height:100%;overflow-y:hidden;position:relative}.grid-item-container[_ngcontent-%COMP%]:hover   .action-bar[_ngcontent-%COMP%]{top:0}.grid-item-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.grid-item-content[_ngcontent-%COMP%]{background-color:#5d5c61;width:100%;height:100%;padding:.5rem}"]})}return r})(),RD=(()=>{class r{constructor(t,i){this.sanitizer=i,this.Url=this.sanitizer.bypassSecurityTrustResourceUrl(t.url)}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(Qh.WI),h.Y36(Yl.H7))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-link-dialog"]],decls:2,vars:1,consts:[[1,"container"],[3,"src"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0),h._UZ(1,"iframe",1),h.qZA()),2&i&&(h.xp6(1),h.Q6J("src",n.Url,h.uOi))},styles:[".container[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return r})();var yg=ge(2939);let FO=(()=>{class r{constructor(t,i,n){this.transmit=t,this.http=i,this.router=n,this.tokenKey="token",this.baseUrl=oo.N.API_BASE,this.httpTransferData={upload:0,download:0}}setBaseUrl(t){this.baseUrl=t}send(t){if(!t)return;void 0===t.reportProgress&&(t.reportProgress=!1),t.headers||(t.headers={}),("POST"===t.method||"PUT"===t.method)&&!t.body&&(t.body=t.params,t.params={}),("GET"===t.method||"DELETE"===t.method)&&!t.params&&(t.params=t.body,t.body={}),t.params||(t.params={}),t.method||(t.method="GET"),t.reportProgress&&!t.contentType&&(t.contentType="multipart/form-data"),t.contentType||(t.contentType="application/json"),this.httpTransferData.upload+=this.lengthInUtf8Bytes(JSON.stringify(t)),t.path.length>0&&!t.path.startsWith("/")&&(t.path="/"+t.path);let i=this.baseUrl;t.baseUrl&&(i=t.baseUrl),i+=t.path,!t.noAuth&&this.getToken()&&(t.headers.Authorization=`Bearer ${this.getToken()}`),t.contentType&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]=t.contentType),void 0===t.responseType&&(t.responseType="json"),t.headers["XX-Skip-Interceptor"]="";const n=new yg.WM(t.headers);let s;if(("GET"===t.method||"DELETE"===t.method)&&t.params&&Object.keys(t.params).length>0){let o=[];for(const l in t.params){let c=encodeURIComponent(t.params[l]);o.push(`${l}=${c}`)}i+=`?${o.join("&")}`}("POST"===t.method||"PUT"===t.method||"PATCH"===t.method)&&(t.formData?t.body=t.formData:"application/json"===t.contentType&&(t.body=JSON.stringify(t.body)));let a={headers:n,reportProgress:t.reportProgress};return t.responseType&&(a.responseType=t.responseType),t.observe&&(a.observe=t.observe),"POST"===t.method?s=this.http.post(i,t.body,{...a}):"PUT"===t.method?s=this.http.put(i,t.body,{...a}):"DELETE"===t.method?s=this.http.delete(i,{...a}):"PATCH"===t.method?s=this.http.patch(i,t.body,{...a}):"GET"===t.method&&(s=this.http.get(i,{...a})),s}fetchJson(t,i){var n=this;return(0,hr.Z)(function*(){return i||(i={}),void 0===i.redirectIf401&&(i.redirectIf401=!0),void 0===i.showPageLoading&&(i.showPageLoading=!0),void 0===i.toastErrorMessage&&(i.toastErrorMessage=!0),i.showPageLoading&&n.transmit.emit("page-loading",!0),new Promise(s=>{const a=n.send(t)?.subscribe({next:o=>{a?.unsubscribe(),"string"==typeof o&&(o=JSON.parse(o)),n.httpTransferData.download+=n.lengthInUtf8Bytes(JSON.stringify(o)),i?.showPageLoading&&n.transmit.emit("page-loading",!1),o.status=200,o.success=!0,s(o)},error:(o=(0,hr.Z)(function*(l){if(a?.unsubscribe(),i?.showPageLoading&&n.transmit.emit("page-loading",!1),!l)return n.lastStatusCode=404,s({data:null,message:"HTTP_404_NOT_FOUND",status:n.lastStatusCode,success:!1});const c=l.status||404;let A=l?.error.message??l.message;if(A||(A=l.statusText??"Http Error"),n.httpTransferData.download+=n.lengthInUtf8Bytes(JSON.stringify(l)),n.lastStatusCode=c,401===c){if(i?.redirectIf401&&!n.getToken(!0))return n.clearLocalStorageAndNavigateToLogin(),s({data:null,message:"unauthorized",status:n.lastStatusCode,success:!1});if(n.getToken(!0)&&!(yield n.renewToken()))return n.lastStatusCode=401,i?.redirectIf401&&n.clearLocalStorageAndNavigateToLogin(),s({data:null,message:"unauthorized",status:n.lastStatusCode,success:!1})}i?.toastErrorMessage&&n.transmit.emit("snackbar-message",{text:c+" - "+A,mode:"error"}),s({data:null,message:A,status:c,success:!1})}),function(c){return o.apply(this,arguments)}),complete:()=>{a?.unsubscribe()}});var o})})()}fetchJsonSuccessResult(t,i,n){var s=this;return(0,hr.Z)(function*(){const a=yield s.fetchJson(t,n);return 200===a.status?a.data?a.data:a:i})()}downloadFile(t,i,n=!0){var s=this;return(0,hr.Z)(function*(){return t.responseType="blob",new Promise(a=>{n&&s.transmit.emit("page-loading",!0);const o=s.send(t)?.subscribe({next:l=>{o?.unsubscribe(),s.httpTransferData.download+=s.lengthInUtf8Bytes(JSON.stringify(l)),n&&s.transmit.emit("page-loading",!1);const c=URL.createObjectURL(l),A=document.createElement("a");A.href=c,A.setAttribute("download",i),document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(c),a(!0)},error:l=>{if(o?.unsubscribe(),!l)return s.lastStatusCode=404,a(!1);s.httpTransferData.download+=s.lengthInUtf8Bytes(JSON.stringify(l)),s.lastStatusCode=l?.status||404,n&&s.transmit.emit("page-loading",!1),a(!1)},complete:()=>{o?.unsubscribe()}})})})()}getToken(t=!1){const i=localStorage.getItem(this.tokenKey);if(i)try{return JSON.parse(i)[t?"refreshToken":"accessToken"]}catch{return}}clearLocalStorageAndNavigateToLogin(){localStorage.clear(),sessionStorage.clear(),this.router.navigate(["auth/login"])}renewToken(){return(0,hr.Z)(function*(){return!1})()}lengthInUtf8Bytes(t){var i=encodeURIComponent(t).match(/%[89ABab]/g);return t.length+(i?i.length:0)}static#e=this.\u0275fac=function(i){return new(i||r)(h.LFG(Dl.U),h.LFG(yg.eN),h.LFG($o.F0))};static#t=this.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),UD=(()=>{class r{constructor(t,i,n){this.http=t,this.sharedStore=i,this.httpService=n,this.baseUrl=oo.N.API_BASE_REPOSITORY}getFileUrl(t){return this.http.get(`${this.baseUrl}/v1/file/load/${t}`)}getFileUrlV2(t){var i=this;return(0,hr.Z)(function*(){return yield i.httpService.fetchJsonSuccessResult({baseUrl:i.baseUrl,path:`v1/file/load/${t}`},{message:"ERROR",url:{error:"bad request"}})})()}getFile(t){const i=new yg.WM({"X-Skip-Interceptor":"",responseType:"text, image/svg+xml",accept:"image/svg+xml"});return i.delete("Authorization"),this.http.get(t,{headers:i})}getPreviewFile(t){const i=new yg.WM({"X-Skip-Interceptor":"",responseType:"text, image/svg+xml",accept:"image/svg+xml"});return i.delete("Authorization"),this.http.get(`https://stageapi.i4twins.com/repository-management/v1/file/load/preview/${t}`,{headers:i})}static#e=this.\u0275fac=function(i){return new(i||r)(h.LFG(yg.eN),h.LFG(er.yh),h.LFG(FO))};static#t=this.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),kO=(()=>{class r{get svg(){return this._svg}constructor(t,i,n,s,a,o,l){this.sanitizer=t,this.uploadService=i,this.socketService=n,this.dialog=s,this.store=a,this.dashboardService=o,this.sharedStore=l,this._svg="",this.Action=FA,this.Animation=ry,this.unsubscribe$=new Yn.x,this.backgroundStyle={background:"transparent"}}ngOnInit(){this.config.backgroundColor&&(this.backgroundStyle={background:this.config.backgroundColor}),this.store.select(ae.K8).pipe((0,Oe.q)(1),(0,VB.z)(t=>this.config.background?t?this.uploadService.getPreviewFile(this.config.background).pipe((0,Oe.q)(1),(0,Dn.U)(i=>i.url.url),(0,uC.z)(i=>this.uploadService.getFile(i).pipe((0,IC.K)(n=>{if(200===n.status){const o=(new DOMParser).parseFromString(n.error.text,"text/html").getElementsByTagName("svg")[0];o&&this.addBackground(o)}return(0,xe.of)(n)}),(0,Rt.R)(this.unsubscribe$))),(0,Rt.R)(this.unsubscribe$)):this.uploadService.getFileUrl(this.config.background).pipe((0,Oe.q)(1),(0,Dn.U)(i=>i.url.url),(0,uC.z)(i=>this.uploadService.getFile(i).pipe((0,IC.K)(n=>{if(200===n.status){const o=(new DOMParser).parseFromString(n.error.text,"text/html").getElementsByTagName("svg")[0];o&&this.addBackground(o)}return(0,xe.of)(n)}),(0,Rt.R)(this.unsubscribe$))),(0,Rt.R)(this.unsubscribe$)):(0,xe.of)())).subscribe()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}addBackground(t){const n=(new XMLSerializer).serializeToString(t);this._svg=this.sanitizer.bypassSecurityTrustHtml(n);let s=t.id;setTimeout(()=>{this.applyConfig(s)},500)}applyConfig(t){const i=IA(t?`#${t}`:"svg");this.applyEmbedLabels(this.config.labels.embed),this.config.labels.dynamic.forEach(o=>this.addDynamicLabel(i,o)),this.applyShapes(this.config.shapes)}applyShapes(t){t.forEach(i=>{this.applyShapeConfig(i),i.animation?.type&&this.applyAnimation(i.animation,i.elementId),i.action&&this.applyAction(i.action,i.elementId)})}applyEmbedLabels(t){t.forEach(i=>{IA(`#${i.id}`)&&(this.applyTextConfig(i.text),this.applyShapeConfig(i.shape),i.animation?.type&&this.applyAnimation(i.animation,i.shape.elementId))})}applyAction(t,i){t.type===FA.dialog?IA(`#${i}`).on("click",()=>{this.dialog.open(PD,{width:"60%",height:"60%",panelClass:"HMI-Dialog",data:{componentName:t.component,config:t.config}})}).style("cursor","pointer"):t.type===FA.url?IA(`#${i}`).on("click",()=>{this.dialog.open(RD,{width:"60%",height:"60%",panelClass:"HMI-Dialog",data:{url:t.url}})}).style("cursor","pointer"):t.type===FA.redirect&&IA(`#${i}`).on("click",()=>{t.dashboard&&this.store.select((0,Yi.Et)(t.dashboard)).pipe((0,Oe.q)(1),(0,Pa.w)(n=>this.sharedStore.select(ae.K8).pipe((0,Oe.q)(1),(0,Dn.U)(s=>{t.dashboard&&this.store.dispatch(n?(0,k.Fi)({dashboard:n}):(0,k.bu)({dashboardId:t.dashboard,isPreview:s}))})))).subscribe()}).style("cursor","pointer")}applyAnimation(t,i){const n=IA(`#${i}`);let s,a,o=i.slice(6);isNaN(+o)||(o="label_"+(JSON.parse(o)+1),a=IA(`#${o}`),s=a.text());let c,l=n.attr("fill"),A=t.color;("#FFFFFF"===l||"#ffffff"===l)&&(l="transparent"),t.type===ry.motion?this.blink(t.duration,n,l,A).subscribe():t.type===ry.conditional&&t.topic&&t.output&&this.socketService.fetchDeviceData(t.topic.id,t.output.name).pipe((0,Dn.U)(u=>{u&&t.output&&A&&("string"==typeof u&&(u=JSON.parse(u)),t.condition===bg.E?u!=t.value||c?(c&&u!=t.value&&(c.unsubscribe(),c=void 0),a&&s&&a.text(s),n.attr("fill",l)):t.duration?c=this.blink(t.duration,n,l,A).subscribe():(a&&t.text&&a.text(t.text),n.attr("fill",A)):t.condition===bg.LT?n.attr("fill",u<(t.value||0)?A||"#ffffff":l):t.condition===bg.GT?n.attr("fill",u>(t.value||0)?A||"#ffffff":l):t.condition===bg.between0?n.attr("fill",(t.value||0)>u&&u>(t.otherValue||0)?A||"#ffffff":l):t.condition===bg.between1&&n.attr("fill",(t.value||0)<u&&u<(t.otherValue||0)?A||"#ffffff":l))}),(0,Rt.R)(this.unsubscribe$)).subscribe()}applyShapeConfig(t){if(t.elementId){const i=IA(`#${t.elementId}`);for(const n in t.view)i.attr(n,t.view[n]);("circle"===t.shape||"ellipse"===t.shape)&&(i.attr("cx",t.view.x),i.attr("cy",t.view.y))}}applyTextConfig(t){const i=IA(`#${t.elementId}`),n=t.view;for(const a in n)i.attr(a,n[a]);i.attr("text-anchor","middle").attr("alignment-baseline","middle");const s=t.content;i.text(s.dynamic.output?.name||s.label),s.dynamic.topic&&s.dynamic.output?.name&&this.socketService.fetchDeviceData(s.dynamic.topic.id,s.dynamic.output.name).pipe((0,Dn.U)(a=>{i.text(a)}),(0,Rt.R)(this.unsubscribe$)).subscribe()}addDynamicLabel(t,i){const n=t.append("g").attr("id",i.id);this.addLabel(n,i.text.elementId,i.shape.shape,i.shape.elementId),this.applyTextConfig(i.text),this.applyShapeConfig(i.shape),i.animation?.type&&this.applyAnimation(i.animation,i.shape.elementId),i.action&&this.applyAction(i.action,i.id)}addLabel(t,i,n,s){t.append(n).attr("id",s),t.append("text").attr("id",i)}blink(t=0,i,n,s){return(0,AC.F)(2*t).pipe((0,ci.b)(()=>{i.attr("fill",s||n)}),(0,DO.g)(t),(0,ci.b)(()=>{i.attr("fill",n)}),(0,Rt.R)(this.unsubscribe$))}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(Yl.H7),h.Y36(UD),h.Y36(ql),h.Y36(Qh.uw),h.Y36(er.yh),h.Y36(oC.s),h.Y36(er.yh))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-hmi"]],inputs:{config:"config",id:"id"},decls:1,vars:3,consts:[["id","hmi-main",3,"innerHTML"]],template:function(i,n){1&i&&h._UZ(0,"main",0),2&i&&(h.Akn(n.backgroundStyle),h.Q6J("innerHTML",n.svg,h.oJD))},styles:["main[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return r})();var tc=ge(6125),Cv=ge(8675),Ld=ge(5735),sy=ge(9742);function LO(r,e){1&r&&(h.TgZ(0,"mat-form-field",7)(1,"mat-icon",8),h._uU(2,"search"),h.qZA(),h._UZ(3,"input",9),h.qZA())}function PO(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"th")(1,"mat-checkbox",4),h.NdJ("change",function(n){const a=h.CHM(t).$implicit,o=h.oxw();return h.KtG(o.onSelectTopic(n,a.id))}),h.qZA()()}if(2&r){const t=e.$implicit,i=h.oxw();h.xp6(1),h.Q6J("checked",i.isTopicSelected(t.id))}}function RO(r,e){if(1&r&&(h.TgZ(0,"td"),h._uU(1),h.qZA()),2&r){const t=e.$implicit,i=h.oxw().$implicit;h.xp6(1),h.Oqu(t.values[i.key])}}function UO(r,e){if(1&r&&(h.TgZ(0,"tr")(1,"td",10),h._uU(2),h.qZA(),h.YNc(3,RO,2,1,"td",11),h.qZA()),2&r){const t=e.$implicit,i=h.oxw();h.xp6(2),h.Oqu(t.value),h.xp6(1),h.Q6J("ngForOf",i.topics)("ngForTrackBy",i.trackData)}}function QO(r,e){1&r&&(h.TgZ(0,"div",12)(1,"mat-label"),h._uU(2,"item per page"),h.qZA(),h.TgZ(3,"div",13)(4,"mat-select",14)(5,"mat-option",14),h._uU(6,"5"),h.qZA(),h.TgZ(7,"mat-option",14),h._uU(8,"10"),h.qZA(),h.TgZ(9,"mat-option",14),h._uU(10,"25"),h.qZA(),h.TgZ(11,"mat-option",14),h._uU(12,"100"),h.qZA()()(),h.TgZ(13,"mat-label"),h._uU(14," page 1 of 1"),h.qZA()()),2&r&&(h.xp6(4),h.Q6J("value",5),h.xp6(1),h.Q6J("value",5),h.xp6(2),h.Q6J("value",10),h.xp6(2),h.Q6J("value",25),h.xp6(2),h.Q6J("value",100))}let OO=(()=>{class r{isTopicSelected(t){return this.selectedTopics.includes(t)}get isAllTopicsSelected(){return this.topics.map(i=>i.id).every(i=>this.selectedTopics.includes(i))}constructor(t,i,n){this.store=t,this.dialog=i,this.socketService=n,this.topics=[],this.selectedTopics=[],this.borderConfig={BorderWidth:3,BorderRadius:12,BorderColor:"#FFFFFF"},this.headerBackgroundColor="#6F90D5",this.headerColor="#FFFFFF",this.bodyColor="#000000",this.rowColor="#000000",this.labelColor="#0A0A0A",this.Search=!0,this.Select=!0,this.Paginator=!0,this.No=!0,this.Action=!0,this.Label="Label",this.titles=[],this.unsubscribe$=new Yn.x,this.rawData={}}ngOnInit(){const i=this.config.content,n=i.map(a=>({key:a.outputs.read.name,value:a.Equivalent}));this.titles=n;let s={};n.forEach(a=>{s={...s,[a.key]:0}}),this.topics=i[0].topic.map(a=>({id:a.id,name:a.name,values:{\u062f\u0633\u062a\u06af\u0627\u0647:a.name,...s}})),this.store.dispatch((0,k.Pg)({devices:this.topics.map(a=>a.id)})),this.applyContent(this.config.content),this.applyView(this.config.view)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}applyContent(t){this.selectedTopics=t[0].topic.map(i=>i.id),this.store.dispatch((0,k.Pg)({devices:this.topics.map(i=>i.id)})),this.topics.forEach(i=>{this.socketService.fetchDeviceAllData(i.id).pipe((0,Dn.U)(n=>{this.titles.forEach(s=>{n[s.key]?i.values[s.value]=n[s.key]:i.values[i.name][s.value]="-"})}),(0,Rt.R)(this.unsubscribe$)).subscribe()})}trackData(t,i){return`${i.id}`}applyView(t){this.borderConfig=t.Border,this.headerColor=t.Content.HeaderColor,this.bodyColor=t.Content.BodyColor,this.headerBackgroundColor=t.Chart.HeaderColor,this.rowColor=t.Chart.RowColor,this.Search=t.Chart.Search,this.Paginator=t.Chart.Pagination,this.No=t.Chart.No,this.Action=t.Chart.Action,this.Label=t.Labels.Title}onSelectAll(t){this.selectedTopics=t.checked?this.topics.map(i=>i.id):[],this.store.dispatch((0,k.Pg)({devices:this.topics.map(i=>i.id)}))}onSelectTopic(t,i){t.checked?this.selectedTopics.push(i):this.selectedTopics=this.selectedTopics.filter(n=>i!==n),this.store.dispatch((0,k.Pg)({devices:this.selectedTopics}))}onSimulation(t){}onReport(t){}onTrip(t){}onEIO(t){}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(er.yh),h.Y36(Qh.uw),h.Y36(ql))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-linked-table"]],inputs:{id:"id",config:"config"},decls:15,vars:6,consts:[[1,"container"],[1,"table-action-bar"],["appearance","outline",4,"ngIf"],[1,"table-wrapper"],[3,"checked","change"],[4,"ngFor","ngForOf"],["class","paginator",4,"ngIf"],["appearance","outline"],["matPrefix",""],["matInput","","placeholder","Search"],[1,"main-title"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"paginator"],[1,"options"],[3,"value"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"div",1)(2,"label"),h._uU(3),h.qZA(),h.YNc(4,LO,4,0,"mat-form-field",2),h.qZA(),h.TgZ(5,"div",3)(6,"table")(7,"thead")(8,"tr")(9,"th")(10,"mat-checkbox",4),h.NdJ("change",function(a){return n.onSelectAll(a)}),h.qZA()(),h.YNc(11,PO,2,1,"th",5),h.qZA()(),h.TgZ(12,"tbody"),h.YNc(13,UO,4,3,"tr",5),h.qZA()(),h.YNc(14,QO,15,5,"div",6),h.qZA()()),2&i&&(h.xp6(3),h.Oqu(n.Label),h.xp6(1),h.Q6J("ngIf",n.Search),h.xp6(6),h.Q6J("checked",n.isAllTopicsSelected),h.xp6(1),h.Q6J("ngForOf",n.topics),h.xp6(2),h.Q6J("ngForOf",n.titles),h.xp6(1),h.Q6J("ngIf",n.Paginator))},dependencies:[G.sg,G.O5,rs.Hw,tc.KE,tc.hX,tc.qo,Cv.gD,Qt.ey,Ld.Nt,sy.oG],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;display:grid;grid-template-rows:1fr 11fr;border:1px solid #FFFFFF;border-radius:.5rem}.container[_ngcontent-%COMP%]   .table-action-bar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;gap:.5rem}.table-wrapper[_ngcontent-%COMP%]{overflow:auto;width:100%;height:100%}table[_ngcontent-%COMP%]{width:100%;height:100%;border-collapse:collapse;direction:rtl}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;border-bottom:1px solid #ddd;background-color:#6f90d5;text-align:center;color:#fff}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-radius:0 5px 0 0;text-align:start}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-radius:5px 0 0}.paginator[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-start;gap:1rem;position:sticky;bottom:0;z-index:100;background-color:#f7f7f7;padding:.5rem}.options[_ngcontent-%COMP%]{border:solid thin #eeeeee;width:20%}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;border-top:1px solid #ddd;text-align:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;padding:.2rem;background-color:#fff}td[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%], th[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:.75em}.main-title[_ngcontent-%COMP%]{background-color:#6f90d5;color:#0a0a0a;text-align:start!important}.mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-frame[_ngcontent-%COMP%], .mat-checkbox-checked[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{transform:scale(2)}label[_ngcontent-%COMP%]{color:#0a0a0a;font-size:1.25em}"]})}return r})();var NO=ge(7462),QD=ge(8004);let ay=(()=>{class r{constructor(t){this.http=t,this.url=oo.N.API_BASE_REPOSITORY}submitForm(t,i){return i.deviceId||(i={...i,deviceId:"kn6r4fpx8yr"}),this.http.post(`${this.url}/v1/fixedformfilling`,{formId:t,values:i})}static#e=this.\u0275fac=function(i){return new(i||r)(h.LFG(yg.eN))};static#t=this.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const HO=["sliderElement"],OD=function(r,e){return{"background-color":r,color:e}};function zO(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"button",9),h.NdJ("click",function(){h.CHM(t);const n=h.oxw();return h.KtG(n.stepUp())}),h._uU(1," + "),h.qZA()}if(2&r){const t=h.oxw();h.Q6J("ngStyle",h.WLB(2,OD,t.config.view.Button.btnBgColor,t.config.view.Button.btnColor))("disabled",!t.isRemote)}}function GO(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"button",10),h.NdJ("click",function(){h.CHM(t);const n=h.oxw();return h.KtG(n.stepDown())}),h._uU(1," - "),h.qZA()}if(2&r){const t=h.oxw();h.Q6J("ngStyle",h.WLB(2,OD,t.config.view.Button.btnBgColor,t.config.view.Button.btnColor))("disabled",!t.isRemote)}}let YO=(()=>{class r{get isRemote(){return this._isRemote}constructor(t,i,n,s){this.socketService=t,this.formService=i,this.store=n,this.formBuilder=s,this.title="Title",this.unsubscribe$=new Yn.x,this.value=0,this._isRemote=!1,this.sliderValue$=new _a.X(-1),this.filterPips=(a,o)=>0===o?-1:a%this.config.view.Ticks.bigLabelStep==0?1:a%this.config.view.Ticks.smallLabelStep==0?2:this.config.view.Ticks.showTicksBetweenLabels?0:-1,this.setRangeColor=a=>{this.sliderElement.nativeElement.querySelector(".noUi-connect").style.backgroundColor=a}}ngOnInit(){this.generateForm()}ngAfterViewInit(){this.checkFieldValue(),this.submitValue(),this.createSlider(this.config),this.store.select(Yi.Gt).pipe((0,Dn.U)(t=>{t?this.sliderForm.controls.value.enable():this.sliderForm.controls.value.disable(),this.slider&&(t?this.slider.enable():this.slider.disable()),this._isRemote=t}),(0,Rt.R)(this.unsubscribe$)).subscribe()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.slider&&this.slider.destroy()}generateForm(){this.sliderForm=this.formBuilder.group({value:[0]})}createSlider(t){this.slider&&this.slider.destroy(),this.slider=NO.create(this.sliderElement.nativeElement,{start:0,step:t.content?.step||5,connect:"lower",direction:"rtl",range:{min:t.content?.min||0,max:t.content?.max||100},tooltips:t.view.Chart.showTooltip||!1,orientation:"vertical",pips:this.config.view.Ticks.showTicks?{mode:"steps",filter:this.filterPips}:void 0}),this.setRangeColor(this.config.view.Chart.color),this.slider.on("end",o=>{this.value!==+o[0]&&(this.value=+o[0],this.updateSlider())});const i=document.querySelector(".noUi-handle"),n=document.getElementById("slider"),s=i?.offsetWidth/n.offsetWidth*100,a=i?.offsetHeight/n.offsetHeight*100;n?.style.setProperty("--noui-handle-width-percentage",`${s}%`),n?.style.setProperty("--noui-handle-height-percentage",`${a}%`),t.content?.topic?.id&&t.content?.outputs?.read.name&&(this.deviceId=t.content.topic.id,this.output=t.content.outputs.write.name,this.socketService.fetchDeviceData(t.content.topic.id,t.content.outputs.read.name).pipe((0,Dn.U)(o=>{"string"==typeof o&&(o=parseInt(o)),o!==this.value&&(this.value=o,this.slider.set(o),this.sliderForm.controls.value.setValue(o))}),(0,Rt.R)(this.unsubscribe$)).subscribe()),this.listenOnRangeChange()}listenOnRangeChange(){this.slider.on("update.one",t=>{const i=parseInt(t[0]);i!==this.value&&(this.value=i,this.sliderForm.controls.value.setValue(this.value),this.sliderValue$.next(this.value))})}stepUp(){this.config.content&&this.value>=this.config.content.max||this.config.content&&(this.value+=this.config.content.step,this.updateSlider())}stepDown(){this.config.content&&this.value<=this.config.content.min||this.config.content&&(this.value-=this.config.content.step,this.updateSlider())}checkFieldValue(){this.sliderForm.controls.value.valueChanges.pipe((0,Rt.R)(this.unsubscribe$),(0,su.b)(300),(0,QD.x)(),(0,Dn.U)(t=>{(t=this.checkValueValidation(t))!==this.value&&(this.value=t,this.updateSlider())})).subscribe()}submitValue(){this.sliderValue$.pipe((0,su.b)(500),(0,QD.x)(),(0,Pa.w)(t=>t>0?this.formService.submitForm("__FIXEDFORM__432125517577425",{deviceId:this.deviceId,[this.output]:t}):(0,xe.of)(null))).subscribe()}updateSlider(){this.slider.set(this.value),this.sliderForm.controls.value.setValue(this.value),this.sliderValue$.next(this.value)}checkValueValidation(t){return this.config.content&&(t>this.config.content.max&&(t=this.config.content.max),t<this.config.content.min&&(t=this.config.content.min)),t}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(ql),h.Y36(ay),h.Y36(er.yh),h.Y36(Dt.qu))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-slider"]],viewQuery:function(i,n){if(1&i&&h.Gf(HO,5),2&i){let s;h.iGM(s=h.CRH())&&(n.sliderElement=s.first)}},inputs:{id:"id",config:"config"},decls:10,vars:5,consts:[[1,"slider-container"],[1,"range-slider-cmp-container","w-100","h-100"],["class","range-action-btn",3,"ngStyle","disabled","click",4,"ngIf"],["id","slider",1,"slider"],["sliderElement",""],["class","range-action-btn mt-4",3,"ngStyle","disabled","click",4,"ngIf"],[3,"formGroup"],["type","text","formControlName","value",1,"value-box",3,"disabled"],[1,"text-center","m-0"],[1,"range-action-btn",3,"ngStyle","disabled","click"],[1,"range-action-btn","mt-4",3,"ngStyle","disabled","click"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,zO,2,5,"button",2),h._UZ(3,"div",3,4),h.YNc(5,GO,2,5,"button",5),h.TgZ(6,"form",6),h._UZ(7,"input",7),h.qZA(),h.TgZ(8,"h2",8),h._uU(9),h.qZA()()()),2&i&&(h.xp6(2),h.Q6J("ngIf",n.config.view.Button.showButtons),h.xp6(3),h.Q6J("ngIf",n.config.view.Button.showButtons),h.xp6(1),h.Q6J("formGroup",n.sliderForm),h.xp6(1),h.Q6J("disabled",!n.isRemote),h.xp6(2),h.Oqu(n.config.view.Labels.title))},dependencies:[G.O5,G.PC,Dt._Y,Dt.Fj,Dt.JJ,Dt.JL,Dt.sg,Dt.u],styles:[".slider-container{width:100%;height:100%;border:1px solid #FFFFFF;border-radius:.5rem}.range-slider-cmp-container{width:100%;height:100%}.range-slider-cmp-container .range-action-btn{width:25px;height:25px;background-color:#c5c5c5;border:1px solid #909090;border-radius:50%;display:flex;justify-content:center;align-items:center;margin:auto;font-size:18px}.range-slider-cmp-container #slider{margin:1rem auto;height:calc(100% - 170px)}.range-slider-cmp-container .value-box{min-width:70px;min-height:30px;outline:none;width:70px;text-align:center;border:1px solid #757575;margin:.5rem auto;border-radius:4px;display:flex;justify-content:center;align-items:center}h2{color:#fff;font-size:1.5em}\n"],encapsulation:2})}return r})(),WO=(()=>{class r{onMouseDown(){this.formService.submitForm(this._FormId,{deviceId:this.deviceId,[this.output]:!0}).subscribe()}onMouseUp(){let t={deviceId:this.deviceId,[this.output]:!1};this.renderer2.setStyle(this.el.nativeElement,"background-color","#00FF00");const i=document.getElementById(this.LinkedElementId);this.renderer2.setStyle(i,"background-color","#FF0000"),this.formService.submitForm(this._FormId,t).subscribe()}constructor(t,i,n){this.formService=t,this.renderer2=i,this.el=n,this.LinkedElementId="",this.deviceId="",this.output="",this.color="#ffffff",this._FormId="__FIXEDFORM__432125517577425"}ngOnInit(){this.renderer2.setStyle(this.el.nativeElement,"background-color",this.color)}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(ay),h.Y36(h.Qsj),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:r,selectors:[["","Button",""]],hostBindings:function(i,n){1&i&&h.NdJ("mousedown",function(){return n.onMouseDown()})("mouseup",function(){return n.onMouseUp()})},inputs:{LinkedElementId:"LinkedElementId",deviceId:"deviceId",output:"output",color:"color"}})}return r})(),VO=(()=>{class r{constructor(t,i){this.socketService=t,this.formService=i,this.color="#DC143C",this.unsubscribe$=new Yn.x}ngAfterViewInit(){const t=this.config,i=t.content,n={mainColor:t.view.Button.color,conditionColor:t.view.Animation.color};i&&i.topic?.id&&i.outputs?.read?.name&&(this.deviceId=i.topic?.id,this.output=i.outputs?.read?.name,this.socketService.fetchDeviceData(i.topic.id,i.outputs.read.name).pipe((0,Dn.U)(s=>{"string"==typeof s&&(s=JSON.parse(s)),this.value=s,this.savedData=s,this.color=s?n.conditionColor:n.mainColor}),(0,Rt.R)(this.unsubscribe$)).subscribe())}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(ql),h.Y36(ay))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-button"]],inputs:{id:"id",config:"config"},decls:4,vars:6,consts:[[1,"container"],["button",""],["Button","",3,"id","color","deviceId","output","LinkedElementId"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0,1)(2,"button",2),h._uU(3),h.qZA()()),2&i&&(h.xp6(2),h.Q6J("id",n.id)("color",n.config.view.Button.color)("deviceId",n.deviceId)("output",n.output)("LinkedElementId",n.config.content.LinkedElementId),h.xp6(1),h.Oqu(n.config.view.Labels.title))},dependencies:[WO],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;border:none;border-radius:.25rem}"]})}return r})();var ND=function(r){return r[r.TEXT=0]="TEXT",r[r.NUMBER=1]="NUMBER",r[r.EMAIL=2]="EMAIL",r[r.PASSWORD=3]="PASSWORD",r[r.PHONE=4]="PHONE",r[r.DATE=5]="DATE",r[r.SELECT=6]="SELECT",r[r.TIME=7]="TIME",r[r.TEXTAREA=8]="TEXTAREA",r[r.CHECKBOX=9]="CHECKBOX",r[r.ARRAY=10]="ARRAY",r}(ND||{});function jO(r,e){if(1&r&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&r){const t=h.oxw(2);h.xp6(1),h.Oqu(t.config.view.Labels.hint)}}function JO(r,e){if(1&r&&(h.ynx(0),h.TgZ(1,"div",4)(2,"div",5)(3,"label"),h._uU(4),h.qZA(),h._UZ(5,"input",6),h.ALo(6,"async"),h.qZA(),h.YNc(7,jO,2,1,"div",7),h.qZA(),h.BQk()),2&r){const t=h.oxw();h.xp6(4),h.Oqu(t.config.view.Labels.label),h.xp6(1),h.Q6J("disabled",h.lcZ(6,4,t.disable$)||!1)("formControlName",t.config.content.Name),h.xp6(2),h.Q6J("ngIf",t.config.view.Labels.hint)}}function KO(r,e){if(1&r&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&r){const t=h.oxw(2);h.xp6(1),h.Oqu(t.config.view.Labels.hint)}}function ZO(r,e){if(1&r&&(h.ynx(0),h.TgZ(1,"div",4)(2,"div",5)(3,"div",9)(4,"label"),h._uU(5),h.qZA(),h.YNc(6,KO,2,1,"div",7),h.qZA(),h.TgZ(7,"div",10),h._UZ(8,"input",11),h.TgZ(9,"label"),h._uU(10),h.qZA()()()(),h.BQk()),2&r){const t=h.oxw();h.xp6(5),h.Oqu(t.config.view.Labels.label),h.xp6(1),h.Q6J("ngIf",t.config.view.Labels.hint),h.xp6(2),h.Q6J("formControlName",t.config.content.Name)("min",t.min)("max",t.max),h.xp6(2),h.Oqu(t.fieldValue)}}function XO(r,e){1&r&&(h.TgZ(0,"div"),h._uU(1,"Unknown type"),h.qZA())}let qO=(()=>{class r{get fieldValue(){return this._fieldValue}constructor(t,i,n){this.socketService=t,this.rootFormGroup=i,this.store=n,this.min=0,this.max=100,this.unsubscribe$=new Yn.x,this.fromControlType=ND,this.disable$=(0,xe.of)(!0),this._fieldValue=0}ngOnInit(){this.store.select(Yi.Gt).pipe((0,Dn.U)(i=>{i?this.rootFormGroup.control.controls[this.config.content.Name].enable():this.rootFormGroup.control.controls[this.config.content.Name].disable()})).subscribe();const t=this.config.content.Name;this.form=this.rootFormGroup.control,this.config.content.topic?.id&&this.config.content.outputs?.read.name&&this.socketService.fetchDeviceData(this.config.content.topic?.id,this.config.content.outputs?.read.name,!0,!0).pipe((0,Dn.U)(i=>{this.config.content.isHint?this._fieldValue=i:(this.form.controls[t].setValue(i),this._fieldValue="")}),(0,Rt.R)(this.unsubscribe$)).subscribe(),this.form.controls[t].valueChanges.pipe((0,Rt.R)(this.unsubscribe$),(0,Dn.U)(i=>{i>this.max&&this.form.controls[t].setValue(this.max),i<this.min&&this.form.controls[t].setValue(this.min)})).subscribe()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(ql),h.Y36(Dt.sg),h.Y36(er.yh))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-form-field"]],inputs:{config:"config",id:"id",min:"min",max:"max"},decls:5,vars:4,consts:[[3,"ngSwitch"],[1,"dynamicForm",3,"formGroup"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"form-group"],[1,"input"],["type","text",3,"disabled","formControlName"],["class","hint",4,"ngIf"],[1,"hint"],[1,"labels"],[1,"value"],["type","number","step","0.1",3,"formControlName","min","max"]],template:function(i,n){1&i&&(h.ynx(0,0),h.TgZ(1,"div",1),h.YNc(2,JO,8,6,"ng-container",2),h.YNc(3,ZO,11,6,"ng-container",2),h.YNc(4,XO,2,0,"div",3),h.qZA(),h.BQk()),2&i&&(h.Q6J("ngSwitch",n.config.content.type),h.xp6(1),h.Q6J("formGroup",n.form),h.xp6(1),h.Q6J("ngSwitchCase","text"),h.xp6(1),h.Q6J("ngSwitchCase","number"))},dependencies:[G.O5,G.RF,G.n9,G.ED,Dt.Fj,Dt.wV,Dt.JJ,Dt.JL,Dt.qQ,Dt.Fd,Dt.sg,Dt.u,G.Ov],styles:[".dynamicForm[_ngcontent-%COMP%]{border:1px solid #ffffff;border-radius:.5rem;padding:.2rem;width:100%;height:100%}.form-group[_ngcontent-%COMP%]{display:grid;width:100%;height:100%}.labels[_ngcontent-%COMP%], .value[_ngcontent-%COMP%]{display:flex;gap:.2rem;flex-direction:column}label[_ngcontent-%COMP%]{font-weight:700;display:flex;align-items:center;justify-content:center;color:#0a0a0a;word-break:break-all;overflow-wrap:break-word;font-size:.95em}.input[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.25rem}input[_ngcontent-%COMP%]{width:100%;height:60%;padding:10px;border:1px solid #0a0a0a;border-radius:4px;font-size:16px;box-sizing:border-box;color:#0a0a0a}.hint[_ngcontent-%COMP%]{font-style:italic;color:#0a0a0a;text-align:center}@media screen and (max-width: 480px){input[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width: 1440px){input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:.75em}.hint[_ngcontent-%COMP%]{font-size:.85em}}"]})}return r})(),$O=(()=>{class r{constructor(t,i){this.store=t,this.formService=i,this.config={content:{idList:[],selectedForm:null,deviceId:""},view:{color:"primary",label:"Submit"}},this.unsubscribe$=new Yn.x,this.disable$=(0,xe.of)(!0)}ngOnInit(){this.disable$=this.store.select(Yi.Gt).pipe((0,Dn.U)(t=>!t))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onClick(){const t=this.form.value,i=this.config.content.selectedForm;let n={};this.config.content.idList.forEach(s=>{"SetpointFlow"===s.name?n.FIC_Remote_St=t[s.name]:"SetpointLevel"===s.name?n.LIC_Remote_St=t[s.name]:"SetpointTemp"===s.name?n.TIC_Remote_St=t[s.name]:"Hystersis"===s.name&&(n.TIC_Remote_Hystersis=t[s.name])}),i&&this.formService.submitForm(i,n).subscribe()}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(er.yh),h.Y36(ay))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-submit"]],inputs:{config:"config",id:"id",form:"form"},decls:4,vars:5,consts:[[1,"container"],["mat-raised-button","",3,"color","disabled","click"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"button",1),h.NdJ("click",function(){return n.onClick()}),h.ALo(2,"async"),h._uU(3),h.qZA()()),2&i&&(h.xp6(1),h.Q6J("color",n.config.view.color)("disabled",h.lcZ(2,3,n.disable$)),h.xp6(2),h.Oqu(n.config.view.label))},dependencies:[ms.lW,G.Ov],styles:[".container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return r})();const zD=1,n5=2,Du=3,ly=0,M5=1,T5=2,Rd=0,D5=1,S5=2,I5=3,F5=4,k5=5,L5=6,JD="attached",Ud=301,Tp=302,Mv=306,Iu=1e3,To=1001,ya=1003,oa=1006,Fu=1008,Qd=1009,Od=1014,LA=1015,Sv=1016,Dp=1020,Sc=1023,Sp=1026,Eg=1027,Iv=2300,Mg=2301,Ip=3001,cs="srgb",Do="srgb-linear",VC="display-p3",uy="display-p3-linear",dy="linear",Ds="srgb",fy="rec709",py="p3",Sg=7680,FS="300 es",PA=2e3;class kp{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const s=n.indexOf(t);-1!==s&&n.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const n=i.slice(0);for(let s=0,a=n.length;s<a;s++)n[s].call(this,e);e.target=null}}}const pl=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const Lp=Math.PI/180,Ig=180/Math.PI;function Ic(){const r=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(pl[255&r]+pl[r>>8&255]+pl[r>>16&255]+pl[r>>24&255]+"-"+pl[255&e]+pl[e>>8&255]+"-"+pl[e>>16&15|64]+pl[e>>24&255]+"-"+pl[63&t|128]+pl[t>>8&255]+"-"+pl[t>>16&255]+pl[t>>24&255]+pl[255&i]+pl[i>>8&255]+pl[i>>16&255]+pl[i>>24&255]).toLowerCase()}function la(r,e,t){return Math.max(e,Math.min(t,r))}function JC(r,e){return(r%e+e)%e}function kv(r,e,t){return(1-t)*r+t*e}function KC(r){return 0==(r&r-1)&&0!==r}function gy(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function nc(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function tr(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(4294967295*r);case Uint16Array:return Math.round(65535*r);case Uint8Array:return Math.round(255*r);case Int32Array:return Math.round(2147483647*r);case Int16Array:return Math.round(32767*r);case Int8Array:return Math.round(127*r);default:throw new Error("Invalid component type.")}}const Jo_DEG2RAD=Lp,Jo_degToRad=function p3(r){return r*Lp},Jo_radToDeg=function m3(r){return r*Ig};class Ut{constructor(e=0,t=0){Ut.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(la(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),n=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*n+e.x,this.y=s*n+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class nr{constructor(e,t,i,n,s,a,o,l,c){nr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,n,s,a,o,l,c)}set(e,t,i,n,s,a,o,l,c){const A=this.elements;return A[0]=e,A[1]=n,A[2]=o,A[3]=t,A[4]=s,A[5]=l,A[6]=i,A[7]=a,A[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,s=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],A=i[4],u=i[7],f=i[2],d=i[5],_=i[8],p=n[0],g=n[3],m=n[6],C=n[1],B=n[4],S=n[7],U=n[2],H=n[5],N=n[8];return s[0]=a*p+o*C+l*U,s[3]=a*g+o*B+l*H,s[6]=a*m+o*S+l*N,s[1]=c*p+A*C+u*U,s[4]=c*g+A*B+u*H,s[7]=c*m+A*S+u*N,s[2]=f*p+d*C+_*U,s[5]=f*g+d*B+_*H,s[8]=f*m+d*S+_*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],A=e[8];return t*a*A-t*o*c-i*s*A+i*o*l+n*s*c-n*a*l}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],A=e[8],u=A*a-o*c,f=o*l-A*s,d=c*s-a*l,_=t*u+i*f+n*d;if(0===_)return this.set(0,0,0,0,0,0,0,0,0);const p=1/_;return e[0]=u*p,e[1]=(n*c-A*i)*p,e[2]=(o*i-n*a)*p,e[3]=f*p,e[4]=(A*t-n*l)*p,e[5]=(n*s-o*t)*p,e[6]=d*p,e[7]=(i*l-c*t)*p,e[8]=(a*t-i*s)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,n,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-n*c,n*l,-n*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(ZC.makeScale(e,t)),this}rotate(e){return this.premultiply(ZC.makeRotation(-e)),this}translate(e,t){return this.premultiply(ZC.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let n=0;n<9;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const ZC=new nr;function LS(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}function Lv(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function w3(){const r=Lv("canvas");return r.style.display="block",r}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const PS={};function Pv(r){r in PS||(PS[r]=!0,console.warn(r))}const RS=(new nr).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),US=(new nr).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),_y={[Do]:{transfer:dy,primaries:fy,toReference:r=>r,fromReference:r=>r},[cs]:{transfer:Ds,primaries:fy,toReference:r=>r.convertSRGBToLinear(),fromReference:r=>r.convertLinearToSRGB()},[uy]:{transfer:dy,primaries:py,toReference:r=>r.applyMatrix3(US),fromReference:r=>r.applyMatrix3(RS)},[VC]:{transfer:Ds,primaries:py,toReference:r=>r.convertSRGBToLinear().applyMatrix3(US),fromReference:r=>r.applyMatrix3(RS).convertLinearToSRGB()}},b3=new Set([Do,uy]),Yr={enabled:!0,_workingColorSpace:Do,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(r){if(!b3.has(r))throw new Error(`Unsupported working color space, "${r}".`);this._workingColorSpace=r},convert:function(r,e,t){return!1!==this.enabled&&e!==t&&e&&t?(0,_y[t].fromReference)((0,_y[e].toReference)(r)):r},fromWorkingColorSpace:function(r,e){return this.convert(r,this._workingColorSpace,e)},toWorkingColorSpace:function(r,e){return this.convert(r,e,this._workingColorSpace)},getPrimaries:function(r){return _y[r].primaries},getTransfer:function(r){return""===r?dy:_y[r].transfer}};function kg(r){return r<.04045?.0773993808*r:Math.pow(.9478672986*r+.0521327014,2.4)}function XC(r){return r<.0031308?12.92*r:1.055*Math.pow(r,.41666)-.055}let Lg;class QS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Lg&&(Lg=Lv("canvas")),Lg.width=e.width,Lg.height=e.height;const i=Lg.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Lg}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Lv("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const n=i.getImageData(0,0,e.width,e.height),s=n.data;for(let a=0;a<s.length;a++)s[a]=255*kg(s[a]/255);return i.putImageData(n,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*kg(t[i]/255)):kg(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let y3=0;class Pg{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:y3++}),this.uuid=Ic(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},n=this.data;if(null!==n){let s;if(Array.isArray(n)){s=[];for(let a=0,o=n.length;a<o;a++)s.push(qC(n[a].isDataTexture?n[a].image:n[a]))}else s=qC(n);i.url=s}return t||(e.images[this.uuid]=i),i}}function qC(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?QS.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let x3=0,rc=(()=>{class r extends kp{constructor(t=r.DEFAULT_IMAGE,i=r.DEFAULT_MAPPING,n=To,s=To,a=oa,o=Fu,l=Sc,c=Qd,A=r.DEFAULT_ANISOTROPY,u=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:x3++}),this.uuid=Ic(),this.name="",this.source=new Pg(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=n,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=A,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Ut(0,0),this.repeat=new Ut(1,1),this.center=new Ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof u?this.colorSpace=u:(Pv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Ip?cs:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),i||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Iu:t.x=t.x-Math.floor(t.x);break;case To:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Iu:t.y=t.y-Math.floor(t.y);break;case To:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Pv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===cs?Ip:3e3}set encoding(t){Pv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===Ip?cs:""}}return r.DEFAULT_IMAGE=null,r.DEFAULT_MAPPING=300,r.DEFAULT_ANISOTROPY=1,r})();class Rr{constructor(e=0,t=0,i=0,n=1){Rr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*n+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*n+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*n+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*n+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,n,s;const l=e.elements,c=l[0],A=l[4],u=l[8],f=l[1],d=l[5],_=l[9],p=l[2],g=l[6],m=l[10];if(Math.abs(A-f)<.01&&Math.abs(u-p)<.01&&Math.abs(_-g)<.01){if(Math.abs(A+f)<.1&&Math.abs(u+p)<.1&&Math.abs(_+g)<.1&&Math.abs(c+d+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(c+1)/2,S=(d+1)/2,U=(m+1)/2,H=(A+f)/4,N=(u+p)/4,P=(_+g)/4;return B>S&&B>U?B<.01?(i=0,n=.707106781,s=.707106781):(i=Math.sqrt(B),n=H/i,s=N/i):S>U?S<.01?(i=.707106781,n=0,s=.707106781):(n=Math.sqrt(S),i=H/n,s=P/n):U<.01?(i=.707106781,n=.707106781,s=0):(s=Math.sqrt(U),i=N/s,n=P/s),this.set(i,n,s,t),this}let C=Math.sqrt((g-_)*(g-_)+(u-p)*(u-p)+(f-A)*(f-A));return Math.abs(C)<.001&&(C=1),this.x=(g-_)/C,this.y=(u-p)/C,this.z=(f-A)/C,this.w=Math.acos((c+d+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class B3 extends kp{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Rr(0,0,e,t),this.scissorTest=!1,this.viewport=new Rr(0,0,e,t);const n={width:e,height:t,depth:1};void 0!==i.encoding&&(Pv("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Ip?cs:""),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:oa,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new rc(n,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Pg(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Pp extends B3{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class $C extends rc{constructor(e=null,t=1,i=1,n=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:n},this.magFilter=ya,this.minFilter=ya,this.wrapR=To,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class OS extends rc{constructor(e=null,t=1,i=1,n=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:n},this.magFilter=ya,this.minFilter=ya,this.wrapR=To,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ss{constructor(e=0,t=0,i=0,n=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=n}static slerpFlat(e,t,i,n,s,a,o){let l=i[n+0],c=i[n+1],A=i[n+2],u=i[n+3];const f=s[a+0],d=s[a+1],_=s[a+2],p=s[a+3];if(0===o)return e[t+0]=l,e[t+1]=c,e[t+2]=A,void(e[t+3]=u);if(1===o)return e[t+0]=f,e[t+1]=d,e[t+2]=_,void(e[t+3]=p);if(u!==p||l!==f||c!==d||A!==_){let g=1-o;const m=l*f+c*d+A*_+u*p,C=m>=0?1:-1,B=1-m*m;if(B>Number.EPSILON){const U=Math.sqrt(B),H=Math.atan2(U,m*C);g=Math.sin(g*H)/U,o=Math.sin(o*H)/U}const S=o*C;if(l=l*g+f*S,c=c*g+d*S,A=A*g+_*S,u=u*g+p*S,g===1-o){const U=1/Math.sqrt(l*l+c*c+A*A+u*u);l*=U,c*=U,A*=U,u*=U}}e[t]=l,e[t+1]=c,e[t+2]=A,e[t+3]=u}static multiplyQuaternionsFlat(e,t,i,n,s,a){const o=i[n],l=i[n+1],c=i[n+2],A=i[n+3],u=s[a],f=s[a+1],d=s[a+2],_=s[a+3];return e[t]=o*_+A*u+l*d-c*f,e[t+1]=l*_+A*f+c*u-o*d,e[t+2]=c*_+A*d+o*f-l*u,e[t+3]=A*_-o*u-l*f-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,n=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),A=o(n/2),u=o(s/2),f=l(i/2),d=l(n/2),_=l(s/2);switch(a){case"XYZ":this._x=f*A*u+c*d*_,this._y=c*d*u-f*A*_,this._z=c*A*_+f*d*u,this._w=c*A*u-f*d*_;break;case"YXZ":this._x=f*A*u+c*d*_,this._y=c*d*u-f*A*_,this._z=c*A*_-f*d*u,this._w=c*A*u+f*d*_;break;case"ZXY":this._x=f*A*u-c*d*_,this._y=c*d*u+f*A*_,this._z=c*A*_+f*d*u,this._w=c*A*u-f*d*_;break;case"ZYX":this._x=f*A*u-c*d*_,this._y=c*d*u+f*A*_,this._z=c*A*_-f*d*u,this._w=c*A*u+f*d*_;break;case"YZX":this._x=f*A*u+c*d*_,this._y=c*d*u+f*A*_,this._z=c*A*_-f*d*u,this._w=c*A*u-f*d*_;break;case"XZY":this._x=f*A*u-c*d*_,this._y=c*d*u-f*A*_,this._z=c*A*_+f*d*u,this._w=c*A*u+f*d*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],n=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],A=t[6],u=t[10],f=i+o+u;if(f>0){const d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(A-l)*d,this._y=(s-c)*d,this._z=(a-n)*d}else if(i>o&&i>u){const d=2*Math.sqrt(1+i-o-u);this._w=(A-l)/d,this._x=.25*d,this._y=(n+a)/d,this._z=(s+c)/d}else if(o>u){const d=2*Math.sqrt(1+o-i-u);this._w=(s-c)/d,this._x=(n+a)/d,this._y=.25*d,this._z=(l+A)/d}else{const d=2*Math.sqrt(1+u-i-o);this._w=(a-n)/d,this._x=(s+c)/d,this._y=(l+A)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(la(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const n=Math.min(1,t/i);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,n=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,A=t._w;return this._x=i*A+a*o+n*c-s*l,this._y=n*A+a*l+s*o-i*c,this._z=s*A+a*c+i*l-n*o,this._w=a*A-i*o-n*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,n=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+n*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=n,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const d=1-t;return this._w=d*a+t*this._w,this._x=d*i+t*this._x,this._y=d*n+t*this._y,this._z=d*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),A=Math.atan2(c,o),u=Math.sin((1-t)*A)/c,f=Math.sin(t*A)/c;return this._w=a*u+this._w*f,this._x=i*u+this._x*f,this._y=n*u+this._y*f,this._z=s*u+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),n=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(n),i*Math.sin(s),i*Math.cos(s),t*Math.sin(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ce{constructor(e=0,t=0,i=0){Ce.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(NS.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(NS.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,n=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*n,this.y=s[1]*t+s[4]*i+s[7]*n,this.z=s[2]*t+s[5]*i+s[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*n+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*n+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*n+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*n+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,n=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*n-o*i),A=2*(o*t-s*n),u=2*(s*i-a*t);return this.x=t+l*c+a*u-o*A,this.y=i+l*A+o*c-s*u,this.z=n+l*u+s*A-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,n=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*n,this.y=s[1]*t+s[5]*i+s[9]*n,this.z=s[2]*t+s[6]*i+s[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,n=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=n*l-s*o,this.y=s*a-i*l,this.z=i*o-n*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return eE.copy(this).projectOnVector(e),this.sub(eE)}reflect(e){return this.sub(eE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(la(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const n=Math.sin(t)*e;return this.x=n*Math.sin(i),this.y=Math.cos(t)*e,this.z=n*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const eE=new Ce,NS=new Ss;class ja{constructor(e=new Ce(1/0,1/0,1/0),t=new Ce(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Oh.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Oh.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Oh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(void 0!==i){const s=i.getAttribute("position");if(!0===t&&void 0!==s&&!0!==e.isInstancedMesh)for(let a=0,o=s.count;a<o;a++)!0===e.isMesh?e.getVertexPosition(a,Oh):Oh.fromBufferAttribute(s,a),Oh.applyMatrix4(e.matrixWorld),this.expandByPoint(Oh);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),vy.copy(e.boundingBox)):(null===i.boundingBox&&i.computeBoundingBox(),vy.copy(i.boundingBox)),vy.applyMatrix4(e.matrixWorld),this.union(vy)}const n=e.children;for(let s=0,a=n.length;s<a;s++)this.expandByObject(n[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Oh),Oh.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Rv),wy.subVectors(this.max,Rv),Rg.subVectors(e.a,Rv),Ug.subVectors(e.b,Rv),Qg.subVectors(e.c,Rv),Nd.subVectors(Ug,Rg),Hd.subVectors(Qg,Ug),Rp.subVectors(Rg,Qg);let t=[0,-Nd.z,Nd.y,0,-Hd.z,Hd.y,0,-Rp.z,Rp.y,Nd.z,0,-Nd.x,Hd.z,0,-Hd.x,Rp.z,0,-Rp.x,-Nd.y,Nd.x,0,-Hd.y,Hd.x,0,-Rp.y,Rp.x,0];return!(!tE(t,Rg,Ug,Qg,wy)||(t=[1,0,0,0,1,0,0,0,1],!tE(t,Rg,Ug,Qg,wy)))&&(by.crossVectors(Nd,Hd),t=[by.x,by.y,by.z],tE(t,Rg,Ug,Qg,wy))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Oh).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Oh).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ku[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ku[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ku[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ku[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ku[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ku[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ku[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ku[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ku)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ku=[new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce],Oh=new Ce,vy=new ja,Rg=new Ce,Ug=new Ce,Qg=new Ce,Nd=new Ce,Hd=new Ce,Rp=new Ce,Rv=new Ce,wy=new Ce,by=new Ce,Up=new Ce;function tE(r,e,t,i,n){for(let s=0,a=r.length-3;s<=a;s+=3){Up.fromArray(r,s);const o=n.x*Math.abs(Up.x)+n.y*Math.abs(Up.y)+n.z*Math.abs(Up.z),l=e.dot(Up),c=t.dot(Up),A=i.dot(Up);if(Math.max(-Math.max(l,c,A),Math.min(l,c,A))>o)return!1}return!0}const C3=new ja,Uv=new Ce,iE=new Ce;class ml{constructor(e=new Ce,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):C3.setFromPoints(e).getCenter(i);let n=0;for(let s=0,a=e.length;s<a;s++)n=Math.max(n,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Uv.subVectors(e,this.center);const t=Uv.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),n=.5*(i-this.radius);this.center.addScaledVector(Uv,n/i),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(iE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Uv.copy(e.center).add(iE)),this.expandByPoint(Uv.copy(e.center).sub(iE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Lu=new Ce,nE=new Ce,yy=new Ce,zd=new Ce,rE=new Ce,xy=new Ce,sE=new Ce;class Og{constructor(e=new Ce,t=new Ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Lu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Lu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Lu.copy(this.origin).addScaledVector(this.direction,t),Lu.distanceToSquared(e))}distanceSqToSegment(e,t,i,n){nE.copy(e).add(t).multiplyScalar(.5),yy.copy(t).sub(e).normalize(),zd.copy(this.origin).sub(nE);const s=.5*e.distanceTo(t),a=-this.direction.dot(yy),o=zd.dot(this.direction),l=-zd.dot(yy),c=zd.lengthSq(),A=Math.abs(1-a*a);let u,f,d,_;if(A>0)if(u=a*l-o,f=a*o-l,_=s*A,u>=0)if(f>=-_)if(f<=_){const p=1/A;u*=p,f*=p,d=u*(u+a*f+2*o)+f*(a*u+f+2*l)+c}else f=s,u=Math.max(0,-(a*f+o)),d=-u*u+f*(f+2*l)+c;else f=-s,u=Math.max(0,-(a*f+o)),d=-u*u+f*(f+2*l)+c;else f<=-_?(u=Math.max(0,-(-a*s+o)),f=u>0?-s:Math.min(Math.max(-s,-l),s),d=-u*u+f*(f+2*l)+c):f<=_?(u=0,f=Math.min(Math.max(-s,-l),s),d=f*(f+2*l)+c):(u=Math.max(0,-(a*s+o)),f=u>0?s:Math.min(Math.max(-s,-l),s),d=-u*u+f*(f+2*l)+c);else f=a>0?-s:s,u=Math.max(0,-(a*f+o)),d=-u*u+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,u),n&&n.copy(nE).addScaledVector(yy,f),d}intersectSphere(e,t){Lu.subVectors(e.center,this.origin);const i=Lu.dot(this.direction),n=Lu.dot(Lu)-i*i,s=e.radius*e.radius;if(n>s)return null;const a=Math.sqrt(s-n),o=i-a,l=i+a;return l<0?null:this.at(o<0?l:o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,n,s,a,o,l;const c=1/this.direction.x,A=1/this.direction.y,u=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,n=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,n=(e.min.x-f.x)*c),A>=0?(s=(e.min.y-f.y)*A,a=(e.max.y-f.y)*A):(s=(e.max.y-f.y)*A,a=(e.min.y-f.y)*A),i>a||s>n||((s>i||isNaN(i))&&(i=s),(a<n||isNaN(n))&&(n=a),u>=0?(o=(e.min.z-f.z)*u,l=(e.max.z-f.z)*u):(o=(e.max.z-f.z)*u,l=(e.min.z-f.z)*u),i>l||o>n)||((o>i||i!=i)&&(i=o),(l<n||n!=n)&&(n=l),n<0)?null:this.at(i>=0?i:n,t)}intersectsBox(e){return null!==this.intersectBox(e,Lu)}intersectTriangle(e,t,i,n,s){rE.subVectors(t,e),xy.subVectors(i,e),sE.crossVectors(rE,xy);let o,a=this.direction.dot(sE);if(a>0){if(n)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}zd.subVectors(this.origin,e);const l=o*this.direction.dot(xy.crossVectors(zd,xy));if(l<0)return null;const c=o*this.direction.dot(rE.cross(zd));if(c<0||l+c>a)return null;const A=-o*zd.dot(sE);return A<0?null:this.at(A/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Qi{constructor(e,t,i,n,s,a,o,l,c,A,u,f,d,_,p,g){Qi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,n,s,a,o,l,c,A,u,f,d,_,p,g)}set(e,t,i,n,s,a,o,l,c,A,u,f,d,_,p,g){const m=this.elements;return m[0]=e,m[4]=t,m[8]=i,m[12]=n,m[1]=s,m[5]=a,m[9]=o,m[13]=l,m[2]=c,m[6]=A,m[10]=u,m[14]=f,m[3]=d,m[7]=_,m[11]=p,m[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Qi).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,n=1/Ng.setFromMatrixColumn(e,0).length(),s=1/Ng.setFromMatrixColumn(e,1).length(),a=1/Ng.setFromMatrixColumn(e,2).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,n=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(n),c=Math.sin(n),A=Math.cos(s),u=Math.sin(s);if("XYZ"===e.order){const f=a*A,d=a*u,_=o*A,p=o*u;t[0]=l*A,t[4]=-l*u,t[8]=c,t[1]=d+_*c,t[5]=f-p*c,t[9]=-o*l,t[2]=p-f*c,t[6]=_+d*c,t[10]=a*l}else if("YXZ"===e.order){const f=l*A,d=l*u,_=c*A,p=c*u;t[0]=f+p*o,t[4]=_*o-d,t[8]=a*c,t[1]=a*u,t[5]=a*A,t[9]=-o,t[2]=d*o-_,t[6]=p+f*o,t[10]=a*l}else if("ZXY"===e.order){const f=l*A,d=l*u,_=c*A,p=c*u;t[0]=f-p*o,t[4]=-a*u,t[8]=_+d*o,t[1]=d+_*o,t[5]=a*A,t[9]=p-f*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if("ZYX"===e.order){const f=a*A,d=a*u,_=o*A,p=o*u;t[0]=l*A,t[4]=_*c-d,t[8]=f*c+p,t[1]=l*u,t[5]=p*c+f,t[9]=d*c-_,t[2]=-c,t[6]=o*l,t[10]=a*l}else if("YZX"===e.order){const f=a*l,d=a*c,_=o*l,p=o*c;t[0]=l*A,t[4]=p-f*u,t[8]=_*u+d,t[1]=u,t[5]=a*A,t[9]=-o*A,t[2]=-c*A,t[6]=d*u+_,t[10]=f-p*u}else if("XZY"===e.order){const f=a*l,d=a*c,_=o*l,p=o*c;t[0]=l*A,t[4]=-u,t[8]=c*A,t[1]=f*u+p,t[5]=a*A,t[9]=d*u-_,t[2]=_*u-d,t[6]=o*A,t[10]=p*u+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(E3,e,M3)}lookAt(e,t,i){const n=this.elements;return Fc.subVectors(e,t),0===Fc.lengthSq()&&(Fc.z=1),Fc.normalize(),Gd.crossVectors(i,Fc),0===Gd.lengthSq()&&(1===Math.abs(i.z)?Fc.x+=1e-4:Fc.z+=1e-4,Fc.normalize(),Gd.crossVectors(i,Fc)),Gd.normalize(),By.crossVectors(Fc,Gd),n[0]=Gd.x,n[4]=By.x,n[8]=Fc.x,n[1]=Gd.y,n[5]=By.y,n[9]=Fc.y,n[2]=Gd.z,n[6]=By.z,n[10]=Fc.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,s=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],A=i[1],u=i[5],f=i[9],d=i[13],_=i[2],p=i[6],g=i[10],m=i[14],C=i[3],B=i[7],S=i[11],U=i[15],H=n[0],N=n[4],P=n[8],z=n[12],W=n[1],Y=n[5],K=n[9],q=n[13],Q=n[2],ie=n[6],ee=n[10],he=n[14],pe=n[3],ue=n[7],Be=n[11],Le=n[15];return s[0]=a*H+o*W+l*Q+c*pe,s[4]=a*N+o*Y+l*ie+c*ue,s[8]=a*P+o*K+l*ee+c*Be,s[12]=a*z+o*q+l*he+c*Le,s[1]=A*H+u*W+f*Q+d*pe,s[5]=A*N+u*Y+f*ie+d*ue,s[9]=A*P+u*K+f*ee+d*Be,s[13]=A*z+u*q+f*he+d*Le,s[2]=_*H+p*W+g*Q+m*pe,s[6]=_*N+p*Y+g*ie+m*ue,s[10]=_*P+p*K+g*ee+m*Be,s[14]=_*z+p*q+g*he+m*Le,s[3]=C*H+B*W+S*Q+U*pe,s[7]=C*N+B*Y+S*ie+U*ue,s[11]=C*P+B*K+S*ee+U*Be,s[15]=C*z+B*q+S*he+U*Le,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],n=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],A=e[2],u=e[6],f=e[10],d=e[14];return e[3]*(+s*l*u-n*c*u-s*o*f+i*c*f+n*o*d-i*l*d)+e[7]*(+t*l*d-t*c*f+s*a*f-n*a*d+n*c*A-s*l*A)+e[11]*(+t*c*u-t*o*d-s*a*u+i*a*d+s*o*A-i*c*A)+e[15]*(-n*o*A-t*l*u+t*o*f+n*a*u-i*a*f+i*l*A)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],A=e[8],u=e[9],f=e[10],d=e[11],_=e[12],p=e[13],g=e[14],m=e[15],C=u*g*c-p*f*c+p*l*d-o*g*d-u*l*m+o*f*m,B=_*f*c-A*g*c-_*l*d+a*g*d+A*l*m-a*f*m,S=A*p*c-_*u*c+_*o*d-a*p*d-A*o*m+a*u*m,U=_*u*l-A*p*l-_*o*f+a*p*f+A*o*g-a*u*g,H=t*C+i*B+n*S+s*U;if(0===H)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/H;return e[0]=C*N,e[1]=(p*f*s-u*g*s-p*n*d+i*g*d+u*n*m-i*f*m)*N,e[2]=(o*g*s-p*l*s+p*n*c-i*g*c-o*n*m+i*l*m)*N,e[3]=(u*l*s-o*f*s-u*n*c+i*f*c+o*n*d-i*l*d)*N,e[4]=B*N,e[5]=(A*g*s-_*f*s+_*n*d-t*g*d-A*n*m+t*f*m)*N,e[6]=(_*l*s-a*g*s-_*n*c+t*g*c+a*n*m-t*l*m)*N,e[7]=(a*f*s-A*l*s+A*n*c-t*f*c-a*n*d+t*l*d)*N,e[8]=S*N,e[9]=(_*u*s-A*p*s-_*i*d+t*p*d+A*i*m-t*u*m)*N,e[10]=(a*p*s-_*o*s+_*i*c-t*p*c-a*i*m+t*o*m)*N,e[11]=(A*o*s-a*u*s-A*i*c+t*u*c+a*i*d-t*o*d)*N,e[12]=U*N,e[13]=(A*p*n-_*u*n+_*i*f-t*p*f-A*i*g+t*u*g)*N,e[14]=(_*o*n-a*p*n-_*i*l+t*p*l+a*i*g-t*o*g)*N,e[15]=(a*u*n-A*o*n+A*i*l-t*u*l-a*i*f+t*o*f)*N,this}scale(e){const t=this.elements,i=e.x,n=e.y,s=e.z;return t[0]*=i,t[4]*=n,t[8]*=s,t[1]*=i,t[5]*=n,t[9]*=s,t[2]*=i,t[6]*=n,t[10]*=s,t[3]*=i,t[7]*=n,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),n=Math.sin(t),s=1-i,a=e.x,o=e.y,l=e.z,c=s*a,A=s*o;return this.set(c*a+i,c*o-n*l,c*l+n*o,0,c*o+n*l,A*o+i,A*l-n*a,0,c*l-n*o,A*l+n*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,n,s,a){return this.set(1,i,s,0,e,1,a,0,t,n,1,0,0,0,0,1),this}compose(e,t,i){const n=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,A=a+a,u=o+o,f=s*c,d=s*A,_=s*u,p=a*A,g=a*u,m=o*u,C=l*c,B=l*A,S=l*u,U=i.x,H=i.y,N=i.z;return n[0]=(1-(p+m))*U,n[1]=(d+S)*U,n[2]=(_-B)*U,n[3]=0,n[4]=(d-S)*H,n[5]=(1-(f+m))*H,n[6]=(g+C)*H,n[7]=0,n[8]=(_+B)*N,n[9]=(g-C)*N,n[10]=(1-(f+p))*N,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,i){const n=this.elements;let s=Ng.set(n[0],n[1],n[2]).length();const a=Ng.set(n[4],n[5],n[6]).length(),o=Ng.set(n[8],n[9],n[10]).length();this.determinant()<0&&(s=-s),e.x=n[12],e.y=n[13],e.z=n[14],Nh.copy(this);const c=1/s,A=1/a,u=1/o;return Nh.elements[0]*=c,Nh.elements[1]*=c,Nh.elements[2]*=c,Nh.elements[4]*=A,Nh.elements[5]*=A,Nh.elements[6]*=A,Nh.elements[8]*=u,Nh.elements[9]*=u,Nh.elements[10]*=u,t.setFromRotationMatrix(Nh),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,n,s,a,o=PA){const l=this.elements,c=2*s/(t-e),A=2*s/(i-n),u=(t+e)/(t-e),f=(i+n)/(i-n);let d,_;if(o===PA)d=-(a+s)/(a-s),_=-2*a*s/(a-s);else{if(2001!==o)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);d=-a/(a-s),_=-a*s/(a-s)}return l[0]=c,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=A,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,n,s,a,o=PA){const l=this.elements,c=1/(t-e),A=1/(i-n),u=1/(a-s),f=(t+e)*c,d=(i+n)*A;let _,p;if(o===PA)_=(a+s)*u,p=-2*u;else{if(2001!==o)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);_=s*u,p=-1*u}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*A,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=p,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let n=0;n<16;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ng=new Ce,Nh=new Qi,E3=new Ce(0,0,0),M3=new Ce(1,1,1),Gd=new Ce,By=new Ce,Fc=new Ce,HS=new Qi,zS=new Ss;let Hh=(()=>{class r{constructor(t=0,i=0,n=0,s=r.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=n,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,n,s=this._order){return this._x=t,this._y=i,this._z=n,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,n=!0){const s=t.elements,a=s[0],o=s[4],l=s[8],c=s[1],A=s[5],u=s[9],f=s[2],d=s[6],_=s[10];switch(i){case"XYZ":this._y=Math.asin(la(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,_),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,A),this._z=0);break;case"YXZ":this._x=Math.asin(-la(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,_),this._z=Math.atan2(c,A)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(la(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,_),this._z=Math.atan2(-o,A)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-la(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,_),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,A));break;case"YZX":this._z=Math.asin(la(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,A),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(l,_));break;case"XZY":this._z=Math.asin(-la(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,A),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-u,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,i,n){return HS.makeRotationFromQuaternion(t),this.setFromRotationMatrix(HS,i,n)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return zS.setFromEuler(this),this.setFromQuaternion(zS,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return r.DEFAULT_ORDER="XYZ",r})();class aE{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let T3=0;const GS=new Ce,Hg=new Ss,Pu=new Qi,Cy=new Ce,Qv=new Ce,D3=new Ce,S3=new Ss,YS=new Ce(1,0,0),WS=new Ce(0,1,0),VS=new Ce(0,0,1),I3={type:"added"},F3={type:"removed"};let Is=(()=>{class r extends kp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:T3++}),this.uuid=Ic(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=r.DEFAULT_UP.clone();const t=new Ce,i=new Hh,n=new Ss,s=new Ce(1,1,1);i._onChange(function a(){n.setFromEuler(i,!1)}),n._onChange(function o(){i.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Qi},normalMatrix:{value:new nr}}),this.matrix=new Qi,this.matrixWorld=new Qi,this.matrixAutoUpdate=r.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=r.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new aE,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return Hg.setFromAxisAngle(t,i),this.quaternion.multiply(Hg),this}rotateOnWorldAxis(t,i){return Hg.setFromAxisAngle(t,i),this.quaternion.premultiply(Hg),this}rotateX(t){return this.rotateOnAxis(YS,t)}rotateY(t){return this.rotateOnAxis(WS,t)}rotateZ(t){return this.rotateOnAxis(VS,t)}translateOnAxis(t,i){return GS.copy(t).applyQuaternion(this.quaternion),this.position.add(GS.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(YS,t)}translateY(t){return this.translateOnAxis(WS,t)}translateZ(t){return this.translateOnAxis(VS,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Pu.copy(this.matrixWorld).invert())}lookAt(t,i,n){t.isVector3?Cy.copy(t):Cy.set(t,i,n);const s=this.parent;this.updateWorldMatrix(!0,!1),Qv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pu.lookAt(Qv,Cy,this.up):Pu.lookAt(Cy,Qv,this.up),this.quaternion.setFromRotationMatrix(Pu),s&&(Pu.extractRotation(s.matrixWorld),Hg.setFromRotationMatrix(Pu),this.quaternion.premultiply(Hg.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(I3)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(F3)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Pu.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Pu.multiply(t.parent.matrixWorld)),t.applyMatrix4(Pu),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let n=0,s=this.children.length;n<s;n++){const o=this.children[n].getObjectByProperty(t,i);if(void 0!==o)return o}}getObjectsByProperty(t,i,n=[]){this[t]===i&&n.push(this);const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].getObjectsByProperty(t,i,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qv,t,D3),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qv,S3,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let n=0,s=i.length;n<s;n++)i[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let n=0,s=i.length;n<s;n++)i[n].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let n=0,s=i.length;n<s;n++){const a=i[n];(!0===a.matrixWorldAutoUpdate||!0===t)&&a.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const n=this.parent;if(!0===t&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let a=0,o=s.length;a<o;a++){const l=s[a];!0===l.matrixWorldAutoUpdate&&l.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,n={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function a(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxGeometryCount=this._maxGeometryCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),null!==this.boundingSphere&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),null!==this.boundingBox&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let A=0,u=c.length;A<u;A++)a(t.shapes,c[A]);else a(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,A=this.material.length;c<A;c++)l.push(a(t.materials,this.material[c]));s.material=l}else s.material=a(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(a(t.animations,this.animations[l]))}if(i){const l=o(t.geometries),c=o(t.materials),A=o(t.textures),u=o(t.images),f=o(t.shapes),d=o(t.skeletons),_=o(t.animations),p=o(t.nodes);l.length>0&&(n.geometries=l),c.length>0&&(n.materials=c),A.length>0&&(n.textures=A),u.length>0&&(n.images=u),f.length>0&&(n.shapes=f),d.length>0&&(n.skeletons=d),_.length>0&&(n.animations=_),p.length>0&&(n.nodes=p)}return n.object=s,n;function o(l){const c=[];for(const A in l){const u=l[A];delete u.metadata,c.push(u)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}}return r.DEFAULT_UP=new Ce(0,1,0),r.DEFAULT_MATRIX_AUTO_UPDATE=!0,r.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,r})();const zh=new Ce,Ru=new Ce,oE=new Ce,Uu=new Ce,zg=new Ce,Gg=new Ce,jS=new Ce,lE=new Ce,cE=new Ce,hE=new Ce;let Ey=!1;class kc{constructor(e=new Ce,t=new Ce,i=new Ce){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,n){n.subVectors(i,t),zh.subVectors(e,t),n.cross(zh);const s=n.lengthSq();return s>0?n.multiplyScalar(1/Math.sqrt(s)):n.set(0,0,0)}static getBarycoord(e,t,i,n,s){zh.subVectors(n,t),Ru.subVectors(i,t),oE.subVectors(e,t);const a=zh.dot(zh),o=zh.dot(Ru),l=zh.dot(oE),c=Ru.dot(Ru),A=Ru.dot(oE),u=a*c-o*o;if(0===u)return s.set(0,0,0),null;const f=1/u,d=(c*l-o*A)*f,_=(a*A-o*l)*f;return s.set(1-d-_,_,d)}static containsPoint(e,t,i,n){return null!==this.getBarycoord(e,t,i,n,Uu)&&Uu.x>=0&&Uu.y>=0&&Uu.x+Uu.y<=1}static getUV(e,t,i,n,s,a,o,l){return!1===Ey&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Ey=!0),this.getInterpolation(e,t,i,n,s,a,o,l)}static getInterpolation(e,t,i,n,s,a,o,l){return null===this.getBarycoord(e,t,i,n,Uu)?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Uu.x),l.addScaledVector(a,Uu.y),l.addScaledVector(o,Uu.z),l)}static isFrontFacing(e,t,i,n){return zh.subVectors(i,t),Ru.subVectors(e,t),zh.cross(Ru).dot(n)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,i,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return zh.subVectors(this.c,this.b),Ru.subVectors(this.a,this.b),.5*zh.cross(Ru).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return kc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return kc.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,n,s){return!1===Ey&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Ey=!0),kc.getInterpolation(e,this.a,this.b,this.c,t,i,n,s)}getInterpolation(e,t,i,n,s){return kc.getInterpolation(e,this.a,this.b,this.c,t,i,n,s)}containsPoint(e){return kc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return kc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,n=this.b,s=this.c;let a,o;zg.subVectors(n,i),Gg.subVectors(s,i),lE.subVectors(e,i);const l=zg.dot(lE),c=Gg.dot(lE);if(l<=0&&c<=0)return t.copy(i);cE.subVectors(e,n);const A=zg.dot(cE),u=Gg.dot(cE);if(A>=0&&u<=A)return t.copy(n);const f=l*u-A*c;if(f<=0&&l>=0&&A<=0)return a=l/(l-A),t.copy(i).addScaledVector(zg,a);hE.subVectors(e,s);const d=zg.dot(hE),_=Gg.dot(hE);if(_>=0&&d<=_)return t.copy(s);const p=d*c-l*_;if(p<=0&&c>=0&&_<=0)return o=c/(c-_),t.copy(i).addScaledVector(Gg,o);const g=A*_-d*u;if(g<=0&&u-A>=0&&d-_>=0)return jS.subVectors(s,n),o=(u-A)/(u-A+(d-_)),t.copy(n).addScaledVector(jS,o);const m=1/(g+p+f);return a=p*m,o=f*m,t.copy(i).addScaledVector(zg,a).addScaledVector(Gg,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const JS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yd={h:0,s:0,l:0},My={h:0,s:0,l:0};function AE(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+6*(e-r)*(2/3-t):r}class mi{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const n=e;n&&n.isColor?this.copy(n):"number"==typeof n?this.setHex(n):"string"==typeof n&&this.setStyle(n)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=cs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Yr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,n=Yr.workingColorSpace){return this.r=e,this.g=t,this.b=i,Yr.toWorkingColorSpace(this,n),this}setHSL(e,t,i,n=Yr.workingColorSpace){if(e=JC(e,1),t=la(t,0,1),i=la(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=AE(a,s,e+1/3),this.g=AE(a,s,e),this.b=AE(a,s,e-1/3)}return Yr.toWorkingColorSpace(this,n),this}setStyle(e,t=cs){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=n[2];switch(n[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=n[1],a=s.length;if(3===a)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===a)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=cs){const i=JS[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=kg(e.r),this.g=kg(e.g),this.b=kg(e.b),this}copyLinearToSRGB(e){return this.r=XC(e.r),this.g=XC(e.g),this.b=XC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=cs){return Yr.fromWorkingColorSpace(gl.copy(this),e),65536*Math.round(la(255*gl.r,0,255))+256*Math.round(la(255*gl.g,0,255))+Math.round(la(255*gl.b,0,255))}getHexString(e=cs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Yr.workingColorSpace){Yr.fromWorkingColorSpace(gl.copy(this),t);const i=gl.r,n=gl.g,s=gl.b,a=Math.max(i,n,s),o=Math.min(i,n,s);let l,c;const A=(o+a)/2;if(o===a)l=0,c=0;else{const u=a-o;switch(c=A<=.5?u/(a+o):u/(2-a-o),a){case i:l=(n-s)/u+(n<s?6:0);break;case n:l=(s-i)/u+2;break;case s:l=(i-n)/u+4}l/=6}return e.h=l,e.s=c,e.l=A,e}getRGB(e,t=Yr.workingColorSpace){return Yr.fromWorkingColorSpace(gl.copy(this),t),e.r=gl.r,e.g=gl.g,e.b=gl.b,e}getStyle(e=cs){Yr.fromWorkingColorSpace(gl.copy(this),e);const t=gl.r,i=gl.g,n=gl.b;return e!==cs?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${n.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*n)})`}offsetHSL(e,t,i){return this.getHSL(Yd),this.setHSL(Yd.h+e,Yd.s+t,Yd.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Yd),e.getHSL(My);const i=kv(Yd.h,My.h,t),n=kv(Yd.s,My.s,t),s=kv(Yd.l,My.l,t);return this.setHSL(i,n,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,n=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*n,this.g=s[1]*t+s[4]*i+s[7]*n,this.b=s[2]*t+s[5]*i+s[8]*n,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const gl=new mi;mi.NAMES=JS;let k3=0;class Lc extends kp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:k3++}),this.uuid=Ic(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new mi(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Sg,this.stencilZFail=Sg,this.stencilZPass=Sg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const n=this[t];void 0!==n?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function n(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),204!==this.blendSrc&&(i.blendSrc=this.blendSrc),205!==this.blendDst&&(i.blendDst=this.blendDst),100!==this.blendEquation&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Sg&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Sg&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Sg&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=n(e.textures),a=n(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const n=t.length;i=new Array(n);for(let s=0;s!==n;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class oh extends Lc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ly,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ja=new Ce,Ty=new Ut;class Gs{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=LA,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let n=0,s=this.itemSize;n<s;n++)this.array[e+n]=t.array[i+n];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)Ty.fromBufferAttribute(this,t),Ty.applyMatrix3(e),this.setXY(t,Ty.x,Ty.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)Ja.fromBufferAttribute(this,t),Ja.applyMatrix3(e),this.setXYZ(t,Ja.x,Ja.y,Ja.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ja.fromBufferAttribute(this,t),Ja.applyMatrix4(e),this.setXYZ(t,Ja.x,Ja.y,Ja.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ja.fromBufferAttribute(this,t),Ja.applyNormalMatrix(e),this.setXYZ(t,Ja.x,Ja.y,Ja.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ja.fromBufferAttribute(this,t),Ja.transformDirection(e),this.setXYZ(t,Ja.x,Ja.y,Ja.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=nc(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=tr(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=nc(t,this.array)),t}setX(e,t){return this.normalized&&(t=tr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=nc(t,this.array)),t}setY(e,t){return this.normalized&&(t=tr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=nc(t,this.array)),t}setZ(e,t){return this.normalized&&(t=tr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=nc(t,this.array)),t}setW(e,t){return this.normalized&&(t=tr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=tr(t,this.array),i=tr(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,n){return e*=this.itemSize,this.normalized&&(t=tr(t,this.array),i=tr(i,this.array),n=tr(n,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this}setXYZW(e,t,i,n,s){return e*=this.itemSize,this.normalized&&(t=tr(t,this.array),i=tr(i,this.array),n=tr(n,this.array),s=tr(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class uE extends Gs{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class KS extends Gs{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Vi extends Gs{constructor(e,t,i){super(new Float32Array(e),t,i)}}let P3=0;const lh=new Qi,dE=new Is,Yg=new Ce,Pc=new ja,Nv=new ja,So=new Ce;class Xn extends kp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:P3++}),this.uuid=Ic(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(LS(e)?KS:uE)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new nr).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const n=this.attributes.tangent;return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return lh.makeRotationFromQuaternion(e),this.applyMatrix4(lh),this}rotateX(e){return lh.makeRotationX(e),this.applyMatrix4(lh),this}rotateY(e){return lh.makeRotationY(e),this.applyMatrix4(lh),this}rotateZ(e){return lh.makeRotationZ(e),this.applyMatrix4(lh),this}translate(e,t,i){return lh.makeTranslation(e,t,i),this.applyMatrix4(lh),this}scale(e,t,i){return lh.makeScale(e,t,i),this.applyMatrix4(lh),this}lookAt(e){return dE.lookAt(e),dE.updateMatrix(),this.applyMatrix4(dE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Yg).negate(),this.translate(Yg.x,Yg.y,Yg.z),this}setFromPoints(e){const t=[];for(let i=0,n=e.length;i<n;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Vi(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ja);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ce(-1/0,-1/0,-1/0),new Ce(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,n=t.length;i<n;i++)Pc.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(So.addVectors(this.boundingBox.min,Pc.min),this.boundingBox.expandByPoint(So),So.addVectors(this.boundingBox.max,Pc.max),this.boundingBox.expandByPoint(So)):(this.boundingBox.expandByPoint(Pc.min),this.boundingBox.expandByPoint(Pc.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ml);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ce,1/0);if(e){const i=this.boundingSphere.center;if(Pc.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++)Nv.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(So.addVectors(Pc.min,Nv.min),Pc.expandByPoint(So),So.addVectors(Pc.max,Nv.max),Pc.expandByPoint(So)):(Pc.expandByPoint(Nv.min),Pc.expandByPoint(Nv.max));Pc.getCenter(i);let n=0;for(let s=0,a=e.count;s<a;s++)So.fromBufferAttribute(e,s),n=Math.max(n,i.distanceToSquared(So));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,A=o.count;c<A;c++)So.fromBufferAttribute(o,c),l&&(Yg.fromBufferAttribute(e,c),So.add(Yg)),n=Math.max(n,i.distanceToSquared(So))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,n=t.position.array,s=t.normal.array,a=t.uv.array,o=n.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Gs(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],A=[];for(let W=0;W<o;W++)c[W]=new Ce,A[W]=new Ce;const u=new Ce,f=new Ce,d=new Ce,_=new Ut,p=new Ut,g=new Ut,m=new Ce,C=new Ce;function B(W,Y,K){u.fromArray(n,3*W),f.fromArray(n,3*Y),d.fromArray(n,3*K),_.fromArray(a,2*W),p.fromArray(a,2*Y),g.fromArray(a,2*K),f.sub(u),d.sub(u),p.sub(_),g.sub(_);const q=1/(p.x*g.y-g.x*p.y);isFinite(q)&&(m.copy(f).multiplyScalar(g.y).addScaledVector(d,-p.y).multiplyScalar(q),C.copy(d).multiplyScalar(p.x).addScaledVector(f,-g.x).multiplyScalar(q),c[W].add(m),c[Y].add(m),c[K].add(m),A[W].add(C),A[Y].add(C),A[K].add(C))}let S=this.groups;0===S.length&&(S=[{start:0,count:i.length}]);for(let W=0,Y=S.length;W<Y;++W){const K=S[W],q=K.start;for(let ie=q,ee=q+K.count;ie<ee;ie+=3)B(i[ie+0],i[ie+1],i[ie+2])}const U=new Ce,H=new Ce,N=new Ce,P=new Ce;function z(W){N.fromArray(s,3*W),P.copy(N);const Y=c[W];U.copy(Y),U.sub(N.multiplyScalar(N.dot(Y))).normalize(),H.crossVectors(P,Y);const q=H.dot(A[W])<0?-1:1;l[4*W]=U.x,l[4*W+1]=U.y,l[4*W+2]=U.z,l[4*W+3]=q}for(let W=0,Y=S.length;W<Y;++W){const K=S[W],q=K.start;for(let ie=q,ee=q+K.count;ie<ee;ie+=3)z(i[ie+0]),z(i[ie+1]),z(i[ie+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new Gs(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let f=0,d=i.count;f<d;f++)i.setXYZ(f,0,0,0);const n=new Ce,s=new Ce,a=new Ce,o=new Ce,l=new Ce,c=new Ce,A=new Ce,u=new Ce;if(e)for(let f=0,d=e.count;f<d;f+=3){const _=e.getX(f+0),p=e.getX(f+1),g=e.getX(f+2);n.fromBufferAttribute(t,_),s.fromBufferAttribute(t,p),a.fromBufferAttribute(t,g),A.subVectors(a,s),u.subVectors(n,s),A.cross(u),o.fromBufferAttribute(i,_),l.fromBufferAttribute(i,p),c.fromBufferAttribute(i,g),o.add(A),l.add(A),c.add(A),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(p,l.x,l.y,l.z),i.setXYZ(g,c.x,c.y,c.z)}else for(let f=0,d=t.count;f<d;f+=3)n.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),a.fromBufferAttribute(t,f+2),A.subVectors(a,s),u.subVectors(n,s),A.cross(u),i.setXYZ(f+0,A.x,A.y,A.z),i.setXYZ(f+1,A.x,A.y,A.z),i.setXYZ(f+2,A.x,A.y,A.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)So.fromBufferAttribute(e,t),So.normalize(),e.setXYZ(t,So.x,So.y,So.z)}toNonIndexed(){function e(o,l){const c=o.array,A=o.itemSize,u=o.normalized,f=new c.constructor(l.length*A);let d=0,_=0;for(let p=0,g=l.length;p<g;p++){d=o.isInterleavedBufferAttribute?l[p]*o.data.stride+o.offset:l[p]*A;for(let m=0;m<A;m++)f[_++]=c[d++]}return new Gs(f,A,u)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Xn,i=this.index.array,n=this.attributes;for(const o in n){const c=e(n[o],i);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let A=0,u=c.length;A<u;A++){const d=e(c[A],i);l.push(d)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i)e.data.attributes[l]=i[l].toJSON(e.data);const n={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],A=[];for(let u=0,f=c.length;u<f;u++)A.push(c[u].toJSON(e.data));A.length>0&&(n[l]=A,s=!0)}s&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const n=e.attributes;for(const c in n)this.setAttribute(c,n[c].clone(t));const s=e.morphAttributes;for(const c in s){const A=[],u=s[c];for(let f=0,d=u.length;f<d;f++)A.push(u[f].clone(t));this.morphAttributes[c]=A}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,A=a.length;c<A;c++){const u=a[c];this.addGroup(u.start,u.count,u.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ZS=new Qi,Qp=new Og,Dy=new ml,XS=new Ce,Wg=new Ce,Vg=new Ce,jg=new Ce,fE=new Ce,Sy=new Ce,Iy=new Ut,Fy=new Ut,ky=new Ut,qS=new Ce,$S=new Ce,eI=new Ce,Ly=new Ce,Py=new Ce;class Ao extends Is{constructor(e=new Xn,t=new oh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=n.length;s<a;s++){const o=n[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const o=this.morphTargetInfluences;if(s&&o){Sy.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const A=o[l];0!==A&&(fE.fromBufferAttribute(s[l],e),Sy.addScaledVector(a?fE:fE.sub(t),A))}t.add(Sy)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),Dy.copy(i.boundingSphere),Dy.applyMatrix4(s),Qp.copy(e.ray).recast(e.near),(!1!==Dy.containsPoint(Qp.origin)||!(null===Qp.intersectSphere(Dy,XS)||Qp.origin.distanceToSquared(XS)>(e.far-e.near)**2))&&(ZS.copy(s).invert(),Qp.copy(e.ray).applyMatrix4(ZS),(null===i.boundingBox||!1!==Qp.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,Qp)))}_computeIntersections(e,t,i){let n;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,A=s.attributes.uv1,u=s.attributes.normal,f=s.groups,d=s.drawRange;if(null!==o)if(Array.isArray(a))for(let _=0,p=f.length;_<p;_++){const g=f[_],m=a[g.materialIndex];for(let S=Math.max(g.start,d.start),U=Math.min(o.count,Math.min(g.start+g.count,d.start+d.count));S<U;S+=3)n=Ry(this,m,e,i,c,A,u,o.getX(S),o.getX(S+1),o.getX(S+2)),n&&(n.faceIndex=Math.floor(S/3),n.face.materialIndex=g.materialIndex,t.push(n))}else for(let g=Math.max(0,d.start),m=Math.min(o.count,d.start+d.count);g<m;g+=3)n=Ry(this,a,e,i,c,A,u,o.getX(g),o.getX(g+1),o.getX(g+2)),n&&(n.faceIndex=Math.floor(g/3),t.push(n));else if(void 0!==l)if(Array.isArray(a))for(let _=0,p=f.length;_<p;_++){const g=f[_],m=a[g.materialIndex];for(let S=Math.max(g.start,d.start),U=Math.min(l.count,Math.min(g.start+g.count,d.start+d.count));S<U;S+=3)n=Ry(this,m,e,i,c,A,u,S,S+1,S+2),n&&(n.faceIndex=Math.floor(S/3),n.face.materialIndex=g.materialIndex,t.push(n))}else for(let g=Math.max(0,d.start),m=Math.min(l.count,d.start+d.count);g<m;g+=3)n=Ry(this,a,e,i,c,A,u,g,g+1,g+2),n&&(n.faceIndex=Math.floor(g/3),t.push(n))}}function Ry(r,e,t,i,n,s,a,o,l,c){r.getVertexPosition(o,Wg),r.getVertexPosition(l,Vg),r.getVertexPosition(c,jg);const A=function R3(r,e,t,i,n,s,a,o){let l;if(l=1===e.side?i.intersectTriangle(a,s,n,!0,o):i.intersectTriangle(n,s,a,0===e.side,o),null===l)return null;Py.copy(o),Py.applyMatrix4(r.matrixWorld);const c=t.ray.origin.distanceTo(Py);return c<t.near||c>t.far?null:{distance:c,point:Py.clone(),object:r}}(r,e,t,i,Wg,Vg,jg,Ly);if(A){n&&(Iy.fromBufferAttribute(n,o),Fy.fromBufferAttribute(n,l),ky.fromBufferAttribute(n,c),A.uv=kc.getInterpolation(Ly,Wg,Vg,jg,Iy,Fy,ky,new Ut)),s&&(Iy.fromBufferAttribute(s,o),Fy.fromBufferAttribute(s,l),ky.fromBufferAttribute(s,c),A.uv1=kc.getInterpolation(Ly,Wg,Vg,jg,Iy,Fy,ky,new Ut),A.uv2=A.uv1),a&&(qS.fromBufferAttribute(a,o),$S.fromBufferAttribute(a,l),eI.fromBufferAttribute(a,c),A.normal=kc.getInterpolation(Ly,Wg,Vg,jg,qS,$S,eI,new Ce),A.normal.dot(i.direction)>0&&A.normal.multiplyScalar(-1));const u={a:o,b:l,c,normal:new Ce,materialIndex:0};kc.getNormal(Wg,Vg,jg,u.normal),A.face=u}return A}class Jg extends Xn{constructor(e=1,t=1,i=1,n=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:s,depthSegments:a};const o=this;n=Math.floor(n),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],A=[],u=[];let f=0,d=0;function _(p,g,m,C,B,S,U,H,N,P,z){const W=S/N,Y=U/P,K=S/2,q=U/2,Q=H/2,ie=N+1,ee=P+1;let he=0,pe=0;const ue=new Ce;for(let Be=0;Be<ee;Be++){const Le=Be*Y-q;for(let J=0;J<ie;J++)ue[p]=(J*W-K)*C,ue[g]=Le*B,ue[m]=Q,c.push(ue.x,ue.y,ue.z),ue[p]=0,ue[g]=0,ue[m]=H>0?1:-1,A.push(ue.x,ue.y,ue.z),u.push(J/N),u.push(1-Be/P),he+=1}for(let Be=0;Be<P;Be++)for(let Le=0;Le<N;Le++){const te=f+Le+ie*(Be+1),le=f+(Le+1)+ie*(Be+1),be=f+(Le+1)+ie*Be;l.push(f+Le+ie*Be,te,be),l.push(te,le,be),pe+=6}o.addGroup(d,pe,z),d+=pe,f+=he}_("z","y","x",-1,-1,i,t,e,a,s,0),_("z","y","x",1,-1,i,t,-e,a,s,1),_("x","z","y",1,1,e,i,t,n,a,2),_("x","z","y",1,-1,e,i,-t,n,a,3),_("x","y","z",1,-1,e,t,i,n,s,4),_("x","y","z",-1,-1,e,t,-i,n,s,5),this.setIndex(l),this.setAttribute("position",new Vi(c,3)),this.setAttribute("normal",new Vi(A,3)),this.setAttribute("uv",new Vi(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Kg(r){const e={};for(const t in r){e[t]={};for(const i in r[t]){const n=r[t][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?n.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=n.clone():e[t][i]=Array.isArray(n)?n.slice():n}}return e}function Ul(r){const e={};for(let t=0;t<r.length;t++){const i=Kg(r[t]);for(const n in i)e[n]=i[n]}return e}function tI(r){return null===r.getRenderTarget()?r.outputColorSpace:Yr.workingColorSpace}const Q3={clone:Kg,merge:Ul};class Wd extends Lc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Kg(e.uniforms),this.uniformsGroups=function U3(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const a=this.uniforms[n].value;t.uniforms[n]=a&&a.isTexture?{type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?{type:"c",value:a.getHex()}:a&&a.isVector2?{type:"v2",value:a.toArray()}:a&&a.isVector3?{type:"v3",value:a.toArray()}:a&&a.isVector4?{type:"v4",value:a.toArray()}:a&&a.isMatrix3?{type:"m3",value:a.toArray()}:a&&a.isMatrix4?{type:"m4",value:a.toArray()}:{value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const n in this.extensions)!0===this.extensions[n]&&(i[n]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class pE extends Is{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qi,this.projectionMatrix=new Qi,this.projectionMatrixInverse=new Qi,this.coordinateSystem=PA}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class uo extends pE{constructor(e=50,t=1,i=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Ig*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Lp*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Ig*Math.atan(Math.tan(.5*Lp*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,n,s,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Lp*this.fov)/this.zoom,i=2*t,n=this.aspect*i,s=-.5*n;const a=this.view;if(null!==this.view&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*n/l,t-=a.offsetY*i/c,n*=a.width/l,i*=a.height/c}const o=this.filmOffset;0!==o&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+n,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class H3 extends Is{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const n=new uo(-90,1,e,t);n.layers=this.layers,this.add(n);const s=new uo(-90,1,e,t);s.layers=this.layers,this.add(s);const a=new uo(-90,1,e,t);a.layers=this.layers,this.add(a);const o=new uo(-90,1,e,t);o.layers=this.layers,this.add(o);const l=new uo(-90,1,e,t);l.layers=this.layers,this.add(l);const c=new uo(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,n,s,a,o,l]=t;for(const c of t)this.remove(c);if(e===PA)i.up.set(0,1,0),i.lookAt(1,0,0),n.up.set(0,1,0),n.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),n.up.set(0,-1,0),n.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:n}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,A]=this.children,u=e.getRenderTarget(),f=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,n),e.render(t,s),e.setRenderTarget(i,1,n),e.render(t,a),e.setRenderTarget(i,2,n),e.render(t,o),e.setRenderTarget(i,3,n),e.render(t,l),e.setRenderTarget(i,4,n),e.render(t,c),i.texture.generateMipmaps=p,e.setRenderTarget(i,5,n),e.render(t,A),e.setRenderTarget(u,f,d),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class Uy extends rc{constructor(e,t,i,n,s,a,o,l,c,A){super(e=void 0!==e?e:[],t=void 0!==t?t:Ud,i,n,s,a,o,l,c,A),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class z3 extends Pp{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},n=[i,i,i,i,i,i];void 0!==t.encoding&&(Pv("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Ip?cs:""),this.texture=new Uy(n,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:oa}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",n=new Jg(5,5,5),s=new Wd({name:"CubemapFromEquirect",uniforms:Kg(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const a=new Ao(n,s),o=t.minFilter;return t.minFilter===Fu&&(t.minFilter=oa),new H3(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,n){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,n);e.setRenderTarget(s)}}const mE=new Ce,G3=new Ce,Y3=new nr;class Vd{constructor(e=new Ce(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const n=mE.subVectors(i,t).cross(G3.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(mE),n=this.normal.dot(i);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/n;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Y3.getNormalMatrix(e),n=this.coplanarPoint(mE).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Op=new ml,Qy=new Ce;class Oy{constructor(e=new Vd,t=new Vd,i=new Vd,n=new Vd,s=new Vd,a=new Vd){this.planes=[e,t,i,n,s,a]}set(e,t,i,n,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(n),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=PA){const i=this.planes,n=e.elements,s=n[0],a=n[1],o=n[2],l=n[3],c=n[4],A=n[5],u=n[6],f=n[7],d=n[8],_=n[9],p=n[10],g=n[11],m=n[12],C=n[13],B=n[14],S=n[15];if(i[0].setComponents(l-s,f-c,g-d,S-m).normalize(),i[1].setComponents(l+s,f+c,g+d,S+m).normalize(),i[2].setComponents(l+a,f+A,g+_,S+C).normalize(),i[3].setComponents(l-a,f-A,g-_,S-C).normalize(),i[4].setComponents(l-o,f-u,g-p,S-B).normalize(),t===PA)i[5].setComponents(l+o,f+u,g+p,S+B).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(o,u,p,B).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Op.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Op.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Op)}intersectsSprite(e){return Op.center.set(0,0,0),Op.radius=.7071067811865476,Op.applyMatrix4(e.matrixWorld),this.intersectsSphere(Op)}intersectsSphere(e){const t=this.planes,i=e.center,n=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<n)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const n=t[i];if(Qy.x=n.normal.x>0?e.max.x:e.min.x,Qy.y=n.normal.y>0?e.max.y:e.min.y,Qy.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(Qy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function iI(){let r=null,e=!1,t=null,i=null;function n(s,a){t(s,a),i=r.requestAnimationFrame(n)}return{start:function(){!0!==e&&null!==t&&(i=r.requestAnimationFrame(n),e=!0)},stop:function(){r.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){r=s}}}function W3(r,e){const t=e.isWebGL2,i=new WeakMap;return{get:function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const A=i.get(c);A&&(r.deleteBuffer(A.buffer),i.delete(c))},update:function l(c,A){if(c.isGLBufferAttribute){const f=i.get(c);return void((!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);if(void 0===u)i.set(c,function n(c,A){const u=c.array,f=c.usage,d=u.byteLength,_=r.createBuffer();let p;if(r.bindBuffer(A,_),r.bufferData(A,u,f),c.onUploadCallback(),u instanceof Float32Array)p=r.FLOAT;else if(u instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=r.HALF_FLOAT}else p=r.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=r.SHORT;else if(u instanceof Uint32Array)p=r.UNSIGNED_INT;else if(u instanceof Int32Array)p=r.INT;else if(u instanceof Int8Array)p=r.BYTE;else if(u instanceof Uint8Array)p=r.UNSIGNED_BYTE;else{if(!(u instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);p=r.UNSIGNED_BYTE}return{buffer:_,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version,size:d}}(c,A));else if(u.version<c.version){if(u.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function s(c,A,u){const f=A.array,d=A._updateRange,_=A.updateRanges;if(r.bindBuffer(u,c),-1===d.count&&0===_.length&&r.bufferSubData(u,0,f),0!==_.length){for(let p=0,g=_.length;p<g;p++){const m=_[p];t?r.bufferSubData(u,m.start*f.BYTES_PER_ELEMENT,f,m.start,m.count):r.bufferSubData(u,m.start*f.BYTES_PER_ELEMENT,f.subarray(m.start,m.start+m.count))}A.clearUpdateRanges()}-1!==d.count&&(t?r.bufferSubData(u,d.offset*f.BYTES_PER_ELEMENT,f,d.offset,d.count):r.bufferSubData(u,d.offset*f.BYTES_PER_ELEMENT,f.subarray(d.offset,d.offset+d.count)),d.count=-1),A.onUploadCallback()})(u.buffer,c,A),u.version=c.version}}}}class Ny extends Xn{constructor(e=1,t=1,i=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n};const s=e/2,a=t/2,o=Math.floor(i),l=Math.floor(n),c=o+1,A=l+1,u=e/o,f=t/l,d=[],_=[],p=[],g=[];for(let m=0;m<A;m++){const C=m*f-a;for(let B=0;B<c;B++)_.push(B*u-s,-C,0),p.push(0,0,1),g.push(B/o),g.push(1-m/l)}for(let m=0;m<l;m++)for(let C=0;C<o;C++){const S=C+c*(m+1),U=C+1+c*(m+1),H=C+1+c*m;d.push(C+c*m,S,H),d.push(S,U,H)}this.setIndex(d),this.setAttribute("position",new Vi(_,3)),this.setAttribute("normal",new Vi(p,3)),this.setAttribute("uv",new Vi(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ny(e.width,e.height,e.widthSegments,e.heightSegments)}}const rr={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor *= toneMappingExposure;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\treturn color;\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Ci={common:{diffuse:{value:new mi(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new nr},alphaMap:{value:null},alphaMapTransform:{value:new nr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new nr}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new nr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new nr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new nr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new nr},normalScale:{value:new Ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new nr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new nr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new nr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new nr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new mi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new mi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new nr},alphaTest:{value:0},uvTransform:{value:new nr}},sprite:{diffuse:{value:new mi(16777215)},opacity:{value:1},center:{value:new Ut(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new nr},alphaMap:{value:null},alphaMapTransform:{value:new nr},alphaTest:{value:0}}},RA={basic:{uniforms:Ul([Ci.common,Ci.specularmap,Ci.envmap,Ci.aomap,Ci.lightmap,Ci.fog]),vertexShader:rr.meshbasic_vert,fragmentShader:rr.meshbasic_frag},lambert:{uniforms:Ul([Ci.common,Ci.specularmap,Ci.envmap,Ci.aomap,Ci.lightmap,Ci.emissivemap,Ci.bumpmap,Ci.normalmap,Ci.displacementmap,Ci.fog,Ci.lights,{emissive:{value:new mi(0)}}]),vertexShader:rr.meshlambert_vert,fragmentShader:rr.meshlambert_frag},phong:{uniforms:Ul([Ci.common,Ci.specularmap,Ci.envmap,Ci.aomap,Ci.lightmap,Ci.emissivemap,Ci.bumpmap,Ci.normalmap,Ci.displacementmap,Ci.fog,Ci.lights,{emissive:{value:new mi(0)},specular:{value:new mi(1118481)},shininess:{value:30}}]),vertexShader:rr.meshphong_vert,fragmentShader:rr.meshphong_frag},standard:{uniforms:Ul([Ci.common,Ci.envmap,Ci.aomap,Ci.lightmap,Ci.emissivemap,Ci.bumpmap,Ci.normalmap,Ci.displacementmap,Ci.roughnessmap,Ci.metalnessmap,Ci.fog,Ci.lights,{emissive:{value:new mi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rr.meshphysical_vert,fragmentShader:rr.meshphysical_frag},toon:{uniforms:Ul([Ci.common,Ci.aomap,Ci.lightmap,Ci.emissivemap,Ci.bumpmap,Ci.normalmap,Ci.displacementmap,Ci.gradientmap,Ci.fog,Ci.lights,{emissive:{value:new mi(0)}}]),vertexShader:rr.meshtoon_vert,fragmentShader:rr.meshtoon_frag},matcap:{uniforms:Ul([Ci.common,Ci.bumpmap,Ci.normalmap,Ci.displacementmap,Ci.fog,{matcap:{value:null}}]),vertexShader:rr.meshmatcap_vert,fragmentShader:rr.meshmatcap_frag},points:{uniforms:Ul([Ci.points,Ci.fog]),vertexShader:rr.points_vert,fragmentShader:rr.points_frag},dashed:{uniforms:Ul([Ci.common,Ci.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rr.linedashed_vert,fragmentShader:rr.linedashed_frag},depth:{uniforms:Ul([Ci.common,Ci.displacementmap]),vertexShader:rr.depth_vert,fragmentShader:rr.depth_frag},normal:{uniforms:Ul([Ci.common,Ci.bumpmap,Ci.normalmap,Ci.displacementmap,{opacity:{value:1}}]),vertexShader:rr.meshnormal_vert,fragmentShader:rr.meshnormal_frag},sprite:{uniforms:Ul([Ci.sprite,Ci.fog]),vertexShader:rr.sprite_vert,fragmentShader:rr.sprite_frag},background:{uniforms:{uvTransform:{value:new nr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:rr.background_vert,fragmentShader:rr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:rr.backgroundCube_vert,fragmentShader:rr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:rr.cube_vert,fragmentShader:rr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:rr.equirect_vert,fragmentShader:rr.equirect_frag},distanceRGBA:{uniforms:Ul([Ci.common,Ci.displacementmap,{referencePosition:{value:new Ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:rr.distanceRGBA_vert,fragmentShader:rr.distanceRGBA_frag},shadow:{uniforms:Ul([Ci.lights,Ci.fog,{color:{value:new mi(0)},opacity:{value:1}}]),vertexShader:rr.shadow_vert,fragmentShader:rr.shadow_frag}};RA.physical={uniforms:Ul([RA.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new nr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new nr},clearcoatNormalScale:{value:new Ut(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new nr},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new nr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new nr},sheen:{value:0},sheenColor:{value:new mi(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new nr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new nr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new nr},transmissionSamplerSize:{value:new Ut},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new nr},attenuationDistance:{value:0},attenuationColor:{value:new mi(0)},specularColor:{value:new mi(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new nr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new nr},anisotropyVector:{value:new Ut},anisotropyMap:{value:null},anisotropyMapTransform:{value:new nr}}]),vertexShader:rr.meshphysical_vert,fragmentShader:rr.meshphysical_frag};const Hy={r:0,b:0,g:0};function WH(r,e,t,i,n,s,a){const o=new mi(0);let c,A,l=!0===s?0:1,u=null,f=0,d=null;function p(g,m){g.getRGB(Hy,tI(r)),i.buffers.color.setClear(Hy.r,Hy.g,Hy.b,m,a)}return{getClearColor:function(){return o},setClearColor:function(g,m=1){o.set(g),l=m,p(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(g){l=g,p(o,l)},render:function _(g,m){let C=!1,B=!0===m.isScene?m.background:null;B&&B.isTexture&&(B=(m.backgroundBlurriness>0?t:e).get(B)),null===B?p(o,l):B&&B.isColor&&(p(B,1),C=!0);const S=r.xr.getEnvironmentBlendMode();"additive"===S?i.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===S&&i.buffers.color.setClear(0,0,0,0,a),(r.autoClear||C)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),B&&(B.isCubeTexture||B.mapping===Mv)?(void 0===A&&(A=new Ao(new Jg(1,1,1),new Wd({name:"BackgroundCubeMaterial",uniforms:Kg(RA.backgroundCube.uniforms),vertexShader:RA.backgroundCube.vertexShader,fragmentShader:RA.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),A.geometry.deleteAttribute("normal"),A.geometry.deleteAttribute("uv"),A.onBeforeRender=function(U,H,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(A.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(A)),A.material.uniforms.envMap.value=B,A.material.uniforms.flipEnvMap.value=B.isCubeTexture&&!1===B.isRenderTargetTexture?-1:1,A.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,A.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,A.material.toneMapped=Yr.getTransfer(B.colorSpace)!==Ds,(u!==B||f!==B.version||d!==r.toneMapping)&&(A.material.needsUpdate=!0,u=B,f=B.version,d=r.toneMapping),A.layers.enableAll(),g.unshift(A,A.geometry,A.material,0,0,null)):B&&B.isTexture&&(void 0===c&&(c=new Ao(new Ny(2,2),new Wd({name:"BackgroundMaterial",uniforms:Kg(RA.background.uniforms),vertexShader:RA.background.vertexShader,fragmentShader:RA.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(c)),c.material.uniforms.t2D.value=B,c.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,c.material.toneMapped=Yr.getTransfer(B.colorSpace)!==Ds,!0===B.matrixAutoUpdate&&B.updateMatrix(),c.material.uniforms.uvTransform.value.copy(B.matrix),(u!==B||f!==B.version||d!==r.toneMapping)&&(c.material.needsUpdate=!0,u=B,f=B.version,d=r.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null))}}}function VH(r,e,t,i){const n=r.getParameter(r.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||null!==s,o={},l=g(null);let c=l,A=!1;function d(Q){return i.isWebGL2?r.bindVertexArray(Q):s.bindVertexArrayOES(Q)}function _(Q){return i.isWebGL2?r.deleteVertexArray(Q):s.deleteVertexArrayOES(Q)}function g(Q){const ie=[],ee=[],he=[];for(let pe=0;pe<n;pe++)ie[pe]=0,ee[pe]=0,he[pe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ie,enabledAttributes:ee,attributeDivisors:he,object:Q,attributes:{},index:null}}function B(){const Q=c.newAttributes;for(let ie=0,ee=Q.length;ie<ee;ie++)Q[ie]=0}function S(Q){U(Q,0)}function U(Q,ie){const he=c.enabledAttributes,pe=c.attributeDivisors;c.newAttributes[Q]=1,0===he[Q]&&(r.enableVertexAttribArray(Q),he[Q]=1),pe[Q]!==ie&&((i.isWebGL2?r:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Q,ie),pe[Q]=ie)}function H(){const Q=c.newAttributes,ie=c.enabledAttributes;for(let ee=0,he=ie.length;ee<he;ee++)ie[ee]!==Q[ee]&&(r.disableVertexAttribArray(ee),ie[ee]=0)}function N(Q,ie,ee,he,pe,ue,Be){!0===Be?r.vertexAttribIPointer(Q,ie,ee,pe,ue):r.vertexAttribPointer(Q,ie,ee,he,pe,ue)}function K(){q(),A=!0,c!==l&&(c=l,d(c.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function u(Q,ie,ee,he,pe){let ue=!1;if(a){const Be=function p(Q,ie,ee){const he=!0===ee.wireframe;let pe=o[Q.id];void 0===pe&&(pe={},o[Q.id]=pe);let ue=pe[ie.id];void 0===ue&&(ue={},pe[ie.id]=ue);let Be=ue[he];return void 0===Be&&(Be=g(function f(){return i.isWebGL2?r.createVertexArray():s.createVertexArrayOES()}()),ue[he]=Be),Be}(he,ee,ie);c!==Be&&(c=Be,d(c.object)),ue=function m(Q,ie,ee,he){const pe=c.attributes,ue=ie.attributes;let Be=0;const Le=ee.getAttributes();for(const J in Le)if(Le[J].location>=0){const le=pe[J];let be=ue[J];if(void 0===be&&("instanceMatrix"===J&&Q.instanceMatrix&&(be=Q.instanceMatrix),"instanceColor"===J&&Q.instanceColor&&(be=Q.instanceColor)),void 0===le||le.attribute!==be||be&&le.data!==be.data)return!0;Be++}return c.attributesNum!==Be||c.index!==he}(Q,he,ee,pe),ue&&function C(Q,ie,ee,he){const pe={},ue=ie.attributes;let Be=0;const Le=ee.getAttributes();for(const J in Le)if(Le[J].location>=0){let le=ue[J];void 0===le&&("instanceMatrix"===J&&Q.instanceMatrix&&(le=Q.instanceMatrix),"instanceColor"===J&&Q.instanceColor&&(le=Q.instanceColor));const be={};be.attribute=le,le&&le.data&&(be.data=le.data),pe[J]=be,Be++}c.attributes=pe,c.attributesNum=Be,c.index=he}(Q,he,ee,pe)}else{const Be=!0===ie.wireframe;(c.geometry!==he.id||c.program!==ee.id||c.wireframe!==Be)&&(c.geometry=he.id,c.program=ee.id,c.wireframe=Be,ue=!0)}null!==pe&&t.update(pe,r.ELEMENT_ARRAY_BUFFER),(ue||A)&&(A=!1,function P(Q,ie,ee,he){if(!1===i.isWebGL2&&(Q.isInstancedMesh||he.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;B();const pe=he.attributes,ue=ee.getAttributes(),Be=ie.defaultAttributeValues;for(const Le in ue){const J=ue[Le];if(J.location>=0){let te=pe[Le];if(void 0===te&&("instanceMatrix"===Le&&Q.instanceMatrix&&(te=Q.instanceMatrix),"instanceColor"===Le&&Q.instanceColor&&(te=Q.instanceColor)),void 0!==te){const le=te.normalized,be=te.itemSize,De=t.get(te);if(void 0===De)continue;const Fe=De.buffer,He=De.type,Je=De.bytesPerElement,ut=!0===i.isWebGL2&&(He===r.INT||He===r.UNSIGNED_INT||1013===te.gpuType);if(te.isInterleavedBufferAttribute){const bt=te.data,Se=bt.stride,ft=te.offset;if(bt.isInstancedInterleavedBuffer){for(let lt=0;lt<J.locationSize;lt++)U(J.location+lt,bt.meshPerAttribute);!0!==Q.isInstancedMesh&&void 0===he._maxInstanceCount&&(he._maxInstanceCount=bt.meshPerAttribute*bt.count)}else for(let lt=0;lt<J.locationSize;lt++)S(J.location+lt);r.bindBuffer(r.ARRAY_BUFFER,Fe);for(let lt=0;lt<J.locationSize;lt++)N(J.location+lt,be/J.locationSize,He,le,Se*Je,(ft+be/J.locationSize*lt)*Je,ut)}else{if(te.isInstancedBufferAttribute){for(let bt=0;bt<J.locationSize;bt++)U(J.location+bt,te.meshPerAttribute);!0!==Q.isInstancedMesh&&void 0===he._maxInstanceCount&&(he._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let bt=0;bt<J.locationSize;bt++)S(J.location+bt);r.bindBuffer(r.ARRAY_BUFFER,Fe);for(let bt=0;bt<J.locationSize;bt++)N(J.location+bt,be/J.locationSize,He,le,be*Je,be/J.locationSize*bt*Je,ut)}}else if(void 0!==Be){const le=Be[Le];if(void 0!==le)switch(le.length){case 2:r.vertexAttrib2fv(J.location,le);break;case 3:r.vertexAttrib3fv(J.location,le);break;case 4:r.vertexAttrib4fv(J.location,le);break;default:r.vertexAttrib1fv(J.location,le)}}}}H()}(Q,ie,ee,he),null!==pe&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.get(pe).buffer))},reset:K,resetDefaultState:q,dispose:function z(){K();for(const Q in o){const ie=o[Q];for(const ee in ie){const he=ie[ee];for(const pe in he)_(he[pe].object),delete he[pe];delete ie[ee]}delete o[Q]}},releaseStatesOfGeometry:function W(Q){if(void 0===o[Q.id])return;const ie=o[Q.id];for(const ee in ie){const he=ie[ee];for(const pe in he)_(he[pe].object),delete he[pe];delete ie[ee]}delete o[Q.id]},releaseStatesOfProgram:function Y(Q){for(const ie in o){const ee=o[ie];if(void 0===ee[Q.id])continue;const he=ee[Q.id];for(const pe in he)_(he[pe].object),delete he[pe];delete ee[Q.id]}},initAttributes:B,enableAttribute:S,disableUnusedAttributes:H}}function jH(r,e,t,i){const n=i.isWebGL2;let s;this.setMode=function a(A){s=A},this.render=function o(A,u){r.drawArrays(s,A,u),t.update(u,s,1)},this.renderInstances=function l(A,u,f){if(0===f)return;let d,_;if(n)d=r,_="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),_="drawArraysInstancedANGLE",null===d)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");d[_](s,A,u,f),t.update(u,s,f)},this.renderMultiDraw=function c(A,u,f){if(0===f)return;const d=e.get("WEBGL_multi_draw");if(null===d)for(let _=0;_<f;_++)this.render(A[_],u[_]);else{d.multiDrawArraysWEBGL(s,A,0,u,0,f);let _=0;for(let p=0;p<f;p++)_+=u[p];t.update(_,s,1)}}}function JH(r,e,t){let i;function s(N){if("highp"===N){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return"mediump"===N&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===r.constructor.name;let o=void 0!==t.precision?t.precision:"highp";const l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=a||e.has("WEBGL_draw_buffers"),A=!0===t.logarithmicDepthBuffer,u=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),f=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=r.getParameter(r.MAX_TEXTURE_SIZE),_=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),p=r.getParameter(r.MAX_VERTEX_ATTRIBS),g=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),m=r.getParameter(r.MAX_VARYING_VECTORS),C=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),B=f>0,S=a||e.has("OES_texture_float");return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:function n(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const N=e.get("EXT_texture_filter_anisotropic");i=r.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:o,logarithmicDepthBuffer:A,maxTextures:u,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:_,maxAttributes:p,maxVertexUniforms:g,maxVaryings:m,maxFragmentUniforms:C,vertexTextures:B,floatFragmentTextures:S,floatVertexTextures:B&&S,maxSamples:a?r.getParameter(r.MAX_SAMPLES):0}}function KH(r){const e=this;let t=null,i=0,n=!1,s=!1;const a=new Vd,o=new nr,l={value:null,needsUpdate:!1};function A(u,f,d,_){const p=null!==u?u.length:0;let g=null;if(0!==p){if(g=l.value,!0!==_||null===g){const m=d+4*p,C=f.matrixWorldInverse;o.getNormalMatrix(C),(null===g||g.length<m)&&(g=new Float32Array(m));for(let B=0,S=d;B!==p;++B,S+=4)a.copy(u[B]).applyMatrix4(C,o),a.normal.toArray(g,S),g[S+3]=a.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,g}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f){const d=0!==u.length||f||0!==i||n;return n=f,i=u.length,d},this.beginShadows=function(){s=!0,A(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(u,f){t=A(u,f,0)},this.setState=function(u,f,d){const _=u.clippingPlanes,p=u.clipIntersection,g=u.clipShadows,m=r.get(u);if(!n||null===_||0===_.length||s&&!g)s?A(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const C=s?0:i,B=4*C;let S=m.clippingState||null;l.value=S,S=A(_,f,B,d);for(let U=0;U!==B;++U)S[U]=t[U];m.clippingState=S,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=C}}}function ZH(r){let e=new WeakMap;function t(a,o){return 303===o?a.mapping=Ud:304===o&&(a.mapping=Tp),a}function n(a){const o=a.target;o.removeEventListener("dispose",n);const l=e.get(o);void 0!==l&&(e.delete(o),l.dispose())}return{get:function i(a){if(a&&a.isTexture){const o=a.mapping;if(303===o||304===o){if(e.has(a))return t(e.get(a).texture,a.mapping);{const l=a.image;if(l&&l.height>0){const c=new z3(l.height/2);return c.fromEquirectangularTexture(r,a),e.set(a,c),a.addEventListener("dispose",n),t(c.texture,a.mapping)}return null}}}return a},dispose:function s(){e=new WeakMap}}}class Hv extends pE{constructor(e=-1,t=1,i=1,n=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=n,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,n,s,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=n+t,l=n-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,A=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=A*this.view.offsetY,l=o-A*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const nI=[.125,.215,.35,.446,.526,.582],gE=new Hv,rI=new mi;let _E=null,vE=0,wE=0;const Hp=(1+Math.sqrt(5))/2,$g=1/Hp,sI=[new Ce(1,1,1),new Ce(-1,1,1),new Ce(1,1,-1),new Ce(-1,1,-1),new Ce(0,Hp,$g),new Ce(0,Hp,-$g),new Ce($g,0,Hp),new Ce(-$g,0,Hp),new Ce(Hp,$g,0),new Ce(-Hp,$g,0)];class aI{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,n=100){_E=this._renderer.getRenderTarget(),vE=this._renderer.getActiveCubeFace(),wE=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,n,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=cI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=lI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_E,vE,wE),e.scissorTest=!1,zy(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Ud||e.mapping===Tp?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),_E=this._renderer.getRenderTarget(),vE=this._renderer.getActiveCubeFace(),wE=this._renderer.getActiveMipmapLevel();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:oa,minFilter:oa,generateMipmaps:!1,type:Sv,format:Sc,colorSpace:Do,depthBuffer:!1},n=oI(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=oI(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function XH(r){const e=[],t=[],i=[];let n=r;const s=r-4+1+nI.length;for(let a=0;a<s;a++){const o=Math.pow(2,n);t.push(o);let l=1/o;a>r-4?l=nI[a-r+4-1]:0===a&&(l=0),i.push(l);const c=1/(o-2),A=-c,u=1+c,f=[A,A,u,A,u,u,A,A,u,u,A,u],d=6,_=6,p=3,g=2,m=1,C=new Float32Array(p*_*d),B=new Float32Array(g*_*d),S=new Float32Array(m*_*d);for(let H=0;H<d;H++){const N=H%3*2/3-1,P=H>2?0:-1;C.set([N,P,0,N+2/3,P,0,N+2/3,P+1,0,N,P,0,N+2/3,P+1,0,N,P+1,0],p*_*H),B.set(f,g*_*H),S.set([H,H,H,H,H,H],m*_*H)}const U=new Xn;U.setAttribute("position",new Gs(C,p)),U.setAttribute("uv",new Gs(B,g)),U.setAttribute("faceIndex",new Gs(S,m)),e.push(U),n>4&&n--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function qH(r,e,t){const i=new Float32Array(20),n=new Ce(0,1,0);return new Wd({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return n}_compileMaterial(e){const t=new Ao(this._lodPlanes[0],e);this._renderer.compile(t,gE)}_sceneToCubeUV(e,t,i,n){const o=new uo(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],A=this._renderer,u=A.autoClear,f=A.toneMapping;A.getClearColor(rI),A.toneMapping=Rd,A.autoClear=!1;const d=new oh({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),_=new Ao(new Jg,d);let p=!1;const g=e.background;g?g.isColor&&(d.color.copy(g),e.background=null,p=!0):(d.color.copy(rI),p=!0);for(let m=0;m<6;m++){const C=m%3;0===C?(o.up.set(0,l[m],0),o.lookAt(c[m],0,0)):1===C?(o.up.set(0,0,l[m]),o.lookAt(0,c[m],0)):(o.up.set(0,l[m],0),o.lookAt(0,0,c[m]));const B=this._cubeSize;zy(n,C*B,m>2?B:0,B,B),A.setRenderTarget(n),p&&A.render(_,o),A.render(e,o)}_.geometry.dispose(),_.material.dispose(),A.toneMapping=f,A.autoClear=u,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,n=e.mapping===Ud||e.mapping===Tp;n?(null===this._cubemapMaterial&&(this._cubemapMaterial=cI()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=lI());const s=n?this._cubemapMaterial:this._equirectMaterial,a=new Ao(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;zy(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,gE)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){const s=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]);this._blur(e,n-1,n,s,sI[(n-1)%sI.length])}t.autoClear=i}_blur(e,t,i,n,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,n,"latitudinal",s),this._halfBlur(a,e,i,i,n,"longitudinal",s)}_halfBlur(e,t,i,n,s,a,o){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new Ao(this._lodPlanes[n],c),f=c.uniforms,d=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*d):2*Math.PI/39,p=s/_,g=isFinite(s)?1+Math.floor(3*p):20;g>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const m=[];let C=0;for(let N=0;N<20;++N){const P=N/p,z=Math.exp(-P*P/2);m.push(z),0===N?C+=z:N<g&&(C+=2*z)}for(let N=0;N<m.length;N++)m[N]=m[N]/C;f.envMap.value=e.texture,f.samples.value=g,f.weights.value=m,f.latitudinal.value="latitudinal"===a,o&&(f.poleAxis.value=o);const{_lodMax:B}=this;f.dTheta.value=_,f.mipInt.value=B-i;const S=this._sizeLods[n];zy(t,3*S*(n>B-4?n-B+4:0),4*(this._cubeSize-S),3*S,2*S),l.setRenderTarget(t),l.render(u,gE)}}function oI(r,e,t){const i=new Pp(r,e,t);return i.texture.mapping=Mv,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function zy(r,e,t,i,n){r.viewport.set(e,t,i,n),r.scissor.set(e,t,i,n)}function lI(){return new Wd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function cI(){return new Wd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function $H(r){let e=new WeakMap,t=null;function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function i(o){if(o&&o.isTexture){const l=o.mapping,c=303===l||304===l,A=l===Ud||l===Tp;if(c||A){if(o.isRenderTargetTexture&&!0===o.needsPMREMUpdate){o.needsPMREMUpdate=!1;let u=e.get(o);return null===t&&(t=new aI(r)),u=c?t.fromEquirectangular(o,u):t.fromCubemap(o,u),e.set(o,u),u.texture}if(e.has(o))return e.get(o).texture;{const u=o.image;if(c&&u&&u.height>0||A&&u&&function n(o){let l=0;for(let A=0;A<6;A++)void 0!==o[A]&&l++;return 6===l}(u)){null===t&&(t=new aI(r));const f=c?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,f),o.addEventListener("dispose",s),f.texture}return null}}}return o},dispose:function a(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function ez(r){const e={};function t(i){if(void 0!==e[i])return e[i];let n;switch(i){case"WEBGL_depth_texture":n=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=r.getExtension(i)}return e[i]=n,n}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const n=t(i);return null===n&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),n}}}function tz(r,e,t,i){const n={},s=new WeakMap;function a(u){const f=u.target;null!==f.index&&e.remove(f.index);for(const _ in f.attributes)e.remove(f.attributes[_]);for(const _ in f.morphAttributes){const p=f.morphAttributes[_];for(let g=0,m=p.length;g<m;g++)e.remove(p[g])}f.removeEventListener("dispose",a),delete n[f.id];const d=s.get(f);d&&(e.remove(d),s.delete(f)),i.releaseStatesOfGeometry(f),!0===f.isInstancedBufferGeometry&&delete f._maxInstanceCount,t.memory.geometries--}function c(u){const f=[],d=u.index,_=u.attributes.position;let p=0;if(null!==d){const C=d.array;p=d.version;for(let B=0,S=C.length;B<S;B+=3){const U=C[B+0],H=C[B+1],N=C[B+2];f.push(U,H,H,N,N,U)}}else{if(void 0===_)return;p=_.version;for(let B=0,S=_.array.length/3-1;B<S;B+=3){const U=B+0,H=B+1,N=B+2;f.push(U,H,H,N,N,U)}}const g=new(LS(f)?KS:uE)(f,1);g.version=p;const m=s.get(u);m&&e.remove(m),s.set(u,g)}return{get:function o(u,f){return!0===n[f.id]||(f.addEventListener("dispose",a),n[f.id]=!0,t.memory.geometries++),f},update:function l(u){const f=u.attributes;for(const _ in f)e.update(f[_],r.ARRAY_BUFFER);const d=u.morphAttributes;for(const _ in d){const p=d[_];for(let g=0,m=p.length;g<m;g++)e.update(p[g],r.ARRAY_BUFFER)}},getWireframeAttribute:function A(u){const f=s.get(u);if(f){const d=u.index;null!==d&&f.version<d.version&&c(u)}else c(u);return s.get(u)}}}function iz(r,e,t,i){const n=i.isWebGL2;let s,o,l;this.setMode=function a(d){s=d},this.setIndex=function c(d){o=d.type,l=d.bytesPerElement},this.render=function A(d,_){r.drawElements(s,_,o,d*l),t.update(_,s,1)},this.renderInstances=function u(d,_,p){if(0===p)return;let g,m;if(n)g=r,m="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",null===g)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[m](s,_,o,d*l,p),t.update(_,s,p)},this.renderMultiDraw=function f(d,_,p){if(0===p)return;const g=e.get("WEBGL_multi_draw");if(null===g)for(let m=0;m<p;m++)this.render(d[m]/l,_[m]);else{g.multiDrawElementsWEBGL(s,_,0,o,d,0,p);let m=0;for(let C=0;C<p;C++)m+=_[C];t.update(m,s,1)}}}function nz(r){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function n(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,a,o){switch(t.calls++,a){case r.TRIANGLES:t.triangles+=o*(s/3);break;case r.LINES:t.lines+=o*(s/2);break;case r.LINE_STRIP:t.lines+=o*(s-1);break;case r.LINE_LOOP:t.lines+=o*s;break;case r.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a)}}}}function rz(r,e){return r[0]-e[0]}function sz(r,e){return Math.abs(e[1])-Math.abs(r[1])}function az(r,e,t){const i={},n=new Float32Array(8),s=new WeakMap,a=new Rr,o=[];for(let c=0;c<8;c++)o[c]=[c,0];return{update:function l(c,A,u){const f=c.morphTargetInfluences;if(!0===e.isWebGL2){const d=A.morphAttributes.position||A.morphAttributes.normal||A.morphAttributes.color,_=void 0!==d?d.length:0;let p=s.get(A);if(void 0===p||p.count!==_){let Q=function(){K.dispose(),s.delete(A),A.removeEventListener("dispose",Q)};void 0!==p&&p.texture.dispose();const C=void 0!==A.morphAttributes.position,B=void 0!==A.morphAttributes.normal,S=void 0!==A.morphAttributes.color,U=A.morphAttributes.position||[],H=A.morphAttributes.normal||[],N=A.morphAttributes.color||[];let P=0;!0===C&&(P=1),!0===B&&(P=2),!0===S&&(P=3);let z=A.attributes.position.count*P,W=1;z>e.maxTextureSize&&(W=Math.ceil(z/e.maxTextureSize),z=e.maxTextureSize);const Y=new Float32Array(z*W*4*_),K=new $C(Y,z,W,_);K.type=LA,K.needsUpdate=!0;const q=4*P;for(let ie=0;ie<_;ie++){const ee=U[ie],he=H[ie],pe=N[ie],ue=z*W*4*ie;for(let Be=0;Be<ee.count;Be++){const Le=Be*q;!0===C&&(a.fromBufferAttribute(ee,Be),Y[ue+Le+0]=a.x,Y[ue+Le+1]=a.y,Y[ue+Le+2]=a.z,Y[ue+Le+3]=0),!0===B&&(a.fromBufferAttribute(he,Be),Y[ue+Le+4]=a.x,Y[ue+Le+5]=a.y,Y[ue+Le+6]=a.z,Y[ue+Le+7]=0),!0===S&&(a.fromBufferAttribute(pe,Be),Y[ue+Le+8]=a.x,Y[ue+Le+9]=a.y,Y[ue+Le+10]=a.z,Y[ue+Le+11]=4===pe.itemSize?a.w:1)}}p={count:_,texture:K,size:new Ut(z,W)},s.set(A,p),A.addEventListener("dispose",Q)}let g=0;for(let C=0;C<f.length;C++)g+=f[C];const m=A.morphTargetsRelative?1:1-g;u.getUniforms().setValue(r,"morphTargetBaseInfluence",m),u.getUniforms().setValue(r,"morphTargetInfluences",f),u.getUniforms().setValue(r,"morphTargetsTexture",p.texture,t),u.getUniforms().setValue(r,"morphTargetsTextureSize",p.size)}else{const d=void 0===f?0:f.length;let _=i[A.id];if(void 0===_||_.length!==d){_=[];for(let B=0;B<d;B++)_[B]=[B,0];i[A.id]=_}for(let B=0;B<d;B++){const S=_[B];S[0]=B,S[1]=f[B]}_.sort(sz);for(let B=0;B<8;B++)B<d&&_[B][1]?(o[B][0]=_[B][0],o[B][1]=_[B][1]):(o[B][0]=Number.MAX_SAFE_INTEGER,o[B][1]=0);o.sort(rz);const p=A.morphAttributes.position,g=A.morphAttributes.normal;let m=0;for(let B=0;B<8;B++){const S=o[B],U=S[0],H=S[1];U!==Number.MAX_SAFE_INTEGER&&H?(p&&A.getAttribute("morphTarget"+B)!==p[U]&&A.setAttribute("morphTarget"+B,p[U]),g&&A.getAttribute("morphNormal"+B)!==g[U]&&A.setAttribute("morphNormal"+B,g[U]),n[B]=H,m+=H):(p&&!0===A.hasAttribute("morphTarget"+B)&&A.deleteAttribute("morphTarget"+B),g&&!0===A.hasAttribute("morphNormal"+B)&&A.deleteAttribute("morphNormal"+B),n[B]=0)}const C=A.morphTargetsRelative?1:1-m;u.getUniforms().setValue(r,"morphTargetBaseInfluence",C),u.getUniforms().setValue(r,"morphTargetInfluences",n)}}}}function oz(r,e,t,i){let n=new WeakMap;function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=i.render.frame,u=e.get(l,l.geometry);if(n.get(u)!==c&&(e.update(u),n.set(u,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",o)&&l.addEventListener("dispose",o),n.get(l)!==c&&(t.update(l.instanceMatrix,r.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,r.ARRAY_BUFFER),n.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;n.get(f)!==c&&(f.update(),n.set(f,c))}return u},dispose:function a(){n=new WeakMap}}}class hI extends rc{constructor(e,t,i,n,s,a,o,l,c,A){if((A=void 0!==A?A:Sp)!==Sp&&A!==Eg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&A===Sp&&(i=Od),void 0===i&&A===Eg&&(i=Dp),super(null,n,s,a,o,l,A,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:ya,this.minFilter=void 0!==l?l:ya,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}const AI=new rc,uI=new hI(1,1);uI.compareFunction=515;const dI=new $C,fI=new OS,pI=new Uy,mI=[],gI=[],_I=new Float32Array(16),vI=new Float32Array(9),wI=new Float32Array(4);function e_(r,e,t){const i=r[0];if(i<=0||i>0)return r;const n=e*t;let s=mI[n];if(void 0===s&&(s=new Float32Array(n),mI[n]=s),0!==e){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,r[a].toArray(s,o)}return s}function fo(r,e){if(r.length!==e.length)return!1;for(let t=0,i=r.length;t<i;t++)if(r[t]!==e[t])return!1;return!0}function po(r,e){for(let t=0,i=e.length;t<i;t++)r[t]=e[t]}function Gy(r,e){let t=gI[e];void 0===t&&(t=new Int32Array(e),gI[e]=t);for(let i=0;i!==e;++i)t[i]=r.allocateTextureUnit();return t}function lz(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function cz(r,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(fo(t,e))return;r.uniform2fv(this.addr,e),po(t,e)}}function hz(r,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(fo(t,e))return;r.uniform3fv(this.addr,e),po(t,e)}}function Az(r,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(fo(t,e))return;r.uniform4fv(this.addr,e),po(t,e)}}function uz(r,e){const t=this.cache,i=e.elements;if(void 0===i){if(fo(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),po(t,e)}else{if(fo(t,i))return;wI.set(i),r.uniformMatrix2fv(this.addr,!1,wI),po(t,i)}}function dz(r,e){const t=this.cache,i=e.elements;if(void 0===i){if(fo(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),po(t,e)}else{if(fo(t,i))return;vI.set(i),r.uniformMatrix3fv(this.addr,!1,vI),po(t,i)}}function fz(r,e){const t=this.cache,i=e.elements;if(void 0===i){if(fo(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),po(t,e)}else{if(fo(t,i))return;_I.set(i),r.uniformMatrix4fv(this.addr,!1,_I),po(t,i)}}function pz(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function mz(r,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(fo(t,e))return;r.uniform2iv(this.addr,e),po(t,e)}}function gz(r,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(fo(t,e))return;r.uniform3iv(this.addr,e),po(t,e)}}function _z(r,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(fo(t,e))return;r.uniform4iv(this.addr,e),po(t,e)}}function vz(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function wz(r,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(fo(t,e))return;r.uniform2uiv(this.addr,e),po(t,e)}}function bz(r,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(fo(t,e))return;r.uniform3uiv(this.addr,e),po(t,e)}}function yz(r,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(fo(t,e))return;r.uniform4uiv(this.addr,e),po(t,e)}}function xz(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTexture2D(e||(this.type===r.SAMPLER_2D_SHADOW?uI:AI),n)}function Bz(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTexture3D(e||fI,n)}function Cz(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTextureCube(e||pI,n)}function Ez(r,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n),t.setTexture2DArray(e||dI,n)}function Tz(r,e){r.uniform1fv(this.addr,e)}function Dz(r,e){const t=e_(e,this.size,2);r.uniform2fv(this.addr,t)}function Sz(r,e){const t=e_(e,this.size,3);r.uniform3fv(this.addr,t)}function Iz(r,e){const t=e_(e,this.size,4);r.uniform4fv(this.addr,t)}function Fz(r,e){const t=e_(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function kz(r,e){const t=e_(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function Lz(r,e){const t=e_(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function Pz(r,e){r.uniform1iv(this.addr,e)}function Rz(r,e){r.uniform2iv(this.addr,e)}function Uz(r,e){r.uniform3iv(this.addr,e)}function Qz(r,e){r.uniform4iv(this.addr,e)}function Oz(r,e){r.uniform1uiv(this.addr,e)}function Nz(r,e){r.uniform2uiv(this.addr,e)}function Hz(r,e){r.uniform3uiv(this.addr,e)}function zz(r,e){r.uniform4uiv(this.addr,e)}function Gz(r,e,t){const i=this.cache,n=e.length,s=Gy(t,n);fo(i,s)||(r.uniform1iv(this.addr,s),po(i,s));for(let a=0;a!==n;++a)t.setTexture2D(e[a]||AI,s[a])}function Yz(r,e,t){const i=this.cache,n=e.length,s=Gy(t,n);fo(i,s)||(r.uniform1iv(this.addr,s),po(i,s));for(let a=0;a!==n;++a)t.setTexture3D(e[a]||fI,s[a])}function Wz(r,e,t){const i=this.cache,n=e.length,s=Gy(t,n);fo(i,s)||(r.uniform1iv(this.addr,s),po(i,s));for(let a=0;a!==n;++a)t.setTextureCube(e[a]||pI,s[a])}function Vz(r,e,t){const i=this.cache,n=e.length,s=Gy(t,n);fo(i,s)||(r.uniform1iv(this.addr,s),po(i,s));for(let a=0;a!==n;++a)t.setTexture2DArray(e[a]||dI,s[a])}class Jz{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=function Mz(r){switch(r){case 5126:return lz;case 35664:return cz;case 35665:return hz;case 35666:return Az;case 35674:return uz;case 35675:return dz;case 35676:return fz;case 5124:case 35670:return pz;case 35667:case 35671:return mz;case 35668:case 35672:return gz;case 35669:case 35673:return _z;case 5125:return vz;case 36294:return wz;case 36295:return bz;case 36296:return yz;case 35678:case 36198:case 36298:case 36306:case 35682:return xz;case 35679:case 36299:case 36307:return Bz;case 35680:case 36300:case 36308:case 36293:return Cz;case 36289:case 36303:case 36311:case 36292:return Ez}}(t.type)}}class Kz{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function jz(r){switch(r){case 5126:return Tz;case 35664:return Dz;case 35665:return Sz;case 35666:return Iz;case 35674:return Fz;case 35675:return kz;case 35676:return Lz;case 5124:case 35670:return Pz;case 35667:case 35671:return Rz;case 35668:case 35672:return Uz;case 35669:case 35673:return Qz;case 5125:return Oz;case 36294:return Nz;case 36295:return Hz;case 36296:return zz;case 35678:case 36198:case 36298:case 36306:case 35682:return Gz;case 35679:case 36299:case 36307:return Yz;case 35680:case 36300:case 36308:case 36293:return Wz;case 36289:case 36303:case 36311:case 36292:return Vz}}(t.type)}}class Zz{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const n=this.seq;for(let s=0,a=n.length;s!==a;++s){const o=n[s];o.setValue(e,t[o.id],i)}}}const yE=/(\w+)(\])?(\[|\.)?/g;function bI(r,e){r.seq.push(e),r.map[e.id]=e}function Xz(r,e,t){const i=r.name,n=i.length;for(yE.lastIndex=0;;){const s=yE.exec(i);let o=s[1];const c=s[3];if("]"===s[2]&&(o|=0),void 0===c||"["===c&&yE.lastIndex+2===n){bI(t,void 0===c?new Jz(o,r,e):new Kz(o,r,e));break}{let u=t.map[o];void 0===u&&(u=new Zz(o),bI(t,u)),t=u}}}class Yy{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;++n){const s=e.getActiveUniform(t,n);Xz(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,n){const s=this.map[t];void 0!==s&&s.setValue(e,i,n)}setOptional(e,t,i){const n=t[i];void 0!==n&&this.setValue(e,i,n)}static upload(e,t,i,n){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=i[o.id];!1!==l.needsUpdate&&o.setValue(e,l.value,n)}}static seqWithValue(e,t){const i=[];for(let n=0,s=e.length;n!==s;++n){const a=e[n];a.id in t&&i.push(a)}return i}}function yI(r,e,t){const i=r.createShader(e);return r.shaderSource(i,t),r.compileShader(i),i}const qz=37297;let $z=0;function xI(r,e,t){const i=r.getShaderParameter(e,r.COMPILE_STATUS),n=r.getShaderInfoLog(e).trim();if(i&&""===n)return"";const s=/ERROR: 0:(\d+)/.exec(n);if(s){const a=parseInt(s[1]);return t.toUpperCase()+"\n\n"+n+"\n\n"+function eG(r,e){const t=r.split("\n"),i=[],n=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=n;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join("\n")}(r.getShaderSource(e),a)}return n}function iG(r,e){const t=function tG(r){const e=Yr.getPrimaries(Yr.workingColorSpace),t=Yr.getPrimaries(r);let i;switch(e===t?i="":e===py&&t===fy?i="LinearDisplayP3ToLinearSRGB":e===fy&&t===py&&(i="LinearSRGBToLinearDisplayP3"),r){case Do:case uy:return[i,"LinearTransferOETF"];case cs:case VC:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",r),[i,"LinearTransferOETF"]}}(e);return`vec4 ${r}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function nG(r,e){let t;switch(e){case D5:t="Linear";break;case S5:t="Reinhard";break;case I5:t="OptimizedCineon";break;case F5:t="ACESFilmic";break;case L5:t="AgX";break;case k5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function t_(r){return""!==r}function BI(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function CI(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const lG=/^[ \t]*#include +<([\w\d./]+)>/gm;function xE(r){return r.replace(lG,hG)}const cG=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function hG(r,e){let t=rr[e];if(void 0===t){const i=cG.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=rr[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return xE(t)}const AG=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function EI(r){return r.replace(AG,uG)}function uG(r,e,t,i){let n="";for(let s=parseInt(e);s<parseInt(t);s++)n+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return n}function MI(r){let e="precision "+r.precision+" float;\nprecision "+r.precision+" int;";return"highp"===r.precision?e+="\n#define HIGH_PRECISION":"mediump"===r.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===r.precision&&(e+="\n#define LOW_PRECISION"),e}function _G(r,e,t,i){const n=r.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=function dG(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===zD?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===n5?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===Du&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function fG(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Ud:case Tp:e="ENVMAP_TYPE_CUBE";break;case Mv:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),A=function pG(r){let e="ENVMAP_MODE_REFLECTION";return r.envMap&&r.envMapMode===Tp&&(e="ENVMAP_MODE_REFRACTION"),e}(t),u=function mG(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case ly:e="ENVMAP_BLENDING_MULTIPLY";break;case M5:e="ENVMAP_BLENDING_MIX";break;case T5:e="ENVMAP_BLENDING_ADD"}return e}(t),f=function gG(r){const e=r.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),d=t.isWebGL2?"":function rG(r){return[r.extensionDerivatives||r.envMapCubeUVHeight||r.bumpMap||r.normalMapTangentSpace||r.clearcoatNormalMap||r.flatShading||"physical"===r.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(t_).join("\n")}(t),_=function sG(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(t_).join("\n")}(t),p=function aG(r){const e=[];for(const t in r){const i=r[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),g=n.createProgram();let m,C,B=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(t_).join("\n"),m.length>0&&(m+="\n"),C=[d,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(t_).join("\n"),C.length>0&&(C+="\n")):(m=[MI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+A:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(t_).join("\n"),C=[d,MI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+A:"",t.envMap?"#define "+u:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Rd?"#define TONE_MAPPING":"",t.toneMapping!==Rd?rr.tonemapping_pars_fragment:"",t.toneMapping!==Rd?nG("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",rr.colorspace_pars_fragment,iG("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(t_).join("\n")),a=xE(a),a=BI(a,t),a=CI(a,t),o=xE(o),o=BI(o,t),o=CI(o,t),a=EI(a),o=EI(o),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(B="#version 300 es\n",m=[_,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,C=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===FS?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===FS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+C);const U=B+C+o,H=yI(n,n.VERTEX_SHADER,B+m+a),N=yI(n,n.FRAGMENT_SHADER,U);function P(K){if(r.debug.checkShaderErrors){const q=n.getProgramInfoLog(g).trim(),Q=n.getShaderInfoLog(H).trim(),ie=n.getShaderInfoLog(N).trim();let ee=!0,he=!0;if(!1===n.getProgramParameter(g,n.LINK_STATUS))if(ee=!1,"function"==typeof r.debug.onShaderError)r.debug.onShaderError(n,g,H,N);else{const pe=xI(n,H,"vertex"),ue=xI(n,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(g,n.VALIDATE_STATUS)+"\n\nProgram Info Log: "+q+"\n"+pe+"\n"+ue)}else""!==q?console.warn("THREE.WebGLProgram: Program Info Log:",q):(""===Q||""===ie)&&(he=!1);he&&(K.diagnostics={runnable:ee,programLog:q,vertexShader:{log:Q,prefix:m},fragmentShader:{log:ie,prefix:C}})}n.deleteShader(H),n.deleteShader(N),z=new Yy(n,g),W=function oG(r,e){const t={},i=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const s=r.getActiveAttrib(e,n),a=s.name;let o=1;s.type===r.FLOAT_MAT2&&(o=2),s.type===r.FLOAT_MAT3&&(o=3),s.type===r.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:r.getAttribLocation(e,a),locationSize:o}}return t}(n,g)}let z,W;n.attachShader(g,H),n.attachShader(g,N),void 0!==t.index0AttributeName?n.bindAttribLocation(g,0,t.index0AttributeName):!0===t.morphTargets&&n.bindAttribLocation(g,0,"position"),n.linkProgram(g),this.getUniforms=function(){return void 0===z&&P(this),z},this.getAttributes=function(){return void 0===W&&P(this),W};let Y=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===Y&&(Y=n.getProgramParameter(g,qz)),Y},this.destroy=function(){i.releaseStatesOfProgram(this),n.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=$z++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=H,this.fragmentShader=N,this}let vG=0;class wG{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,n=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return!1===a.has(n)&&(a.add(n),n.usedTimes++),!1===a.has(s)&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new bG(e),t.set(e,i)),i}}class bG{constructor(e){this.id=vG++,this.code=e,this.usedTimes=0}}function yG(r,e,t,i,n,s,a){const o=new aE,l=new wG,c=[],A=n.isWebGL2,u=n.logarithmicDepthBuffer,f=n.vertexTextures;let d=n.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(z){return 0===z?"uv":`uv${z}`}return{getParameters:function g(z,W,Y,K,q){const Q=K.fog,ie=q.geometry,he=(z.isMeshStandardMaterial?t:e).get(z.envMap||(z.isMeshStandardMaterial?K.environment:null)),pe=he&&he.mapping===Mv?he.image.height:null,ue=_[z.type];null!==z.precision&&(d=n.getMaxPrecision(z.precision),d!==z.precision&&console.warn("THREE.WebGLProgram.getParameters:",z.precision,"not supported, using",d,"instead."));const Be=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,Le=void 0!==Be?Be.length:0;let te,le,be,De,J=0;if(void 0!==ie.morphAttributes.position&&(J=1),void 0!==ie.morphAttributes.normal&&(J=2),void 0!==ie.morphAttributes.color&&(J=3),ue){const bs=RA[ue];te=bs.vertexShader,le=bs.fragmentShader}else te=z.vertexShader,le=z.fragmentShader,l.update(z),be=l.getVertexShaderID(z),De=l.getFragmentShaderID(z);const Fe=r.getRenderTarget(),He=!0===q.isInstancedMesh,ut=!!z.map,Se=!!he,ft=!!z.aoMap,lt=!!z.lightMap,ze=!!z.bumpMap,_e=!!z.normalMap,Ct=!!z.displacementMap,vt=!!z.emissiveMap,oe=!!z.metalnessMap,ne=!!z.roughnessMap,Ne=z.anisotropy>0,ot=z.clearcoat>0,gt=z.iridescence>0,yt=z.sheen>0,$t=z.transmission>0,Ht=Ne&&!!z.anisotropyMap,ei=ot&&!!z.clearcoatMap,xi=ot&&!!z.clearcoatNormalMap,oi=ot&&!!z.clearcoatRoughnessMap,Tt=gt&&!!z.iridescenceMap,Vt=gt&&!!z.iridescenceThicknessMap,Re=yt&&!!z.sheenColorMap,kt=yt&&!!z.sheenRoughnessMap,ai=!!z.specularMap,Ot=!!z.specularColorMap,yi=!!z.specularIntensityMap,Bn=$t&&!!z.transmissionMap,ji=$t&&!!z.thicknessMap,Zt=!!z.alphaMap,Jt=!!z.extensions,ri=!!ie.attributes.uv1,gi=!!ie.attributes.uv2,sr=!!ie.attributes.uv3;let Cn=Rd;return z.toneMapped&&(null===Fe||!0===Fe.isXRRenderTarget)&&(Cn=r.toneMapping),{isWebGL2:A,shaderID:ue,shaderType:z.type,shaderName:z.name,vertexShader:te,fragmentShader:le,defines:z.defines,customVertexShaderID:be,customFragmentShaderID:De,isRawShaderMaterial:!0===z.isRawShaderMaterial,glslVersion:z.glslVersion,precision:d,batching:!0===q.isBatchedMesh,instancing:He,instancingColor:He&&null!==q.instanceColor,supportsVertexTextures:f,outputColorSpace:null===Fe?r.outputColorSpace:!0===Fe.isXRRenderTarget?Fe.texture.colorSpace:Do,map:ut,matcap:!!z.matcap,envMap:Se,envMapMode:Se&&he.mapping,envMapCubeUVHeight:pe,aoMap:ft,lightMap:lt,bumpMap:ze,normalMap:_e,displacementMap:f&&Ct,emissiveMap:vt,normalMapObjectSpace:_e&&1===z.normalMapType,normalMapTangentSpace:_e&&0===z.normalMapType,metalnessMap:oe,roughnessMap:ne,anisotropy:Ne,anisotropyMap:Ht,clearcoat:ot,clearcoatMap:ei,clearcoatNormalMap:xi,clearcoatRoughnessMap:oi,iridescence:gt,iridescenceMap:Tt,iridescenceThicknessMap:Vt,sheen:yt,sheenColorMap:Re,sheenRoughnessMap:kt,specularMap:ai,specularColorMap:Ot,specularIntensityMap:yi,transmission:$t,transmissionMap:Bn,thicknessMap:ji,gradientMap:!!z.gradientMap,opaque:!1===z.transparent&&1===z.blending,alphaMap:Zt,alphaTest:z.alphaTest>0,alphaHash:!!z.alphaHash,combine:z.combine,mapUv:ut&&p(z.map.channel),aoMapUv:ft&&p(z.aoMap.channel),lightMapUv:lt&&p(z.lightMap.channel),bumpMapUv:ze&&p(z.bumpMap.channel),normalMapUv:_e&&p(z.normalMap.channel),displacementMapUv:Ct&&p(z.displacementMap.channel),emissiveMapUv:vt&&p(z.emissiveMap.channel),metalnessMapUv:oe&&p(z.metalnessMap.channel),roughnessMapUv:ne&&p(z.roughnessMap.channel),anisotropyMapUv:Ht&&p(z.anisotropyMap.channel),clearcoatMapUv:ei&&p(z.clearcoatMap.channel),clearcoatNormalMapUv:xi&&p(z.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:oi&&p(z.clearcoatRoughnessMap.channel),iridescenceMapUv:Tt&&p(z.iridescenceMap.channel),iridescenceThicknessMapUv:Vt&&p(z.iridescenceThicknessMap.channel),sheenColorMapUv:Re&&p(z.sheenColorMap.channel),sheenRoughnessMapUv:kt&&p(z.sheenRoughnessMap.channel),specularMapUv:ai&&p(z.specularMap.channel),specularColorMapUv:Ot&&p(z.specularColorMap.channel),specularIntensityMapUv:yi&&p(z.specularIntensityMap.channel),transmissionMapUv:Bn&&p(z.transmissionMap.channel),thicknessMapUv:ji&&p(z.thicknessMap.channel),alphaMapUv:Zt&&p(z.alphaMap.channel),vertexTangents:!!ie.attributes.tangent&&(_e||Ne),vertexColors:z.vertexColors,vertexAlphas:!0===z.vertexColors&&!!ie.attributes.color&&4===ie.attributes.color.itemSize,vertexUv1s:ri,vertexUv2s:gi,vertexUv3s:sr,pointsUvs:!0===q.isPoints&&!!ie.attributes.uv&&(ut||Zt),fog:!!Q,useFog:!0===z.fog,fogExp2:Q&&Q.isFogExp2,flatShading:!0===z.flatShading,sizeAttenuation:!0===z.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===q.isSkinnedMesh,morphTargets:void 0!==ie.morphAttributes.position,morphNormals:void 0!==ie.morphAttributes.normal,morphColors:void 0!==ie.morphAttributes.color,morphTargetsCount:Le,morphTextureStride:J,numDirLights:W.directional.length,numPointLights:W.point.length,numSpotLights:W.spot.length,numSpotLightMaps:W.spotLightMap.length,numRectAreaLights:W.rectArea.length,numHemiLights:W.hemi.length,numDirLightShadows:W.directionalShadowMap.length,numPointLightShadows:W.pointShadowMap.length,numSpotLightShadows:W.spotShadowMap.length,numSpotLightShadowsWithMaps:W.numSpotLightShadowsWithMaps,numLightProbes:W.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:z.dithering,shadowMapEnabled:r.shadowMap.enabled&&Y.length>0,shadowMapType:r.shadowMap.type,toneMapping:Cn,useLegacyLights:r._useLegacyLights,decodeVideoTexture:ut&&!0===z.map.isVideoTexture&&Yr.getTransfer(z.map.colorSpace)===Ds,premultipliedAlpha:z.premultipliedAlpha,doubleSided:2===z.side,flipSided:1===z.side,useDepthPacking:z.depthPacking>=0,depthPacking:z.depthPacking||0,index0AttributeName:z.index0AttributeName,extensionDerivatives:Jt&&!0===z.extensions.derivatives,extensionFragDepth:Jt&&!0===z.extensions.fragDepth,extensionDrawBuffers:Jt&&!0===z.extensions.drawBuffers,extensionShaderTextureLOD:Jt&&!0===z.extensions.shaderTextureLOD,extensionClipCullDistance:Jt&&z.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:A||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:A||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:A||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:z.customProgramCacheKey()}},getProgramCacheKey:function m(z){const W=[];if(z.shaderID?W.push(z.shaderID):(W.push(z.customVertexShaderID),W.push(z.customFragmentShaderID)),void 0!==z.defines)for(const Y in z.defines)W.push(Y),W.push(z.defines[Y]);return!1===z.isRawShaderMaterial&&(function C(z,W){z.push(W.precision),z.push(W.outputColorSpace),z.push(W.envMapMode),z.push(W.envMapCubeUVHeight),z.push(W.mapUv),z.push(W.alphaMapUv),z.push(W.lightMapUv),z.push(W.aoMapUv),z.push(W.bumpMapUv),z.push(W.normalMapUv),z.push(W.displacementMapUv),z.push(W.emissiveMapUv),z.push(W.metalnessMapUv),z.push(W.roughnessMapUv),z.push(W.anisotropyMapUv),z.push(W.clearcoatMapUv),z.push(W.clearcoatNormalMapUv),z.push(W.clearcoatRoughnessMapUv),z.push(W.iridescenceMapUv),z.push(W.iridescenceThicknessMapUv),z.push(W.sheenColorMapUv),z.push(W.sheenRoughnessMapUv),z.push(W.specularMapUv),z.push(W.specularColorMapUv),z.push(W.specularIntensityMapUv),z.push(W.transmissionMapUv),z.push(W.thicknessMapUv),z.push(W.combine),z.push(W.fogExp2),z.push(W.sizeAttenuation),z.push(W.morphTargetsCount),z.push(W.morphAttributeCount),z.push(W.numDirLights),z.push(W.numPointLights),z.push(W.numSpotLights),z.push(W.numSpotLightMaps),z.push(W.numHemiLights),z.push(W.numRectAreaLights),z.push(W.numDirLightShadows),z.push(W.numPointLightShadows),z.push(W.numSpotLightShadows),z.push(W.numSpotLightShadowsWithMaps),z.push(W.numLightProbes),z.push(W.shadowMapType),z.push(W.toneMapping),z.push(W.numClippingPlanes),z.push(W.numClipIntersection),z.push(W.depthPacking)}(W,z),function B(z,W){o.disableAll(),W.isWebGL2&&o.enable(0),W.supportsVertexTextures&&o.enable(1),W.instancing&&o.enable(2),W.instancingColor&&o.enable(3),W.matcap&&o.enable(4),W.envMap&&o.enable(5),W.normalMapObjectSpace&&o.enable(6),W.normalMapTangentSpace&&o.enable(7),W.clearcoat&&o.enable(8),W.iridescence&&o.enable(9),W.alphaTest&&o.enable(10),W.vertexColors&&o.enable(11),W.vertexAlphas&&o.enable(12),W.vertexUv1s&&o.enable(13),W.vertexUv2s&&o.enable(14),W.vertexUv3s&&o.enable(15),W.vertexTangents&&o.enable(16),W.anisotropy&&o.enable(17),W.alphaHash&&o.enable(18),W.batching&&o.enable(19),z.push(o.mask),o.disableAll(),W.fog&&o.enable(0),W.useFog&&o.enable(1),W.flatShading&&o.enable(2),W.logarithmicDepthBuffer&&o.enable(3),W.skinning&&o.enable(4),W.morphTargets&&o.enable(5),W.morphNormals&&o.enable(6),W.morphColors&&o.enable(7),W.premultipliedAlpha&&o.enable(8),W.shadowMapEnabled&&o.enable(9),W.useLegacyLights&&o.enable(10),W.doubleSided&&o.enable(11),W.flipSided&&o.enable(12),W.useDepthPacking&&o.enable(13),W.dithering&&o.enable(14),W.transmission&&o.enable(15),W.sheen&&o.enable(16),W.opaque&&o.enable(17),W.pointsUvs&&o.enable(18),W.decodeVideoTexture&&o.enable(19),z.push(o.mask)}(W,z),W.push(r.outputColorSpace)),W.push(z.customProgramCacheKey),W.join()},getUniforms:function S(z){const W=_[z.type];let Y;return Y=W?Q3.clone(RA[W].uniforms):z.uniforms,Y},acquireProgram:function U(z,W){let Y;for(let K=0,q=c.length;K<q;K++){const Q=c[K];if(Q.cacheKey===W){Y=Q,++Y.usedTimes;break}}return void 0===Y&&(Y=new _G(r,W,z,s),c.push(Y)),Y},releaseProgram:function H(z){if(0==--z.usedTimes){const W=c.indexOf(z);c[W]=c[c.length-1],c.pop(),z.destroy()}},releaseShaderCache:function N(z){l.remove(z)},programs:c,dispose:function P(){l.dispose()}}}function xG(){let r=new WeakMap;return{get:function e(s){let a=r.get(s);return void 0===a&&(a={},r.set(s,a)),a},remove:function t(s){r.delete(s)},update:function i(s,a,o){r.get(s)[a]=o},dispose:function n(){r=new WeakMap}}}function BG(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function TI(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function DI(){const r=[];let e=0;const t=[],i=[],n=[];function a(u,f,d,_,p,g){let m=r[e];return void 0===m?(m={id:u.id,object:u,geometry:f,material:d,groupOrder:_,renderOrder:u.renderOrder,z:p,group:g},r[e]=m):(m.id=u.id,m.object=u,m.geometry=f,m.material=d,m.groupOrder=_,m.renderOrder=u.renderOrder,m.z=p,m.group=g),e++,m}return{opaque:t,transmissive:i,transparent:n,init:function s(){e=0,t.length=0,i.length=0,n.length=0},push:function o(u,f,d,_,p,g){const m=a(u,f,d,_,p,g);d.transmission>0?i.push(m):!0===d.transparent?n.push(m):t.push(m)},unshift:function l(u,f,d,_,p,g){const m=a(u,f,d,_,p,g);d.transmission>0?i.unshift(m):!0===d.transparent?n.unshift(m):t.unshift(m)},finish:function A(){for(let u=e,f=r.length;u<f;u++){const d=r[u];if(null===d.id)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}},sort:function c(u,f){t.length>1&&t.sort(u||BG),i.length>1&&i.sort(f||TI),n.length>1&&n.sort(f||TI)}}}function CG(){let r=new WeakMap;return{get:function e(i,n){const s=r.get(i);let a;return void 0===s?(a=new DI,r.set(i,[a])):n>=s.length?(a=new DI,s.push(a)):a=s[n],a},dispose:function t(){r=new WeakMap}}}function EG(){const r={};return{get:function(e){if(void 0!==r[e.id])return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ce,color:new mi};break;case"SpotLight":t={position:new Ce,direction:new Ce,color:new mi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ce,color:new mi,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ce,skyColor:new mi,groundColor:new mi};break;case"RectAreaLight":t={color:new mi,position:new Ce,halfWidth:new Ce,halfHeight:new Ce}}return r[e.id]=t,t}}}let TG=0;function DG(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function SG(r,e){const t=new EG,i=function MG(){const r={};return{get:function(e){if(void 0!==r[e.id])return r[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut,shadowCameraNear:1,shadowCameraFar:1e3}}return r[e.id]=t,t}}}(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let A=0;A<9;A++)n.probe.push(new Ce);const s=new Ce,a=new Qi,o=new Qi;return{setup:function l(A,u){let f=0,d=0,_=0;for(let K=0;K<9;K++)n.probe[K].set(0,0,0);let p=0,g=0,m=0,C=0,B=0,S=0,U=0,H=0,N=0,P=0,z=0;A.sort(DG);const W=!0===u?Math.PI:1;for(let K=0,q=A.length;K<q;K++){const Q=A[K],ie=Q.color,ee=Q.intensity,he=Q.distance,pe=Q.shadow&&Q.shadow.map?Q.shadow.map.texture:null;if(Q.isAmbientLight)f+=ie.r*ee*W,d+=ie.g*ee*W,_+=ie.b*ee*W;else if(Q.isLightProbe){for(let ue=0;ue<9;ue++)n.probe[ue].addScaledVector(Q.sh.coefficients[ue],ee);z++}else if(Q.isDirectionalLight){const ue=t.get(Q);if(ue.color.copy(Q.color).multiplyScalar(Q.intensity*W),Q.castShadow){const Be=Q.shadow,Le=i.get(Q);Le.shadowBias=Be.bias,Le.shadowNormalBias=Be.normalBias,Le.shadowRadius=Be.radius,Le.shadowMapSize=Be.mapSize,n.directionalShadow[p]=Le,n.directionalShadowMap[p]=pe,n.directionalShadowMatrix[p]=Q.shadow.matrix,S++}n.directional[p]=ue,p++}else if(Q.isSpotLight){const ue=t.get(Q);ue.position.setFromMatrixPosition(Q.matrixWorld),ue.color.copy(ie).multiplyScalar(ee*W),ue.distance=he,ue.coneCos=Math.cos(Q.angle),ue.penumbraCos=Math.cos(Q.angle*(1-Q.penumbra)),ue.decay=Q.decay,n.spot[m]=ue;const Be=Q.shadow;if(Q.map&&(n.spotLightMap[N]=Q.map,N++,Be.updateMatrices(Q),Q.castShadow&&P++),n.spotLightMatrix[m]=Be.matrix,Q.castShadow){const Le=i.get(Q);Le.shadowBias=Be.bias,Le.shadowNormalBias=Be.normalBias,Le.shadowRadius=Be.radius,Le.shadowMapSize=Be.mapSize,n.spotShadow[m]=Le,n.spotShadowMap[m]=pe,H++}m++}else if(Q.isRectAreaLight){const ue=t.get(Q);ue.color.copy(ie).multiplyScalar(ee),ue.halfWidth.set(.5*Q.width,0,0),ue.halfHeight.set(0,.5*Q.height,0),n.rectArea[C]=ue,C++}else if(Q.isPointLight){const ue=t.get(Q);if(ue.color.copy(Q.color).multiplyScalar(Q.intensity*W),ue.distance=Q.distance,ue.decay=Q.decay,Q.castShadow){const Be=Q.shadow,Le=i.get(Q);Le.shadowBias=Be.bias,Le.shadowNormalBias=Be.normalBias,Le.shadowRadius=Be.radius,Le.shadowMapSize=Be.mapSize,Le.shadowCameraNear=Be.camera.near,Le.shadowCameraFar=Be.camera.far,n.pointShadow[g]=Le,n.pointShadowMap[g]=pe,n.pointShadowMatrix[g]=Q.shadow.matrix,U++}n.point[g]=ue,g++}else if(Q.isHemisphereLight){const ue=t.get(Q);ue.skyColor.copy(Q.color).multiplyScalar(ee*W),ue.groundColor.copy(Q.groundColor).multiplyScalar(ee*W),n.hemi[B]=ue,B++}}C>0&&(e.isWebGL2?!0===r.has("OES_texture_float_linear")?(n.rectAreaLTC1=Ci.LTC_FLOAT_1,n.rectAreaLTC2=Ci.LTC_FLOAT_2):(n.rectAreaLTC1=Ci.LTC_HALF_1,n.rectAreaLTC2=Ci.LTC_HALF_2):!0===r.has("OES_texture_float_linear")?(n.rectAreaLTC1=Ci.LTC_FLOAT_1,n.rectAreaLTC2=Ci.LTC_FLOAT_2):!0===r.has("OES_texture_half_float_linear")?(n.rectAreaLTC1=Ci.LTC_HALF_1,n.rectAreaLTC2=Ci.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=f,n.ambient[1]=d,n.ambient[2]=_;const Y=n.hash;(Y.directionalLength!==p||Y.pointLength!==g||Y.spotLength!==m||Y.rectAreaLength!==C||Y.hemiLength!==B||Y.numDirectionalShadows!==S||Y.numPointShadows!==U||Y.numSpotShadows!==H||Y.numSpotMaps!==N||Y.numLightProbes!==z)&&(n.directional.length=p,n.spot.length=m,n.rectArea.length=C,n.point.length=g,n.hemi.length=B,n.directionalShadow.length=S,n.directionalShadowMap.length=S,n.pointShadow.length=U,n.pointShadowMap.length=U,n.spotShadow.length=H,n.spotShadowMap.length=H,n.directionalShadowMatrix.length=S,n.pointShadowMatrix.length=U,n.spotLightMatrix.length=H+N-P,n.spotLightMap.length=N,n.numSpotLightShadowsWithMaps=P,n.numLightProbes=z,Y.directionalLength=p,Y.pointLength=g,Y.spotLength=m,Y.rectAreaLength=C,Y.hemiLength=B,Y.numDirectionalShadows=S,Y.numPointShadows=U,Y.numSpotShadows=H,Y.numSpotMaps=N,Y.numLightProbes=z,n.version=TG++)},setupView:function c(A,u){let f=0,d=0,_=0,p=0,g=0;const m=u.matrixWorldInverse;for(let C=0,B=A.length;C<B;C++){const S=A[C];if(S.isDirectionalLight){const U=n.directional[f];U.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),U.direction.sub(s),U.direction.transformDirection(m),f++}else if(S.isSpotLight){const U=n.spot[_];U.position.setFromMatrixPosition(S.matrixWorld),U.position.applyMatrix4(m),U.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),U.direction.sub(s),U.direction.transformDirection(m),_++}else if(S.isRectAreaLight){const U=n.rectArea[p];U.position.setFromMatrixPosition(S.matrixWorld),U.position.applyMatrix4(m),o.identity(),a.copy(S.matrixWorld),a.premultiply(m),o.extractRotation(a),U.halfWidth.set(.5*S.width,0,0),U.halfHeight.set(0,.5*S.height,0),U.halfWidth.applyMatrix4(o),U.halfHeight.applyMatrix4(o),p++}else if(S.isPointLight){const U=n.point[d];U.position.setFromMatrixPosition(S.matrixWorld),U.position.applyMatrix4(m),d++}else if(S.isHemisphereLight){const U=n.hemi[g];U.direction.setFromMatrixPosition(S.matrixWorld),U.direction.transformDirection(m),g++}}},state:n}}function SI(r,e){const t=new SG(r,e),i=[],n=[];return{init:function s(){i.length=0,n.length=0},state:{lightsArray:i,shadowsArray:n,lights:t},setupLights:function l(u){t.setup(i,u)},setupLightsView:function c(u){t.setupView(i,u)},pushLight:function a(u){i.push(u)},pushShadow:function o(u){n.push(u)}}}function IG(r,e){let t=new WeakMap;return{get:function i(s,a=0){const o=t.get(s);let l;return void 0===o?(l=new SI(r,e),t.set(s,[l])):a>=o.length?(l=new SI(r,e),o.push(l)):l=o[a],l},dispose:function n(){t=new WeakMap}}}class II extends Lc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class FI extends Lc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function LG(r,e,t){let i=new Oy;const n=new Ut,s=new Ut,a=new Rr,o=new II({depthPacking:3201}),l=new FI,c={},A=t.maxTextureSize,u={0:1,1:0,2:2},f=new Wd({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ut},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=f.clone();d.defines.HORIZONTAL_PASS=1;const _=new Xn;_.setAttribute("position",new Gs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Ao(_,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=zD;let m=this.type;function C(H,N){const P=e.update(p);f.defines.VSM_SAMPLES!==H.blurSamples&&(f.defines.VSM_SAMPLES=H.blurSamples,d.defines.VSM_SAMPLES=H.blurSamples,f.needsUpdate=!0,d.needsUpdate=!0),null===H.mapPass&&(H.mapPass=new Pp(n.x,n.y)),f.uniforms.shadow_pass.value=H.map.texture,f.uniforms.resolution.value=H.mapSize,f.uniforms.radius.value=H.radius,r.setRenderTarget(H.mapPass),r.clear(),r.renderBufferDirect(N,null,P,f,p,null),d.uniforms.shadow_pass.value=H.mapPass.texture,d.uniforms.resolution.value=H.mapSize,d.uniforms.radius.value=H.radius,r.setRenderTarget(H.map),r.clear(),r.renderBufferDirect(N,null,P,d,p,null)}function B(H,N,P,z){let W=null;const Y=!0===P.isPointLight?H.customDistanceMaterial:H.customDepthMaterial;if(void 0!==Y)W=Y;else if(W=!0===P.isPointLight?l:o,r.localClippingEnabled&&!0===N.clipShadows&&Array.isArray(N.clippingPlanes)&&0!==N.clippingPlanes.length||N.displacementMap&&0!==N.displacementScale||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0){const K=W.uuid,q=N.uuid;let Q=c[K];void 0===Q&&(Q={},c[K]=Q);let ie=Q[q];void 0===ie&&(ie=W.clone(),Q[q]=ie,N.addEventListener("dispose",U)),W=ie}return W.visible=N.visible,W.wireframe=N.wireframe,W.side=z===Du?null!==N.shadowSide?N.shadowSide:N.side:null!==N.shadowSide?N.shadowSide:u[N.side],W.alphaMap=N.alphaMap,W.alphaTest=N.alphaTest,W.map=N.map,W.clipShadows=N.clipShadows,W.clippingPlanes=N.clippingPlanes,W.clipIntersection=N.clipIntersection,W.displacementMap=N.displacementMap,W.displacementScale=N.displacementScale,W.displacementBias=N.displacementBias,W.wireframeLinewidth=N.wireframeLinewidth,W.linewidth=N.linewidth,!0===P.isPointLight&&!0===W.isMeshDistanceMaterial&&(r.properties.get(W).light=P),W}function S(H,N,P,z,W){if(!1===H.visible)return;if(H.layers.test(N.layers)&&(H.isMesh||H.isLine||H.isPoints)&&(H.castShadow||H.receiveShadow&&W===Du)&&(!H.frustumCulled||i.intersectsObject(H))){H.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,H.matrixWorld);const q=e.update(H),Q=H.material;if(Array.isArray(Q)){const ie=q.groups;for(let ee=0,he=ie.length;ee<he;ee++){const pe=ie[ee],ue=Q[pe.materialIndex];if(ue&&ue.visible){const Be=B(H,ue,z,W);H.onBeforeShadow(r,H,N,P,q,Be,pe),r.renderBufferDirect(P,null,q,Be,H,pe),H.onAfterShadow(r,H,N,P,q,Be,pe)}}}else if(Q.visible){const ie=B(H,Q,z,W);H.onBeforeShadow(r,H,N,P,q,ie,null),r.renderBufferDirect(P,null,q,ie,H,null),H.onAfterShadow(r,H,N,P,q,ie,null)}}const K=H.children;for(let q=0,Q=K.length;q<Q;q++)S(K[q],N,P,z,W)}function U(H){H.target.removeEventListener("dispose",U);for(const P in c){const z=c[P],W=H.target.uuid;W in z&&(z[W].dispose(),delete z[W])}}this.render=function(H,N,P){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===H.length)return;const z=r.getRenderTarget(),W=r.getActiveCubeFace(),Y=r.getActiveMipmapLevel(),K=r.state;K.setBlending(0),K.buffers.color.setClear(1,1,1,1),K.buffers.depth.setTest(!0),K.setScissorTest(!1);const q=m!==Du&&this.type===Du,Q=m===Du&&this.type!==Du;for(let ie=0,ee=H.length;ie<ee;ie++){const he=H[ie],pe=he.shadow;if(void 0===pe){console.warn("THREE.WebGLShadowMap:",he,"has no shadow.");continue}if(!1===pe.autoUpdate&&!1===pe.needsUpdate)continue;n.copy(pe.mapSize);const ue=pe.getFrameExtents();if(n.multiply(ue),s.copy(pe.mapSize),(n.x>A||n.y>A)&&(n.x>A&&(s.x=Math.floor(A/ue.x),n.x=s.x*ue.x,pe.mapSize.x=s.x),n.y>A&&(s.y=Math.floor(A/ue.y),n.y=s.y*ue.y,pe.mapSize.y=s.y)),null===pe.map||!0===q||!0===Q){const Le=this.type!==Du?{minFilter:ya,magFilter:ya}:{};null!==pe.map&&pe.map.dispose(),pe.map=new Pp(n.x,n.y,Le),pe.map.texture.name=he.name+".shadowMap",pe.camera.updateProjectionMatrix()}r.setRenderTarget(pe.map),r.clear();const Be=pe.getViewportCount();for(let Le=0;Le<Be;Le++){const J=pe.getViewport(Le);a.set(s.x*J.x,s.y*J.y,s.x*J.z,s.y*J.w),K.viewport(a),pe.updateMatrices(he,Le),i=pe.getFrustum(),S(N,P,pe.camera,he,this.type)}!0!==pe.isPointLightShadow&&this.type===Du&&C(pe,P),pe.needsUpdate=!1}m=this.type,g.needsUpdate=!1,r.setRenderTarget(z,W,Y)}}function PG(r,e,t){const i=t.isWebGL2,o=new function n(){let Ve=!1;const si=new Rr;let Jt=null;const ri=new Rr(0,0,0,0);return{setMask:function(gi){Jt!==gi&&!Ve&&(r.colorMask(gi,gi,gi,gi),Jt=gi)},setLocked:function(gi){Ve=gi},setClear:function(gi,sr,Cn,Zr,bs){!0===bs&&(gi*=Zr,sr*=Zr,Cn*=Zr),si.set(gi,sr,Cn,Zr),!1===ri.equals(si)&&(r.clearColor(gi,sr,Cn,Zr),ri.copy(si))},reset:function(){Ve=!1,Jt=null,ri.set(-1,0,0,0)}}},l=new function s(){let Ve=!1,si=null,Jt=null,ri=null;return{setTest:function(gi){gi?Je(r.DEPTH_TEST):ut(r.DEPTH_TEST)},setMask:function(gi){si!==gi&&!Ve&&(r.depthMask(gi),si=gi)},setFunc:function(gi){if(Jt!==gi){switch(gi){case 0:r.depthFunc(r.NEVER);break;case 1:r.depthFunc(r.ALWAYS);break;case 2:r.depthFunc(r.LESS);break;case 3:default:r.depthFunc(r.LEQUAL);break;case 4:r.depthFunc(r.EQUAL);break;case 5:r.depthFunc(r.GEQUAL);break;case 6:r.depthFunc(r.GREATER);break;case 7:r.depthFunc(r.NOTEQUAL)}Jt=gi}},setLocked:function(gi){Ve=gi},setClear:function(gi){ri!==gi&&(r.clearDepth(gi),ri=gi)},reset:function(){Ve=!1,si=null,Jt=null,ri=null}}},c=new function a(){let Ve=!1,si=null,Jt=null,ri=null,gi=null,sr=null,Cn=null,Zr=null,bs=null;return{setTest:function(Ii){Ve||(Ii?Je(r.STENCIL_TEST):ut(r.STENCIL_TEST))},setMask:function(Ii){si!==Ii&&!Ve&&(r.stencilMask(Ii),si=Ii)},setFunc:function(Ii,us,Ta){(Jt!==Ii||ri!==us||gi!==Ta)&&(r.stencilFunc(Ii,us,Ta),Jt=Ii,ri=us,gi=Ta)},setOp:function(Ii,us,Ta){(sr!==Ii||Cn!==us||Zr!==Ta)&&(r.stencilOp(Ii,us,Ta),sr=Ii,Cn=us,Zr=Ta)},setLocked:function(Ii){Ve=Ii},setClear:function(Ii){bs!==Ii&&(r.clearStencil(Ii),bs=Ii)},reset:function(){Ve=!1,si=null,Jt=null,ri=null,gi=null,sr=null,Cn=null,Zr=null,bs=null}}},A=new WeakMap,u=new WeakMap;let f={},d={},_=new WeakMap,p=[],g=null,m=!1,C=null,B=null,S=null,U=null,H=null,N=null,P=null,z=new mi(0,0,0),W=0,Y=!1,K=null,q=null,Q=null,ie=null,ee=null;const he=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let pe=!1,ue=0;const Be=r.getParameter(r.VERSION);-1!==Be.indexOf("WebGL")?(ue=parseFloat(/^WebGL (\d)/.exec(Be)[1]),pe=ue>=1):-1!==Be.indexOf("OpenGL ES")&&(ue=parseFloat(/^OpenGL ES (\d)/.exec(Be)[1]),pe=ue>=2);let Le=null,J={};const te=r.getParameter(r.SCISSOR_BOX),le=r.getParameter(r.VIEWPORT),be=(new Rr).fromArray(te),De=(new Rr).fromArray(le);function Fe(Ve,si,Jt,ri){const gi=new Uint8Array(4),sr=r.createTexture();r.bindTexture(Ve,sr),r.texParameteri(Ve,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(Ve,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let Cn=0;Cn<Jt;Cn++)!i||Ve!==r.TEXTURE_3D&&Ve!==r.TEXTURE_2D_ARRAY?r.texImage2D(si+Cn,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,gi):r.texImage3D(si,0,r.RGBA,1,1,ri,0,r.RGBA,r.UNSIGNED_BYTE,gi);return sr}const He={};function Je(Ve){!0!==f[Ve]&&(r.enable(Ve),f[Ve]=!0)}function ut(Ve){!1!==f[Ve]&&(r.disable(Ve),f[Ve]=!1)}He[r.TEXTURE_2D]=Fe(r.TEXTURE_2D,r.TEXTURE_2D,1),He[r.TEXTURE_CUBE_MAP]=Fe(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(He[r.TEXTURE_2D_ARRAY]=Fe(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),He[r.TEXTURE_3D]=Fe(r.TEXTURE_3D,r.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Je(r.DEPTH_TEST),l.setFunc(3),vt(!1),oe(1),Je(r.CULL_FACE),_e(0);const lt={100:r.FUNC_ADD,101:r.FUNC_SUBTRACT,102:r.FUNC_REVERSE_SUBTRACT};if(i)lt[103]=r.MIN,lt[104]=r.MAX;else{const Ve=e.get("EXT_blend_minmax");null!==Ve&&(lt[103]=Ve.MIN_EXT,lt[104]=Ve.MAX_EXT)}const ze={200:r.ZERO,201:r.ONE,202:r.SRC_COLOR,204:r.SRC_ALPHA,210:r.SRC_ALPHA_SATURATE,208:r.DST_COLOR,206:r.DST_ALPHA,203:r.ONE_MINUS_SRC_COLOR,205:r.ONE_MINUS_SRC_ALPHA,209:r.ONE_MINUS_DST_COLOR,207:r.ONE_MINUS_DST_ALPHA,211:r.CONSTANT_COLOR,212:r.ONE_MINUS_CONSTANT_COLOR,213:r.CONSTANT_ALPHA,214:r.ONE_MINUS_CONSTANT_ALPHA};function _e(Ve,si,Jt,ri,gi,sr,Cn,Zr,bs,Ii){if(0!==Ve){if(!1===m&&(Je(r.BLEND),m=!0),5===Ve)gi=gi||si,sr=sr||Jt,Cn=Cn||ri,(si!==B||gi!==H)&&(r.blendEquationSeparate(lt[si],lt[gi]),B=si,H=gi),(Jt!==S||ri!==U||sr!==N||Cn!==P)&&(r.blendFuncSeparate(ze[Jt],ze[ri],ze[sr],ze[Cn]),S=Jt,U=ri,N=sr,P=Cn),(!1===Zr.equals(z)||bs!==W)&&(r.blendColor(Zr.r,Zr.g,Zr.b,bs),z.copy(Zr),W=bs),C=Ve,Y=!1;else if(Ve!==C||Ii!==Y){if((100!==B||100!==H)&&(r.blendEquation(r.FUNC_ADD),B=100,H=100),Ii)switch(Ve){case 1:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case 2:r.blendFunc(r.ONE,r.ONE);break;case 3:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case 4:r.blendFuncSeparate(r.ZERO,r.SRC_COLOR,r.ZERO,r.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ve)}else switch(Ve){case 1:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case 2:r.blendFunc(r.SRC_ALPHA,r.ONE);break;case 3:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case 4:r.blendFunc(r.ZERO,r.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ve)}S=null,U=null,N=null,P=null,z.set(0,0,0),W=0,C=Ve,Y=Ii}}else!0===m&&(ut(r.BLEND),m=!1)}function vt(Ve){K!==Ve&&(r.frontFace(Ve?r.CW:r.CCW),K=Ve)}function oe(Ve){0!==Ve?(Je(r.CULL_FACE),Ve!==q&&r.cullFace(1===Ve?r.BACK:2===Ve?r.FRONT:r.FRONT_AND_BACK)):ut(r.CULL_FACE),q=Ve}function Ne(Ve,si,Jt){Ve?(Je(r.POLYGON_OFFSET_FILL),(ie!==si||ee!==Jt)&&(r.polygonOffset(si,Jt),ie=si,ee=Jt)):ut(r.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:l,stencil:c},enable:Je,disable:ut,bindFramebuffer:function bt(Ve,si){return d[Ve]!==si&&(r.bindFramebuffer(Ve,si),d[Ve]=si,i&&(Ve===r.DRAW_FRAMEBUFFER&&(d[r.FRAMEBUFFER]=si),Ve===r.FRAMEBUFFER&&(d[r.DRAW_FRAMEBUFFER]=si)),!0)},drawBuffers:function Se(Ve,si){let Jt=p,ri=!1;if(Ve)if(Jt=_.get(si),void 0===Jt&&(Jt=[],_.set(si,Jt)),Ve.isWebGLMultipleRenderTargets){const gi=Ve.texture;if(Jt.length!==gi.length||Jt[0]!==r.COLOR_ATTACHMENT0){for(let sr=0,Cn=gi.length;sr<Cn;sr++)Jt[sr]=r.COLOR_ATTACHMENT0+sr;Jt.length=gi.length,ri=!0}}else Jt[0]!==r.COLOR_ATTACHMENT0&&(Jt[0]=r.COLOR_ATTACHMENT0,ri=!0);else Jt[0]!==r.BACK&&(Jt[0]=r.BACK,ri=!0);ri&&(t.isWebGL2?r.drawBuffers(Jt):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Jt))},useProgram:function ft(Ve){return g!==Ve&&(r.useProgram(Ve),g=Ve,!0)},setBlending:_e,setMaterial:function Ct(Ve,si){2===Ve.side?ut(r.CULL_FACE):Je(r.CULL_FACE);let Jt=1===Ve.side;si&&(Jt=!Jt),vt(Jt),1===Ve.blending&&!1===Ve.transparent?_e(0):_e(Ve.blending,Ve.blendEquation,Ve.blendSrc,Ve.blendDst,Ve.blendEquationAlpha,Ve.blendSrcAlpha,Ve.blendDstAlpha,Ve.blendColor,Ve.blendAlpha,Ve.premultipliedAlpha),l.setFunc(Ve.depthFunc),l.setTest(Ve.depthTest),l.setMask(Ve.depthWrite),o.setMask(Ve.colorWrite);const ri=Ve.stencilWrite;c.setTest(ri),ri&&(c.setMask(Ve.stencilWriteMask),c.setFunc(Ve.stencilFunc,Ve.stencilRef,Ve.stencilFuncMask),c.setOp(Ve.stencilFail,Ve.stencilZFail,Ve.stencilZPass)),Ne(Ve.polygonOffset,Ve.polygonOffsetFactor,Ve.polygonOffsetUnits),!0===Ve.alphaToCoverage?Je(r.SAMPLE_ALPHA_TO_COVERAGE):ut(r.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:vt,setCullFace:oe,setLineWidth:function ne(Ve){Ve!==Q&&(pe&&r.lineWidth(Ve),Q=Ve)},setPolygonOffset:Ne,setScissorTest:function ot(Ve){Ve?Je(r.SCISSOR_TEST):ut(r.SCISSOR_TEST)},activeTexture:function gt(Ve){void 0===Ve&&(Ve=r.TEXTURE0+he-1),Le!==Ve&&(r.activeTexture(Ve),Le=Ve)},bindTexture:function yt(Ve,si,Jt){void 0===Jt&&(Jt=null===Le?r.TEXTURE0+he-1:Le);let ri=J[Jt];void 0===ri&&(ri={type:void 0,texture:void 0},J[Jt]=ri),(ri.type!==Ve||ri.texture!==si)&&(Le!==Jt&&(r.activeTexture(Jt),Le=Jt),r.bindTexture(Ve,si||He[Ve]),ri.type=Ve,ri.texture=si)},unbindTexture:function $t(){const Ve=J[Le];void 0!==Ve&&void 0!==Ve.type&&(r.bindTexture(Ve.type,null),Ve.type=void 0,Ve.texture=void 0)},compressedTexImage2D:function Ht(){try{r.compressedTexImage2D.apply(r,arguments)}catch(Ve){console.error("THREE.WebGLState:",Ve)}},compressedTexImage3D:function ei(){try{r.compressedTexImage3D.apply(r,arguments)}catch(Ve){console.error("THREE.WebGLState:",Ve)}},texImage2D:function ai(){try{r.texImage2D.apply(r,arguments)}catch(Ve){console.error("THREE.WebGLState:",Ve)}},texImage3D:function Ot(){try{r.texImage3D.apply(r,arguments)}catch(Ve){console.error("THREE.WebGLState:",Ve)}},updateUBOMapping:function ji(Ve,si){let Jt=u.get(si);void 0===Jt&&(Jt=new WeakMap,u.set(si,Jt));let ri=Jt.get(Ve);void 0===ri&&(ri=r.getUniformBlockIndex(si,Ve.name),Jt.set(Ve,ri))},uniformBlockBinding:function Fn(Ve,si){const ri=u.get(si).get(Ve);A.get(si)!==ri&&(r.uniformBlockBinding(si,ri,Ve.__bindingPointIndex),A.set(si,ri))},texStorage2D:function Re(){try{r.texStorage2D.apply(r,arguments)}catch(Ve){console.error("THREE.WebGLState:",Ve)}},texStorage3D:function kt(){try{r.texStorage3D.apply(r,arguments)}catch(Ve){console.error("THREE.WebGLState:",Ve)}},texSubImage2D:function xi(){try{r.texSubImage2D.apply(r,arguments)}catch(Ve){console.error("THREE.WebGLState:",Ve)}},texSubImage3D:function oi(){try{r.texSubImage3D.apply(r,arguments)}catch(Ve){console.error("THREE.WebGLState:",Ve)}},compressedTexSubImage2D:function Tt(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(Ve){console.error("THREE.WebGLState:",Ve)}},compressedTexSubImage3D:function Vt(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(Ve){console.error("THREE.WebGLState:",Ve)}},scissor:function yi(Ve){!1===be.equals(Ve)&&(r.scissor(Ve.x,Ve.y,Ve.z,Ve.w),be.copy(Ve))},viewport:function Bn(Ve){!1===De.equals(Ve)&&(r.viewport(Ve.x,Ve.y,Ve.z,Ve.w),De.copy(Ve))},reset:function Zt(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),!0===i&&(r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),f={},Le=null,J={},d={},_=new WeakMap,p=[],g=null,m=!1,C=null,B=null,S=null,U=null,H=null,N=null,P=null,z=new mi(0,0,0),W=0,Y=!1,K=null,q=null,Q=null,ie=null,ee=null,be.set(0,0,r.canvas.width,r.canvas.height),De.set(0,0,r.canvas.width,r.canvas.height),o.reset(),l.reset(),c.reset()}}}function RG(r,e,t,i,n,s,a){const o=n.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),A=new WeakMap;let u;const f=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function _(oe,ne){return d?new OffscreenCanvas(oe,ne):Lv("canvas")}function p(oe,ne,Ne,ot){let gt=1;if((oe.width>ot||oe.height>ot)&&(gt=ot/Math.max(oe.width,oe.height)),gt<1||!0===ne){if(typeof HTMLImageElement<"u"&&oe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&oe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&oe instanceof ImageBitmap){const yt=ne?gy:Math.floor,$t=yt(gt*oe.width),Ht=yt(gt*oe.height);void 0===u&&(u=_($t,Ht));const ei=Ne?_($t,Ht):u;return ei.width=$t,ei.height=Ht,ei.getContext("2d").drawImage(oe,0,0,$t,Ht),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+oe.width+"x"+oe.height+") to ("+$t+"x"+Ht+")."),ei}return"data"in oe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+oe.width+"x"+oe.height+")."),oe}return oe}function g(oe){return KC(oe.width)&&KC(oe.height)}function C(oe,ne){return oe.generateMipmaps&&ne&&oe.minFilter!==ya&&oe.minFilter!==oa}function B(oe){r.generateMipmap(oe)}function S(oe,ne,Ne,ot,gt=!1){if(!1===o)return ne;if(null!==oe){if(void 0!==r[oe])return r[oe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+oe+"'")}let yt=ne;if(ne===r.RED&&(Ne===r.FLOAT&&(yt=r.R32F),Ne===r.HALF_FLOAT&&(yt=r.R16F),Ne===r.UNSIGNED_BYTE&&(yt=r.R8)),ne===r.RED_INTEGER&&(Ne===r.UNSIGNED_BYTE&&(yt=r.R8UI),Ne===r.UNSIGNED_SHORT&&(yt=r.R16UI),Ne===r.UNSIGNED_INT&&(yt=r.R32UI),Ne===r.BYTE&&(yt=r.R8I),Ne===r.SHORT&&(yt=r.R16I),Ne===r.INT&&(yt=r.R32I)),ne===r.RG&&(Ne===r.FLOAT&&(yt=r.RG32F),Ne===r.HALF_FLOAT&&(yt=r.RG16F),Ne===r.UNSIGNED_BYTE&&(yt=r.RG8)),ne===r.RGBA){const $t=gt?dy:Yr.getTransfer(ot);Ne===r.FLOAT&&(yt=r.RGBA32F),Ne===r.HALF_FLOAT&&(yt=r.RGBA16F),Ne===r.UNSIGNED_BYTE&&(yt=$t===Ds?r.SRGB8_ALPHA8:r.RGBA8),Ne===r.UNSIGNED_SHORT_4_4_4_4&&(yt=r.RGBA4),Ne===r.UNSIGNED_SHORT_5_5_5_1&&(yt=r.RGB5_A1)}return(yt===r.R16F||yt===r.R32F||yt===r.RG16F||yt===r.RG32F||yt===r.RGBA16F||yt===r.RGBA32F)&&e.get("EXT_color_buffer_float"),yt}function U(oe,ne,Ne){return!0===C(oe,Ne)||oe.isFramebufferTexture&&oe.minFilter!==ya&&oe.minFilter!==oa?Math.log2(Math.max(ne.width,ne.height))+1:void 0!==oe.mipmaps&&oe.mipmaps.length>0?oe.mipmaps.length:oe.isCompressedTexture&&Array.isArray(oe.image)?ne.mipmaps.length:1}function H(oe){return oe===ya||1004===oe||1005===oe?r.NEAREST:r.LINEAR}function N(oe){const ne=oe.target;ne.removeEventListener("dispose",N),function z(oe){const ne=i.get(oe);if(void 0===ne.__webglInit)return;const Ne=oe.source,ot=f.get(Ne);if(ot){const gt=ot[ne.__cacheKey];gt.usedTimes--,0===gt.usedTimes&&W(oe),0===Object.keys(ot).length&&f.delete(Ne)}i.remove(oe)}(ne),ne.isVideoTexture&&A.delete(ne)}function P(oe){const ne=oe.target;ne.removeEventListener("dispose",P),function Y(oe){const ne=oe.texture,Ne=i.get(oe),ot=i.get(ne);if(void 0!==ot.__webglTexture&&(r.deleteTexture(ot.__webglTexture),a.memory.textures--),oe.depthTexture&&oe.depthTexture.dispose(),oe.isWebGLCubeRenderTarget)for(let gt=0;gt<6;gt++){if(Array.isArray(Ne.__webglFramebuffer[gt]))for(let yt=0;yt<Ne.__webglFramebuffer[gt].length;yt++)r.deleteFramebuffer(Ne.__webglFramebuffer[gt][yt]);else r.deleteFramebuffer(Ne.__webglFramebuffer[gt]);Ne.__webglDepthbuffer&&r.deleteRenderbuffer(Ne.__webglDepthbuffer[gt])}else{if(Array.isArray(Ne.__webglFramebuffer))for(let gt=0;gt<Ne.__webglFramebuffer.length;gt++)r.deleteFramebuffer(Ne.__webglFramebuffer[gt]);else r.deleteFramebuffer(Ne.__webglFramebuffer);if(Ne.__webglDepthbuffer&&r.deleteRenderbuffer(Ne.__webglDepthbuffer),Ne.__webglMultisampledFramebuffer&&r.deleteFramebuffer(Ne.__webglMultisampledFramebuffer),Ne.__webglColorRenderbuffer)for(let gt=0;gt<Ne.__webglColorRenderbuffer.length;gt++)Ne.__webglColorRenderbuffer[gt]&&r.deleteRenderbuffer(Ne.__webglColorRenderbuffer[gt]);Ne.__webglDepthRenderbuffer&&r.deleteRenderbuffer(Ne.__webglDepthRenderbuffer)}if(oe.isWebGLMultipleRenderTargets)for(let gt=0,yt=ne.length;gt<yt;gt++){const $t=i.get(ne[gt]);$t.__webglTexture&&(r.deleteTexture($t.__webglTexture),a.memory.textures--),i.remove(ne[gt])}i.remove(ne),i.remove(oe)}(ne)}function W(oe){const ne=i.get(oe);r.deleteTexture(ne.__webglTexture),delete f.get(oe.source)[ne.__cacheKey],a.memory.textures--}let K=0;function ee(oe,ne){const Ne=i.get(oe);if(oe.isVideoTexture&&function Ct(oe){const ne=a.render.frame;A.get(oe)!==ne&&(A.set(oe,ne),oe.update())}(oe),!1===oe.isRenderTargetTexture&&oe.version>0&&Ne.__version!==oe.version){const ot=oe.image;if(null===ot)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==ot.complete)return void be(Ne,oe,ne);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(r.TEXTURE_2D,Ne.__webglTexture,r.TEXTURE0+ne)}const Be={[Iu]:r.REPEAT,[To]:r.CLAMP_TO_EDGE,1002:r.MIRRORED_REPEAT},Le={[ya]:r.NEAREST,1004:r.NEAREST_MIPMAP_NEAREST,1005:r.NEAREST_MIPMAP_LINEAR,[oa]:r.LINEAR,1007:r.LINEAR_MIPMAP_NEAREST,[Fu]:r.LINEAR_MIPMAP_LINEAR},J={512:r.NEVER,519:r.ALWAYS,513:r.LESS,515:r.LEQUAL,514:r.EQUAL,518:r.GEQUAL,516:r.GREATER,517:r.NOTEQUAL};function te(oe,ne,Ne){if(Ne?(r.texParameteri(oe,r.TEXTURE_WRAP_S,Be[ne.wrapS]),r.texParameteri(oe,r.TEXTURE_WRAP_T,Be[ne.wrapT]),(oe===r.TEXTURE_3D||oe===r.TEXTURE_2D_ARRAY)&&r.texParameteri(oe,r.TEXTURE_WRAP_R,Be[ne.wrapR]),r.texParameteri(oe,r.TEXTURE_MAG_FILTER,Le[ne.magFilter]),r.texParameteri(oe,r.TEXTURE_MIN_FILTER,Le[ne.minFilter])):(r.texParameteri(oe,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(oe,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),(oe===r.TEXTURE_3D||oe===r.TEXTURE_2D_ARRAY)&&r.texParameteri(oe,r.TEXTURE_WRAP_R,r.CLAMP_TO_EDGE),(ne.wrapS!==To||ne.wrapT!==To)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(oe,r.TEXTURE_MAG_FILTER,H(ne.magFilter)),r.texParameteri(oe,r.TEXTURE_MIN_FILTER,H(ne.minFilter)),ne.minFilter!==ya&&ne.minFilter!==oa&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),ne.compareFunction&&(r.texParameteri(oe,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(oe,r.TEXTURE_COMPARE_FUNC,J[ne.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const ot=e.get("EXT_texture_filter_anisotropic");if(ne.magFilter===ya||1005!==ne.minFilter&&ne.minFilter!==Fu||ne.type===LA&&!1===e.has("OES_texture_float_linear")||!1===o&&ne.type===Sv&&!1===e.has("OES_texture_half_float_linear"))return;(ne.anisotropy>1||i.get(ne).__currentAnisotropy)&&(r.texParameterf(oe,ot.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ne.anisotropy,n.getMaxAnisotropy())),i.get(ne).__currentAnisotropy=ne.anisotropy)}}function le(oe,ne){let Ne=!1;void 0===oe.__webglInit&&(oe.__webglInit=!0,ne.addEventListener("dispose",N));const ot=ne.source;let gt=f.get(ot);void 0===gt&&(gt={},f.set(ot,gt));const yt=function ie(oe){const ne=[];return ne.push(oe.wrapS),ne.push(oe.wrapT),ne.push(oe.wrapR||0),ne.push(oe.magFilter),ne.push(oe.minFilter),ne.push(oe.anisotropy),ne.push(oe.internalFormat),ne.push(oe.format),ne.push(oe.type),ne.push(oe.generateMipmaps),ne.push(oe.premultiplyAlpha),ne.push(oe.flipY),ne.push(oe.unpackAlignment),ne.push(oe.colorSpace),ne.join()}(ne);if(yt!==oe.__cacheKey){void 0===gt[yt]&&(gt[yt]={texture:r.createTexture(),usedTimes:0},a.memory.textures++,Ne=!0),gt[yt].usedTimes++;const $t=gt[oe.__cacheKey];void 0!==$t&&(gt[oe.__cacheKey].usedTimes--,0===$t.usedTimes&&W(ne)),oe.__cacheKey=yt,oe.__webglTexture=gt[yt].texture}return Ne}function be(oe,ne,Ne){let ot=r.TEXTURE_2D;(ne.isDataArrayTexture||ne.isCompressedArrayTexture)&&(ot=r.TEXTURE_2D_ARRAY),ne.isData3DTexture&&(ot=r.TEXTURE_3D);const gt=le(oe,ne),yt=ne.source;t.bindTexture(ot,oe.__webglTexture,r.TEXTURE0+Ne);const $t=i.get(yt);if(yt.version!==$t.__version||!0===gt){t.activeTexture(r.TEXTURE0+Ne);const Ht=Yr.getPrimaries(Yr.workingColorSpace),ei=""===ne.colorSpace?null:Yr.getPrimaries(ne.colorSpace),xi=""===ne.colorSpace||Ht===ei?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,ne.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,ne.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,xi);const oi=function m(oe){return!o&&(oe.wrapS!==To||oe.wrapT!==To||oe.minFilter!==ya&&oe.minFilter!==oa)}(ne)&&!1===g(ne.image);let Tt=p(ne.image,oi,!1,n.maxTextureSize);Tt=vt(ne,Tt);const Vt=g(Tt)||o,Re=s.convert(ne.format,ne.colorSpace);let Ot,kt=s.convert(ne.type),ai=S(ne.internalFormat,Re,kt,ne.colorSpace,ne.isVideoTexture);te(ot,ne,Vt);const yi=ne.mipmaps,Bn=o&&!0!==ne.isVideoTexture&&36196!==ai,ji=void 0===$t.__version||!0===gt,Fn=U(ne,Tt,Vt);if(ne.isDepthTexture)ai=r.DEPTH_COMPONENT,o?ai=ne.type===LA?r.DEPTH_COMPONENT32F:ne.type===Od?r.DEPTH_COMPONENT24:ne.type===Dp?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT16:ne.type===LA&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ne.format===Sp&&ai===r.DEPTH_COMPONENT&&1012!==ne.type&&ne.type!==Od&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ne.type=Od,kt=s.convert(ne.type)),ne.format===Eg&&ai===r.DEPTH_COMPONENT&&(ai=r.DEPTH_STENCIL,ne.type!==Dp&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ne.type=Dp,kt=s.convert(ne.type))),ji&&(Bn?t.texStorage2D(r.TEXTURE_2D,1,ai,Tt.width,Tt.height):t.texImage2D(r.TEXTURE_2D,0,ai,Tt.width,Tt.height,0,Re,kt,null));else if(ne.isDataTexture)if(yi.length>0&&Vt){Bn&&ji&&t.texStorage2D(r.TEXTURE_2D,Fn,ai,yi[0].width,yi[0].height);for(let Zt=0,Ve=yi.length;Zt<Ve;Zt++)Ot=yi[Zt],Bn?t.texSubImage2D(r.TEXTURE_2D,Zt,0,0,Ot.width,Ot.height,Re,kt,Ot.data):t.texImage2D(r.TEXTURE_2D,Zt,ai,Ot.width,Ot.height,0,Re,kt,Ot.data);ne.generateMipmaps=!1}else Bn?(ji&&t.texStorage2D(r.TEXTURE_2D,Fn,ai,Tt.width,Tt.height),t.texSubImage2D(r.TEXTURE_2D,0,0,0,Tt.width,Tt.height,Re,kt,Tt.data)):t.texImage2D(r.TEXTURE_2D,0,ai,Tt.width,Tt.height,0,Re,kt,Tt.data);else if(ne.isCompressedTexture)if(ne.isCompressedArrayTexture){Bn&&ji&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Fn,ai,yi[0].width,yi[0].height,Tt.depth);for(let Zt=0,Ve=yi.length;Zt<Ve;Zt++)Ot=yi[Zt],ne.format!==Sc?null!==Re?Bn?t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,Zt,0,0,0,Ot.width,Ot.height,Tt.depth,Re,Ot.data,0,0):t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,Zt,ai,Ot.width,Ot.height,Tt.depth,0,Ot.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bn?t.texSubImage3D(r.TEXTURE_2D_ARRAY,Zt,0,0,0,Ot.width,Ot.height,Tt.depth,Re,kt,Ot.data):t.texImage3D(r.TEXTURE_2D_ARRAY,Zt,ai,Ot.width,Ot.height,Tt.depth,0,Re,kt,Ot.data)}else{Bn&&ji&&t.texStorage2D(r.TEXTURE_2D,Fn,ai,yi[0].width,yi[0].height);for(let Zt=0,Ve=yi.length;Zt<Ve;Zt++)Ot=yi[Zt],ne.format!==Sc?null!==Re?Bn?t.compressedTexSubImage2D(r.TEXTURE_2D,Zt,0,0,Ot.width,Ot.height,Re,Ot.data):t.compressedTexImage2D(r.TEXTURE_2D,Zt,ai,Ot.width,Ot.height,0,Ot.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bn?t.texSubImage2D(r.TEXTURE_2D,Zt,0,0,Ot.width,Ot.height,Re,kt,Ot.data):t.texImage2D(r.TEXTURE_2D,Zt,ai,Ot.width,Ot.height,0,Re,kt,Ot.data)}else if(ne.isDataArrayTexture)Bn?(ji&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Fn,ai,Tt.width,Tt.height,Tt.depth),t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,Tt.width,Tt.height,Tt.depth,Re,kt,Tt.data)):t.texImage3D(r.TEXTURE_2D_ARRAY,0,ai,Tt.width,Tt.height,Tt.depth,0,Re,kt,Tt.data);else if(ne.isData3DTexture)Bn?(ji&&t.texStorage3D(r.TEXTURE_3D,Fn,ai,Tt.width,Tt.height,Tt.depth),t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,Tt.width,Tt.height,Tt.depth,Re,kt,Tt.data)):t.texImage3D(r.TEXTURE_3D,0,ai,Tt.width,Tt.height,Tt.depth,0,Re,kt,Tt.data);else if(ne.isFramebufferTexture){if(ji)if(Bn)t.texStorage2D(r.TEXTURE_2D,Fn,ai,Tt.width,Tt.height);else{let Zt=Tt.width,Ve=Tt.height;for(let si=0;si<Fn;si++)t.texImage2D(r.TEXTURE_2D,si,ai,Zt,Ve,0,Re,kt,null),Zt>>=1,Ve>>=1}}else if(yi.length>0&&Vt){Bn&&ji&&t.texStorage2D(r.TEXTURE_2D,Fn,ai,yi[0].width,yi[0].height);for(let Zt=0,Ve=yi.length;Zt<Ve;Zt++)Ot=yi[Zt],Bn?t.texSubImage2D(r.TEXTURE_2D,Zt,0,0,Re,kt,Ot):t.texImage2D(r.TEXTURE_2D,Zt,ai,Re,kt,Ot);ne.generateMipmaps=!1}else Bn?(ji&&t.texStorage2D(r.TEXTURE_2D,Fn,ai,Tt.width,Tt.height),t.texSubImage2D(r.TEXTURE_2D,0,0,0,Re,kt,Tt)):t.texImage2D(r.TEXTURE_2D,0,ai,Re,kt,Tt);C(ne,Vt)&&B(ot),$t.__version=yt.version,ne.onUpdate&&ne.onUpdate(ne)}oe.__version=ne.version}function Fe(oe,ne,Ne,ot,gt,yt){const $t=s.convert(Ne.format,Ne.colorSpace),Ht=s.convert(Ne.type),ei=S(Ne.internalFormat,$t,Ht,Ne.colorSpace);if(!i.get(ne).__hasExternalTextures){const oi=Math.max(1,ne.width>>yt),Tt=Math.max(1,ne.height>>yt);gt===r.TEXTURE_3D||gt===r.TEXTURE_2D_ARRAY?t.texImage3D(gt,yt,ei,oi,Tt,ne.depth,0,$t,Ht,null):t.texImage2D(gt,yt,ei,oi,Tt,0,$t,Ht,null)}t.bindFramebuffer(r.FRAMEBUFFER,oe),_e(ne)?l.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,ot,gt,i.get(Ne).__webglTexture,0,ze(ne)):(gt===r.TEXTURE_2D||gt>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&gt<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,ot,gt,i.get(Ne).__webglTexture,yt),t.bindFramebuffer(r.FRAMEBUFFER,null)}function He(oe,ne,Ne){if(r.bindRenderbuffer(r.RENDERBUFFER,oe),ne.depthBuffer&&!ne.stencilBuffer){let ot=!0===o?r.DEPTH_COMPONENT24:r.DEPTH_COMPONENT16;if(Ne||_e(ne)){const gt=ne.depthTexture;gt&&gt.isDepthTexture&&(gt.type===LA?ot=r.DEPTH_COMPONENT32F:gt.type===Od&&(ot=r.DEPTH_COMPONENT24));const yt=ze(ne);_e(ne)?l.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,yt,ot,ne.width,ne.height):r.renderbufferStorageMultisample(r.RENDERBUFFER,yt,ot,ne.width,ne.height)}else r.renderbufferStorage(r.RENDERBUFFER,ot,ne.width,ne.height);r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,oe)}else if(ne.depthBuffer&&ne.stencilBuffer){const ot=ze(ne);Ne&&!1===_e(ne)?r.renderbufferStorageMultisample(r.RENDERBUFFER,ot,r.DEPTH24_STENCIL8,ne.width,ne.height):_e(ne)?l.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,ot,r.DEPTH24_STENCIL8,ne.width,ne.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,ne.width,ne.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,oe)}else{const ot=!0===ne.isWebGLMultipleRenderTargets?ne.texture:[ne.texture];for(let gt=0;gt<ot.length;gt++){const yt=ot[gt],$t=s.convert(yt.format,yt.colorSpace),Ht=s.convert(yt.type),ei=S(yt.internalFormat,$t,Ht,yt.colorSpace),xi=ze(ne);Ne&&!1===_e(ne)?r.renderbufferStorageMultisample(r.RENDERBUFFER,xi,ei,ne.width,ne.height):_e(ne)?l.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,xi,ei,ne.width,ne.height):r.renderbufferStorage(r.RENDERBUFFER,ei,ne.width,ne.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function ut(oe){const ne=i.get(oe),Ne=!0===oe.isWebGLCubeRenderTarget;if(oe.depthTexture&&!ne.__autoAllocateDepthBuffer){if(Ne)throw new Error("target.depthTexture not supported in Cube render targets");!function Je(oe,ne){if(ne&&ne.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,oe),!ne.depthTexture||!ne.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(ne.depthTexture).__webglTexture||ne.depthTexture.image.width!==ne.width||ne.depthTexture.image.height!==ne.height)&&(ne.depthTexture.image.width=ne.width,ne.depthTexture.image.height=ne.height,ne.depthTexture.needsUpdate=!0),ee(ne.depthTexture,0);const ot=i.get(ne.depthTexture).__webglTexture,gt=ze(ne);if(ne.depthTexture.format===Sp)_e(ne)?l.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,ot,0,gt):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,ot,0);else{if(ne.depthTexture.format!==Eg)throw new Error("Unknown depthTexture format");_e(ne)?l.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,ot,0,gt):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,ot,0)}}(ne.__webglFramebuffer,oe)}else if(Ne){ne.__webglDepthbuffer=[];for(let ot=0;ot<6;ot++)t.bindFramebuffer(r.FRAMEBUFFER,ne.__webglFramebuffer[ot]),ne.__webglDepthbuffer[ot]=r.createRenderbuffer(),He(ne.__webglDepthbuffer[ot],oe,!1)}else t.bindFramebuffer(r.FRAMEBUFFER,ne.__webglFramebuffer),ne.__webglDepthbuffer=r.createRenderbuffer(),He(ne.__webglDepthbuffer,oe,!1);t.bindFramebuffer(r.FRAMEBUFFER,null)}function ze(oe){return Math.min(n.maxSamples,oe.samples)}function _e(oe){const ne=i.get(oe);return o&&oe.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==ne.__useRenderToTexture}function vt(oe,ne){const Ne=oe.colorSpace,ot=oe.format,gt=oe.type;return!0===oe.isCompressedTexture||!0===oe.isVideoTexture||1035===oe.format||Ne!==Do&&""!==Ne&&(Yr.getTransfer(Ne)===Ds?!1===o?!0===e.has("EXT_sRGB")&&ot===Sc?(oe.format=1035,oe.minFilter=oa,oe.generateMipmaps=!1):ne=QS.sRGBToLinear(ne):(ot!==Sc||gt!==Qd)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ne)),ne}this.allocateTextureUnit=function Q(){const oe=K;return oe>=n.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+oe+" texture units while this GPU supports only "+n.maxTextures),K+=1,oe},this.resetTextureUnits=function q(){K=0},this.setTexture2D=ee,this.setTexture2DArray=function he(oe,ne){const Ne=i.get(oe);oe.version>0&&Ne.__version!==oe.version?be(Ne,oe,ne):t.bindTexture(r.TEXTURE_2D_ARRAY,Ne.__webglTexture,r.TEXTURE0+ne)},this.setTexture3D=function pe(oe,ne){const Ne=i.get(oe);oe.version>0&&Ne.__version!==oe.version?be(Ne,oe,ne):t.bindTexture(r.TEXTURE_3D,Ne.__webglTexture,r.TEXTURE0+ne)},this.setTextureCube=function ue(oe,ne){const Ne=i.get(oe);oe.version>0&&Ne.__version!==oe.version?function De(oe,ne,Ne){if(6!==ne.image.length)return;const ot=le(oe,ne),gt=ne.source;t.bindTexture(r.TEXTURE_CUBE_MAP,oe.__webglTexture,r.TEXTURE0+Ne);const yt=i.get(gt);if(gt.version!==yt.__version||!0===ot){t.activeTexture(r.TEXTURE0+Ne);const $t=Yr.getPrimaries(Yr.workingColorSpace),Ht=""===ne.colorSpace?null:Yr.getPrimaries(ne.colorSpace),ei=""===ne.colorSpace||$t===Ht?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,ne.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,ne.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,ei);const xi=ne.isCompressedTexture||ne.image[0].isCompressedTexture,oi=ne.image[0]&&ne.image[0].isDataTexture,Tt=[];for(let Zt=0;Zt<6;Zt++)Tt[Zt]=xi||oi?oi?ne.image[Zt].image:ne.image[Zt]:p(ne.image[Zt],!1,!0,n.maxCubemapSize),Tt[Zt]=vt(ne,Tt[Zt]);const Vt=Tt[0],Re=g(Vt)||o,kt=s.convert(ne.format,ne.colorSpace),ai=s.convert(ne.type),Ot=S(ne.internalFormat,kt,ai,ne.colorSpace),yi=o&&!0!==ne.isVideoTexture,Bn=void 0===yt.__version||!0===ot;let Fn,ji=U(ne,Vt,Re);if(te(r.TEXTURE_CUBE_MAP,ne,Re),xi){yi&&Bn&&t.texStorage2D(r.TEXTURE_CUBE_MAP,ji,Ot,Vt.width,Vt.height);for(let Zt=0;Zt<6;Zt++){Fn=Tt[Zt].mipmaps;for(let Ve=0;Ve<Fn.length;Ve++){const si=Fn[Ve];ne.format!==Sc?null!==kt?yi?t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,Ve,0,0,si.width,si.height,kt,si.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,Ve,Ot,si.width,si.height,0,si.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):yi?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,Ve,0,0,si.width,si.height,kt,ai,si.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,Ve,Ot,si.width,si.height,0,kt,ai,si.data)}}}else{Fn=ne.mipmaps,yi&&Bn&&(Fn.length>0&&ji++,t.texStorage2D(r.TEXTURE_CUBE_MAP,ji,Ot,Tt[0].width,Tt[0].height));for(let Zt=0;Zt<6;Zt++)if(oi){yi?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,0,0,Tt[Zt].width,Tt[Zt].height,kt,ai,Tt[Zt].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,Ot,Tt[Zt].width,Tt[Zt].height,0,kt,ai,Tt[Zt].data);for(let Ve=0;Ve<Fn.length;Ve++){const Jt=Fn[Ve].image[Zt].image;yi?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,Ve+1,0,0,Jt.width,Jt.height,kt,ai,Jt.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,Ve+1,Ot,Jt.width,Jt.height,0,kt,ai,Jt.data)}}else{yi?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,0,0,kt,ai,Tt[Zt]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,Ot,kt,ai,Tt[Zt]);for(let Ve=0;Ve<Fn.length;Ve++){const si=Fn[Ve];yi?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,Ve+1,0,0,kt,ai,si.image[Zt]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,Ve+1,Ot,kt,ai,si.image[Zt])}}}C(ne,Re)&&B(r.TEXTURE_CUBE_MAP),yt.__version=gt.version,ne.onUpdate&&ne.onUpdate(ne)}oe.__version=ne.version}(Ne,oe,ne):t.bindTexture(r.TEXTURE_CUBE_MAP,Ne.__webglTexture,r.TEXTURE0+ne)},this.rebindTextures=function bt(oe,ne,Ne){const ot=i.get(oe);void 0!==ne&&Fe(ot.__webglFramebuffer,oe,oe.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),void 0!==Ne&&ut(oe)},this.setupRenderTarget=function Se(oe){const ne=oe.texture,Ne=i.get(oe),ot=i.get(ne);oe.addEventListener("dispose",P),!0!==oe.isWebGLMultipleRenderTargets&&(void 0===ot.__webglTexture&&(ot.__webglTexture=r.createTexture()),ot.__version=ne.version,a.memory.textures++);const gt=!0===oe.isWebGLCubeRenderTarget,yt=!0===oe.isWebGLMultipleRenderTargets,$t=g(oe)||o;if(gt){Ne.__webglFramebuffer=[];for(let Ht=0;Ht<6;Ht++)if(o&&ne.mipmaps&&ne.mipmaps.length>0){Ne.__webglFramebuffer[Ht]=[];for(let ei=0;ei<ne.mipmaps.length;ei++)Ne.__webglFramebuffer[Ht][ei]=r.createFramebuffer()}else Ne.__webglFramebuffer[Ht]=r.createFramebuffer()}else{if(o&&ne.mipmaps&&ne.mipmaps.length>0){Ne.__webglFramebuffer=[];for(let Ht=0;Ht<ne.mipmaps.length;Ht++)Ne.__webglFramebuffer[Ht]=r.createFramebuffer()}else Ne.__webglFramebuffer=r.createFramebuffer();if(yt)if(n.drawBuffers){const Ht=oe.texture;for(let ei=0,xi=Ht.length;ei<xi;ei++){const oi=i.get(Ht[ei]);void 0===oi.__webglTexture&&(oi.__webglTexture=r.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&oe.samples>0&&!1===_e(oe)){const Ht=yt?ne:[ne];Ne.__webglMultisampledFramebuffer=r.createFramebuffer(),Ne.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer);for(let ei=0;ei<Ht.length;ei++){const xi=Ht[ei];Ne.__webglColorRenderbuffer[ei]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,Ne.__webglColorRenderbuffer[ei]);const oi=s.convert(xi.format,xi.colorSpace),Tt=s.convert(xi.type),Vt=S(xi.internalFormat,oi,Tt,xi.colorSpace,!0===oe.isXRRenderTarget),Re=ze(oe);r.renderbufferStorageMultisample(r.RENDERBUFFER,Re,Vt,oe.width,oe.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+ei,r.RENDERBUFFER,Ne.__webglColorRenderbuffer[ei])}r.bindRenderbuffer(r.RENDERBUFFER,null),oe.depthBuffer&&(Ne.__webglDepthRenderbuffer=r.createRenderbuffer(),He(Ne.__webglDepthRenderbuffer,oe,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(gt){t.bindTexture(r.TEXTURE_CUBE_MAP,ot.__webglTexture),te(r.TEXTURE_CUBE_MAP,ne,$t);for(let Ht=0;Ht<6;Ht++)if(o&&ne.mipmaps&&ne.mipmaps.length>0)for(let ei=0;ei<ne.mipmaps.length;ei++)Fe(Ne.__webglFramebuffer[Ht][ei],oe,ne,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+Ht,ei);else Fe(Ne.__webglFramebuffer[Ht],oe,ne,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+Ht,0);C(ne,$t)&&B(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(yt){const Ht=oe.texture;for(let ei=0,xi=Ht.length;ei<xi;ei++){const oi=Ht[ei],Tt=i.get(oi);t.bindTexture(r.TEXTURE_2D,Tt.__webglTexture),te(r.TEXTURE_2D,oi,$t),Fe(Ne.__webglFramebuffer,oe,oi,r.COLOR_ATTACHMENT0+ei,r.TEXTURE_2D,0),C(oi,$t)&&B(r.TEXTURE_2D)}t.unbindTexture()}else{let Ht=r.TEXTURE_2D;if((oe.isWebGL3DRenderTarget||oe.isWebGLArrayRenderTarget)&&(o?Ht=oe.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ht,ot.__webglTexture),te(Ht,ne,$t),o&&ne.mipmaps&&ne.mipmaps.length>0)for(let ei=0;ei<ne.mipmaps.length;ei++)Fe(Ne.__webglFramebuffer[ei],oe,ne,r.COLOR_ATTACHMENT0,Ht,ei);else Fe(Ne.__webglFramebuffer,oe,ne,r.COLOR_ATTACHMENT0,Ht,0);C(ne,$t)&&B(Ht),t.unbindTexture()}oe.depthBuffer&&ut(oe)},this.updateRenderTargetMipmap=function ft(oe){const ne=g(oe)||o,Ne=!0===oe.isWebGLMultipleRenderTargets?oe.texture:[oe.texture];for(let ot=0,gt=Ne.length;ot<gt;ot++){const yt=Ne[ot];if(C(yt,ne)){const $t=oe.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:r.TEXTURE_2D,Ht=i.get(yt).__webglTexture;t.bindTexture($t,Ht),B($t),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function lt(oe){if(o&&oe.samples>0&&!1===_e(oe)){const ne=oe.isWebGLMultipleRenderTargets?oe.texture:[oe.texture],Ne=oe.width,ot=oe.height;let gt=r.COLOR_BUFFER_BIT;const yt=[],$t=oe.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ht=i.get(oe),ei=!0===oe.isWebGLMultipleRenderTargets;if(ei)for(let xi=0;xi<ne.length;xi++)t.bindFramebuffer(r.FRAMEBUFFER,Ht.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+xi,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,Ht.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+xi,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,Ht.__webglMultisampledFramebuffer),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ht.__webglFramebuffer);for(let xi=0;xi<ne.length;xi++){yt.push(r.COLOR_ATTACHMENT0+xi),oe.depthBuffer&&yt.push($t);const oi=void 0!==Ht.__ignoreDepthValues&&Ht.__ignoreDepthValues;if(!1===oi&&(oe.depthBuffer&&(gt|=r.DEPTH_BUFFER_BIT),oe.stencilBuffer&&(gt|=r.STENCIL_BUFFER_BIT)),ei&&r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Ht.__webglColorRenderbuffer[xi]),!0===oi&&(r.invalidateFramebuffer(r.READ_FRAMEBUFFER,[$t]),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[$t])),ei){const Tt=i.get(ne[xi]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,Tt,0)}r.blitFramebuffer(0,0,Ne,ot,0,0,Ne,ot,gt,r.NEAREST),c&&r.invalidateFramebuffer(r.READ_FRAMEBUFFER,yt)}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),ei)for(let xi=0;xi<ne.length;xi++){t.bindFramebuffer(r.FRAMEBUFFER,Ht.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+xi,r.RENDERBUFFER,Ht.__webglColorRenderbuffer[xi]);const oi=i.get(ne[xi]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,Ht.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+xi,r.TEXTURE_2D,oi,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ht.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=ut,this.setupFrameBufferTexture=Fe,this.useMultisampledRTT=_e}function UG(r,e,t){const i=t.isWebGL2;return{convert:function n(s,a=""){let o;const l=Yr.getTransfer(a);if(s===Qd)return r.UNSIGNED_BYTE;if(1017===s)return r.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return r.UNSIGNED_SHORT_5_5_5_1;if(1010===s)return r.BYTE;if(1011===s)return r.SHORT;if(1012===s)return r.UNSIGNED_SHORT;if(1013===s)return r.INT;if(s===Od)return r.UNSIGNED_INT;if(s===LA)return r.FLOAT;if(s===Sv)return i?r.HALF_FLOAT:(o=e.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(1021===s)return r.ALPHA;if(s===Sc)return r.RGBA;if(1024===s)return r.LUMINANCE;if(1025===s)return r.LUMINANCE_ALPHA;if(s===Sp)return r.DEPTH_COMPONENT;if(s===Eg)return r.DEPTH_STENCIL;if(1035===s)return o=e.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(1028===s)return r.RED;if(1029===s)return r.RED_INTEGER;if(1030===s)return r.RG;if(1031===s)return r.RG_INTEGER;if(1033===s)return r.RGBA_INTEGER;if(33776===s||33777===s||33778===s||33779===s)if(l===Ds){if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(33776===s)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=e.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(33776===s)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(o=e.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(35840===s)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return o=e.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(o=e.get("WEBGL_compressed_texture_etc"),null===o)return null;if(37492===s)return l===Ds?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(37496===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(o=e.get("WEBGL_compressed_texture_astc"),null===o)return null;if(37808===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return l===Ds?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s||36494===s||36495===s){if(o=e.get("EXT_texture_compression_bptc"),null===o)return null;if(36492===s)return l===Ds?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===s)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===s)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===s||36284===s||36285===s||36286===s){if(o=e.get("EXT_texture_compression_rgtc"),null===o)return null;if(36492===s)return o.COMPRESSED_RED_RGTC1_EXT;if(36284===s)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===s)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===s)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===Dp?i?r.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==r[s]?r[s]:null}}}class QG extends uo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class UA extends Is{constructor(){super(),this.isGroup=!0,this.type="Group"}}const OG={type:"move"};class BE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new UA,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new UA,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ce),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new UA,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ce),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let n=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){a=!0;for(const p of e.hand.values()){const g=t.getJointPose(p,i),m=this._getHandJoint(c,p);null!==g&&(m.matrix.fromArray(g.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=g.radius),m.visible=null!==g}const f=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),d=.02,_=.005;c.inputState.pinching&&f>d+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=d-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==o&&(n=t.getPose(e.targetRaySpace,i),null===n&&null!==s&&(n=s),null!==n&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,n.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(n.linearVelocity)):o.hasLinearVelocity=!1,n.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(n.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(OG)))}return null!==o&&(o.visible=null!==n),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new UA;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class NG extends kp{constructor(e,t){super();const i=this;let n=null,s=1,a=null,o="local-floor",l=1,c=null,A=null,u=null,f=null,d=null,_=null;const p=t.getContextAttributes();let g=null,m=null;const C=[],B=[],S=new Ut;let U=null;const H=new uo;H.layers.enable(1),H.viewport=new Rr;const N=new uo;N.layers.enable(2),N.viewport=new Rr;const P=[H,N],z=new QG;z.layers.enable(1),z.layers.enable(2);let W=null,Y=null;function K(te){const le=B.indexOf(te.inputSource);if(-1===le)return;const be=C[le];void 0!==be&&(be.update(te.inputSource,te.frame,c||a),be.dispatchEvent({type:te.type,data:te.inputSource}))}function q(){n.removeEventListener("select",K),n.removeEventListener("selectstart",K),n.removeEventListener("selectend",K),n.removeEventListener("squeeze",K),n.removeEventListener("squeezestart",K),n.removeEventListener("squeezeend",K),n.removeEventListener("end",q),n.removeEventListener("inputsourceschange",Q);for(let te=0;te<C.length;te++){const le=B[te];null!==le&&(B[te]=null,C[te].disconnect(le))}W=null,Y=null,e.setRenderTarget(g),d=null,f=null,u=null,n=null,m=null,J.stop(),i.isPresenting=!1,e.setPixelRatio(U),e.setSize(S.width,S.height,!1),i.dispatchEvent({type:"sessionend"})}function Q(te){for(let le=0;le<te.removed.length;le++){const be=te.removed[le],De=B.indexOf(be);De>=0&&(B[De]=null,C[De].disconnect(be))}for(let le=0;le<te.added.length;le++){const be=te.added[le];let De=B.indexOf(be);if(-1===De){for(let He=0;He<C.length;He++){if(He>=B.length){B.push(be),De=He;break}if(null===B[He]){B[He]=be,De=He;break}}if(-1===De)break}const Fe=C[De];Fe&&Fe.connect(be)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(te){let le=C[te];return void 0===le&&(le=new BE,C[te]=le),le.getTargetRaySpace()},this.getControllerGrip=function(te){let le=C[te];return void 0===le&&(le=new BE,C[te]=le),le.getGripSpace()},this.getHand=function(te){let le=C[te];return void 0===le&&(le=new BE,C[te]=le),le.getHandSpace()},this.setFramebufferScaleFactor=function(te){s=te,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(te){o=te,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(te){c=te},this.getBaseLayer=function(){return null!==f?f:d},this.getBinding=function(){return u},this.getFrame=function(){return _},this.getSession=function(){return n},this.setSession=function(){var te=(0,hr.Z)(function*(le){if(n=le,null!==n){if(g=e.getRenderTarget(),n.addEventListener("select",K),n.addEventListener("selectstart",K),n.addEventListener("selectend",K),n.addEventListener("squeeze",K),n.addEventListener("squeezestart",K),n.addEventListener("squeezeend",K),n.addEventListener("end",q),n.addEventListener("inputsourceschange",Q),!0!==p.xrCompatible&&(yield t.makeXRCompatible()),U=e.getPixelRatio(),e.getSize(S),void 0===n.renderState.layers||!1===e.capabilities.isWebGL2)d=new XRWebGLLayer(n,t,{antialias:void 0!==n.renderState.layers||p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:s}),n.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),m=new Pp(d.framebufferWidth,d.framebufferHeight,{format:Sc,type:Qd,colorSpace:e.outputColorSpace,stencilBuffer:p.stencil});else{let be=null,De=null,Fe=null;p.depth&&(Fe=p.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,be=p.stencil?Eg:Sp,De=p.stencil?Dp:Od);const He={colorFormat:t.RGBA8,depthFormat:Fe,scaleFactor:s};u=new XRWebGLBinding(n,t),f=u.createProjectionLayer(He),n.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),m=new Pp(f.textureWidth,f.textureHeight,{format:Sc,type:Qd,depthTexture:new hI(f.textureWidth,f.textureHeight,De,void 0,void 0,void 0,void 0,void 0,void 0,be),stencilBuffer:p.stencil,colorSpace:e.outputColorSpace,samples:p.antialias?4:0}),e.properties.get(m).__ignoreDepthValues=f.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=yield n.requestReferenceSpace(o),J.setContext(n),J.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(le){return te.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==n)return n.environmentBlendMode};const ie=new Ce,ee=new Ce;function pe(te,le){null===le?te.matrixWorld.copy(te.matrix):te.matrixWorld.multiplyMatrices(le.matrixWorld,te.matrix),te.matrixWorldInverse.copy(te.matrixWorld).invert()}this.updateCamera=function(te){if(null===n)return;z.near=N.near=H.near=te.near,z.far=N.far=H.far=te.far,(W!==z.near||Y!==z.far)&&(n.updateRenderState({depthNear:z.near,depthFar:z.far}),W=z.near,Y=z.far);const le=te.parent,be=z.cameras;pe(z,le);for(let De=0;De<be.length;De++)pe(be[De],le);2===be.length?function he(te,le,be){ie.setFromMatrixPosition(le.matrixWorld),ee.setFromMatrixPosition(be.matrixWorld);const De=ie.distanceTo(ee),Fe=le.projectionMatrix.elements,He=be.projectionMatrix.elements,Je=Fe[14]/(Fe[10]-1),ut=Fe[14]/(Fe[10]+1),bt=(Fe[9]+1)/Fe[5],Se=(Fe[9]-1)/Fe[5],ft=(Fe[8]-1)/Fe[0],lt=(He[8]+1)/He[0],ze=Je*ft,_e=Je*lt,Ct=De/(-ft+lt),vt=Ct*-ft;le.matrixWorld.decompose(te.position,te.quaternion,te.scale),te.translateX(vt),te.translateZ(Ct),te.matrixWorld.compose(te.position,te.quaternion,te.scale),te.matrixWorldInverse.copy(te.matrixWorld).invert();const oe=Je+Ct,ne=ut+Ct;te.projectionMatrix.makePerspective(ze-vt,_e+(De-vt),bt*ut/ne*oe,Se*ut/ne*oe,oe,ne),te.projectionMatrixInverse.copy(te.projectionMatrix).invert()}(z,H,N):z.projectionMatrix.copy(H.projectionMatrix),function ue(te,le,be){null===be?te.matrix.copy(le.matrixWorld):(te.matrix.copy(be.matrixWorld),te.matrix.invert(),te.matrix.multiply(le.matrixWorld)),te.matrix.decompose(te.position,te.quaternion,te.scale),te.updateMatrixWorld(!0),te.projectionMatrix.copy(le.projectionMatrix),te.projectionMatrixInverse.copy(le.projectionMatrixInverse),te.isPerspectiveCamera&&(te.fov=2*Ig*Math.atan(1/te.projectionMatrix.elements[5]),te.zoom=1)}(te,z,le)},this.getCamera=function(){return z},this.getFoveation=function(){if(null!==f||null!==d)return l},this.setFoveation=function(te){l=te,null!==f&&(f.fixedFoveation=te),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=te)};let Be=null;const J=new iI;J.setAnimationLoop(function Le(te,le){if(A=le.getViewerPose(c||a),_=le,null!==A){const be=A.views;null!==d&&(e.setRenderTargetFramebuffer(m,d.framebuffer),e.setRenderTarget(m));let De=!1;be.length!==z.cameras.length&&(z.cameras.length=0,De=!0);for(let Fe=0;Fe<be.length;Fe++){const He=be[Fe];let Je=null;if(null!==d)Je=d.getViewport(He);else{const bt=u.getViewSubImage(f,He);Je=bt.viewport,0===Fe&&(e.setRenderTargetTextures(m,bt.colorTexture,f.ignoreDepthValues?void 0:bt.depthStencilTexture),e.setRenderTarget(m))}let ut=P[Fe];void 0===ut&&(ut=new uo,ut.layers.enable(Fe),ut.viewport=new Rr,P[Fe]=ut),ut.matrix.fromArray(He.transform.matrix),ut.matrix.decompose(ut.position,ut.quaternion,ut.scale),ut.projectionMatrix.fromArray(He.projectionMatrix),ut.projectionMatrixInverse.copy(ut.projectionMatrix).invert(),ut.viewport.set(Je.x,Je.y,Je.width,Je.height),0===Fe&&(z.matrix.copy(ut.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale)),!0===De&&z.cameras.push(ut)}}for(let be=0;be<C.length;be++){const De=B[be],Fe=C[be];null!==De&&void 0!==Fe&&Fe.update(De,le,c||a)}Be&&Be(te,le),le.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:le}),_=null}),this.setAnimationLoop=function(te){Be=te},this.dispose=function(){}}}function HG(r,e){function t(g,m){!0===g.matrixAutoUpdate&&g.updateMatrix(),m.value.copy(g.matrix)}function s(g,m){g.opacity.value=m.opacity,m.color&&g.diffuse.value.copy(m.color),m.emissive&&g.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(g.map.value=m.map,t(m.map,g.mapTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,t(m.alphaMap,g.alphaMapTransform)),m.bumpMap&&(g.bumpMap.value=m.bumpMap,t(m.bumpMap,g.bumpMapTransform),g.bumpScale.value=m.bumpScale,1===m.side&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,t(m.normalMap,g.normalMapTransform),g.normalScale.value.copy(m.normalScale),1===m.side&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,t(m.displacementMap,g.displacementMapTransform),g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap,t(m.emissiveMap,g.emissiveMapTransform)),m.specularMap&&(g.specularMap.value=m.specularMap,t(m.specularMap,g.specularMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest);const C=e.get(m).envMap;if(C&&(g.envMap.value=C,g.flipEnvMap.value=C.isCubeTexture&&!1===C.isRenderTargetTexture?-1:1,g.reflectivity.value=m.reflectivity,g.ior.value=m.ior,g.refractionRatio.value=m.refractionRatio),m.lightMap){g.lightMap.value=m.lightMap;const B=!0===r._useLegacyLights?Math.PI:1;g.lightMapIntensity.value=m.lightMapIntensity*B,t(m.lightMap,g.lightMapTransform)}m.aoMap&&(g.aoMap.value=m.aoMap,g.aoMapIntensity.value=m.aoMapIntensity,t(m.aoMap,g.aoMapTransform))}return{refreshFogUniforms:function i(g,m){m.color.getRGB(g.fogColor.value,tI(r)),m.isFog?(g.fogNear.value=m.near,g.fogFar.value=m.far):m.isFogExp2&&(g.fogDensity.value=m.density)},refreshMaterialUniforms:function n(g,m,C,B,S){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(g,m):m.isMeshToonMaterial?(s(g,m),function u(g,m){m.gradientMap&&(g.gradientMap.value=m.gradientMap)}(g,m)):m.isMeshPhongMaterial?(s(g,m),function A(g,m){g.specular.value.copy(m.specular),g.shininess.value=Math.max(m.shininess,1e-4)}(g,m)):m.isMeshStandardMaterial?(s(g,m),function f(g,m){g.metalness.value=m.metalness,m.metalnessMap&&(g.metalnessMap.value=m.metalnessMap,t(m.metalnessMap,g.metalnessMapTransform)),g.roughness.value=m.roughness,m.roughnessMap&&(g.roughnessMap.value=m.roughnessMap,t(m.roughnessMap,g.roughnessMapTransform)),e.get(m).envMap&&(g.envMapIntensity.value=m.envMapIntensity)}(g,m),m.isMeshPhysicalMaterial&&function d(g,m,C){g.ior.value=m.ior,m.sheen>0&&(g.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),g.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(g.sheenColorMap.value=m.sheenColorMap,t(m.sheenColorMap,g.sheenColorMapTransform)),m.sheenRoughnessMap&&(g.sheenRoughnessMap.value=m.sheenRoughnessMap,t(m.sheenRoughnessMap,g.sheenRoughnessMapTransform))),m.clearcoat>0&&(g.clearcoat.value=m.clearcoat,g.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(g.clearcoatMap.value=m.clearcoatMap,t(m.clearcoatMap,g.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,t(m.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(g.clearcoatNormalMap.value=m.clearcoatNormalMap,t(m.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),1===m.side&&g.clearcoatNormalScale.value.negate())),m.iridescence>0&&(g.iridescence.value=m.iridescence,g.iridescenceIOR.value=m.iridescenceIOR,g.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(g.iridescenceMap.value=m.iridescenceMap,t(m.iridescenceMap,g.iridescenceMapTransform)),m.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=m.iridescenceThicknessMap,t(m.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),m.transmission>0&&(g.transmission.value=m.transmission,g.transmissionSamplerMap.value=C.texture,g.transmissionSamplerSize.value.set(C.width,C.height),m.transmissionMap&&(g.transmissionMap.value=m.transmissionMap,t(m.transmissionMap,g.transmissionMapTransform)),g.thickness.value=m.thickness,m.thicknessMap&&(g.thicknessMap.value=m.thicknessMap,t(m.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=m.attenuationDistance,g.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(g.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(g.anisotropyMap.value=m.anisotropyMap,t(m.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=m.specularIntensity,g.specularColor.value.copy(m.specularColor),m.specularColorMap&&(g.specularColorMap.value=m.specularColorMap,t(m.specularColorMap,g.specularColorMapTransform)),m.specularIntensityMap&&(g.specularIntensityMap.value=m.specularIntensityMap,t(m.specularIntensityMap,g.specularIntensityMapTransform))}(g,m,S)):m.isMeshMatcapMaterial?(s(g,m),function _(g,m){m.matcap&&(g.matcap.value=m.matcap)}(g,m)):m.isMeshDepthMaterial?s(g,m):m.isMeshDistanceMaterial?(s(g,m),function p(g,m){const C=e.get(m).light;g.referencePosition.value.setFromMatrixPosition(C.matrixWorld),g.nearDistance.value=C.shadow.camera.near,g.farDistance.value=C.shadow.camera.far}(g,m)):m.isMeshNormalMaterial?s(g,m):m.isLineBasicMaterial?(function a(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,m.map&&(g.map.value=m.map,t(m.map,g.mapTransform))}(g,m),m.isLineDashedMaterial&&function o(g,m){g.dashSize.value=m.dashSize,g.totalSize.value=m.dashSize+m.gapSize,g.scale.value=m.scale}(g,m)):m.isPointsMaterial?function l(g,m,C,B){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.size.value=m.size*C,g.scale.value=.5*B,m.map&&(g.map.value=m.map,t(m.map,g.uvTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,t(m.alphaMap,g.alphaMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest)}(g,m,C,B):m.isSpriteMaterial?function c(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.rotation.value=m.rotation,m.map&&(g.map.value=m.map,t(m.map,g.mapTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,t(m.alphaMap,g.alphaMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest)}(g,m):m.isShadowMaterial?(g.color.value.copy(m.color),g.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}}}function zG(r,e,t,i){let n={},s={},a=[];const o=t.isWebGL2?r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS):0;function d(C,B,S,U){const H=C.value,N=B+"_"+S;if(void 0===U[N])return U[N]="number"==typeof H||"boolean"==typeof H?H:H.clone(),!0;{const P=U[N];if("number"==typeof H||"boolean"==typeof H){if(P!==H)return U[N]=H,!0}else if(!1===P.equals(H))return P.copy(H),!0}return!1}function p(C){const B={boundary:0,storage:0};return"number"==typeof C||"boolean"==typeof C?(B.boundary=4,B.storage=4):C.isVector2?(B.boundary=8,B.storage=8):C.isVector3||C.isColor?(B.boundary=16,B.storage=12):C.isVector4?(B.boundary=16,B.storage=16):C.isMatrix3?(B.boundary=48,B.storage=48):C.isMatrix4?(B.boundary=64,B.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),B}function g(C){const B=C.target;B.removeEventListener("dispose",g);const S=a.indexOf(B.__bindingPointIndex);a.splice(S,1),r.deleteBuffer(n[B.id]),delete n[B.id],delete s[B.id]}return{bind:function l(C,B){i.uniformBlockBinding(C,B.program)},update:function c(C,B){let S=n[C.id];void 0===S&&(function _(C){const B=C.uniforms;let S=0;for(let N=0,P=B.length;N<P;N++){const z=Array.isArray(B[N])?B[N]:[B[N]];for(let W=0,Y=z.length;W<Y;W++){const K=z[W],q=Array.isArray(K.value)?K.value:[K.value];for(let Q=0,ie=q.length;Q<ie;Q++){const he=p(q[Q]),pe=S%16;0!==pe&&16-pe<he.boundary&&(S+=16-pe),K.__data=new Float32Array(he.storage/Float32Array.BYTES_PER_ELEMENT),K.__offset=S,S+=he.storage}}}const H=S%16;H>0&&(S+=16-H),C.__size=S,C.__cache={}}(C),S=function A(C){const B=function u(){for(let C=0;C<o;C++)if(-1===a.indexOf(C))return a.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();C.__bindingPointIndex=B;const S=r.createBuffer(),U=C.__size,H=C.usage;return r.bindBuffer(r.UNIFORM_BUFFER,S),r.bufferData(r.UNIFORM_BUFFER,U,H),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,B,S),S}(C),n[C.id]=S,C.addEventListener("dispose",g)),i.updateUBOMapping(C,B.program);const H=e.render.frame;s[C.id]!==H&&(function f(C){const S=C.uniforms,U=C.__cache;r.bindBuffer(r.UNIFORM_BUFFER,n[C.id]);for(let H=0,N=S.length;H<N;H++){const P=Array.isArray(S[H])?S[H]:[S[H]];for(let z=0,W=P.length;z<W;z++){const Y=P[z];if(!0===d(Y,H,z,U)){const K=Y.__offset,q=Array.isArray(Y.value)?Y.value:[Y.value];let Q=0;for(let ie=0;ie<q.length;ie++){const ee=q[ie],he=p(ee);"number"==typeof ee||"boolean"==typeof ee?(Y.__data[0]=ee,r.bufferSubData(r.UNIFORM_BUFFER,K+Q,Y.__data)):ee.isMatrix3?(Y.__data[0]=ee.elements[0],Y.__data[1]=ee.elements[1],Y.__data[2]=ee.elements[2],Y.__data[3]=0,Y.__data[4]=ee.elements[3],Y.__data[5]=ee.elements[4],Y.__data[6]=ee.elements[5],Y.__data[7]=0,Y.__data[8]=ee.elements[6],Y.__data[9]=ee.elements[7],Y.__data[10]=ee.elements[8],Y.__data[11]=0):(ee.toArray(Y.__data,Q),Q+=he.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,K,Y.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}(C),s[C.id]=H)},dispose:function m(){for(const C in n)r.deleteBuffer(n[C]);a=[],n={},s={}}}}class kI{constructor(e={}){const{canvas:t=w3(),context:i=null,depth:n=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:A="default",failIfMajorPerformanceCaveat:u=!1}=e;let f;this.isWebGLRenderer=!0,f=null!==i?i.getContextAttributes().alpha:a;const d=new Uint32Array(4),_=new Int32Array(4);let p=null,g=null;const m=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=cs,this._useLegacyLights=!1,this.toneMapping=Rd,this.toneMappingExposure=1;const B=this;let S=!1,U=0,H=0,N=null,P=-1,z=null;const W=new Rr,Y=new Rr;let K=null;const q=new mi(0);let Q=0,ie=t.width,ee=t.height,he=1,pe=null,ue=null;const Be=new Rr(0,0,ie,ee),Le=new Rr(0,0,ie,ee);let J=!1;const te=new Oy;let le=!1,be=!1,De=null;const Fe=new Qi,He=new Ut,Je=new Ce,ut={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function bt(){return null===N?he:1}let lt,ze,_e,Ct,vt,oe,ne,Ne,ot,gt,yt,$t,Ht,ei,xi,oi,Tt,Vt,Re,kt,ai,Ot,yi,Bn,Se=i;function ft(Te,ct){for(let Bt=0;Bt<Te.length;Bt++){const xt=t.getContext(Te[Bt],ct);if(null!==xt)return xt}return null}try{const Te={alpha:!0,depth:n,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:A,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r160"),t.addEventListener("webglcontextlost",Zt,!1),t.addEventListener("webglcontextrestored",Ve,!1),t.addEventListener("webglcontextcreationerror",si,!1),null===Se){const ct=["webgl2","webgl","experimental-webgl"];if(!0===B.isWebGL1Renderer&&ct.shift(),Se=ft(ct,Te),null===Se)throw ft(ct)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Se instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Se.getShaderPrecisionFormat&&(Se.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Te){throw console.error("THREE.WebGLRenderer: "+Te.message),Te}function ji(){lt=new ez(Se),ze=new JH(Se,lt,e),lt.init(ze),Ot=new UG(Se,lt,ze),_e=new PG(Se,lt,ze),Ct=new nz(Se),vt=new xG,oe=new RG(Se,lt,_e,vt,ze,Ot,Ct),ne=new ZH(B),Ne=new $H(B),ot=new W3(Se,ze),yi=new VH(Se,lt,ot,ze),gt=new tz(Se,ot,Ct,yi),yt=new oz(Se,gt,ot,Ct),Re=new az(Se,ze,oe),oi=new KH(vt),$t=new yG(B,ne,Ne,lt,ze,yi,oi),Ht=new HG(B,vt),ei=new CG,xi=new IG(lt,ze),Vt=new WH(B,ne,Ne,_e,yt,f,l),Tt=new LG(B,yt,ze),Bn=new zG(Se,Ct,ze,_e),kt=new jH(Se,lt,Ct,ze),ai=new iz(Se,lt,Ct,ze),Ct.programs=$t.programs,B.capabilities=ze,B.extensions=lt,B.properties=vt,B.renderLists=ei,B.shadowMap=Tt,B.state=_e,B.info=Ct}ji();const Fn=new NG(B,Se);function Zt(Te){Te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Ve(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const Te=Ct.autoReset,ct=Tt.enabled,Bt=Tt.autoUpdate,Mt=Tt.needsUpdate,xt=Tt.type;ji(),Ct.autoReset=Te,Tt.enabled=ct,Tt.autoUpdate=Bt,Tt.needsUpdate=Mt,Tt.type=xt}function si(Te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Te.statusMessage)}function Jt(Te){const ct=Te.target;ct.removeEventListener("dispose",Jt),function ri(Te){(function gi(Te){const ct=vt.get(Te).programs;void 0!==ct&&(ct.forEach(function(Bt){$t.releaseProgram(Bt)}),Te.isShaderMaterial&&$t.releaseShaderCache(Te))})(Te),vt.remove(Te)}(ct)}function sr(Te,ct,Bt){!0===Te.transparent&&2===Te.side&&!1===Te.forceSinglePass?(Te.side=1,Te.needsUpdate=!0,Zh(Te,ct,Bt),Te.side=0,Te.needsUpdate=!0,Zh(Te,ct,Bt),Te.side=2):Zh(Te,ct,Bt)}this.xr=Fn,this.getContext=function(){return Se},this.getContextAttributes=function(){return Se.getContextAttributes()},this.forceContextLoss=function(){const Te=lt.get("WEBGL_lose_context");Te&&Te.loseContext()},this.forceContextRestore=function(){const Te=lt.get("WEBGL_lose_context");Te&&Te.restoreContext()},this.getPixelRatio=function(){return he},this.setPixelRatio=function(Te){void 0!==Te&&(he=Te,this.setSize(ie,ee,!1))},this.getSize=function(Te){return Te.set(ie,ee)},this.setSize=function(Te,ct,Bt=!0){Fn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(ie=Te,ee=ct,t.width=Math.floor(Te*he),t.height=Math.floor(ct*he),!0===Bt&&(t.style.width=Te+"px",t.style.height=ct+"px"),this.setViewport(0,0,Te,ct))},this.getDrawingBufferSize=function(Te){return Te.set(ie*he,ee*he).floor()},this.setDrawingBufferSize=function(Te,ct,Bt){ie=Te,ee=ct,he=Bt,t.width=Math.floor(Te*Bt),t.height=Math.floor(ct*Bt),this.setViewport(0,0,Te,ct)},this.getCurrentViewport=function(Te){return Te.copy(W)},this.getViewport=function(Te){return Te.copy(Be)},this.setViewport=function(Te,ct,Bt,Mt){Te.isVector4?Be.set(Te.x,Te.y,Te.z,Te.w):Be.set(Te,ct,Bt,Mt),_e.viewport(W.copy(Be).multiplyScalar(he).floor())},this.getScissor=function(Te){return Te.copy(Le)},this.setScissor=function(Te,ct,Bt,Mt){Te.isVector4?Le.set(Te.x,Te.y,Te.z,Te.w):Le.set(Te,ct,Bt,Mt),_e.scissor(Y.copy(Le).multiplyScalar(he).floor())},this.getScissorTest=function(){return J},this.setScissorTest=function(Te){_e.setScissorTest(J=Te)},this.setOpaqueSort=function(Te){pe=Te},this.setTransparentSort=function(Te){ue=Te},this.getClearColor=function(Te){return Te.copy(Vt.getClearColor())},this.setClearColor=function(){Vt.setClearColor.apply(Vt,arguments)},this.getClearAlpha=function(){return Vt.getClearAlpha()},this.setClearAlpha=function(){Vt.setClearAlpha.apply(Vt,arguments)},this.clear=function(Te=!0,ct=!0,Bt=!0){let Mt=0;if(Te){let xt=!1;if(null!==N){const Pi=N.texture.format;xt=1033===Pi||1031===Pi||1029===Pi}if(xt){const Pi=N.texture.type,$i=Pi===Qd||Pi===Od||1012===Pi||Pi===Dp||1017===Pi||1018===Pi,dn=Vt.getClearColor(),En=Vt.getClearAlpha(),Vn=dn.r,Mn=dn.g,Rn=dn.b;$i?(d[0]=Vn,d[1]=Mn,d[2]=Rn,d[3]=En,Se.clearBufferuiv(Se.COLOR,0,d)):(_[0]=Vn,_[1]=Mn,_[2]=Rn,_[3]=En,Se.clearBufferiv(Se.COLOR,0,_))}else Mt|=Se.COLOR_BUFFER_BIT}ct&&(Mt|=Se.DEPTH_BUFFER_BIT),Bt&&(Mt|=Se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Se.clear(Mt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Zt,!1),t.removeEventListener("webglcontextrestored",Ve,!1),t.removeEventListener("webglcontextcreationerror",si,!1),ei.dispose(),xi.dispose(),vt.dispose(),ne.dispose(),Ne.dispose(),yt.dispose(),yi.dispose(),Bn.dispose(),$t.dispose(),Fn.dispose(),Fn.removeEventListener("sessionstart",bs),Fn.removeEventListener("sessionend",Ii),De&&(De.dispose(),De=null),us.stop()},this.renderBufferDirect=function(Te,ct,Bt,Mt,xt,Pi){null===ct&&(ct=ut);const $i=xt.isMesh&&xt.matrixWorld.determinant()<0,dn=function Rc(Te,ct,Bt,Mt,xt){!0!==ct.isScene&&(ct=ut),oe.resetTextureUnits();const Pi=ct.fog,dn=null===N?B.outputColorSpace:!0===N.isXRRenderTarget?N.texture.colorSpace:Do,En=(Mt.isMeshStandardMaterial?Ne:ne).get(Mt.envMap||(Mt.isMeshStandardMaterial?ct.environment:null)),Vn=!0===Mt.vertexColors&&!!Bt.attributes.color&&4===Bt.attributes.color.itemSize,Mn=!!Bt.attributes.tangent&&(!!Mt.normalMap||Mt.anisotropy>0),Rn=!!Bt.morphAttributes.position,Ps=!!Bt.morphAttributes.normal,mo=!!Bt.morphAttributes.color;let Aa=Rd;Mt.toneMapped&&(null===N||!0===N.isXRRenderTarget)&&(Aa=B.toneMapping);const lc=Bt.morphAttributes.position||Bt.morphAttributes.normal||Bt.morphAttributes.color,ds=void 0!==lc?lc.length:0,Un=vt.get(Mt),am=g.state.lights;!0!==le||!0!==be&&Te===z||oi.setState(Mt,Te,Te===z&&Mt.id===P);let Gn=!1;Mt.version===Un.__version?(Un.needsLights&&Un.lightsStateVersion!==am.state.version||Un.outputColorSpace!==dn||xt.isBatchedMesh&&!1===Un.batching||!xt.isBatchedMesh&&!0===Un.batching||xt.isInstancedMesh&&!1===Un.instancing||!xt.isInstancedMesh&&!0===Un.instancing||xt.isSkinnedMesh&&!1===Un.skinning||!xt.isSkinnedMesh&&!0===Un.skinning||xt.isInstancedMesh&&!0===Un.instancingColor&&null===xt.instanceColor||xt.isInstancedMesh&&!1===Un.instancingColor&&null!==xt.instanceColor||Un.envMap!==En||!0===Mt.fog&&Un.fog!==Pi||void 0!==Un.numClippingPlanes&&(Un.numClippingPlanes!==oi.numPlanes||Un.numIntersection!==oi.numIntersection)||Un.vertexAlphas!==Vn||Un.vertexTangents!==Mn||Un.morphTargets!==Rn||Un.morphNormals!==Ps||Un.morphColors!==mo||Un.toneMapping!==Aa||!0===ze.isWebGL2&&Un.morphTargetsCount!==ds)&&(Gn=!0):(Gn=!0,Un.__version=Mt.version);let ph=Un.currentProgram;!0===Gn&&(ph=Zh(Mt,ct,xt));let om=!1,jA=!1,Gu=!1;const Za=ph.getUniforms(),go=Un.uniforms;if(_e.useProgram(ph.program)&&(om=!0,jA=!0,Gu=!0),Mt.id!==P&&(P=Mt.id,jA=!0),om||z!==Te){Za.setValue(Se,"projectionMatrix",Te.projectionMatrix),Za.setValue(Se,"viewMatrix",Te.matrixWorldInverse);const fs=Za.map.cameraPosition;void 0!==fs&&fs.setValue(Se,Je.setFromMatrixPosition(Te.matrixWorld)),ze.logarithmicDepthBuffer&&Za.setValue(Se,"logDepthBufFC",2/(Math.log(Te.far+1)/Math.LN2)),(Mt.isMeshPhongMaterial||Mt.isMeshToonMaterial||Mt.isMeshLambertMaterial||Mt.isMeshBasicMaterial||Mt.isMeshStandardMaterial||Mt.isShaderMaterial)&&Za.setValue(Se,"isOrthographic",!0===Te.isOrthographicCamera),z!==Te&&(z=Te,jA=!0,Gu=!0)}if(xt.isSkinnedMesh){Za.setOptional(Se,xt,"bindMatrix"),Za.setOptional(Se,xt,"bindMatrixInverse");const fs=xt.skeleton;fs&&(ze.floatVertexTextures?(null===fs.boneTexture&&fs.computeBoneTexture(),Za.setValue(Se,"boneTexture",fs.boneTexture,oe)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}xt.isBatchedMesh&&(Za.setOptional(Se,xt,"batchingTexture"),Za.setValue(Se,"batchingTexture",xt._matricesTexture,oe));const JA=Bt.morphAttributes;if((void 0!==JA.position||void 0!==JA.normal||void 0!==JA.color&&!0===ze.isWebGL2)&&Re.update(xt,Bt,ph),(jA||Un.receiveShadow!==xt.receiveShadow)&&(Un.receiveShadow=xt.receiveShadow,Za.setValue(Se,"receiveShadow",xt.receiveShadow)),Mt.isMeshGouraudMaterial&&null!==Mt.envMap&&(go.envMap.value=En,go.flipEnvMap.value=En.isCubeTexture&&!1===En.isRenderTargetTexture?-1:1),jA&&(Za.setValue(Se,"toneMappingExposure",B.toneMappingExposure),Un.needsLights&&function Uc(Te,ct){Te.ambientLightColor.needsUpdate=ct,Te.lightProbe.needsUpdate=ct,Te.directionalLights.needsUpdate=ct,Te.directionalLightShadows.needsUpdate=ct,Te.pointLights.needsUpdate=ct,Te.pointLightShadows.needsUpdate=ct,Te.spotLights.needsUpdate=ct,Te.spotLightShadows.needsUpdate=ct,Te.rectAreaLights.needsUpdate=ct,Te.hemisphereLights.needsUpdate=ct}(go,Gu),Pi&&!0===Mt.fog&&Ht.refreshFogUniforms(go,Pi),Ht.refreshMaterialUniforms(go,Mt,he,ee,De),Yy.upload(Se,dh(Un),go,oe)),Mt.isShaderMaterial&&!0===Mt.uniformsNeedUpdate&&(Yy.upload(Se,dh(Un),go,oe),Mt.uniformsNeedUpdate=!1),Mt.isSpriteMaterial&&Za.setValue(Se,"center",xt.center),Za.setValue(Se,"modelViewMatrix",xt.modelViewMatrix),Za.setValue(Se,"normalMatrix",xt.normalMatrix),Za.setValue(Se,"modelMatrix",xt.matrixWorld),Mt.isShaderMaterial||Mt.isRawShaderMaterial){const fs=Mt.uniformsGroups;for(let Yu=0,O_=fs.length;Yu<O_;Yu++)if(ze.isWebGL2){const N_=fs[Yu];Bn.update(N_,ph),Bn.bind(N_,ph)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ph}(Te,ct,Bt,Mt,xt);_e.setMaterial(Mt,$i);let En=Bt.index,Vn=1;if(!0===Mt.wireframe){if(En=gt.getWireframeAttribute(Bt),void 0===En)return;Vn=2}const Mn=Bt.drawRange,Rn=Bt.attributes.position;let Ps=Mn.start*Vn,mo=(Mn.start+Mn.count)*Vn;null!==Pi&&(Ps=Math.max(Ps,Pi.start*Vn),mo=Math.min(mo,(Pi.start+Pi.count)*Vn)),null!==En?(Ps=Math.max(Ps,0),mo=Math.min(mo,En.count)):null!=Rn&&(Ps=Math.max(Ps,0),mo=Math.min(mo,Rn.count));const Aa=mo-Ps;if(Aa<0||Aa===1/0)return;yi.setup(xt,Mt,dn,Bt,En);let lc,ds=kt;if(null!==En&&(lc=ot.get(En),ds=ai,ds.setIndex(lc)),xt.isMesh)!0===Mt.wireframe?(_e.setLineWidth(Mt.wireframeLinewidth*bt()),ds.setMode(Se.LINES)):ds.setMode(Se.TRIANGLES);else if(xt.isLine){let Un=Mt.linewidth;void 0===Un&&(Un=1),_e.setLineWidth(Un*bt()),ds.setMode(xt.isLineSegments?Se.LINES:xt.isLineLoop?Se.LINE_LOOP:Se.LINE_STRIP)}else xt.isPoints?ds.setMode(Se.POINTS):xt.isSprite&&ds.setMode(Se.TRIANGLES);if(xt.isBatchedMesh)ds.renderMultiDraw(xt._multiDrawStarts,xt._multiDrawCounts,xt._multiDrawCount);else if(xt.isInstancedMesh)ds.renderInstances(Ps,Aa,xt.count);else if(Bt.isInstancedBufferGeometry){const am=Math.min(Bt.instanceCount,void 0!==Bt._maxInstanceCount?Bt._maxInstanceCount:1/0);ds.renderInstances(Ps,Aa,am)}else ds.render(Ps,Aa)},this.compile=function(Te,ct,Bt=null){null===Bt&&(Bt=Te),g=xi.get(Bt),g.init(),C.push(g),Bt.traverseVisible(function(xt){xt.isLight&&xt.layers.test(ct.layers)&&(g.pushLight(xt),xt.castShadow&&g.pushShadow(xt))}),Te!==Bt&&Te.traverseVisible(function(xt){xt.isLight&&xt.layers.test(ct.layers)&&(g.pushLight(xt),xt.castShadow&&g.pushShadow(xt))}),g.setupLights(B._useLegacyLights);const Mt=new Set;return Te.traverse(function(xt){const Pi=xt.material;if(Pi)if(Array.isArray(Pi))for(let $i=0;$i<Pi.length;$i++){const dn=Pi[$i];sr(dn,Bt,xt),Mt.add(dn)}else sr(Pi,Bt,xt),Mt.add(Pi)}),C.pop(),g=null,Mt},this.compileAsync=function(Te,ct,Bt=null){const Mt=this.compile(Te,ct,Bt);return new Promise(xt=>{function Pi(){Mt.forEach(function($i){vt.get($i).currentProgram.isReady()&&Mt.delete($i)}),0!==Mt.size?setTimeout(Pi,10):xt(Te)}null!==lt.get("KHR_parallel_shader_compile")?Pi():setTimeout(Pi,10)})};let Cn=null;function bs(){us.stop()}function Ii(){us.start()}const us=new iI;function Ta(Te,ct,Bt,Mt){if(!1===Te.visible)return;if(Te.layers.test(ct.layers))if(Te.isGroup)Bt=Te.renderOrder;else if(Te.isLOD)!0===Te.autoUpdate&&Te.update(ct);else if(Te.isLight)g.pushLight(Te),Te.castShadow&&g.pushShadow(Te);else if(Te.isSprite){if(!Te.frustumCulled||te.intersectsSprite(Te)){Mt&&Je.setFromMatrixPosition(Te.matrixWorld).applyMatrix4(Fe);const $i=yt.update(Te),dn=Te.material;dn.visible&&p.push(Te,$i,dn,Bt,Je.z,null)}}else if((Te.isMesh||Te.isLine||Te.isPoints)&&(!Te.frustumCulled||te.intersectsObject(Te))){const $i=yt.update(Te),dn=Te.material;if(Mt&&(void 0!==Te.boundingSphere?(null===Te.boundingSphere&&Te.computeBoundingSphere(),Je.copy(Te.boundingSphere.center)):(null===$i.boundingSphere&&$i.computeBoundingSphere(),Je.copy($i.boundingSphere.center)),Je.applyMatrix4(Te.matrixWorld).applyMatrix4(Fe)),Array.isArray(dn)){const En=$i.groups;for(let Vn=0,Mn=En.length;Vn<Mn;Vn++){const Rn=En[Vn],Ps=dn[Rn.materialIndex];Ps&&Ps.visible&&p.push(Te,$i,Ps,Bt,Je.z,Rn)}}else dn.visible&&p.push(Te,$i,dn,Bt,Je.z,null)}const Pi=Te.children;for(let $i=0,dn=Pi.length;$i<dn;$i++)Ta(Pi[$i],ct,Bt,Mt)}function Zo(Te,ct,Bt,Mt){const xt=Te.opaque,Pi=Te.transmissive,$i=Te.transparent;g.setupLightsView(Bt),!0===le&&oi.setGlobalState(B.clippingPlanes,Bt),Pi.length>0&&function Da(Te,ct,Bt,Mt){if(null!==(!0===Bt.isScene?Bt.overrideMaterial:null))return;const Pi=ze.isWebGL2;null===De&&(De=new Pp(1,1,{generateMipmaps:!0,type:lt.has("EXT_color_buffer_half_float")?Sv:Qd,minFilter:Fu,samples:Pi?4:0})),B.getDrawingBufferSize(He),Pi?De.setSize(He.x,He.y):De.setSize(gy(He.x),gy(He.y));const $i=B.getRenderTarget();B.setRenderTarget(De),B.getClearColor(q),Q=B.getClearAlpha(),Q<1&&B.setClearColor(16777215,.5),B.clear();const dn=B.toneMapping;B.toneMapping=Rd,Ls(Te,Bt,Mt),oe.updateMultisampleRenderTarget(De),oe.updateRenderTargetMipmap(De);let En=!1;for(let Vn=0,Mn=ct.length;Vn<Mn;Vn++){const Rn=ct[Vn],Ps=Rn.object,mo=Rn.geometry,Aa=Rn.material,lc=Rn.group;if(2===Aa.side&&Ps.layers.test(Mt.layers)){const ds=Aa.side;Aa.side=1,Aa.needsUpdate=!0,xl(Ps,Bt,Mt,mo,Aa,lc),Aa.side=ds,Aa.needsUpdate=!0,En=!0}}!0===En&&(oe.updateMultisampleRenderTarget(De),oe.updateRenderTargetMipmap(De)),B.setRenderTarget($i),B.setClearColor(q,Q),B.toneMapping=dn}(xt,Pi,ct,Bt),Mt&&_e.viewport(W.copy(Mt)),xt.length>0&&Ls(xt,ct,Bt),Pi.length>0&&Ls(Pi,ct,Bt),$i.length>0&&Ls($i,ct,Bt),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1)}function Ls(Te,ct,Bt){const Mt=!0===ct.isScene?ct.overrideMaterial:null;for(let xt=0,Pi=Te.length;xt<Pi;xt++){const $i=Te[xt],dn=$i.object,En=$i.geometry,Vn=null===Mt?$i.material:Mt,Mn=$i.group;dn.layers.test(Bt.layers)&&xl(dn,ct,Bt,En,Vn,Mn)}}function xl(Te,ct,Bt,Mt,xt,Pi){Te.onBeforeRender(B,ct,Bt,Mt,xt,Pi),Te.modelViewMatrix.multiplyMatrices(Bt.matrixWorldInverse,Te.matrixWorld),Te.normalMatrix.getNormalMatrix(Te.modelViewMatrix),xt.onBeforeRender(B,ct,Bt,Mt,Te,Pi),!0===xt.transparent&&2===xt.side&&!1===xt.forceSinglePass?(xt.side=1,xt.needsUpdate=!0,B.renderBufferDirect(Bt,ct,Mt,xt,Te,Pi),xt.side=0,xt.needsUpdate=!0,B.renderBufferDirect(Bt,ct,Mt,xt,Te,Pi),xt.side=2):B.renderBufferDirect(Bt,ct,Mt,xt,Te,Pi),Te.onAfterRender(B,ct,Bt,Mt,xt,Pi)}function Zh(Te,ct,Bt){!0!==ct.isScene&&(ct=ut);const Mt=vt.get(Te),xt=g.state.lights,$i=xt.state.version,dn=$t.getParameters(Te,xt.state,g.state.shadowsArray,ct,Bt),En=$t.getProgramCacheKey(dn);let Vn=Mt.programs;Mt.environment=Te.isMeshStandardMaterial?ct.environment:null,Mt.fog=ct.fog,Mt.envMap=(Te.isMeshStandardMaterial?Ne:ne).get(Te.envMap||Mt.environment),void 0===Vn&&(Te.addEventListener("dispose",Jt),Vn=new Map,Mt.programs=Vn);let Mn=Vn.get(En);if(void 0!==Mn){if(Mt.currentProgram===Mn&&Mt.lightsStateVersion===$i)return oc(Te,dn),Mn}else dn.uniforms=$t.getUniforms(Te),Te.onBuild(Bt,dn,B),Te.onBeforeCompile(dn,B),Mn=$t.acquireProgram(dn,En),Vn.set(En,Mn),Mt.uniforms=dn.uniforms;const Rn=Mt.uniforms;return(!Te.isShaderMaterial&&!Te.isRawShaderMaterial||!0===Te.clipping)&&(Rn.clippingPlanes=oi.uniform),oc(Te,dn),Mt.needsLights=function fh(Te){return Te.isMeshLambertMaterial||Te.isMeshToonMaterial||Te.isMeshPhongMaterial||Te.isMeshStandardMaterial||Te.isShadowMaterial||Te.isShaderMaterial&&!0===Te.lights}(Te),Mt.lightsStateVersion=$i,Mt.needsLights&&(Rn.ambientLightColor.value=xt.state.ambient,Rn.lightProbe.value=xt.state.probe,Rn.directionalLights.value=xt.state.directional,Rn.directionalLightShadows.value=xt.state.directionalShadow,Rn.spotLights.value=xt.state.spot,Rn.spotLightShadows.value=xt.state.spotShadow,Rn.rectAreaLights.value=xt.state.rectArea,Rn.ltc_1.value=xt.state.rectAreaLTC1,Rn.ltc_2.value=xt.state.rectAreaLTC2,Rn.pointLights.value=xt.state.point,Rn.pointLightShadows.value=xt.state.pointShadow,Rn.hemisphereLights.value=xt.state.hemi,Rn.directionalShadowMap.value=xt.state.directionalShadowMap,Rn.directionalShadowMatrix.value=xt.state.directionalShadowMatrix,Rn.spotShadowMap.value=xt.state.spotShadowMap,Rn.spotLightMatrix.value=xt.state.spotLightMatrix,Rn.spotLightMap.value=xt.state.spotLightMap,Rn.pointShadowMap.value=xt.state.pointShadowMap,Rn.pointShadowMatrix.value=xt.state.pointShadowMatrix),Mt.currentProgram=Mn,Mt.uniformsList=null,Mn}function dh(Te){if(null===Te.uniformsList){const ct=Te.currentProgram.getUniforms();Te.uniformsList=Yy.seqWithValue(ct.seq,Te.uniforms)}return Te.uniformsList}function oc(Te,ct){const Bt=vt.get(Te);Bt.outputColorSpace=ct.outputColorSpace,Bt.batching=ct.batching,Bt.instancing=ct.instancing,Bt.instancingColor=ct.instancingColor,Bt.skinning=ct.skinning,Bt.morphTargets=ct.morphTargets,Bt.morphNormals=ct.morphNormals,Bt.morphColors=ct.morphColors,Bt.morphTargetsCount=ct.morphTargetsCount,Bt.numClippingPlanes=ct.numClippingPlanes,Bt.numIntersection=ct.numClipIntersection,Bt.vertexAlphas=ct.vertexAlphas,Bt.vertexTangents=ct.vertexTangents,Bt.toneMapping=ct.toneMapping}us.setAnimationLoop(function Zr(Te){Cn&&Cn(Te)}),typeof self<"u"&&us.setContext(self),this.setAnimationLoop=function(Te){Cn=Te,Fn.setAnimationLoop(Te),null===Te?us.stop():us.start()},Fn.addEventListener("sessionstart",bs),Fn.addEventListener("sessionend",Ii),this.render=function(Te,ct){if(void 0===ct||!0===ct.isCamera){if(!0!==S){if(!0===Te.matrixWorldAutoUpdate&&Te.updateMatrixWorld(),null===ct.parent&&!0===ct.matrixWorldAutoUpdate&&ct.updateMatrixWorld(),!0===Fn.enabled&&!0===Fn.isPresenting&&(!0===Fn.cameraAutoUpdate&&Fn.updateCamera(ct),ct=Fn.getCamera()),!0===Te.isScene&&Te.onBeforeRender(B,Te,ct,N),g=xi.get(Te,C.length),g.init(),C.push(g),Fe.multiplyMatrices(ct.projectionMatrix,ct.matrixWorldInverse),te.setFromProjectionMatrix(Fe),be=this.localClippingEnabled,le=oi.init(this.clippingPlanes,be),p=ei.get(Te,m.length),p.init(),m.push(p),Ta(Te,ct,0,B.sortObjects),p.finish(),!0===B.sortObjects&&p.sort(pe,ue),this.info.render.frame++,!0===le&&oi.beginShadows(),Tt.render(g.state.shadowsArray,Te,ct),!0===le&&oi.endShadows(),!0===this.info.autoReset&&this.info.reset(),Vt.render(p,Te),g.setupLights(B._useLegacyLights),ct.isArrayCamera){const Mt=ct.cameras;for(let xt=0,Pi=Mt.length;xt<Pi;xt++){const $i=Mt[xt];Zo(p,Te,$i,$i.viewport)}}else Zo(p,Te,ct);null!==N&&(oe.updateMultisampleRenderTarget(N),oe.updateRenderTargetMipmap(N)),!0===Te.isScene&&Te.onAfterRender(B,Te,ct),yi.resetDefaultState(),P=-1,z=null,C.pop(),g=C.length>0?C[C.length-1]:null,m.pop(),p=m.length>0?m[m.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return H},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(Te,ct,Bt){vt.get(Te.texture).__webglTexture=ct,vt.get(Te.depthTexture).__webglTexture=Bt;const Mt=vt.get(Te);Mt.__hasExternalTextures=!0,Mt.__hasExternalTextures&&(Mt.__autoAllocateDepthBuffer=void 0===Bt,Mt.__autoAllocateDepthBuffer||!0===lt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Mt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Te,ct){const Bt=vt.get(Te);Bt.__webglFramebuffer=ct,Bt.__useDefaultFramebuffer=void 0===ct},this.setRenderTarget=function(Te,ct=0,Bt=0){N=Te,U=ct,H=Bt;let Mt=!0,xt=null,Pi=!1,$i=!1;if(Te){const En=vt.get(Te);void 0!==En.__useDefaultFramebuffer?(_e.bindFramebuffer(Se.FRAMEBUFFER,null),Mt=!1):void 0===En.__webglFramebuffer?oe.setupRenderTarget(Te):En.__hasExternalTextures&&oe.rebindTextures(Te,vt.get(Te.texture).__webglTexture,vt.get(Te.depthTexture).__webglTexture);const Vn=Te.texture;(Vn.isData3DTexture||Vn.isDataArrayTexture||Vn.isCompressedArrayTexture)&&($i=!0);const Mn=vt.get(Te).__webglFramebuffer;Te.isWebGLCubeRenderTarget?(xt=Array.isArray(Mn[ct])?Mn[ct][Bt]:Mn[ct],Pi=!0):xt=ze.isWebGL2&&Te.samples>0&&!1===oe.useMultisampledRTT(Te)?vt.get(Te).__webglMultisampledFramebuffer:Array.isArray(Mn)?Mn[Bt]:Mn,W.copy(Te.viewport),Y.copy(Te.scissor),K=Te.scissorTest}else W.copy(Be).multiplyScalar(he).floor(),Y.copy(Le).multiplyScalar(he).floor(),K=J;if(_e.bindFramebuffer(Se.FRAMEBUFFER,xt)&&ze.drawBuffers&&Mt&&_e.drawBuffers(Te,xt),_e.viewport(W),_e.scissor(Y),_e.setScissorTest(K),Pi){const En=vt.get(Te.texture);Se.framebufferTexture2D(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_CUBE_MAP_POSITIVE_X+ct,En.__webglTexture,Bt)}else if($i){const En=vt.get(Te.texture);Se.framebufferTextureLayer(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,En.__webglTexture,Bt||0,ct||0)}P=-1},this.readRenderTargetPixels=function(Te,ct,Bt,Mt,xt,Pi,$i){if(!Te||!Te.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let dn=vt.get(Te).__webglFramebuffer;if(Te.isWebGLCubeRenderTarget&&void 0!==$i&&(dn=dn[$i]),dn){_e.bindFramebuffer(Se.FRAMEBUFFER,dn);try{const En=Te.texture,Vn=En.format,Mn=En.type;if(Vn!==Sc&&Ot.convert(Vn)!==Se.getParameter(Se.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Rn=Mn===Sv&&(lt.has("EXT_color_buffer_half_float")||ze.isWebGL2&&lt.has("EXT_color_buffer_float"));if(!(Mn===Qd||Ot.convert(Mn)===Se.getParameter(Se.IMPLEMENTATION_COLOR_READ_TYPE)||Mn===LA&&(ze.isWebGL2||lt.has("OES_texture_float")||lt.has("WEBGL_color_buffer_float"))||Rn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");ct>=0&&ct<=Te.width-Mt&&Bt>=0&&Bt<=Te.height-xt&&Se.readPixels(ct,Bt,Mt,xt,Ot.convert(Vn),Ot.convert(Mn),Pi)}finally{const En=null!==N?vt.get(N).__webglFramebuffer:null;_e.bindFramebuffer(Se.FRAMEBUFFER,En)}}},this.copyFramebufferToTexture=function(Te,ct,Bt=0){const Mt=Math.pow(2,-Bt),xt=Math.floor(ct.image.width*Mt),Pi=Math.floor(ct.image.height*Mt);oe.setTexture2D(ct,0),Se.copyTexSubImage2D(Se.TEXTURE_2D,Bt,0,0,Te.x,Te.y,xt,Pi),_e.unbindTexture()},this.copyTextureToTexture=function(Te,ct,Bt,Mt=0){const xt=ct.image.width,Pi=ct.image.height,$i=Ot.convert(Bt.format),dn=Ot.convert(Bt.type);oe.setTexture2D(Bt,0),Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL,Bt.flipY),Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Bt.premultiplyAlpha),Se.pixelStorei(Se.UNPACK_ALIGNMENT,Bt.unpackAlignment),ct.isDataTexture?Se.texSubImage2D(Se.TEXTURE_2D,Mt,Te.x,Te.y,xt,Pi,$i,dn,ct.image.data):ct.isCompressedTexture?Se.compressedTexSubImage2D(Se.TEXTURE_2D,Mt,Te.x,Te.y,ct.mipmaps[0].width,ct.mipmaps[0].height,$i,ct.mipmaps[0].data):Se.texSubImage2D(Se.TEXTURE_2D,Mt,Te.x,Te.y,$i,dn,ct.image),0===Mt&&Bt.generateMipmaps&&Se.generateMipmap(Se.TEXTURE_2D),_e.unbindTexture()},this.copyTextureToTexture3D=function(Te,ct,Bt,Mt,xt=0){if(B.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Pi=Te.max.x-Te.min.x+1,$i=Te.max.y-Te.min.y+1,dn=Te.max.z-Te.min.z+1,En=Ot.convert(Mt.format),Vn=Ot.convert(Mt.type);let Mn;if(Mt.isData3DTexture)oe.setTexture3D(Mt,0),Mn=Se.TEXTURE_3D;else{if(!Mt.isDataArrayTexture&&!Mt.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");oe.setTexture2DArray(Mt,0),Mn=Se.TEXTURE_2D_ARRAY}Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL,Mt.flipY),Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Mt.premultiplyAlpha),Se.pixelStorei(Se.UNPACK_ALIGNMENT,Mt.unpackAlignment);const Rn=Se.getParameter(Se.UNPACK_ROW_LENGTH),Ps=Se.getParameter(Se.UNPACK_IMAGE_HEIGHT),mo=Se.getParameter(Se.UNPACK_SKIP_PIXELS),Aa=Se.getParameter(Se.UNPACK_SKIP_ROWS),lc=Se.getParameter(Se.UNPACK_SKIP_IMAGES),ds=Bt.isCompressedTexture?Bt.mipmaps[xt]:Bt.image;Se.pixelStorei(Se.UNPACK_ROW_LENGTH,ds.width),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,ds.height),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,Te.min.x),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,Te.min.y),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,Te.min.z),Bt.isDataTexture||Bt.isData3DTexture?Se.texSubImage3D(Mn,xt,ct.x,ct.y,ct.z,Pi,$i,dn,En,Vn,ds.data):Bt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Se.compressedTexSubImage3D(Mn,xt,ct.x,ct.y,ct.z,Pi,$i,dn,En,ds.data)):Se.texSubImage3D(Mn,xt,ct.x,ct.y,ct.z,Pi,$i,dn,En,Vn,ds),Se.pixelStorei(Se.UNPACK_ROW_LENGTH,Rn),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,Ps),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,mo),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,Aa),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,lc),0===xt&&Mt.generateMipmaps&&Se.generateMipmap(Mn),_e.unbindTexture()},this.initTexture=function(Te){Te.isCubeTexture?oe.setTextureCube(Te,0):Te.isData3DTexture?oe.setTexture3D(Te,0):Te.isDataArrayTexture||Te.isCompressedArrayTexture?oe.setTexture2DArray(Te,0):oe.setTexture2D(Te,0),_e.unbindTexture()},this.resetState=function(){U=0,H=0,N=null,_e.reset(),yi.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return PA}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===VC?"display-p3":"srgb",t.unpackColorSpace=Yr.workingColorSpace===uy?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===cs?Ip:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Ip?cs:Do}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}(class GG extends kI{}).prototype.isWebGL1Renderer=!0;class LI extends Is{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class ME{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ic()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let n=0,s=this.stride;n<s;n++)this.array[e+n]=t.array[i+n];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ic()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ic()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ql=new Ce;class zp{constructor(e,t,i,n=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ql.fromBufferAttribute(this,t),Ql.applyMatrix4(e),this.setXYZ(t,Ql.x,Ql.y,Ql.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ql.fromBufferAttribute(this,t),Ql.applyNormalMatrix(e),this.setXYZ(t,Ql.x,Ql.y,Ql.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ql.fromBufferAttribute(this,t),Ql.transformDirection(e),this.setXYZ(t,Ql.x,Ql.y,Ql.z);return this}setX(e,t){return this.normalized&&(t=tr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=tr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=tr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=tr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=nc(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=nc(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=nc(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=nc(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=tr(t,this.array),i=tr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=tr(t,this.array),i=tr(i,this.array),n=tr(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this}setXYZW(e,t,i,n,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=tr(t,this.array),i=tr(i,this.array),n=tr(n,this.array),s=tr(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this.data.array[e+3]=s,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const n=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[n+s])}return new Gs(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new zp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const n=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[n+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const NI=new Ce,HI=new Rr,zI=new Rr,VG=new Ce,GI=new Qi,Ky=new Ce,DE=new ml,YI=new Qi,SE=new Og;class IE extends Ao{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=JD,this.bindMatrix=new Qi,this.bindMatrixInverse=new Qi,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new ja),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Ky),this.boundingBox.expandByPoint(Ky)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new ml),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Ky),this.boundingSphere.expandByPoint(Ky)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),DE.copy(this.boundingSphere),DE.applyMatrix4(n),!1!==e.ray.intersectsSphere(DE)&&(YI.copy(n).invert(),SE.copy(e.ray).applyMatrix4(YI),(null===this.boundingBox||!1!==SE.intersectsBox(this.boundingBox))&&this._computeIntersections(e,t,SE)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Rr,t=this.geometry.attributes.skinWeight;for(let i=0,n=t.count;i<n;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===JD?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,n=this.geometry;HI.fromBufferAttribute(n.attributes.skinIndex,e),zI.fromBufferAttribute(n.attributes.skinWeight,e),NI.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=zI.getComponent(s);if(0!==a){const o=HI.getComponent(s);GI.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(VG.copy(NI).applyMatrix4(GI),a)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Wv extends Is{constructor(){super(),this.isBone=!0,this.type="Bone"}}class a_ extends rc{constructor(e=null,t=1,i=1,n,s,a,o,l,c=ya,A=ya,u,f){super(null,a,o,l,c,A,n,s,u,f),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const WI=new Qi,jG=new Qi;class Vv{constructor(e=[],t=[]){this.uuid=Ic(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new Qi)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Qi;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,n=this.boneTexture;for(let s=0,a=e.length;s<a;s++)WI.multiplyMatrices(e[s]?e[s].matrixWorld:jG,t[s]),WI.toArray(i,16*s);null!==n&&(n.needsUpdate=!0)}clone(){return new Vv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new a_(t,e,e,Sc,LA);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,n=e.bones.length;i<n;i++){const s=e.bones[i];let a=t[s];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new Wv),this.bones.push(a),this.boneInverses.push((new Qi).fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let n=0,s=t.length;n<s;n++)e.bones.push(t[n].uuid),e.boneInverses.push(i[n].toArray());return e}}class o_ extends Gs{constructor(e,t,i,n=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const l_=new Qi,VI=new Qi,Zy=[],jI=new ja,JG=new Qi,jv=new Ao,Jv=new ml;class JI extends Ao{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new o_(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let n=0;n<i;n++)this.setMatrixAt(n,JG)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new ja),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,l_),jI.copy(e.boundingBox).applyMatrix4(l_),this.boundingBox.union(jI)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new ml),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,l_),Jv.copy(e.boundingSphere).applyMatrix4(l_),this.boundingSphere.union(Jv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const i=this.matrixWorld,n=this.count;if(jv.geometry=this.geometry,jv.material=this.material,void 0!==jv.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Jv.copy(this.boundingSphere),Jv.applyMatrix4(i),!1!==e.ray.intersectsSphere(Jv)))for(let s=0;s<n;s++){this.getMatrixAt(s,l_),VI.multiplyMatrices(i,l_),jv.matrixWorld=VI,jv.raycast(e,Zy);for(let a=0,o=Zy.length;a<o;a++){const l=Zy[a];l.instanceId=s,l.object=this,t.push(l)}Zy.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new o_(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ol extends Lc{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new mi(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const XI=new Ce,qI=new Ce,$I=new Qi,LE=new Og,$y=new ml;class Jd extends Is{constructor(e=new Xn,t=new Ol){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[0];for(let n=1,s=t.count;n<s;n++)XI.fromBufferAttribute(t,n-1),qI.fromBufferAttribute(t,n),i[n]=i[n-1],i[n]+=XI.distanceTo(qI);e.setAttribute("lineDistance",new Vi(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,n=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),$y.copy(i.boundingSphere),$y.applyMatrix4(n),$y.radius+=s,!1===e.ray.intersectsSphere($y))return;$I.copy(n).invert(),LE.copy(e.ray).applyMatrix4($I);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new Ce,A=new Ce,u=new Ce,f=new Ce,d=this.isLineSegments?2:1,_=i.index,g=i.attributes.position;if(null!==_)for(let B=Math.max(0,a.start),S=Math.min(_.count,a.start+a.count)-1;B<S;B+=d){const U=_.getX(B),H=_.getX(B+1);if(c.fromBufferAttribute(g,U),A.fromBufferAttribute(g,H),LE.distanceSqToSegment(c,A,f,u)>l)continue;f.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(f);P<e.near||P>e.far||t.push({distance:P,point:u.clone().applyMatrix4(this.matrixWorld),index:B,face:null,faceIndex:null,object:this})}else for(let B=Math.max(0,a.start),S=Math.min(g.count,a.start+a.count)-1;B<S;B+=d){if(c.fromBufferAttribute(g,B),A.fromBufferAttribute(g,B+1),LE.distanceSqToSegment(c,A,f,u)>l)continue;f.applyMatrix4(this.matrixWorld);const H=e.ray.origin.distanceTo(f);H<e.near||H>e.far||t.push({distance:H,point:u.clone().applyMatrix4(this.matrixWorld),index:B,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=n.length;s<a;s++){const o=n[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}const eF=new Ce,tF=new Ce;class PE extends Jd{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[];for(let n=0,s=t.count;n<s;n+=2)eF.fromBufferAttribute(t,n),tF.fromBufferAttribute(t,n+1),i[n]=0===n?0:i[n-1],i[n+1]=i[n]+eF.distanceTo(tF);e.setAttribute("lineDistance",new Vi(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class iF extends Jd{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class RE extends Lc{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new mi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const nF=new Qi,UE=new Og,ex=new ml,tx=new Ce;class rF extends Is{constructor(e=new Xn,t=new RE){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,n=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),ex.copy(i.boundingSphere),ex.applyMatrix4(n),ex.radius+=s,!1===e.ray.intersectsSphere(ex))return;nF.copy(n).invert(),UE.copy(e.ray).applyMatrix4(nF);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,u=i.attributes.position;if(null!==c)for(let _=Math.max(0,a.start),p=Math.min(c.count,a.start+a.count);_<p;_++){const g=c.getX(_);tx.fromBufferAttribute(u,g),sF(tx,g,l,n,e,t,this)}else for(let _=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);_<p;_++)tx.fromBufferAttribute(u,_),sF(tx,_,l,n,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=n.length;s<a;s++){const o=n[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function sF(r,e,t,i,n,s,a){const o=UE.distanceSqToPoint(r);if(o<t){const l=new Ce;UE.closestPointToPoint(r,l),l.applyMatrix4(i);const c=n.ray.origin.distanceTo(l);if(c<n.near||c>n.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:a})}}class Gh{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,n=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(n),t.push(s),n=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let n=0;const s=i.length;let a;a=t||e*i[s-1];let c,o=0,l=s-1;for(;o<=l;)if(n=Math.floor(o+(l-o)/2),c=i[n]-a,c<0)o=n+1;else{if(!(c>0)){l=n;break}l=n-1}if(n=l,i[n]===a)return n/(s-1);const A=i[n];return(n+(a-A)/(i[n+1]-A))/(s-1)}getTangent(e,t){let n=e-1e-4,s=e+1e-4;n<0&&(n=0),s>1&&(s=1);const a=this.getPoint(n),o=this.getPoint(s),l=t||(a.isVector2?new Ut:new Ce);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new Ce,n=[],s=[],a=[],o=new Ce,l=new Qi;for(let d=0;d<=e;d++)n[d]=this.getTangentAt(d/e,new Ce);s[0]=new Ce,a[0]=new Ce;let c=Number.MAX_VALUE;const A=Math.abs(n[0].x),u=Math.abs(n[0].y),f=Math.abs(n[0].z);A<=c&&(c=A,i.set(1,0,0)),u<=c&&(c=u,i.set(0,1,0)),f<=c&&i.set(0,0,1),o.crossVectors(n[0],i).normalize(),s[0].crossVectors(n[0],o),a[0].crossVectors(n[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),a[d]=a[d-1].clone(),o.crossVectors(n[d-1],n[d]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(la(n[d-1].dot(n[d]),-1,1));s[d].applyMatrix4(l.makeRotationAxis(o,_))}a[d].crossVectors(n[d],s[d])}if(!0===t){let d=Math.acos(la(s[0].dot(s[e]),-1,1));d/=e,n[0].dot(o.crossVectors(s[0],s[e]))>0&&(d=-d);for(let _=1;_<=e;_++)s[_].applyMatrix4(l.makeRotationAxis(n[_],d*_)),a[_].crossVectors(n[_],s[_])}return{tangents:n,normals:s,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}function uF(r,e,t,i,n){let s,a;if(n===function I6(r,e,t,i){let n=0;for(let s=e,a=t-i;s<t;s+=i)n+=(r[a]-r[s])*(r[s+1]+r[a+1]),a=s;return n}(r,e,t,i)>0)for(s=e;s<t;s+=i)a=pF(s,r[s],r[s+1],a);else for(s=t-i;s>=e;s-=i)a=pF(s,r[s],r[s+1],a);return a&&cx(a,a.next)&&(tw(a),a=a.next),a}function Wp(r,e){if(!r)return r;e||(e=r);let i,t=r;do{if(i=!1,t.steiner||!cx(t,t.next)&&0!==Xs(t.prev,t,t.next))t=t.next;else{if(tw(t),t=e=t.prev,t===t.next)break;i=!0}}while(i||t!==e);return e}function $v(r,e,t,i,n,s,a){if(!r)return;!a&&s&&function C6(r,e,t,i){let n=r;do{0===n.z&&(n.z=JE(n.x,n.y,e,t,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==r);n.prevZ.nextZ=null,n.prevZ=null,function E6(r){let e,t,i,n,s,a,o,l,c=1;do{for(t=r,r=null,s=null,a=0;t;){for(a++,i=t,o=0,e=0;e<c&&(o++,i=i.nextZ,i);e++);for(l=c;o>0||l>0&&i;)0!==o&&(0===l||!i||t.z<=i.z)?(n=t,t=t.nextZ,o--):(n=i,i=i.nextZ,l--),s?s.nextZ=n:r=n,n.prevZ=s,s=n;t=i}s.nextZ=null,c*=2}while(a>1)}(n)}(r,i,n,s);let l,c,o=r;for(;r.prev!==r.next;)if(l=r.prev,c=r.next,s?g6(r,i,n,s):m6(r))e.push(l.i/t|0),e.push(r.i/t|0),e.push(c.i/t|0),tw(r),r=c.next,o=c.next;else if((r=c)===o){a?1===a?$v(r=_6(Wp(r),e,t),e,t,i,n,s,2):2===a&&v6(r,e,t,i,n,s):$v(Wp(r),e,t,i,n,s,1);break}}function m6(r){const e=r.prev,t=r,i=r.next;if(Xs(e,t,i)>=0)return!1;const n=e.x,s=t.x,a=i.x,o=e.y,l=t.y,c=i.y,A=n<s?n<a?n:a:s<a?s:a,u=o<l?o<c?o:c:l<c?l:c,f=n>s?n>a?n:a:s>a?s:a,d=o>l?o>c?o:c:l>c?l:c;let _=i.next;for(;_!==e;){if(_.x>=A&&_.x<=f&&_.y>=u&&_.y<=d&&A_(n,o,s,l,a,c,_.x,_.y)&&Xs(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function g6(r,e,t,i){const n=r.prev,s=r,a=r.next;if(Xs(n,s,a)>=0)return!1;const o=n.x,l=s.x,c=a.x,A=n.y,u=s.y,f=a.y,d=o<l?o<c?o:c:l<c?l:c,_=A<u?A<f?A:f:u<f?u:f,p=o>l?o>c?o:c:l>c?l:c,g=A>u?A>f?A:f:u>f?u:f,m=JE(d,_,e,t,i),C=JE(p,g,e,t,i);let B=r.prevZ,S=r.nextZ;for(;B&&B.z>=m&&S&&S.z<=C;){if(B.x>=d&&B.x<=p&&B.y>=_&&B.y<=g&&B!==n&&B!==a&&A_(o,A,l,u,c,f,B.x,B.y)&&Xs(B.prev,B,B.next)>=0||(B=B.prevZ,S.x>=d&&S.x<=p&&S.y>=_&&S.y<=g&&S!==n&&S!==a&&A_(o,A,l,u,c,f,S.x,S.y)&&Xs(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;B&&B.z>=m;){if(B.x>=d&&B.x<=p&&B.y>=_&&B.y<=g&&B!==n&&B!==a&&A_(o,A,l,u,c,f,B.x,B.y)&&Xs(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;S&&S.z<=C;){if(S.x>=d&&S.x<=p&&S.y>=_&&S.y<=g&&S!==n&&S!==a&&A_(o,A,l,u,c,f,S.x,S.y)&&Xs(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function _6(r,e,t){let i=r;do{const n=i.prev,s=i.next.next;!cx(n,s)&&dF(n,i,i.next,s)&&ew(n,s)&&ew(s,n)&&(e.push(n.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),tw(i),tw(i.next),i=r=s),i=i.next}while(i!==r);return Wp(i)}function v6(r,e,t,i,n,s){let a=r;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&T6(a,o)){let l=fF(a,o);return a=Wp(a,a.next),l=Wp(l,l.next),$v(a,e,t,i,n,s,0),void $v(l,e,t,i,n,s,0)}o=o.next}a=a.next}while(a!==r)}function b6(r,e){return r.x-e.x}function y6(r,e){const t=function x6(r,e){let n,t=e,i=-1/0;const s=r.x,a=r.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const f=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=s&&f>i&&(i=f,n=t.x<t.next.x?t:t.next,f===s))return n}t=t.next}while(t!==e);if(!n)return null;const o=n,l=n.x,c=n.y;let u,A=1/0;t=n;do{s>=t.x&&t.x>=l&&s!==t.x&&A_(a<c?s:i,a,l,c,a<c?i:s,a,t.x,t.y)&&(u=Math.abs(a-t.y)/(s-t.x),ew(t,r)&&(u<A||u===A&&(t.x>n.x||t.x===n.x&&B6(n,t)))&&(n=t,A=u)),t=t.next}while(t!==o);return n}(r,e);if(!t)return e;const i=fF(t,r);return Wp(i,i.next),Wp(t,t.next)}function B6(r,e){return Xs(r.prev,r,e.prev)<0&&Xs(e.next,r,r.next)<0}function JE(r,e,t,i,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-t)*n|0)|r<<8))|r<<4))|r<<2))|r<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function M6(r){let e=r,t=r;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==r);return t}function A_(r,e,t,i,n,s,a,o){return(n-a)*(e-o)>=(r-a)*(s-o)&&(r-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(n-a)*(i-o)}function T6(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!function D6(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&dF(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}(r,e)&&(ew(r,e)&&ew(e,r)&&function S6(r,e){let t=r,i=!1;const n=(r.x+e.x)/2,s=(r.y+e.y)/2;do{t.y>s!=t.next.y>s&&t.next.y!==t.y&&n<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next}while(t!==r);return i}(r,e)&&(Xs(r.prev,r,e.prev)||Xs(r,e.prev,e))||cx(r,e)&&Xs(r.prev,r,r.next)>0&&Xs(e.prev,e,e.next)>0)}function Xs(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function cx(r,e){return r.x===e.x&&r.y===e.y}function dF(r,e,t,i){const n=Ax(Xs(r,e,t)),s=Ax(Xs(r,e,i)),a=Ax(Xs(t,i,r)),o=Ax(Xs(t,i,e));return!!(n!==s&&a!==o||0===n&&hx(r,t,e)||0===s&&hx(r,i,e)||0===a&&hx(t,r,i)||0===o&&hx(t,e,i))}function hx(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function Ax(r){return r>0?1:r<0?-1:0}function ew(r,e){return Xs(r.prev,r,r.next)<0?Xs(r,e,r.next)>=0&&Xs(r,r.prev,e)>=0:Xs(r,e,r.prev)<0||Xs(r,r.next,e)<0}function fF(r,e){const t=new KE(r.i,r.x,r.y),i=new KE(e.i,e.x,e.y),n=r.next,s=e.prev;return r.next=e,e.prev=r,t.next=n,n.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function pF(r,e,t,i){const n=new KE(r,e,t);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function tw(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function KE(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class QA{static area(e){const t=e.length;let i=0;for(let n=t-1,s=0;s<t;n=s++)i+=e[n].x*e[s].y-e[s].x*e[n].y;return.5*i}static isClockWise(e){return QA.area(e)<0}static triangulateShape(e,t){const i=[],n=[],s=[];mF(e),gF(i,e);let a=e.length;t.forEach(mF);for(let l=0;l<t.length;l++)n.push(a),a+=t[l].length,gF(i,t[l]);const o=function(r,e,t=2){const i=e&&e.length,n=i?e[0]*t:r.length;let s=uF(r,0,n,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,A,u,f,d;if(i&&(s=function w6(r,e,t,i){const n=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;s++)o=e[s]*i,l=s<a-1?e[s+1]*i:r.length,c=uF(r,o,l,i,!1),c===c.next&&(c.steiner=!0),n.push(M6(c));for(n.sort(b6),s=0;s<n.length;s++)t=y6(n[s],t);return t}(r,e,s,t)),r.length>80*t){o=c=r[0],l=A=r[1];for(let _=t;_<n;_+=t)u=r[_],f=r[_+1],u<o&&(o=u),f<l&&(l=f),u>c&&(c=u),f>A&&(A=f);d=Math.max(c-o,A-l),d=0!==d?32767/d:0}return $v(s,a,t,o,l,d,0),a}(i,n);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function mF(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function gF(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class dx extends Xn{constructor(e=1,t=32,i=16,n=0,s=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let c=0;const A=[],u=new Ce,f=new Ce,d=[],_=[],p=[],g=[];for(let m=0;m<=i;m++){const C=[],B=m/i;let S=0;0===m&&0===a?S=.5/t:m===i&&l===Math.PI&&(S=-.5/t);for(let U=0;U<=t;U++){const H=U/t;u.x=-e*Math.cos(n+H*s)*Math.sin(a+B*o),u.y=e*Math.cos(a+B*o),u.z=e*Math.sin(n+H*s)*Math.sin(a+B*o),_.push(u.x,u.y,u.z),f.copy(u).normalize(),p.push(f.x,f.y,f.z),g.push(H+S,1-B),C.push(c++)}A.push(C)}for(let m=0;m<i;m++)for(let C=0;C<t;C++){const S=A[m][C],U=A[m+1][C],H=A[m+1][C+1];(0!==m||a>0)&&d.push(A[m][C+1],S,H),(m!==i-1||l<Math.PI)&&d.push(S,U,H)}this.setIndex(d),this.setAttribute("position",new Vi(_,3)),this.setAttribute("normal",new Vi(p,3)),this.setAttribute("uv",new Vi(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class fx extends Lc{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new mi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class OA extends fx{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ut(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return la(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new mi(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new mi(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new mi(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class px extends Lc{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new mi(16777215),this.specular=new mi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ly,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wF extends Lc{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ly,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function Vp(r,e,t){return!r||!t&&r.constructor===e?r:"number"==typeof e.BYTES_PER_ELEMENT?new e(r):Array.prototype.slice.call(r)}function yF(r){const t=r.length,i=new Array(t);for(let n=0;n!==t;++n)i[n]=n;return i.sort(function e(n,s){return r[n]-r[s]}),i}function rM(r,e,t){const i=r.length,n=new r.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let l=0;l!==e;++l)n[a++]=r[o+l]}return n}function sM(r,e,t,i){let n=1,s=r[0];for(;void 0!==s&&void 0===s[i];)s=r[n++];if(void 0===s)return;let a=s[i];if(void 0!==a)if(Array.isArray(a))do{a=s[i],void 0!==a&&(e.push(s.time),t.push.apply(t,a)),s=r[n++]}while(void 0!==s);else if(void 0!==a.toArray)do{a=s[i],void 0!==a&&(e.push(s.time),a.toArray(t,t.length)),s=r[n++]}while(void 0!==s);else do{a=s[i],void 0!==a&&(e.push(s.time),t.push(a)),s=r[n++]}while(void 0!==s)}class iw{constructor(e,t,i,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,n=t[i],s=t[i-1];e:{t:{let a;i:{r:if(!(e<n)){for(let o=i+2;;){if(void 0===n){if(e<s)break r;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=n,n=t[++i],e<n)break t}a=t.length;break i}if(e>=s)break e;{const o=t[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(n=s,s=t[--i-1],e>=s)break t}a=i,i=0}}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(n=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===n)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,n)}return this.interpolate_(i,s,e,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,s=e*n;for(let a=0;a!==n;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Y6 extends iw{constructor(e,t,i,n){super(e,t,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const n=this.parameterPositions;let s=e-2,a=e+1,o=n[s],l=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:s=e,o=2*t-i;break;case 2402:s=n.length-2,o=t+n[s]-n[s+1];break;default:s=e,o=i}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:a=e,l=2*i-t;break;case 2402:a=1,l=i+n[1]-n[0];break;default:a=e-1,l=t}const c=.5*(i-t),A=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-i),this._offsetPrev=s*A,this._offsetNext=a*A}interpolate_(e,t,i,n){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,A=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,d=this._weightNext,_=(i-t)/(n-t),p=_*_,g=p*_,m=-f*g+2*f*p-f*_,C=(1+f)*g+(-1.5-2*f)*p+(-.5+f)*_+1,B=(-1-d)*g+(1.5+d)*p+.5*_,S=d*g-d*p;for(let U=0;U!==o;++U)s[U]=m*a[A+U]+C*a[c+U]+B*a[l+U]+S*a[u+U];return s}}class xF extends iw{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e,t,i,n){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,A=(i-t)/(n-t),u=1-A;for(let f=0;f!==o;++f)s[f]=a[c+f]*u+a[l+f]*A;return s}}class W6 extends iw{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e){return this.copySampleValue_(e-1)}}class NA{constructor(e,t,i,n){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Vp(t,this.TimeBufferType),this.values=Vp(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Vp(e.times,Array),values:Vp(e.values,Array)};const n=e.getInterpolation();n!==e.DefaultInterpolation&&(i.interpolation=n)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new W6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new xF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Y6(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Iv:t=this.InterpolantFactoryMethodDiscrete;break;case Mg:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Iv;case this.InterpolantFactoryMethodLinear:return Mg;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]*=e}return this}trim(e,t){const i=this.times,n=i.length;let s=0,a=n-1;for(;s!==n&&i[s]<e;)++s;for(;-1!==a&&i[a]>t;)--a;if(++a,0!==s||a!==n){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,n=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(null!==a&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(void 0!==n&&function bF(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}(n))for(let o=0,l=n.length;o!==l;++o){const c=n[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),n=2302===this.getInterpolation(),s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o];if(c!==e[o+1]&&(1!==o||c!==e[0]))if(n)l=!0;else{const u=o*i,f=u-i,d=u+i;for(let _=0;_!==i;++_){const p=t[u+_];if(p!==t[f+_]||p!==t[d+_]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const u=o*i,f=a*i;for(let d=0;d!==i;++d)t[f+d]=t[u+d]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,c=0;c!==i;++c)t[l+c]=t[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}NA.prototype.TimeBufferType=Float32Array,NA.prototype.ValueBufferType=Float32Array,NA.prototype.DefaultInterpolation=Mg;class u_ extends NA{}u_.prototype.ValueTypeName="bool",u_.prototype.ValueBufferType=Array,u_.prototype.DefaultInterpolation=Iv,u_.prototype.InterpolantFactoryMethodLinear=void 0,u_.prototype.InterpolantFactoryMethodSmooth=void 0;class BF extends NA{}BF.prototype.ValueTypeName="color";class jp extends NA{}jp.prototype.ValueTypeName="number";class V6 extends iw{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e,t,i,n){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-t)/(n-t);let c=e*o;for(let A=c+o;c!==A;c+=4)Ss.slerpFlat(s,0,a,c-o,a,c,l);return s}}class Ou extends NA{InterpolantFactoryMethodLinear(e){return new V6(this.times,this.values,this.getValueSize(),e)}}Ou.prototype.ValueTypeName="quaternion",Ou.prototype.DefaultInterpolation=Mg,Ou.prototype.InterpolantFactoryMethodSmooth=void 0;class d_ extends NA{}d_.prototype.ValueTypeName="string",d_.prototype.ValueBufferType=Array,d_.prototype.DefaultInterpolation=Iv,d_.prototype.InterpolantFactoryMethodLinear=void 0,d_.prototype.InterpolantFactoryMethodSmooth=void 0;class Jp extends NA{}Jp.prototype.ValueTypeName="vector";class f_{constructor(e,t=-1,i,n=2500){this.name=e,this.tracks=i,this.duration=t,this.blendMode=n,this.uuid=Ic(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,n=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(J6(i[a]).scale(n));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(NA.toJSON(i[s]));return n}static CreateFromMorphTargetSequence(e,t,i,n){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const A=yF(l);l=rM(l,1,A),c=rM(c,1,A),!n&&0===l[0]&&(l.push(s),c.push(c[0])),a.push(new jp(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;Array.isArray(e)||(i=e.geometry&&e.geometry.animations||e.animations);for(let n=0;n<i.length;n++)if(i[n].name===t)return i[n];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const n={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],A=c.name.match(s);if(A&&A.length>1){const u=A[1];let f=n[u];f||(n[u]=f=[]),f.push(c)}}const a=[];for(const o in n)a.push(this.CreateFromMorphTargetSequence(o,n[o],t,i));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(u,f,d,_,p){if(0!==d.length){const g=[],m=[];sM(d,g,m,_),0!==g.length&&p.push(new u(f,g,m))}},n=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let u=0;u<c.length;u++){const f=c[u].keys;if(f&&0!==f.length)if(f[0].morphTargets){const d={};let _;for(_=0;_<f.length;_++)if(f[_].morphTargets)for(let p=0;p<f[_].morphTargets.length;p++)d[f[_].morphTargets[p]]=-1;for(const p in d){const g=[],m=[];for(let C=0;C!==f[_].morphTargets.length;++C){const B=f[_];g.push(B.time),m.push(B.morphTarget===p?1:0)}n.push(new jp(".morphTargetInfluence["+p+"]",g,m))}l=d.length*a}else{const d=".bones["+t[u].name+"]";i(Jp,d+".position",f,"pos",n),i(Ou,d+".quaternion",f,"rot",n),i(Jp,d+".scale",f,"scl",n)}}return 0===n.length?null:new this(s,l,n,o)}resetDuration(){let t=0;for(let i=0,n=this.tracks.length;i!==n;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function J6(r){if(void 0===r.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function j6(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jp;case"vector":case"vector2":case"vector3":case"vector4":return Jp;case"color":return BF;case"quaternion":return Ou;case"bool":case"boolean":return u_;case"string":return d_}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}(r.type);if(void 0===r.times){const t=[],i=[];sM(r.keys,t,i,"value"),r.times=t,r.values=i}return void 0!==e.parse?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const Kd={enabled:!1,files:{},add:function(r,e){!1!==this.enabled&&(this.files[r]=e)},get:function(r){if(!1!==this.enabled)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class CF{constructor(e,t,i){const n=this;let l,s=!1,a=0,o=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(A){o++,!1===s&&void 0!==n.onStart&&n.onStart(A,a,o),s=!0},this.itemEnd=function(A){a++,void 0!==n.onProgress&&n.onProgress(A,a,o),a===o&&(s=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(A){void 0!==n.onError&&n.onError(A)},this.resolveURL=function(A){return l?l(A):A},this.setURLModifier=function(A){return l=A,this},this.addHandler=function(A,u){return c.push(A,u),this},this.removeHandler=function(A){const u=c.indexOf(A);return-1!==u&&c.splice(u,2),this},this.getHandler=function(A){for(let u=0,f=c.length;u<f;u+=2){const d=c[u],_=c[u+1];if(d.global&&(d.lastIndex=0),d.test(A))return _}return null}}}const K6=new CF;let Zd=(()=>{class r{constructor(t){this.manager=void 0!==t?t:K6,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const n=this;return new Promise(function(s,a){n.load(t,s,i,a)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}return r.DEFAULT_MATERIAL_NAME="__DEFAULT",r})();const Nu={};class Z6 extends Error{constructor(e,t){super(e),this.response=t}}class Yh extends Zd{constructor(e){super(e)}load(e,t,i,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Kd.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(void 0!==Nu[e])return void Nu[e].push({onLoad:t,onProgress:i,onError:n});Nu[e]=[],Nu[e].push({onLoad:t,onProgress:i,onError:n});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(200===c.status||0===c.status){if(0===c.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===c.body||void 0===c.body.getReader)return c;const A=Nu[e],u=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),d=f?parseInt(f):0,_=0!==d;let p=0;const g=new ReadableStream({start(m){!function C(){u.read().then(({done:B,value:S})=>{if(B)m.close();else{p+=S.byteLength;const U=new ProgressEvent("progress",{lengthComputable:_,loaded:p,total:d});for(let H=0,N=A.length;H<N;H++){const P=A[H];P.onProgress&&P.onProgress(U)}m.enqueue(S),C()}})}()}});return new Response(g)}throw new Z6(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(A=>(new DOMParser).parseFromString(A,o));case"json":return c.json();default:if(void 0===o)return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(o),f=u&&u[1]?u[1].toLowerCase():void 0,d=new TextDecoder(f);return c.arrayBuffer().then(_=>d.decode(_))}}}).then(c=>{Kd.add(e,c);const A=Nu[e];delete Nu[e];for(let u=0,f=A.length;u<f;u++){const d=A[u];d.onLoad&&d.onLoad(c)}}).catch(c=>{const A=Nu[e];if(void 0===A)throw this.manager.itemError(e),c;delete Nu[e];for(let u=0,f=A.length;u<f;u++){const d=A[u];d.onError&&d.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class mx extends Zd{constructor(e){super(e)}load(e,t,i,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Kd.get(e);if(void 0!==a)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=Lv("img");function l(){A(),Kd.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(u){A(),n&&n(u),s.manager.itemError(e),s.manager.itemEnd(e)}function A(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class EF extends Zd{constructor(e){super(e)}load(e,t,i,n){const s=new rc,a=new mx(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,void 0!==t&&t(s)},i,n),s}}class gx extends Is{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new mi(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const aM=new Qi,MF=new Ce,TF=new Ce;class oM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ut(512,512),this.map=null,this.mapPass=null,this.matrix=new Qi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Oy,this._frameExtents=new Ut(1,1),this._viewportCount=1,this._viewports=[new Rr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;MF.setFromMatrixPosition(e.matrixWorld),t.position.copy(MF),TF.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(TF),t.updateMatrixWorld(),aM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(aM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class q6 extends oM{constructor(){super(new uo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=2*Ig*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||n!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=n,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class _x extends gx{constructor(e,t,i=0,n=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Is.DEFAULT_UP),this.updateMatrix(),this.target=new Is,this.distance=i,this.angle=n,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new q6}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const DF=new Qi,nw=new Ce,lM=new Ce;class $6 extends oM{constructor(){super(new uo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ut(4,2),this._viewportCount=6,this._viewports=[new Rr(2,1,1,1),new Rr(0,1,1,1),new Rr(3,1,1,1),new Rr(1,1,1,1),new Rr(3,0,1,1),new Rr(1,0,1,1)],this._cubeDirections=[new Ce(1,0,0),new Ce(-1,0,0),new Ce(0,0,1),new Ce(0,0,-1),new Ce(0,1,0),new Ce(0,-1,0)],this._cubeUps=[new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,0,1),new Ce(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,n=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),nw.setFromMatrixPosition(e.matrixWorld),i.position.copy(nw),lM.copy(i.position),lM.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(lM),i.updateMatrixWorld(),n.makeTranslation(-nw.x,-nw.y,-nw.z),DF.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DF)}}class rw extends gx{constructor(e,t,i=0,n=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=n,this.shadow=new $6}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class eY extends oM{constructor(){super(new Hv(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class vx extends gx{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Is.DEFAULT_UP),this.updateMatrix(),this.target=new Is,this.shadow=new eY}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class cM extends gx{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Xd{static decodeText(e){if(typeof TextDecoder<"u")return(new TextDecoder).decode(e);let t="";for(let i=0,n=e.length;i<n;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class oY extends Zd{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Kd.get(e);if(void 0!==a)return s.manager.itemStart(e),a.then?void a.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{n&&n(c)}):(setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a);const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Kd.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){n&&n(c),Kd.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Kd.add(e,l),s.manager.itemStart(e)}}const AM="\\[\\]\\.:\\/",uY=new RegExp("["+AM+"]","g"),uM="[^"+AM+"]",dY="[^"+AM.replace("\\.","")+"]",_Y=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",uM)+/(WCOD+)?/.source.replace("WCOD",dY)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",uM)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",uM)+"$"),vY=["material","materials","bones","map"];class wY{constructor(e,t,i){const n=i||Wr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}getValue(e,t){this.bind();const n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let n=this._targetGroup.nCachedObjects_,s=i.length;n!==s;++n)i[n].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let Wr=(()=>{class r{constructor(t,i,n){this.path=i,this.parsedPath=n||r.parseTrackName(i),this.node=r.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,n){return t&&t.isAnimationObjectGroup?new r.Composite(t,i,n):new r(t,i,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(uY,"")}static parseTrackName(t){const i=_Y.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const a=n.nodeName.substring(s+1);-1!==vY.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,s),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(i);if(void 0!==n)return n}if(t.children){const n=function(a){for(let o=0;o<a.length;o++){const l=a[o];if(l.name===i||l.uuid===i)return l;const c=n(l.children);if(c)return c}return null},s=n(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const n=this.resolvedProperty;for(let s=0,a=n.length;s!==a;++s)t[i++]=n[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const n=this.resolvedProperty;for(let s=0,a=n.length;s!==a;++s)n[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const n=this.resolvedProperty;for(let s=0,a=n.length;s!==a;++s)n[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const n=this.resolvedProperty;for(let s=0,a=n.length;s!==a;++s)n[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,n=i.objectName,s=i.propertyName;let a=i.propertyIndex;if(t||(t=r.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let A=i.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let u=0;u<t.length;u++)if(t[u].name===A){A=u;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==A){if(void 0===t[A])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[A]}}const o=t[s];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else void 0!==o.fromArray&&void 0!==o.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return r.Composite=wY,r})();Wr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Wr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Wr.prototype.GetterByBindingType=[Wr.prototype._getValue_direct,Wr.prototype._getValue_array,Wr.prototype._getValue_arrayElement,Wr.prototype._getValue_toArray],Wr.prototype.SetterByBindingTypeAndVersioning=[[Wr.prototype._setValue_direct,Wr.prototype._setValue_direct_setNeedsUpdate,Wr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Wr.prototype._setValue_array,Wr.prototype._setValue_array_setNeedsUpdate,Wr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Wr.prototype._setValue_arrayElement,Wr.prototype._setValue_arrayElement_setNeedsUpdate,Wr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Wr.prototype._setValue_fromArray,Wr.prototype._setValue_fromArray_setNeedsUpdate,Wr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class OF{constructor(e,t,i=0,n=1/0){this.ray=new Og(e,t),this.near=i,this.far=n,this.camera=null,this.layers=new aE,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return dM(e,this,i,t),i.sort(NF),i}intersectObjects(e,t=!0,i=[]){for(let n=0,s=e.length;n<s;n++)dM(e[n],this,i,t);return i.sort(NF),i}}function NF(r,e){return r.distance-e.distance}function dM(r,e,t,i){if(r.layers.test(e.layers)&&r.raycast(e,t),!0===i){const n=r.children;for(let s=0,a=n.length;s<a;s++)dM(n[s],e,t,!0)}}class HF{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(la(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const YF=new Ce;class BY extends Is{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Xn,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,A=o/l*Math.PI*2;n.push(Math.cos(c),Math.sin(c),1,Math.cos(A),Math.sin(A),1)}i.setAttribute("position",new Vi(n,3));const s=new Ol({fog:!1,toneMapped:!1});this.cone=new PE(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),YF.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(YF),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}class CY extends Ao{constructor(e,t,i){super(new dx(t,4,2),new oh({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const JF=new Ce,xx=new Ce,KF=new Ce;class MY extends Is{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",void 0===t&&(t=1);let n=new Xn;n.setAttribute("position",new Vi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ol({fog:!1,toneMapped:!1});this.lightPlane=new Jd(n,s),this.add(this.lightPlane),n=new Xn,n.setAttribute("position",new Vi([0,0,0,0,0,1],3)),this.targetLine=new Jd(n,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),JF.setFromMatrixPosition(this.light.matrixWorld),xx.setFromMatrixPosition(this.light.target.matrixWorld),KF.subVectors(xx,JF),this.lightPlane.lookAt(xx),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xx),this.targetLine.scale.z=KF.length()}}function XF(r,e){if(0===e)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(2===e||1===e){let t=r.getIndex();if(null===t){const a=[],o=r.getAttribute("position");if(void 0===o)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r;for(let l=0;l<o.count;l++)a.push(l);r.setIndex(a),t=r.getIndex()}const i=t.count-2,n=[];if(2===e)for(let a=1;a<=i;a++)n.push(t.getX(0)),n.push(t.getX(a)),n.push(t.getX(a+1));else for(let a=0;a<i;a++)a%2==0?(n.push(t.getX(a)),n.push(t.getX(a+1)),n.push(t.getX(a+2))):(n.push(t.getX(a+2)),n.push(t.getX(a+1)),n.push(t.getX(a)));n.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=r.clone();return s.setIndex(n),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"160"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="160");class DY extends Zd{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new LY(t)}),this.register(function(t){return new GY(t)}),this.register(function(t){return new YY(t)}),this.register(function(t){return new WY(t)}),this.register(function(t){return new RY(t)}),this.register(function(t){return new UY(t)}),this.register(function(t){return new QY(t)}),this.register(function(t){return new OY(t)}),this.register(function(t){return new kY(t)}),this.register(function(t){return new NY(t)}),this.register(function(t){return new PY(t)}),this.register(function(t){return new zY(t)}),this.register(function(t){return new HY(t)}),this.register(function(t){return new IY(t)}),this.register(function(t){return new VY(t)}),this.register(function(t){return new jY(t)})}load(e,t,i,n){const s=this;let a;if(""!==this.resourcePath)a=this.resourcePath;else if(""!==this.path){const c=Xd.extractUrlBase(e);a=Xd.resolveURL(c,this.path)}else a=Xd.extractUrlBase(e);this.manager.itemStart(e);const o=function(c){n?n(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Yh(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,a,function(A){t(A),s.manager.itemEnd(e)},o)}catch(A){o(A)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,n){let s;const a={},o={},l=new TextDecoder;if("string"==typeof e)s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===qF){try{a[fr.KHR_BINARY_GLTF]=new JY(e)}catch(u){return void(n&&n(u))}s=JSON.parse(a[fr.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(void 0===s.asset||s.asset.version[0]<2)return void(n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new o8(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let A=0;A<this.pluginCallbacks.length;A++){const u=this.pluginCallbacks[A](c);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[u.name]=u,a[u.name]=!0}if(s.extensionsUsed)for(let A=0;A<s.extensionsUsed.length;++A){const u=s.extensionsUsed[A],f=s.extensionsRequired||[];switch(u){case fr.KHR_MATERIALS_UNLIT:a[u]=new FY;break;case fr.KHR_DRACO_MESH_COMPRESSION:a[u]=new KY(s,this.dracoLoader);break;case fr.KHR_TEXTURE_TRANSFORM:a[u]=new ZY;break;case fr.KHR_MESH_QUANTIZATION:a[u]=new XY;break;default:f.indexOf(u)>=0&&void 0===o[u]&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}c.setExtensions(a),c.setPlugins(o),c.parse(i,n)}parseAsync(e,t){const i=this;return new Promise(function(n,s){i.parse(e,t,n,s)})}}function SY(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const fr={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class IY{constructor(e){this.parser=e,this.name=fr.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,n=t.length;i<n;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let n=t.cache.get(i);if(n)return n;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const A=new mi(16777215);void 0!==l.color&&A.setRGB(l.color[0],l.color[1],l.color[2],Do);const u=void 0!==l.range?l.range:0;switch(l.type){case"directional":c=new vx(A),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new rw(A),c.distance=u;break;case"spot":c=new _x(A),c.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=void 0!==l.spot.innerConeAngle?l.spot.innerConeAngle:0,l.spot.outerConeAngle=void 0!==l.spot.outerConeAngle?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,ef(c,l),void 0!==l.intensity&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),n=Promise.resolve(c),t.cache.add(i,n),n}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],o=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===o?null:this._loadLight(o).then(function(l){return i._getNodeRef(t.cache,o,l)})}}class FY{constructor(){this.name=fr.KHR_MATERIALS_UNLIT}getMaterialType(){return oh}extendParams(e,t,i){const n=[];e.color=new mi(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Do),e.opacity=a[3]}void 0!==s.baseColorTexture&&n.push(i.assignTexture(e,"map",s.baseColorTexture,cs))}return Promise.all(n)}}class kY{constructor(e){this.parser=e,this.name=fr.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=n.extensions[this.name].emissiveStrength;return void 0!==s&&(t.emissiveIntensity=s),Promise.resolve()}}class LY{constructor(e){this.parser=e,this.name=fr.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?OA:null}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&s.push(i.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(s.push(i.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ut(o,o)}return Promise.all(s)}}class PY{constructor(e){this.parser=e,this.name=fr.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?OA:null}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&s.push(i.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&s.push(i.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class RY{constructor(e){this.parser=e,this.name=fr.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?OA:null}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new mi(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=n.extensions[this.name];if(void 0!==a.sheenColorFactor){const o=a.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],Do)}return void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&s.push(i.assignTexture(t,"sheenColorMap",a.sheenColorTexture,cs)),void 0!==a.sheenRoughnessTexture&&s.push(i.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class UY{constructor(e){this.parser=e,this.name=fr.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?OA:null}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&s.push(i.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class QY{constructor(e){this.parser=e,this.name=fr.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?OA:null}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&s.push(i.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return t.attenuationColor=(new mi).setRGB(o[0],o[1],o[2],Do),Promise.all(s)}}class OY{constructor(e){this.parser=e,this.name=fr.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?OA:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=n.extensions[this.name];return t.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class NY{constructor(e){this.parser=e,this.name=fr.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?OA:null}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&s.push(i.assignTexture(t,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return t.specularColor=(new mi).setRGB(o[0],o[1],o[2],Do),void 0!==a.specularColorTexture&&s.push(i.assignTexture(t,"specularColorMap",a.specularColorTexture,cs)),Promise.all(s)}}class HY{constructor(e){this.parser=e,this.name=fr.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?OA:null}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];return t.bumpScale=void 0!==a.bumpFactor?a.bumpFactor:1,void 0!==a.bumpTexture&&s.push(i.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(s)}}class zY{constructor(e){this.parser=e,this.name=fr.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?OA:null}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];return void 0!==a.anisotropyStrength&&(t.anisotropy=a.anisotropyStrength),void 0!==a.anisotropyRotation&&(t.anisotropyRotation=a.anisotropyRotation),void 0!==a.anisotropyTexture&&s.push(i.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class GY{constructor(e){this.parser=e,this.name=fr.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,n=i.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const s=n.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,a)}}class YY{constructor(e){this.parser=e,this.name=fr.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,n=i.json,s=n.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],o=n.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);null!==c&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class WY{constructor(e){this.parser=e,this.name=fr.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,n=i.json,s=n.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],o=n.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);null!==c&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class VY{constructor(e){this.name=fr.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const n=i.extensions[this.name],s=this.parser.getDependency("buffer",n.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(o){const A=n.count,u=n.byteStride,f=new Uint8Array(o,n.byteOffset||0,n.byteLength||0);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(A,u,f,n.mode,n.filter).then(function(d){return d.buffer}):a.ready.then(function(){const d=new ArrayBuffer(A*u);return a.decodeGltfBuffer(new Uint8Array(d),A,u,f,n.mode,n.filter),d})})}return null}}class jY{constructor(e){this.name=fr.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;const n=t.meshes[i.mesh];for(const c of n.primitives)if(c.mode!==ch.TRIANGLES&&c.mode!==ch.TRIANGLE_STRIP&&c.mode!==ch.TRIANGLE_FAN&&void 0!==c.mode)return null;const a=i.extensions[this.name].attributes,o=[],l={};for(const c in a)o.push(this.parser.getDependency("accessor",a[c]).then(A=>(l[c]=A,l[c])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(c=>{const A=c.pop(),u=A.isGroup?A.children:[A],f=c[0].count,d=[];for(const _ of u){const p=new Qi,g=new Ce,m=new Ss,C=new Ce(1,1,1),B=new JI(_.geometry,_.material,f);for(let S=0;S<f;S++)l.TRANSLATION&&g.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&m.fromBufferAttribute(l.ROTATION,S),l.SCALE&&C.fromBufferAttribute(l.SCALE,S),B.setMatrixAt(S,p.compose(g,m,C));for(const S in l)if("_COLOR_0"===S){const U=l[S];B.instanceColor=new o_(U.array,U.itemSize,U.normalized)}else"TRANSLATION"!==S&&"ROTATION"!==S&&"SCALE"!==S&&_.geometry.setAttribute(S,l[S]);Is.prototype.copy.call(B,_),this.parser.assignFinalMaterial(B),d.push(B)}return A.isGroup?(A.clear(),A.add(...d),A):d[0]}))}}const qF="glTF";class JY{constructor(e){this.name=fr.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==qF)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,s=new DataView(e,12);let a=0;for(;a<n;){const o=s.getUint32(a,!0);a+=4;const l=s.getUint32(a,!0);if(a+=4,1313821514===l){const c=new Uint8Array(e,12+a,o);this.content=i.decode(c)}else if(5130562===l){const c=12+a;this.body=e.slice(c,c+o)}a+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class KY{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=fr.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,n=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const A in a){const u=vM[A]||A.toLowerCase();o[u]=a[A]}for(const A in e.attributes){const u=vM[A]||A.toLowerCase();if(void 0!==a[A]){const f=i.accessors[e.attributes[A]];c[u]=p_[f.componentType].name,l[u]=!0===f.normalized}}return t.getDependency("bufferView",s).then(function(A){return new Promise(function(u,f){n.decodeDracoFile(A,function(d){for(const _ in d.attributes){const g=l[_];void 0!==g&&(d.attributes[_].normalized=g)}u(d)},o,c,Do,f)})})}}class ZY{constructor(){this.name=fr.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class XY{constructor(){this.name=fr.KHR_MESH_QUANTIZATION}}class ek extends iw{constructor(e,t,i,n){super(e,t,i,n)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,s=e*n*3+n;for(let a=0;a!==n;a++)t[a]=i[s+a];return t}interpolate_(e,t,i,n){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=2*o,c=3*o,A=n-t,u=(i-t)/A,f=u*u,d=f*u,_=e*c,p=_-c,g=-2*d+3*f,m=d-f,C=1-g,B=m-f+u;for(let S=0;S!==o;S++)s[S]=C*a[p+S+o]+B*(a[p+S+l]*A)+g*a[_+S+o]+m*(a[_+S]*A);return s}}const qY=new Ss;class $Y extends ek{interpolate_(e,t,i,n){const s=super.interpolate_(e,t,i,n);return qY.fromArray(s).normalize().toArray(s),s}}const ch={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},p_={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},tk={9728:ya,9729:oa,9984:1004,9985:1007,9986:1005,9987:Fu},ik={33071:To,33648:1002,10497:Iu},_M={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},vM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},$d={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},e8={CUBICSPLINE:void 0,LINEAR:Mg,STEP:Iv};function em(r,e,t){for(const i in t.extensions)void 0===r[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function ef(r,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function n8(r,e){if(r.updateMorphTargets(),void 0!==e.weights)for(let t=0,i=e.weights.length;t<i;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let i=0,n=t.length;i<n;i++)r.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function r8(r){let e;const t=r.extensions&&r.extensions[fr.KHR_DRACO_MESH_COMPRESSION];if(e=t?"draco:"+t.bufferView+":"+t.indices+":"+bM(t.attributes):r.indices+":"+bM(r.attributes)+":"+r.mode,void 0!==r.targets)for(let i=0,n=r.targets.length;i<n;i++)e+=":"+bM(r.targets[i]);return e}function bM(r){let e="";const t=Object.keys(r).sort();for(let i=0,n=t.length;i<n;i++)e+=t[i]+":"+r[t[i]]+";";return e}function yM(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const a8=new Qi;class o8{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new SY,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,n=!1,s=-1;typeof navigator<"u"&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),n=navigator.userAgent.indexOf("Firefox")>-1,s=n?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),this.textureLoader=typeof createImageBitmap>"u"||i||n&&s<98?new EF(this.options.manager):new oY(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Yh(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,n=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const o={scene:a[0][n.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:n.asset,parser:i,userData:{}};return em(s,o,n),ef(o,n),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let n=0,s=t.length;n<s;n++){const a=t[n].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let n=0,s=e.length;n<s;n++){const a=e[n];void 0!==a.mesh&&(this._addNodeRef(this.meshCache,a.mesh),void 0!==a.skin&&(i[a.mesh].isSkinnedMesh=!0)),void 0!==a.camera&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const n=i.clone(),s=(a,o)=>{const l=this.associations.get(a);null!=l&&this.associations.set(o,l);for(const[c,A]of a.children.entries())s(A,o.children[c])};return s(i,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const n=e(t[i]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let n=0;n<t.length;n++){const s=e(t[n]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let n=this.cache.get(i);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":n=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":n=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":n=this.loadCamera(t);break;default:if(n=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!n)throw new Error("Unknown type: "+e)}this.cache.add(i,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(s,a){return i.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[fr.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(s,a){i.load(Xd.resolveURL(t.uri,n.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const s=t.byteOffset||0;return i.slice(s,s+(t.byteLength||0))})}loadAccessor(e){const t=this,i=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse){const a=_M[n.type],l=!0===n.normalized,c=new(0,p_[n.componentType])(n.count*a);return Promise.resolve(new Gs(c,a,l))}const s=[];return s.push(void 0!==n.bufferView?this.getDependency("bufferView",n.bufferView):null),void 0!==n.sparse&&(s.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(s).then(function(a){const o=a[0],l=_M[n.type],c=p_[n.componentType],A=c.BYTES_PER_ELEMENT,f=n.byteOffset||0,d=void 0!==n.bufferView?i.bufferViews[n.bufferView].byteStride:void 0,_=!0===n.normalized;let p,g;if(d&&d!==A*l){const m=Math.floor(f/d),C="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+m+":"+n.count;let B=t.cache.get(C);B||(p=new c(o,m*d,n.count*d/A),B=new ME(p,d/A),t.cache.add(C,B)),g=new zp(B,l,f%d/A,_)}else p=null===o?new c(n.count*l):new c(o,f,n.count*l),g=new Gs(p,l,_);if(void 0!==n.sparse){const S=n.sparse.values.byteOffset||0,U=new(0,p_[n.sparse.indices.componentType])(a[1],n.sparse.indices.byteOffset||0,n.sparse.count*_M.SCALAR),H=new c(a[2],S,n.sparse.count*l);null!==o&&(g=new Gs(g.array.slice(),g.itemSize,g.normalized));for(let N=0,P=U.length;N<P;N++){const z=U[N];if(g.setX(z,H[N*l]),l>=2&&g.setY(z,H[N*l+1]),l>=3&&g.setZ(z,H[N*l+2]),l>=4&&g.setW(z,H[N*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(e){const t=this.json,s=t.textures[e].source,a=t.images[s];let o=this.textureLoader;if(a.uri){const l=this.options.manager.getHandler(a.uri);null!==l&&(o=l)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,t,i){const n=this,s=this.json,a=s.textures[e],o=s.images[t],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(A){A.flipY=!1,A.name=a.name||o.name||"",""===A.name&&"string"==typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(A.name=o.uri);const f=(s.samplers||{})[a.sampler]||{};return A.magFilter=tk[f.magFilter]||oa,A.minFilter=tk[f.minFilter]||Fu,A.wrapS=ik[f.wrapS]||Iu,A.wrapT=ik[f.wrapT]||Iu,n.associations.set(A,{textures:e}),A}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this.json,s=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(u=>u.clone());const a=n.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(void 0!==a.bufferView)l=this.getDependency("bufferView",a.bufferView).then(function(u){c=!0;const f=new Blob([u],{type:a.mimeType});return l=o.createObjectURL(f),l});else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const A=Promise.resolve(l).then(function(u){return new Promise(function(f,d){let _=f;!0===t.isImageBitmapLoader&&(_=function(p){const g=new rc(p);g.needsUpdate=!0,f(g)}),t.load(Xd.resolveURL(u,s.path),_,void 0,d)})}).then(function(u){return!0===c&&o.revokeObjectURL(l),u.userData.mimeType=a.mimeType||function s8(r){return r.search(/\.jpe?g($|\?)/i)>0||0===r.search(/^data\:image\/jpeg/)?"image/jpeg":r.search(/\.webp($|\?)/i)>0||0===r.search(/^data\:image\/webp/)?"image/webp":"image/png"}(a.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),u});return this.sourceCache[e]=A,A}assignTexture(e,t,i,n){const s=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(void 0!==i.texCoord&&i.texCoord>0&&((a=a.clone()).channel=i.texCoord),s.extensions[fr.KHR_TEXTURE_TRANSFORM]){const o=void 0!==i.extensions?i.extensions[fr.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=s.associations.get(a);a=s.extensions[fr.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),s.associations.set(a,l)}}return void 0!==n&&(a.colorSpace=n),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const n=void 0===t.attributes.tangent,s=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){const o="PointsMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new RE,Lc.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){const o="LineBasicMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new Ol,Lc.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(n||s||a){let o="ClonedMaterial:"+i.uuid+":";n&&(o+="derivative-tangents:"),s&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),s&&(l.vertexColors=!0),a&&(l.flatShading=!0),n&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return fx}loadMaterial(e){const t=this,n=this.extensions,s=this.json.materials[e];let a;const o={},c=[];if((s.extensions||{})[fr.KHR_MATERIALS_UNLIT]){const u=n[fr.KHR_MATERIALS_UNLIT];a=u.getMaterialType(),c.push(u.extendParams(o,s,t))}else{const u=s.pbrMetallicRoughness||{};if(o.color=new mi(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){const f=u.baseColorFactor;o.color.setRGB(f[0],f[1],f[2],Do),o.opacity=f[3]}void 0!==u.baseColorTexture&&c.push(t.assignTexture(o,"map",u.baseColorTexture,cs)),o.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,o.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture&&(c.push(t.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture))),a=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,o)})))}!0===s.doubleSided&&(o.side=2);const A=s.alphaMode||"OPAQUE";if("BLEND"===A?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,"MASK"===A&&(o.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&a!==oh&&(c.push(t.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new Ut(1,1),void 0!==s.normalTexture.scale)){const u=s.normalTexture.scale;o.normalScale.set(u,u)}if(void 0!==s.occlusionTexture&&a!==oh&&(c.push(t.assignTexture(o,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(o.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&a!==oh){const u=s.emissiveFactor;o.emissive=(new mi).setRGB(u[0],u[1],u[2],Do)}return void 0!==s.emissiveTexture&&a!==oh&&c.push(t.assignTexture(o,"emissiveMap",s.emissiveTexture,cs)),Promise.all(c).then(function(){const u=new a(o);return s.name&&(u.name=s.name),ef(u,s),t.associations.set(u,{materials:e}),s.extensions&&em(n,u,s),u})}createUniqueName(e){const t=Wr.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,n=this.primitiveCache;function s(o){return i[fr.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return nk(l,o,t)})}const a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],A=r8(c),u=n[A];if(u)a.push(u.promise);else{let f;f=c.extensions&&c.extensions[fr.KHR_DRACO_MESH_COMPRESSION]?s(c):nk(new Xn,c,t),n[A]={primitive:c,promise:f},a.push(f)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.extensions,s=this.json.meshes[e],a=s.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const A=void 0===a[l].material?(void 0===(r=this.cache).DefaultMaterial&&(r.DefaultMaterial=new fx({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),r.DefaultMaterial):this.getDependency("material",a[l].material);o.push(A)}var r;return o.push(t.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),A=l[l.length-1],u=[];for(let d=0,_=A.length;d<_;d++){const p=A[d],g=a[d];let m;const C=c[d];if(g.mode===ch.TRIANGLES||g.mode===ch.TRIANGLE_STRIP||g.mode===ch.TRIANGLE_FAN||void 0===g.mode)m=!0===s.isSkinnedMesh?new IE(p,C):new Ao(p,C),!0===m.isSkinnedMesh&&m.normalizeSkinWeights(),g.mode===ch.TRIANGLE_STRIP?m.geometry=XF(m.geometry,1):g.mode===ch.TRIANGLE_FAN&&(m.geometry=XF(m.geometry,2));else if(g.mode===ch.LINES)m=new PE(p,C);else if(g.mode===ch.LINE_STRIP)m=new Jd(p,C);else if(g.mode===ch.LINE_LOOP)m=new iF(p,C);else{if(g.mode!==ch.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);m=new rF(p,C)}Object.keys(m.geometry.morphAttributes).length>0&&n8(m,s),m.name=t.createUniqueName(s.name||"mesh_"+e),ef(m,s),g.extensions&&em(n,m,g),t.assignFinalMaterial(m),u.push(m)}for(let d=0,_=u.length;d<_;d++)t.associations.set(u[d],{meshes:e,primitives:d});if(1===u.length)return s.extensions&&em(n,u[0],s),u[0];const f=new UA;s.extensions&&em(n,f,s),t.associations.set(f,{meshes:e});for(let d=0,_=u.length;d<_;d++)f.add(u[d]);return f})}loadCamera(e){let t;const i=this.json.cameras[e],n=i[i.type];if(n)return"perspective"===i.type?t=new uo(Jo_radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===i.type&&(t=new Hv(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),ef(t,i),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],i=[];for(let n=0,s=t.joints.length;n<s;n++)i.push(this._loadNodeShallow(t.joints[n]));return i.push(void 0!==t.inverseBindMatrices?this.getDependency("accessor",t.inverseBindMatrices):null),Promise.all(i).then(function(n){const s=n.pop(),a=n,o=[],l=[];for(let c=0,A=a.length;c<A;c++){const u=a[c];if(u){o.push(u);const f=new Qi;null!==s&&f.fromArray(s.array,16*c),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Vv(o,l)})}loadAnimation(e){const i=this,n=this.json.animations[e],s=n.name?n.name:"animation_"+e,a=[],o=[],l=[],c=[],A=[];for(let u=0,f=n.channels.length;u<f;u++){const d=n.channels[u],_=n.samplers[d.sampler],p=d.target,m=void 0!==n.parameters?n.parameters[_.input]:_.input,C=void 0!==n.parameters?n.parameters[_.output]:_.output;void 0!==p.node&&(a.push(this.getDependency("node",p.node)),o.push(this.getDependency("accessor",m)),l.push(this.getDependency("accessor",C)),c.push(_),A.push(p))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(A)]).then(function(u){const f=u[0],d=u[1],_=u[2],p=u[3],g=u[4],m=[];for(let C=0,B=f.length;C<B;C++){const S=f[C],U=d[C],H=_[C],N=p[C],P=g[C];if(void 0===S)continue;S.updateMatrix&&S.updateMatrix();const z=i._createAnimationTracks(S,U,H,N,P);if(z)for(let W=0;W<z.length;W++)m.push(z[W])}return new f_(s,void 0,m)})}createNodeMesh(e){const i=this,n=this.json.nodes[e];return void 0===n.mesh?null:i.getDependency("mesh",n.mesh).then(function(s){const a=i._getNodeRef(i.meshCache,n.mesh,s);return void 0!==n.weights&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=n.weights.length;l<c;l++)o.morphTargetInfluences[l]=n.weights[l]}),a})}loadNode(e){const i=this,n=this.json.nodes[e],s=i._loadNodeShallow(e),a=[],o=n.children||[];for(let c=0,A=o.length;c<A;c++)a.push(i.getDependency("node",o[c]));const l=void 0===n.skin?Promise.resolve(null):i.getDependency("skin",n.skin);return Promise.all([s,Promise.all(a),l]).then(function(c){const A=c[0],u=c[1],f=c[2];null!==f&&A.traverse(function(d){d.isSkinnedMesh&&d.bind(f,a8)});for(let d=0,_=u.length;d<_;d++)A.add(u[d]);return A})}_loadNodeShallow(e){const i=this.extensions,n=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const s=this.json.nodes[e],a=s.name?n.createUniqueName(s.name):"",o=[],l=n._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),void 0!==s.camera&&o.push(n.getDependency("camera",s.camera).then(function(c){return n._getNodeRef(n.cameraCache,s.camera,c)})),n._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let A;if(A=!0===s.isBone?new Wv:c.length>1?new UA:1===c.length?c[0]:new Is,A!==c[0])for(let u=0,f=c.length;u<f;u++)A.add(c[u]);if(s.name&&(A.userData.name=s.name,A.name=a),ef(A,s),s.extensions&&em(i,A,s),void 0!==s.matrix){const u=new Qi;u.fromArray(s.matrix),A.applyMatrix4(u)}else void 0!==s.translation&&A.position.fromArray(s.translation),void 0!==s.rotation&&A.quaternion.fromArray(s.rotation),void 0!==s.scale&&A.scale.fromArray(s.scale);return n.associations.has(A)||n.associations.set(A,{}),n.associations.get(A).nodes=e,A}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],n=this,s=new UA;i.name&&(s.name=n.createUniqueName(i.name)),ef(s,i),i.extensions&&em(t,s,i);const a=i.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(n.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let A=0,u=l.length;A<u;A++)s.add(l[A]);return n.associations=(A=>{const u=new Map;for(const[f,d]of n.associations)(f instanceof Lc||f instanceof rc)&&u.set(f,d);return A.traverse(f=>{const d=n.associations.get(f);null!=d&&u.set(f,d)}),u})(s),s})}_createAnimationTracks(e,t,i,n,s){const a=[],o=e.name?e.name:e.uuid,l=[];let c;switch($d[s.path]===$d.weights?e.traverse(function(f){f.morphTargetInfluences&&l.push(f.name?f.name:f.uuid)}):l.push(o),$d[s.path]){case $d.weights:c=jp;break;case $d.rotation:c=Ou;break;case $d.position:case $d.scale:c=Jp;break;default:c=1===i.itemSize?jp:Jp}const A=void 0!==n.interpolation?e8[n.interpolation]:Mg,u=this._getArrayFromAccessor(i);for(let f=0,d=l.length;f<d;f++){const _=new c(l[f]+"."+$d[s.path],t.array,u,A);"CUBICSPLINE"===n.interpolation&&this._createCubicSplineTrackInterpolant(_),a.push(_)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=yM(t.constructor),n=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s++)n[s]=t[s]*i;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){return new(this instanceof Ou?$Y:ek)(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function nk(r,e,t){const i=e.attributes,n=[];function s(a,o){return t.getDependency("accessor",a).then(function(l){r.setAttribute(o,l)})}for(const a in i){const o=vM[a]||a.toLowerCase();o in r.attributes||n.push(s(i[a],o))}if(void 0!==e.indices&&!r.index){const a=t.getDependency("accessor",e.indices).then(function(o){r.setIndex(o)});n.push(a)}return Yr.workingColorSpace!==Do&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Yr.workingColorSpace}" not supported.`),ef(r,e),function l8(r,e,t){const i=e.attributes,n=new ja;if(void 0===i.POSITION)return;{const o=t.json.accessors[i.POSITION],l=o.min,c=o.max;if(void 0===l||void 0===c)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(n.set(new Ce(l[0],l[1],l[2]),new Ce(c[0],c[1],c[2])),o.normalized){const A=yM(p_[o.componentType]);n.min.multiplyScalar(A),n.max.multiplyScalar(A)}}const s=e.targets;if(void 0!==s){const o=new Ce,l=new Ce;for(let c=0,A=s.length;c<A;c++){const u=s[c];if(void 0!==u.POSITION){const f=t.json.accessors[u.POSITION],d=f.min,_=f.max;if(void 0!==d&&void 0!==_){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(_[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(_[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(_[2]))),f.normalized){const p=yM(p_[f.componentType]);l.multiplyScalar(p)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(o)}r.boundingBox=n;const a=new ml;n.getCenter(a.center),a.radius=n.min.distanceTo(n.max)/2,r.boundingSphere=a}(r,e,t),Promise.all(n).then(function(){return void 0!==e.targets?function i8(r,e,t){let i=!1,n=!1,s=!1;for(let c=0,A=e.length;c<A;c++){const u=e[c];if(void 0!==u.POSITION&&(i=!0),void 0!==u.NORMAL&&(n=!0),void 0!==u.COLOR_0&&(s=!0),i&&n&&s)break}if(!i&&!n&&!s)return Promise.resolve(r);const a=[],o=[],l=[];for(let c=0,A=e.length;c<A;c++){const u=e[c];if(i){const f=void 0!==u.POSITION?t.getDependency("accessor",u.POSITION):r.attributes.position;a.push(f)}if(n){const f=void 0!==u.NORMAL?t.getDependency("accessor",u.NORMAL):r.attributes.normal;o.push(f)}if(s){const f=void 0!==u.COLOR_0?t.getDependency("accessor",u.COLOR_0):r.attributes.color;l.push(f)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[1],f=c[2];return i&&(r.morphAttributes.position=c[0]),n&&(r.morphAttributes.normal=u),s&&(r.morphAttributes.color=f),r.morphTargetsRelative=!0,r})}(r,e.targets,t):r})}var xM=function(r){return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))};try{URL.revokeObjectURL(xM(""))}catch{xM=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var ts=Uint8Array,Io=Uint16Array,tf=Uint32Array,m_=new ts([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),g_=new ts([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),aw=new ts([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ak=function(r,e){for(var t=new Io(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];var n=new tf(t[30]);for(i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)n[s]=s-t[i]<<5|i;return[t,n]},ok=ak(m_,2),BM=ok[0],Mx=ok[1];BM[28]=258,Mx[258]=28;for(var ck=ak(g_,0)[0],ow=new Io(32768),Fs=0;Fs<32768;++Fs){var nf=(43690&Fs)>>>1|(21845&Fs)<<1;ow[Fs]=((65280&(nf=(61680&(nf=(52428&nf)>>>2|(13107&nf)<<2))>>>4|(3855&nf)<<4))>>>8|(255&nf)<<8)>>>1}var HA=function(r,e,t){for(var i=r.length,n=0,s=new Io(e);n<i;++n)++s[r[n]-1];var o,a=new Io(e);for(n=0;n<e;++n)a[n]=a[n-1]+s[n-1]<<1;if(t){o=new Io(1<<e);var l=15-e;for(n=0;n<i;++n)if(r[n])for(var c=n<<4|r[n],A=e-r[n],u=a[r[n]-1]++<<A,f=u|(1<<A)-1;u<=f;++u)o[ow[u]>>>l]=c}else for(o=new Io(i),n=0;n<i;++n)r[n]&&(o[n]=ow[a[r[n]-1]++]>>>15-r[n]);return o},rf=new ts(288);for(Fs=0;Fs<144;++Fs)rf[Fs]=8;for(Fs=144;Fs<256;++Fs)rf[Fs]=9;for(Fs=256;Fs<280;++Fs)rf[Fs]=7;for(Fs=280;Fs<288;++Fs)rf[Fs]=8;var lw=new ts(32);for(Fs=0;Fs<32;++Fs)lw[Fs]=5;var Ak=HA(rf,9,1),dk=HA(lw,5,1),Tx=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},hh=function(r,e,t){var i=e/8|0;return(r[i]|r[i+1]<<8)>>(7&e)&t},Dx=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(7&e)},cw=function(r){return(r/8|0)+(7&r&&1)},Sx=function(r,e,t){var i=r.length;if(!i||t&&!t.l&&i<5)return e||new ts(0);var n=!e||t,s=!t||t.i;t||(t={}),e||(e=new ts(3*i));var a=function(De){var Fe=e.length;if(De>Fe){var He=new ts(Math.max(2*Fe,De));He.set(e),e=He}},o=t.f||0,l=t.p||0,c=t.b||0,A=t.l,u=t.d,f=t.m,d=t.n,_=8*i;do{if(!A){t.f=o=hh(r,l,1);var p=hh(r,l+1,3);if(l+=3,!p){var m=r[(g=cw(l)+4)-4]|r[g-3]<<8,C=g+m;if(C>i){if(s)throw"unexpected EOF";break}n&&a(c+m),e.set(r.subarray(g,C),c),t.b=c+=m,t.p=l=8*C;continue}if(1==p)A=Ak,u=dk,f=9,d=5;else{if(2!=p)throw"invalid block type";var B=hh(r,l,31)+257,S=hh(r,l+10,15)+4,U=B+hh(r,l+5,31)+1;l+=14;for(var H=new ts(U),N=new ts(19),P=0;P<S;++P)N[aw[P]]=hh(r,l+3*P,7);l+=3*S;var z=Tx(N),W=(1<<z)-1,Y=HA(N,z,1);for(P=0;P<U;){var g,K=Y[hh(r,l,W)];if(l+=15&K,(g=K>>>4)<16)H[P++]=g;else{var q=0,Q=0;for(16==g?(Q=3+hh(r,l,3),l+=2,q=H[P-1]):17==g?(Q=3+hh(r,l,7),l+=3):18==g&&(Q=11+hh(r,l,127),l+=7);Q--;)H[P++]=q}}var ie=H.subarray(0,B),ee=H.subarray(B);f=Tx(ie),d=Tx(ee),A=HA(ie,f,1),u=HA(ee,d,1)}if(l>_){if(s)throw"unexpected EOF";break}}n&&a(c+131072);for(var he=(1<<f)-1,pe=(1<<d)-1,ue=l;;ue=l){var Be=(q=A[Dx(r,l)&he])>>>4;if((l+=15&q)>_){if(s)throw"unexpected EOF";break}if(!q)throw"invalid length/literal";if(Be<256)e[c++]=Be;else{if(256==Be){ue=l,A=null;break}var Le=Be-254;Be>264&&(Le=hh(r,l,(1<<(J=m_[P=Be-257]))-1)+BM[P],l+=J);var te=u[Dx(r,l)&pe],le=te>>>4;if(!te)throw"invalid distance";if(l+=15&te,ee=ck[le],le>3){var J=g_[le];ee+=Dx(r,l)&(1<<J)-1,l+=J}if(l>_){if(s)throw"unexpected EOF";break}n&&a(c+131072);for(var be=c+Le;c<be;c+=4)e[c]=e[c-ee],e[c+1]=e[c+1-ee],e[c+2]=e[c+2-ee],e[c+3]=e[c+3-ee];c=be}}t.l=A,t.p=ue,t.b=c,A&&(o=1,t.m=f,t.d=u,t.n=d)}while(!o);return c==e.length?e:function(r,e,t){(null==e||e<0)&&(e=0),(null==t||t>r.length)&&(t=r.length);var i=new(r instanceof Io?Io:r instanceof tf?tf:ts)(t-e);return i.set(r.subarray(e,t)),i}(e,0,c)},kx=new ts(0);var LM=typeof TextDecoder<"u"&&new TextDecoder;try{LM.decode(kx,{stream:!0})}catch{}function zx(r,e,t){const i=t.length-r-1;if(e>=t[i])return i-1;if(e<=t[r])return r;let n=r,s=i,a=Math.floor((n+s)/2);for(;e<t[a]||e>=t[a+1];)e<t[a]?s=a:n=a,a=Math.floor((n+s)/2);return a}function C8(r,e){let t=1;for(let n=2;n<=r;++n)t*=n;let i=1;for(let n=2;n<=e;++n)i*=n;for(let n=2;n<=r-e;++n)i*=n;return t/i}class T8 extends Gh{constructor(e,t,i,n,s){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=n||0,this.endKnot=s||this.knots.length-1;for(let a=0;a<i.length;++a){const o=i[a];this.controlPoints[a]=new Rr(o.x,o.y,o.z,o.w)}}getPoint(e,t=new Ce){const i=t,s=function y8(r,e,t,i){const n=zx(r,i,e),s=function PM(r,e,t,i){const n=[],s=[],a=[];n[0]=1;for(let o=1;o<=t;++o){s[o]=e-i[r+1-o],a[o]=i[r+o]-e;let l=0;for(let c=0;c<o;++c){const A=a[c+1],u=s[o-c],f=n[c]/(A+u);n[c]=l+A*f,l=u*f}n[o]=l}return n}(n,i,r,e),a=new Rr(0,0,0,0);for(let o=0;o<=r;++o){const l=t[n-r+o],c=s[o],A=l.w*c;a.x+=l.x*A,a.y+=l.y*A,a.z+=l.z*A,a.w+=l.w*c}return a}(this.degree,this.knots,this.controlPoints,this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]));return 1!==s.w&&s.divideScalar(s.w),i.set(s.x,s.y,s.z)}getTangent(e,t=new Ce){const i=t,s=function M8(r,e,t,i,n){const s=function B8(r,e,t,i,n){const s=n<r?n:r,a=[],o=zx(r,i,e),l=function x8(r,e,t,i,n){const s=[];for(let u=0;u<=t;++u)s[u]=0;const a=[];for(let u=0;u<=i;++u)a[u]=s.slice(0);const o=[];for(let u=0;u<=t;++u)o[u]=s.slice(0);o[0][0]=1;const l=s.slice(0),c=s.slice(0);for(let u=1;u<=t;++u){l[u]=e-n[r+1-u],c[u]=n[r+u]-e;let f=0;for(let d=0;d<u;++d){const _=c[d+1],p=l[u-d];o[u][d]=_+p;const g=o[d][u-1]/o[u][d];o[d][u]=f+_*g,f=p*g}o[u][u]=f}for(let u=0;u<=t;++u)a[0][u]=o[u][t];for(let u=0;u<=t;++u){let f=0,d=1;const _=[];for(let p=0;p<=t;++p)_[p]=s.slice(0);_[0][0]=1;for(let p=1;p<=i;++p){let g=0;const m=u-p,C=t-p;u>=p&&(_[d][0]=_[f][0]/o[C+1][m],g=_[d][0]*o[m][C]);const S=u-1<=C?p-1:t-u;for(let H=m>=-1?1:-m;H<=S;++H)_[d][H]=(_[f][H]-_[f][H-1])/o[C+1][m+H],g+=_[d][H]*o[m+H][C];u<=C&&(_[d][p]=-_[f][p-1]/o[C+1][u],g+=_[d][p]*o[u][C]),a[p][u]=g;const U=f;f=d,d=U}}let A=t;for(let u=1;u<=i;++u){for(let f=0;f<=t;++f)a[u][f]*=A;A*=t-u}return a}(o,i,r,s,e),c=[];for(let A=0;A<t.length;++A){const u=t[A].clone(),f=u.w;u.x*=f,u.y*=f,u.z*=f,c[A]=u}for(let A=0;A<=s;++A){const u=c[o-r].clone().multiplyScalar(l[A][0]);for(let f=1;f<=r;++f)u.add(c[o-r+f].clone().multiplyScalar(l[A][f]));a[A]=u}for(let A=s+1;A<=n+1;++A)a[A]=new Rr(0,0,0);return a}(r,e,t,i,n);return function E8(r){const e=r.length,t=[],i=[];for(let s=0;s<e;++s){const a=r[s];t[s]=new Ce(a.x,a.y,a.z),i[s]=a.w}const n=[];for(let s=0;s<e;++s){const a=t[s].clone();for(let o=1;o<=s;++o)a.sub(n[s-o].clone().multiplyScalar(C8(s,o)*i[o]));n[s]=a.divideScalar(i[0])}return n}(s)}(this.degree,this.knots,this.controlPoints,this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),1);return i.copy(s[1]).normalize(),i}}let cr,Ba,Nl;class D8 extends Zd{constructor(e){super(e)}load(e,t,i,n){const s=this,a=""===s.path?Xd.extractUrlBase(e):s.path,o=new Yh(this.manager);o.setPath(s.path),o.setResponseType("arraybuffer"),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{t(s.parse(l,a))}catch(c){n?n(c):console.error(c),s.manager.itemError(e)}},i,n)}parse(e,t){if(function P8(r){const e="Kaydara FBX Binary  \0";return r.byteLength>=21&&e===Qk(r,0,21)}(e))cr=(new L8).parse(e);else{const n=Qk(e);if(!function R8(r){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function i(n){const s=r[n-1];return r=r.slice(t+n),t++,s}for(let n=0;n<e.length;++n)if(i(1)===e[n])return!1;return!0}(n))throw new Error("THREE.FBXLoader: Unknown format.");if(Pk(n)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+Pk(n));cr=(new k8).parse(n)}const i=new EF(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new S8(i,this.manager).parse(cr)}}class S8{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){Ba=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),i=this.parseMaterials(t),n=this.parseDeformers(),s=(new I8).parse(n);return this.parseScene(n,s,i),Nl}parseConnections(){const e=new Map;return"Connections"in cr&&cr.Connections.connections.forEach(function(i){const n=i[0],s=i[1],a=i[2];e.has(n)||e.set(n,{parents:[],children:[]});const o={ID:s,relationship:a};e.get(n).parents.push(o),e.has(s)||e.set(s,{parents:[],children:[]});const l={ID:n,relationship:a};e.get(s).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in cr.Objects){const i=cr.Objects.Video;for(const n in i){const s=i[n];if(e[parseInt(n)]=s.RelativeFilename||s.Filename,"Content"in s&&(s.Content instanceof ArrayBuffer&&s.Content.byteLength>0||"string"==typeof s.Content&&""!==s.Content)){const c=this.parseImage(i[n]);t[s.RelativeFilename||s.Filename]=c}}}for(const i in e){const n=e[i];e[i]=void 0!==t[n]?t[n]:e[i].split("\\").pop()}return e}parseImage(e){const t=e.Content,i=e.RelativeFilename||e.Filename,n=i.slice(i.lastIndexOf(".")+1).toLowerCase();let s;switch(n){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",i),s="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+n+'" is not supported.')}if("string"==typeof t)return"data:"+s+";base64,"+t;{const a=new Uint8Array(t);return window.URL.createObjectURL(new Blob([a],{type:s}))}}parseTextures(e){const t=new Map;if("Texture"in cr.Objects){const i=cr.Objects.Texture;for(const n in i){const s=this.parseTexture(i[n],e);t.set(parseInt(n),s)}}return t}parseTexture(e,t){const i=this.loadTexture(e,t);i.ID=e.id,i.name=e.attrName;const n=e.WrapModeU,s=e.WrapModeV,o=void 0!==s?s.value:0;if(i.wrapS=0===(void 0!==n?n.value:0)?Iu:To,i.wrapT=0===o?Iu:To,"Scaling"in e){const l=e.Scaling.value;i.repeat.x=l[0],i.repeat.y=l[1]}if("Translation"in e){const l=e.Translation.value;i.offset.x=l[0],i.offset.y=l[1]}return i}loadTexture(e,t){let i;const n=this.textureLoader.path,s=Ba.get(e.id).children;let a;void 0!==s&&s.length>0&&void 0!==t[s[0].ID]&&(i=t[s[0].ID],(0===i.indexOf("blob:")||0===i.indexOf("data:"))&&this.textureLoader.setPath(void 0));const o=e.FileName.slice(-3).toLowerCase();if("tga"===o){const l=this.manager.getHandler(".tga");null===l?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),a=new rc):(l.setPath(this.textureLoader.path),a=l.load(i))}else if("dds"===o){const l=this.manager.getHandler(".dds");null===l?(console.warn("FBXLoader: DDS loader not found, creating placeholder texture for",e.RelativeFilename),a=new rc):(l.setPath(this.textureLoader.path),a=l.load(i))}else"psd"===o?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),a=new rc):a=this.textureLoader.load(i);return this.textureLoader.setPath(n),a}parseMaterials(e){const t=new Map;if("Material"in cr.Objects){const i=cr.Objects.Material;for(const n in i){const s=this.parseMaterial(i[n],e);null!==s&&t.set(parseInt(n),s)}}return t}parseMaterial(e,t){const i=e.id,n=e.attrName;let s=e.ShadingModel;if("object"==typeof s&&(s=s.value),!Ba.has(i))return null;const a=this.parseParameters(e,t,i);let o;switch(s.toLowerCase()){case"phong":o=new px;break;case"lambert":o=new wF;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),o=new px}return o.setValues(a),o.name=n,o}parseParameters(e,t,i){const n={};e.BumpFactor&&(n.bumpScale=e.BumpFactor.value),e.Diffuse?n.color=(new mi).fromArray(e.Diffuse.value).convertSRGBToLinear():e.DiffuseColor&&("Color"===e.DiffuseColor.type||"ColorRGB"===e.DiffuseColor.type)&&(n.color=(new mi).fromArray(e.DiffuseColor.value).convertSRGBToLinear()),e.DisplacementFactor&&(n.displacementScale=e.DisplacementFactor.value),e.Emissive?n.emissive=(new mi).fromArray(e.Emissive.value).convertSRGBToLinear():e.EmissiveColor&&("Color"===e.EmissiveColor.type||"ColorRGB"===e.EmissiveColor.type)&&(n.emissive=(new mi).fromArray(e.EmissiveColor.value).convertSRGBToLinear()),e.EmissiveFactor&&(n.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(n.opacity=parseFloat(e.Opacity.value)),n.opacity<1&&(n.transparent=!0),e.ReflectionFactor&&(n.reflectivity=e.ReflectionFactor.value),e.Shininess&&(n.shininess=e.Shininess.value),e.Specular?n.specular=(new mi).fromArray(e.Specular.value).convertSRGBToLinear():e.SpecularColor&&"Color"===e.SpecularColor.type&&(n.specular=(new mi).fromArray(e.SpecularColor.value).convertSRGBToLinear());const s=this;return Ba.get(i).children.forEach(function(a){const o=a.relationship;switch(o){case"Bump":n.bumpMap=s.getTexture(t,a.ID);break;case"Maya|TEX_ao_map":n.aoMap=s.getTexture(t,a.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":n.map=s.getTexture(t,a.ID),void 0!==n.map&&(n.map.colorSpace=cs);break;case"DisplacementColor":n.displacementMap=s.getTexture(t,a.ID);break;case"EmissiveColor":n.emissiveMap=s.getTexture(t,a.ID),void 0!==n.emissiveMap&&(n.emissiveMap.colorSpace=cs);break;case"NormalMap":case"Maya|TEX_normal_map":n.normalMap=s.getTexture(t,a.ID);break;case"ReflectionColor":n.envMap=s.getTexture(t,a.ID),void 0!==n.envMap&&(n.envMap.mapping=303,n.envMap.colorSpace=cs);break;case"SpecularColor":n.specularMap=s.getTexture(t,a.ID),void 0!==n.specularMap&&(n.specularMap.colorSpace=cs);break;case"TransparentColor":case"TransparencyFactor":n.alphaMap=s.getTexture(t,a.ID),n.transparent=!0;break;default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",o)}}),n}getTexture(e,t){return"LayeredTexture"in cr.Objects&&t in cr.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=Ba.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in cr.Objects){const i=cr.Objects.Deformer;for(const n in i){const s=i[n],a=Ba.get(parseInt(n));if("Skin"===s.attrType){const o=this.parseSkeleton(a,i);o.ID=n,a.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),o.geometryID=a.parents[0].ID,e[n]=o}else if("BlendShape"===s.attrType){const o={id:n};o.rawTargets=this.parseMorphTargets(a,i),o.id=n,a.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[n]=o}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const i=[];return e.children.forEach(function(n){const s=t[n.ID];if("Cluster"!==s.attrType)return;const a={ID:n.ID,indices:[],weights:[],transformLink:(new Qi).fromArray(s.TransformLink.a)};"Indexes"in s&&(a.indices=s.Indexes.a,a.weights=s.Weights.a),i.push(a)}),{rawBones:i,bones:[]}}parseMorphTargets(e,t){const i=[];for(let n=0;n<e.children.length;n++){const s=e.children[n],a=t[s.ID],o={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if("BlendShapeChannel"!==a.attrType)return;o.geoID=Ba.get(parseInt(s.ID)).children.filter(function(l){return void 0===l.relationship})[0].ID,i.push(o)}return i}parseScene(e,t,i){Nl=new UA;const n=this.parseModels(e.skeletons,t,i),s=cr.Objects.Model,a=this;n.forEach(function(l){a.setLookAtProperties(l,s[l.ID]),Ba.get(l.ID).parents.forEach(function(u){const f=n.get(u.ID);void 0!==f&&f.add(l)}),null===l.parent&&Nl.add(l)}),this.bindSkeleton(e.skeletons,t,n),this.addGlobalSceneSettings(),Nl.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=Rk(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const o=(new F8).parse();1===Nl.children.length&&Nl.children[0].isGroup&&(Nl.children[0].animations=o,Nl=Nl.children[0]),Nl.animations=o}parseModels(e,t,i){const n=new Map,s=cr.Objects.Model;for(const a in s){const o=parseInt(a),l=s[a],c=Ba.get(o);let A=this.buildSkeleton(c,e,o,l.attrName);if(!A){switch(l.attrType){case"Camera":A=this.createCamera(c);break;case"Light":A=this.createLight(c);break;case"Mesh":A=this.createMesh(c,t,i);break;case"NurbsCurve":A=this.createCurve(c,t);break;case"LimbNode":case"Root":A=new Wv;break;default:A=new UA}A.name=l.attrName?Wr.sanitizeNodeName(l.attrName):"",A.userData.originalName=l.attrName,A.ID=o}this.getTransformData(A,l),n.set(o,A)}return n}buildSkeleton(e,t,i,n){let s=null;return e.parents.forEach(function(a){for(const o in t){const l=t[o];l.rawBones.forEach(function(c,A){if(c.ID===a.ID){const u=s;s=new Wv,s.matrixWorld.copy(c.transformLink),s.name=n?Wr.sanitizeNodeName(n):"",s.userData.originalName=n,s.ID=i,l.bones[A]=s,null!==u&&s.add(u)}})}}),s}createCamera(e){let t,i;if(e.children.forEach(function(n){const s=cr.Objects.NodeAttribute[n.ID];void 0!==s&&(i=s)}),void 0===i)t=new Is;else{let n=0;void 0!==i.CameraProjectionType&&1===i.CameraProjectionType.value&&(n=1);let s=1;void 0!==i.NearPlane&&(s=i.NearPlane.value/1e3);let a=1e3;void 0!==i.FarPlane&&(a=i.FarPlane.value/1e3);let o=window.innerWidth,l=window.innerHeight;void 0!==i.AspectWidth&&void 0!==i.AspectHeight&&(o=i.AspectWidth.value,l=i.AspectHeight.value);const c=o/l;let A=45;void 0!==i.FieldOfView&&(A=i.FieldOfView.value);const u=i.FocalLength?i.FocalLength.value:null;switch(n){case 0:t=new uo(A,c,s,a),null!==u&&t.setFocalLength(u);break;case 1:t=new Hv(-o/2,o/2,l/2,-l/2,s,a);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+n+"."),t=new Is}}return t}createLight(e){let t,i;if(e.children.forEach(function(n){const s=cr.Objects.NodeAttribute[n.ID];void 0!==s&&(i=s)}),void 0===i)t=new Is;else{let n;n=void 0===i.LightType?0:i.LightType.value;let s=16777215;void 0!==i.Color&&(s=(new mi).fromArray(i.Color.value).convertSRGBToLinear());let a=void 0===i.Intensity?1:i.Intensity.value/100;void 0!==i.CastLightOnObject&&0===i.CastLightOnObject.value&&(a=0);let o=0;void 0!==i.FarAttenuationEnd&&(o=void 0!==i.EnableFarAttenuation&&0===i.EnableFarAttenuation.value?0:i.FarAttenuationEnd.value);const l=1;switch(n){case 0:t=new rw(s,a,o,l);break;case 1:t=new vx(s,a);break;case 2:let c=Math.PI/3;void 0!==i.InnerAngle&&(c=Jo_degToRad(i.InnerAngle.value));let A=0;void 0!==i.OuterAngle&&(A=Jo_degToRad(i.OuterAngle.value),A=Math.max(A,1)),t=new _x(s,a,o,c,A,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+i.LightType.value+", defaulting to a PointLight."),t=new rw(s,a)}void 0!==i.CastShadows&&1===i.CastShadows.value&&(t.castShadow=!0)}return t}createMesh(e,t,i){let n,s=null,a=null;const o=[];return e.children.forEach(function(l){t.has(l.ID)&&(s=t.get(l.ID)),i.has(l.ID)&&o.push(i.get(l.ID))}),o.length>1?a=o:o.length>0?a=o[0]:(a=new px({name:Zd.DEFAULT_MATERIAL_NAME,color:13421772}),o.push(a)),"color"in s.attributes&&o.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(n=new IE(s,a),n.normalizeSkinWeights()):n=new Ao(s,a),n}createCurve(e,t){const i=e.children.reduce(function(s,a){return t.has(a.ID)&&(s=t.get(a.ID)),s},null),n=new Ol({name:Zd.DEFAULT_MATERIAL_NAME,color:3342591,linewidth:1});return new Jd(i,n)}getTransformData(e,t){const i={};"InheritType"in t&&(i.inheritType=parseInt(t.InheritType.value)),i.eulerOrder="RotationOrder"in t?Uk(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(i.translation=t.Lcl_Translation.value),"PreRotation"in t&&(i.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(i.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(i.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(i.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(i.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(i.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(i.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(i.rotationPivot=t.RotationPivot.value),e.userData.transformData=i}setLookAtProperties(e,t){"LookAtProperty"in t&&Ba.get(e.ID).children.forEach(function(n){if("LookAtProperty"===n.relationship){const s=cr.Objects.Model[n.ID];if("Lcl_Translation"in s){const a=s.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(a),Nl.add(e.target)):e.lookAt((new Ce).fromArray(a))}}})}bindSkeleton(e,t,i){const n=this.parsePoseNodes();for(const s in e){const a=e[s];Ba.get(parseInt(a.ID)).parents.forEach(function(l){t.has(l.ID)&&Ba.get(l.ID).parents.forEach(function(u){i.has(u.ID)&&i.get(u.ID).bind(new Vv(a.bones),n[u.ID])})})}}parsePoseNodes(){const e={};if("Pose"in cr.Objects){const t=cr.Objects.Pose;for(const i in t)if("BindPose"===t[i].attrType&&t[i].NbPoseNodes>0){const n=t[i].PoseNode;Array.isArray(n)?n.forEach(function(s){e[s.Node]=(new Qi).fromArray(s.Matrix.a)}):e[n.Node]=(new Qi).fromArray(n.Matrix.a)}}return e}addGlobalSceneSettings(){if("GlobalSettings"in cr){if("AmbientColor"in cr.GlobalSettings){const e=cr.GlobalSettings.AmbientColor.value,t=e[0],i=e[1],n=e[2];if(0!==t||0!==i||0!==n){const s=new mi(t,i,n).convertSRGBToLinear();Nl.add(new cM(s,1))}}"UnitScaleFactor"in cr.GlobalSettings&&(Nl.userData.unitScaleFactor=cr.GlobalSettings.UnitScaleFactor.value)}}}class I8{constructor(){this.negativeMaterialIndices=!1}parse(e){const t=new Map;if("Geometry"in cr.Objects){const i=cr.Objects.Geometry;for(const n in i){const s=Ba.get(parseInt(n)),a=this.parseGeometry(s,i[n],e);t.set(parseInt(n),a)}}return!0===this.negativeMaterialIndices&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),t}parseGeometry(e,t,i){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,i);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,i){const n=i.skeletons,s=[],a=e.parents.map(function(u){return cr.Objects.Model[u.ID]});if(0===a.length)return;const o=e.children.reduce(function(u,f){return void 0!==n[f.ID]&&(u=n[f.ID]),u},null);e.children.forEach(function(u){void 0!==i.morphTargets[u.ID]&&s.push(i.morphTargets[u.ID])});const l=a[0],c={};"RotationOrder"in l&&(c.eulerOrder=Uk(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const A=Rk(c);return this.genGeometry(t,o,s,A)}genGeometry(e,t,i,n){const s=new Xn;e.attrName&&(s.name=e.attrName);const a=this.parseGeoNode(e,t),o=this.genBuffers(a),l=new Vi(o.vertex,3);if(l.applyMatrix4(n),s.setAttribute("position",l),o.colors.length>0&&s.setAttribute("color",new Vi(o.colors,3)),t&&(s.setAttribute("skinIndex",new uE(o.weightsIndices,4)),s.setAttribute("skinWeight",new Vi(o.vertexWeights,4)),s.FBX_Deformer=t),o.normal.length>0){const c=(new nr).getNormalMatrix(n),A=new Vi(o.normal,3);A.applyNormalMatrix(c),s.setAttribute("normal",A)}if(o.uvs.forEach(function(c,A){s.setAttribute(0===A?"uv":`uv${A}`,new Vi(o.uvs[A],2))}),a.material&&"AllSame"!==a.material.mappingType){let c=o.materialIndex[0],A=0;if(o.materialIndex.forEach(function(u,f){u!==c&&(s.addGroup(A,f-A,c),c=u,A=f)}),s.groups.length>0){const u=s.groups[s.groups.length-1],f=u.start+u.count;f!==o.materialIndex.length&&s.addGroup(f,o.materialIndex.length-f,c)}0===s.groups.length&&s.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(s,e,i,n),s}parseGeoNode(e,t){const i={};if(i.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],i.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(i.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(i.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(i.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){i.uv=[];let n=0;for(;e.LayerElementUV[n];)e.LayerElementUV[n].UV&&i.uv.push(this.parseUVs(e.LayerElementUV[n])),n++}return i.weightTable={},null!==t&&(i.skeleton=t,t.rawBones.forEach(function(n,s){n.indices.forEach(function(a,o){void 0===i.weightTable[a]&&(i.weightTable[a]=[]),i.weightTable[a].push({id:s,weight:n.weights[o]})})})),i}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let i=0,n=0,s=!1,a=[],o=[],l=[],c=[],A=[],u=[];const f=this;return e.vertexIndices.forEach(function(d,_){let p,g=!1;d<0&&(d^=-1,g=!0);let m=[],C=[];if(a.push(3*d,3*d+1,3*d+2),e.color){const B=Gx(_,i,d,e.color);l.push(B[0],B[1],B[2])}if(e.skeleton){if(void 0!==e.weightTable[d]&&e.weightTable[d].forEach(function(B){C.push(B.weight),m.push(B.id)}),C.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const B=[0,0,0,0],S=[0,0,0,0];C.forEach(function(U,H){let N=U,P=m[H];S.forEach(function(z,W,Y){if(N>z){Y[W]=N,N=z;const K=B[W];B[W]=P,P=K}})}),m=B,C=S}for(;C.length<4;)C.push(0),m.push(0);for(let B=0;B<4;++B)A.push(C[B]),u.push(m[B])}if(e.normal){const B=Gx(_,i,d,e.normal);o.push(B[0],B[1],B[2])}e.material&&"AllSame"!==e.material.mappingType&&(p=Gx(_,i,d,e.material)[0],p<0&&(f.negativeMaterialIndices=!0,p=0)),e.uv&&e.uv.forEach(function(B,S){const U=Gx(_,i,d,B);void 0===c[S]&&(c[S]=[]),c[S].push(U[0]),c[S].push(U[1])}),n++,g&&(f.genFace(t,e,a,p,o,l,c,A,u,n),i++,n=0,a=[],o=[],l=[],c=[],A=[],u=[])}),t}getNormalNewell(e){const t=new Ce(0,0,0);for(let i=0;i<e.length;i++){const n=e[i],s=e[(i+1)%e.length];t.x+=(n.y-s.y)*(n.z+s.z),t.y+=(n.z-s.z)*(n.x+s.x),t.z+=(n.x-s.x)*(n.y+s.y)}return t.normalize(),t}getNormalTangentAndBitangent(e){const t=this.getNormalNewell(e),n=(Math.abs(t.z)>.5?new Ce(0,1,0):new Ce(0,0,1)).cross(t).normalize(),s=t.clone().cross(n).normalize();return{normal:t,tangent:n,bitangent:s}}flattenVertex(e,t,i){return new Ut(e.dot(t),e.dot(i))}genFace(e,t,i,n,s,a,o,l,c,A){let u;if(A>3){const f=[];for(let g=0;g<i.length;g+=3)f.push(new Ce(t.vertexPositions[i[g]],t.vertexPositions[i[g+1]],t.vertexPositions[i[g+2]]));const{tangent:d,bitangent:_}=this.getNormalTangentAndBitangent(f),p=[];for(const g of f)p.push(this.flattenVertex(g,d,_));u=QA.triangulateShape(p,[])}else u=[[0,1,2]];for(const[f,d,_]of u)e.vertex.push(t.vertexPositions[i[3*f]]),e.vertex.push(t.vertexPositions[i[3*f+1]]),e.vertex.push(t.vertexPositions[i[3*f+2]]),e.vertex.push(t.vertexPositions[i[3*d]]),e.vertex.push(t.vertexPositions[i[3*d+1]]),e.vertex.push(t.vertexPositions[i[3*d+2]]),e.vertex.push(t.vertexPositions[i[3*_]]),e.vertex.push(t.vertexPositions[i[3*_+1]]),e.vertex.push(t.vertexPositions[i[3*_+2]]),t.skeleton&&(e.vertexWeights.push(l[4*f]),e.vertexWeights.push(l[4*f+1]),e.vertexWeights.push(l[4*f+2]),e.vertexWeights.push(l[4*f+3]),e.vertexWeights.push(l[4*d]),e.vertexWeights.push(l[4*d+1]),e.vertexWeights.push(l[4*d+2]),e.vertexWeights.push(l[4*d+3]),e.vertexWeights.push(l[4*_]),e.vertexWeights.push(l[4*_+1]),e.vertexWeights.push(l[4*_+2]),e.vertexWeights.push(l[4*_+3]),e.weightsIndices.push(c[4*f]),e.weightsIndices.push(c[4*f+1]),e.weightsIndices.push(c[4*f+2]),e.weightsIndices.push(c[4*f+3]),e.weightsIndices.push(c[4*d]),e.weightsIndices.push(c[4*d+1]),e.weightsIndices.push(c[4*d+2]),e.weightsIndices.push(c[4*d+3]),e.weightsIndices.push(c[4*_]),e.weightsIndices.push(c[4*_+1]),e.weightsIndices.push(c[4*_+2]),e.weightsIndices.push(c[4*_+3])),t.color&&(e.colors.push(a[3*f]),e.colors.push(a[3*f+1]),e.colors.push(a[3*f+2]),e.colors.push(a[3*d]),e.colors.push(a[3*d+1]),e.colors.push(a[3*d+2]),e.colors.push(a[3*_]),e.colors.push(a[3*_+1]),e.colors.push(a[3*_+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(n),e.materialIndex.push(n),e.materialIndex.push(n)),t.normal&&(e.normal.push(s[3*f]),e.normal.push(s[3*f+1]),e.normal.push(s[3*f+2]),e.normal.push(s[3*d]),e.normal.push(s[3*d+1]),e.normal.push(s[3*d+2]),e.normal.push(s[3*_]),e.normal.push(s[3*_+1]),e.normal.push(s[3*_+2])),t.uv&&t.uv.forEach(function(p,g){void 0===e.uvs[g]&&(e.uvs[g]=[]),e.uvs[g].push(o[g][2*f]),e.uvs[g].push(o[g][2*f+1]),e.uvs[g].push(o[g][2*d]),e.uvs[g].push(o[g][2*d+1]),e.uvs[g].push(o[g][2*_]),e.uvs[g].push(o[g][2*_+1])})}addMorphTargets(e,t,i,n){if(0===i.length)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;i.forEach(function(a){a.rawTargets.forEach(function(o){const l=cr.Objects.Geometry[o.geoID];void 0!==l&&s.genMorphGeometry(e,t,l,n,o.name)})})}genMorphGeometry(e,t,i,n,s){const a=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],o=void 0!==i.Vertices?i.Vertices.a:[],l=void 0!==i.Indexes?i.Indexes.a:[],A=new Float32Array(3*e.attributes.position.count);for(let _=0;_<l.length;_++){const p=3*l[_];A[p]=o[3*_],A[p+1]=o[3*_+1],A[p+2]=o[3*_+2]}const f=this.genBuffers({vertexIndices:a,vertexPositions:A}),d=new Vi(f.vertex,3);d.name=s||i.attrName,d.applyMatrix4(n),e.morphAttributes.position.push(d)}parseNormals(e){const i=e.ReferenceInformationType;let s=[];return"IndexToDirect"===i&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:e.Normals.a,indices:s,mappingType:e.MappingInformationType,referenceType:i}}parseUVs(e){const i=e.ReferenceInformationType;let s=[];return"IndexToDirect"===i&&(s=e.UVIndex.a),{dataSize:2,buffer:e.UV.a,indices:s,mappingType:e.MappingInformationType,referenceType:i}}parseVertexColors(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,n=e.Colors.a;let s=[];"IndexToDirect"===i&&(s=e.ColorIndex.a);for(let a=0,o=new mi;a<n.length;a+=4)o.fromArray(n,a).convertSRGBToLinear().toArray(n,a);return{dataSize:4,buffer:n,indices:s,mappingType:t,referenceType:i}}parseMaterialIndices(e){const t=e.MappingInformationType,i=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:i};const n=e.Materials.a,s=[];for(let a=0;a<n.length;++a)s.push(a);return{dataSize:1,buffer:n,indices:s,mappingType:t,referenceType:i}}parseNurbsGeometry(e){const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new Xn;const i=t-1,n=e.KnotVector.a,s=[],a=e.Points.a;for(let u=0,f=a.length;u<f;u+=4)s.push((new Rr).fromArray(a,u));let o,l;if("Closed"===e.Form)s.push(s[0]);else if("Periodic"===e.Form){o=i,l=n.length-1-o;for(let u=0;u<i;++u)s.push(s[u])}const A=new T8(i,n,s,o,l).getPoints(12*s.length);return(new Xn).setFromPoints(A)}}class F8{parse(){const e=[],t=this.parseClips();if(void 0!==t)for(const i in t){const s=this.addClip(t[i]);e.push(s)}return e}parseClips(){if(void 0===cr.Objects.AnimationCurve)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=cr.Objects.AnimationCurveNode,t=new Map;for(const i in e){const n=e[i];if(null!==n.attrName.match(/S|R|T|DeformPercent/)){const s={id:n.id,attr:n.attrName,curves:{}};t.set(s.id,s)}}return t}parseAnimationCurves(e){const t=cr.Objects.AnimationCurve;for(const i in t){const n={id:t[i].id,times:t[i].KeyTime.a.map(U8),values:t[i].KeyValueFloat.a},s=Ba.get(n.id);if(void 0!==s){const a=s.parents[0].ID,o=s.parents[0].relationship;o.match(/X/)?e.get(a).curves.x=n:o.match(/Y/)?e.get(a).curves.y=n:o.match(/Z/)?e.get(a).curves.z=n:o.match(/DeformPercent/)&&e.has(a)&&(e.get(a).curves.morph=n)}}}parseAnimationLayers(e){const t=cr.Objects.AnimationLayer,i=new Map;for(const n in t){const s=[],a=Ba.get(parseInt(n));void 0!==a&&(a.children.forEach(function(l,c){if(e.has(l.ID)){const A=e.get(l.ID);if(void 0!==A.curves.x||void 0!==A.curves.y||void 0!==A.curves.z){if(void 0===s[c]){const u=Ba.get(l.ID).parents.filter(function(f){return void 0!==f.relationship})[0].ID;if(void 0!==u){const f=cr.Objects.Model[u.toString()];if(void 0===f)return void console.warn("THREE.FBXLoader: Encountered a unused curve.",l);const d={modelName:f.attrName?Wr.sanitizeNodeName(f.attrName):"",ID:f.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};Nl.traverse(function(_){_.ID===f.id&&(d.transform=_.matrix,_.userData.transformData&&(d.eulerOrder=_.userData.transformData.eulerOrder))}),d.transform||(d.transform=new Qi),"PreRotation"in f&&(d.preRotation=f.PreRotation.value),"PostRotation"in f&&(d.postRotation=f.PostRotation.value),s[c]=d}}s[c]&&(s[c][A.attr]=A)}else if(void 0!==A.curves.morph){if(void 0===s[c]){const u=Ba.get(l.ID).parents.filter(function(m){return void 0!==m.relationship})[0].ID,f=Ba.get(u).parents[0].ID,d=Ba.get(f).parents[0].ID,_=Ba.get(d).parents[0].ID,p=cr.Objects.Model[_],g={modelName:p.attrName?Wr.sanitizeNodeName(p.attrName):"",morphName:cr.Objects.Deformer[u].attrName};s[c]=g}s[c][A.attr]=A}}}),i.set(parseInt(n),s))}return i}parseAnimStacks(e){const t=cr.Objects.AnimationStack,i={};for(const n in t){const s=Ba.get(parseInt(n)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const a=e.get(s[0].ID);i[n]={name:t[n].attrName,layer:a}}return i}addClip(e){let t=[];const i=this;return e.layer.forEach(function(n){t=t.concat(i.generateTracks(n))}),new f_(e.name,-1,t)}generateTracks(e){const t=[];let i=new Ce,n=new Ce;if(e.transform&&e.transform.decompose(i,new Ss,n),i=i.toArray(),n=n.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.T.curves,i,"position");void 0!==s&&t.push(s)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){const s=this.generateRotationTrack(e.modelName,e.R.curves,e.preRotation,e.postRotation,e.eulerOrder);void 0!==s&&t.push(s)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.S.curves,n,"scale");void 0!==s&&t.push(s)}if(void 0!==e.DeformPercent){const s=this.generateMorphTrack(e);void 0!==s&&t.push(s)}return t}generateVectorTrack(e,t,i,n){const s=this.getTimesForAllAxes(t),a=this.getKeyframeTrackValues(s,t,i);return new Jp(e+"."+n,s,a)}generateRotationTrack(e,t,i,n,s){let a,o;if(void 0!==t.x&&void 0!==t.y&&void 0!==t.z){const u=this.interpolateRotations(t.x,t.y,t.z,s);a=u[0],o=u[1]}void 0!==i&&((i=i.map(Jo_degToRad)).push(s),i=(new Hh).fromArray(i),i=(new Ss).setFromEuler(i)),void 0!==n&&((n=n.map(Jo_degToRad)).push(s),n=(new Hh).fromArray(n),n=(new Ss).setFromEuler(n).invert());const l=new Ss,c=new Hh,A=[];if(!o||!a)return new Ou(e+".quaternion",[],[]);for(let u=0;u<o.length;u+=3)c.set(o[u],o[u+1],o[u+2],s),l.setFromEuler(c),void 0!==i&&l.premultiply(i),void 0!==n&&l.multiply(n),u>2&&(new Ss).fromArray(A,(u-3)/3*4).dot(l)<0&&l.set(-l.x,-l.y,-l.z,-l.w),l.toArray(A,u/3*4);return new Ou(e+".quaternion",a,A)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,i=t.values.map(function(s){return s/100}),n=Nl.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new jp(e.modelName+".morphTargetInfluences["+n+"]",t.times,i)}getTimesForAllAxes(e){let t=[];if(void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort(function(i,n){return i-n}),t.length>1){let i=1,n=t[0];for(let s=1;s<t.length;s++){const a=t[s];a!==n&&(t[i]=a,n=a,i++)}t=t.slice(0,i)}return t}getKeyframeTrackValues(e,t,i){const n=i,s=[];let a=-1,o=-1,l=-1;return e.forEach(function(c){if(t.x&&(a=t.x.times.indexOf(c)),t.y&&(o=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),-1!==a){const A=t.x.values[a];s.push(A),n[0]=A}else s.push(n[0]);if(-1!==o){const A=t.y.values[o];s.push(A),n[1]=A}else s.push(n[1]);if(-1!==l){const A=t.z.values[l];s.push(A),n[2]=A}else s.push(n[2])}),s}interpolateRotations(e,t,i,n){const s=[],a=[];s.push(e.times[0]),a.push(Jo_degToRad(e.values[0])),a.push(Jo_degToRad(t.values[0])),a.push(Jo_degToRad(i.values[0]));for(let o=1;o<e.values.length;o++){const l=[e.values[o-1],t.values[o-1],i.values[o-1]];if(isNaN(l[0])||isNaN(l[1])||isNaN(l[2]))continue;const c=l.map(Jo_degToRad),A=[e.values[o],t.values[o],i.values[o]];if(isNaN(A[0])||isNaN(A[1])||isNaN(A[2]))continue;const u=A.map(Jo_degToRad),f=[A[0]-l[0],A[1]-l[1],A[2]-l[2]],d=[Math.abs(f[0]),Math.abs(f[1]),Math.abs(f[2])];if(d[0]>=180||d[1]>=180||d[2]>=180){const p=Math.max(...d)/180,g=new Hh(...c,n),m=new Hh(...u,n),C=(new Ss).setFromEuler(g),B=(new Ss).setFromEuler(m);C.dot(B)&&B.set(-B.x,-B.y,-B.z,-B.w);const S=e.times[o-1],U=e.times[o]-S,H=new Ss,N=new Hh;for(let P=0;P<1;P+=1/p)H.copy(C.clone().slerp(B.clone(),P)),s.push(S+P*U),N.setFromQuaternion(H,n),a.push(N.x),a.push(N.y),a.push(N.z)}else s.push(e.times[o]),a.push(Jo_degToRad(e.values[o])),a.push(Jo_degToRad(t.values[o])),a.push(Jo_degToRad(i.values[o]))}return[s,a]}}class k8{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new Lk,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,i=e.split(/[\r\n]+/);return i.forEach(function(n,s){const a=n.match(/^[\s\t]*;/),o=n.match(/^[\s\t]*$/);if(a||o)return;const l=n.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=n.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),A=n.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(n,l):c?t.parseNodeProperty(n,c,i[++s]):A?t.popStack():n.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(n)}),this.allNodes}parseNodeBegin(e,t){const i=t[1].trim().replace(/^"/,"").replace(/"$/,""),n=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:i},a=this.parseNodeAttr(n),o=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(i,s):i in o?("PoseNode"===i?o.PoseNode.push(s):void 0!==o[i].id&&(o[i]={},o[i][o[i].id]=o[i]),""!==a.id&&(o[i][a.id]=s)):"number"==typeof a.id?(o[i]={},o[i][a.id]=s):"Properties70"!==i&&(o[i]="PoseNode"===i?[s]:s),"number"==typeof a.id&&(s.id=a.id),""!==a.name&&(s.attrName=a.name),""!==a.type&&(s.attrType=a.type),this.pushStack(s)}parseNodeAttr(e){let t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let i="",n="";return e.length>1&&(i=e[1].replace(/^(\w+)::/,""),n=e[2]),{id:t,name:i,type:n}}parseNodeProperty(e,t,i){let n=t[1].replace(/^"/,"").replace(/"$/,"").trim(),s=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===n&&","===s&&(s=i.replace(/"/g,"").replace(/,$/,"").trim());const a=this.getCurrentNode();if("Properties70"!==a.name){if("C"===n){const l=s.split(",").slice(1),c=parseInt(l[0]),A=parseInt(l[1]);let u=s.split(",").slice(3);u=u.map(function(f){return f.trim().replace(/^"/,"")}),n="connections",s=[c,A],function O8(r,e){for(let t=0,i=r.length,n=e.length;t<n;t++,i++)r[i]=e[t]}(s,u),void 0===a[n]&&(a[n]=[])}"Node"===n&&(a.id=s),n in a&&Array.isArray(a[n])?a[n].push(s):"a"!==n?a[n]=s:a.a=s,this.setCurrentProp(a,n),"a"===n&&","!==s.slice(-1)&&(a.a=UM(s))}else this.parseNodeSpecialProperty(e,n,s)}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=UM(t.a))}parseNodeSpecialProperty(e,t,i){const n=i.split('",').map(function(A){return A.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=n[0],a=n[1],o=n[2],l=n[3];let c=n[4];switch(a){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=UM(c)}this.getPrevNode()[s]={type:a,type2:o,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),s)}}class L8{parse(e){const t=new kk(e);t.skip(23);const i=t.getUint32();if(i<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+i);const n=new Lk;for(;!this.endOfContent(t);){const s=this.parseNode(t,i);null!==s&&n.add(s.name,s)}return n}endOfContent(e){return e.size()%16==0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const i={},n=t>=7500?e.getUint64():e.getUint32(),s=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const a=e.getUint8(),o=e.getString(a);if(0===n)return null;const l=[];for(let f=0;f<s;f++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",A=l.length>1?l[1]:"",u=l.length>2?l[2]:"";for(i.singleProperty=1===s&&e.getOffset()===n;n>e.getOffset();){const f=this.parseNode(e,t);null!==f&&this.parseSubNode(o,i,f)}return i.propertyList=l,"number"==typeof c&&(i.id=c),""!==A&&(i.attrName=A),""!==u&&(i.attrType=u),""!==o&&(i.name=o),i}parseSubNode(e,t,i){if(!0===i.singleProperty){const n=i.propertyList[0];Array.isArray(n)?(t[i.name]=i,i.a=n):t[i.name]=n}else if("Connections"===e&&"C"===i.name){const n=[];i.propertyList.forEach(function(s,a){0!==a&&n.push(s)}),void 0===t.connections&&(t.connections=[]),t.connections.push(n)}else if("Properties70"===i.name)Object.keys(i).forEach(function(s){t[s]=i[s]});else if("Properties70"===e&&"P"===i.name){let n=i.propertyList[0],s=i.propertyList[1];const a=i.propertyList[2],o=i.propertyList[3];let l;0===n.indexOf("Lcl ")&&(n=n.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),l="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[i.propertyList[4],i.propertyList[5],i.propertyList[6]]:i.propertyList[4],t[n]={type:s,type2:a,flag:o,value:l}}else void 0===t[i.name]?"number"==typeof i.id?(t[i.name]={},t[i.name][i.id]=i):t[i.name]=i:"PoseNode"===i.name?(Array.isArray(t[i.name])||(t[i.name]=[t[i.name]]),t[i.name].push(i)):void 0===t[i.name][i.id]&&(t[i.name][i.id]=i)}parseProperty(e){const t=e.getString(1);let i;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return i=e.getUint32(),e.getArrayBuffer(i);case"S":return i=e.getUint32(),e.getString(i);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const n=e.getUint32(),s=e.getUint32(),a=e.getUint32();if(0===s)switch(t){case"b":case"c":return e.getBooleanArray(n);case"d":return e.getFloat64Array(n);case"f":return e.getFloat32Array(n);case"i":return e.getInt32Array(n);case"l":return e.getInt64Array(n)}const o=function Ox(r,e){return Sx((function(r){if(8!=(15&r[0])||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(32&r[1])throw"invalid zlib data: preset dictionaries not supported"}(r),r.subarray(2,-4)),e)}(new Uint8Array(e.getArrayBuffer(a))),l=new kk(o.buffer);switch(t){case"b":case"c":return l.getBooleanArray(n);case"d":return l.getFloat64Array(n);case"f":return l.getFloat32Array(n);case"i":return l.getInt32Array(n);case"l":return l.getInt64Array(n)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class kk{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t,this._textDecoder=new TextDecoder}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return 1==(1&this.getUint8())}getBooleanArray(e){const t=[];for(let i=0;i<e;i++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,e=4294967295&~e,4294967295===e&&(t=t+1&4294967295),e=e+1&4294967295,-(4294967296*t+e)):4294967296*t+e}getInt64Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){const t=this.offset;let i=new Uint8Array(this.dv.buffer,t,e);this.skip(e);const n=i.indexOf(0);return n>=0&&(i=new Uint8Array(this.dv.buffer,t,n)),this._textDecoder.decode(i)}}class Lk{add(e,t){this[e]=t}}function Pk(r){const t=r.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function U8(r){return r/46186158e3}const Q8=[];function Gx(r,e,t,i){let n;switch(i.mappingType){case"ByPolygonVertex":n=r;break;case"ByPolygon":n=e;break;case"ByVertice":n=t;break;case"AllSame":n=i.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+i.mappingType)}"IndexToDirect"===i.referenceType&&(n=i.indices[n]);const s=n*i.dataSize;return function N8(r,e,t,i){for(let n=t,s=0;n<i;n++,s++)r[s]=e[n];return r}(Q8,i.buffer,s,s+i.dataSize)}const RM=new Hh,b_=new Ce;function Rk(r){const e=new Qi,t=new Qi,i=new Qi,n=new Qi,s=new Qi,a=new Qi,o=new Qi,l=new Qi,c=new Qi,A=new Qi,u=new Qi,f=new Qi,d=r.inheritType?r.inheritType:0;if(r.translation&&e.setPosition(b_.fromArray(r.translation)),r.preRotation){const W=r.preRotation.map(Jo_degToRad);W.push(r.eulerOrder||Hh.DEFAULT_ORDER),t.makeRotationFromEuler(RM.fromArray(W))}if(r.rotation){const W=r.rotation.map(Jo_degToRad);W.push(r.eulerOrder||Hh.DEFAULT_ORDER),i.makeRotationFromEuler(RM.fromArray(W))}if(r.postRotation){const W=r.postRotation.map(Jo_degToRad);W.push(r.eulerOrder||Hh.DEFAULT_ORDER),n.makeRotationFromEuler(RM.fromArray(W)),n.invert()}r.scale&&s.scale(b_.fromArray(r.scale)),r.scalingOffset&&o.setPosition(b_.fromArray(r.scalingOffset)),r.scalingPivot&&a.setPosition(b_.fromArray(r.scalingPivot)),r.rotationOffset&&l.setPosition(b_.fromArray(r.rotationOffset)),r.rotationPivot&&c.setPosition(b_.fromArray(r.rotationPivot)),r.parentMatrixWorld&&(u.copy(r.parentMatrix),A.copy(r.parentMatrixWorld));const _=t.clone().multiply(i).multiply(n),p=new Qi;p.extractRotation(A);const g=new Qi;g.copyPosition(A);const m=g.clone().invert().multiply(A),C=p.clone().invert().multiply(m),B=s,S=new Qi;if(0===d)S.copy(p).multiply(_).multiply(C).multiply(B);else if(1===d)S.copy(p).multiply(C).multiply(_).multiply(B);else{const Y=(new Qi).scale((new Ce).setFromMatrixScale(u)).clone().invert(),K=C.clone().multiply(Y);S.copy(p).multiply(_).multiply(K).multiply(B)}const U=c.clone().invert(),H=a.clone().invert();let N=e.clone().multiply(l).multiply(c).multiply(t).multiply(i).multiply(n).multiply(U).multiply(o).multiply(a).multiply(s).multiply(H);const P=(new Qi).copyPosition(N),z=A.clone().multiply(P);return f.copyPosition(z),N=f.clone().multiply(S),N.premultiply(A.invert()),N}function Uk(r){const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(r=r||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[r]}function UM(r){return r.split(",").map(function(t){return parseFloat(t)})}function Qk(r,e,t){return void 0===e&&(e=0),void 0===t&&(t=r.byteLength),(new TextDecoder).decode(new Uint8Array(r,e,t))}class H8{constructor(e){e&&(this.transmit=e)}load3DFile(e,t,i,n,s,a,o,l){this.transmit?.emit("page-loading",!0),".gltf"===t?(new DY).load(e,A=>{n.add(A),o&&o(A,l);const u=(new ja).setFromObject(A),f=new Ce;u.getSize(f),this.fixScale(A,f.x,f.y,f.z),s({width:f.x,height:f.y,length:f.z},{x:A.scale.x,y:A.scale.y,z:A.scale.z},{x:A.position.x,y:A.position.y,z:A.position.z},{x:A.rotation.x,y:A.rotation.y,z:A.rotation.z},A.id,l),this.transmit?.emit("page-loading",!1)},void 0,A=>{this.transmit?.emit("page-loading",!1),a(A,l)}):".fbx"===t?(new D8).load(e,A=>{n.add(A),o&&o(A,l);const u=(new ja).setFromObject(A),f=new Ce;u.getSize(f),this.fixScale(A,f.x,f.y,f.z),s({width:f.x,height:f.y,length:f.z},{x:A.scale.x,y:A.scale.y,z:A.scale.z},{x:A.position.x,y:A.position.y,z:A.position.z},{x:A.rotation.x,y:A.rotation.y,z:A.rotation.z},A.id,l),this.transmit?.emit("page-loading",!1)},void 0,A=>{this.transmit?.emit("page-loading",!1),a(A,l)}):(console.error(`Unsupported file format: ${t}`),this.transmit?.emit("page-loading",!1))}fixScale(e,t,i,n){const s=Math.max(t,i,n);if(s>1e3){const a=s/1e3;e.scale.divide(new Ce(a,a,a))}}setModelConfig(e,t){return{id:e.id,file:t,position:{x:e.position.x,y:e.position.y,z:e.position.z},rotation:{x:e.rotation.x,y:e.rotation.y,z:e.rotation.z},scale:{x:e.scale.x,y:e.scale.y,z:e.scale.z}}}}class z8{constructor(e){this._lights=[],this._lightSettings=[],this._lightHelpers=[],this._scene=e}get scene(){return this._scene}addOrUpdateLight(e,t=!1){this.removeLight(e.id),e.id||(e.id="light_"+(new Date).getTime());const i=this.updateConfigs(e,t);i&&this._scene.add(i)}removeLight(e,t=!1){const i=this._lightSettings?.findIndex(n=>n.id===e)??-1;i<0||(this._lights[i]&&(this._lights[i].dispose(),this._scene.remove(this._lights[i])),this._lightHelpers[i]&&(this._lightHelpers[i].dispose(),this._scene.remove(this._lightHelpers[i])),t&&(this._lights.splice(i,1),this._lightSettings.splice(i,1),this._lightHelpers.splice(i,1)))}updateAllLights(e,t=!1){if(this._lights){for(let i=0;i<this._lights.length;i++)this.removeLight(this._lightSettings[i].id);this._lights=[]}for(const i of e){const n=this.updateConfigs(i,t);n&&this.scene.add(n)}}get lightsSettings(){return this._lightSettings}updateConfigs(e,t=!1){let i;const n=new mi("rgb(255, 0, 0)"),s=this._lightSettings?.findIndex(l=>l.id===e.id)??-1;let a;const o=new mi(e.color);switch(e.type){case"AmbientLight":a=new cM(o,e.intensity);break;case"DirectionalLight":if(a=new vx(o,e.intensity),e.position&&a.position.set(e.position.x,e.position.y,e.position.z),e.target){const l=new Is;l.position.set(e.target.x,e.target.y,e.target.z),this.scene.add(l),a.target=l}a.castShadow=!!e.castShadow,t&&(i=new MY(a,50,n),this.scene.add(i));break;case"PointLight":a=new rw(o,e.intensity),e.position&&a.position.set(e.position.x,e.position.y,e.position.z),t&&(i=new CY(a,50,n),this.scene.add(i)),a.castShadow=!!e.castShadow;break;case"SpotLight":if(a=new _x(o,e.intensity),e.position&&a.position.set(e.position.x,e.position.y,e.position.z),e.target){const l=new Is;l.position.set(e.target.x,e.target.y,e.target.z),this.scene.add(l),a.target=l}t&&(i=new BY(a,n),this.scene.add(i)),a.castShadow=!!e.castShadow;break;default:return void console.warn(`Unsupported light type: ${e.type}`)}return s>-1?(this._lights[s]=a,this._lightSettings[s]=e,this._lightHelpers[s]=i):(this._lights.push(a),this._lightSettings.push(e),this._lightHelpers.push(i)),a}}const Ok={type:"change"},QM={type:"start"},Nk={type:"end"},Yx=new Og,Hk=new Vd,G8=Math.cos(70*Jo_DEG2RAD);class Y8 extends kp{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Ce,this.cursor=new Ce,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Re){Re.addEventListener("keydown",yt),this._domElementKeyEvents=Re},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",yt),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(Ok),i.update(),s=n.NONE},this.update=function(){const Re=new Ce,kt=(new Ss).setFromUnitVectors(e.up,new Ce(0,1,0)),ai=kt.clone().invert(),Ot=new Ce,yi=new Ss,Bn=new Ce,ji=2*Math.PI;return function(Zt=null){const Ve=i.object.position;Re.copy(Ve).sub(i.target),Re.applyQuaternion(kt),o.setFromVector3(Re),i.autoRotate&&s===n.NONE&&Y(function z(Re){return null!==Re?2*Math.PI/60*i.autoRotateSpeed*Re:2*Math.PI/60/60*i.autoRotateSpeed}(Zt)),i.enableDamping?(o.theta+=l.theta*i.dampingFactor,o.phi+=l.phi*i.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let si=i.minAzimuthAngle,Jt=i.maxAzimuthAngle;isFinite(si)&&isFinite(Jt)&&(si<-Math.PI?si+=ji:si>Math.PI&&(si-=ji),Jt<-Math.PI?Jt+=ji:Jt>Math.PI&&(Jt-=ji),o.theta=si<=Jt?Math.max(si,Math.min(Jt,o.theta)):o.theta>(si+Jt)/2?Math.max(si,o.theta):Math.min(Jt,o.theta)),o.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,o.phi)),o.makeSafe(),!0===i.enableDamping?i.target.addScaledVector(A,i.dampingFactor):i.target.add(A),i.target.sub(i.cursor),i.target.clampLength(i.minTargetRadius,i.maxTargetRadius),i.target.add(i.cursor),o.radius=ue(i.zoomToCursor&&H||i.object.isOrthographicCamera?o.radius:o.radius*c),Re.setFromSpherical(o),Re.applyQuaternion(ai),Ve.copy(i.target).add(Re),i.object.lookAt(i.target),!0===i.enableDamping?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,A.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),A.set(0,0,0));let ri=!1;if(i.zoomToCursor&&H){let gi=null;if(i.object.isPerspectiveCamera){const sr=Re.length();gi=ue(sr*c),i.object.position.addScaledVector(S,sr-gi),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const sr=new Ce(U.x,U.y,0);sr.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/c)),i.object.updateProjectionMatrix(),ri=!0;const Cn=new Ce(U.x,U.y,0);Cn.unproject(i.object),i.object.position.sub(Cn).add(sr),i.object.updateMatrixWorld(),gi=Re.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;null!==gi&&(this.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(gi).add(i.object.position):(Yx.origin.copy(i.object.position),Yx.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Yx.direction))<G8?e.lookAt(i.target):(Hk.setFromNormalAndCoplanarPoint(i.object.up,i.target),Yx.intersectPlane(Hk,i.target))))}else i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/c)),i.object.updateProjectionMatrix(),ri=!0);return c=1,H=!1,!!(ri||Ot.distanceToSquared(i.object.position)>a||8*(1-yi.dot(i.object.quaternion))>a||Bn.distanceToSquared(i.target)>0)&&(i.dispatchEvent(Ok),Ot.copy(i.object.position),yi.copy(i.object.quaternion),Bn.copy(i.target),!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",ei),i.domElement.removeEventListener("pointerdown",vt),i.domElement.removeEventListener("pointercancel",ne),i.domElement.removeEventListener("wheel",gt),i.domElement.removeEventListener("pointermove",oe),i.domElement.removeEventListener("pointerup",ne),null!==i._domElementKeyEvents&&(i._domElementKeyEvents.removeEventListener("keydown",yt),i._domElementKeyEvents=null)};const i=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=n.NONE;const a=1e-6,o=new HF,l=new HF;let c=1;const A=new Ce,u=new Ut,f=new Ut,d=new Ut,_=new Ut,p=new Ut,g=new Ut,m=new Ut,C=new Ut,B=new Ut,S=new Ce,U=new Ut;let H=!1;const N=[],P={};function W(Re){const kt=Math.abs(Re)/(100*(0|window.devicePixelRatio));return Math.pow(.95,i.zoomSpeed*kt)}function Y(Re){l.theta-=Re}function K(Re){l.phi-=Re}const q=function(){const Re=new Ce;return function(ai,Ot){Re.setFromMatrixColumn(Ot,0),Re.multiplyScalar(-ai),A.add(Re)}}(),Q=function(){const Re=new Ce;return function(ai,Ot){!0===i.screenSpacePanning?Re.setFromMatrixColumn(Ot,1):(Re.setFromMatrixColumn(Ot,0),Re.crossVectors(i.object.up,Re)),Re.multiplyScalar(ai),A.add(Re)}}(),ie=function(){const Re=new Ce;return function(ai,Ot){const yi=i.domElement;if(i.object.isPerspectiveCamera){Re.copy(i.object.position).sub(i.target);let ji=Re.length();ji*=Math.tan(i.object.fov/2*Math.PI/180),q(2*ai*ji/yi.clientHeight,i.object.matrix),Q(2*Ot*ji/yi.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(q(ai*(i.object.right-i.object.left)/i.object.zoom/yi.clientWidth,i.object.matrix),Q(Ot*(i.object.top-i.object.bottom)/i.object.zoom/yi.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function ee(Re){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?c/=Re:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function he(Re){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?c*=Re:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function pe(Re,kt){if(!i.zoomToCursor)return;H=!0;const ai=i.domElement.getBoundingClientRect(),yi=kt-ai.top,ji=ai.height;U.x=(Re-ai.left)/ai.width*2-1,U.y=-yi/ji*2+1,S.set(U.x,U.y,1).unproject(i.object).sub(i.object.position).normalize()}function ue(Re){return Math.max(i.minDistance,Math.min(i.maxDistance,Re))}function Be(Re){u.set(Re.clientX,Re.clientY)}function J(Re){_.set(Re.clientX,Re.clientY)}function He(Re){if(1===N.length)u.set(Re.pageX,Re.pageY);else{const kt=Vt(Re);u.set(.5*(Re.pageX+kt.x),.5*(Re.pageY+kt.y))}}function Je(Re){if(1===N.length)_.set(Re.pageX,Re.pageY);else{const kt=Vt(Re);_.set(.5*(Re.pageX+kt.x),.5*(Re.pageY+kt.y))}}function ut(Re){const kt=Vt(Re),ai=Re.pageX-kt.x,Ot=Re.pageY-kt.y,yi=Math.sqrt(ai*ai+Ot*Ot);m.set(0,yi)}function ft(Re){if(1==N.length)f.set(Re.pageX,Re.pageY);else{const ai=Vt(Re);f.set(.5*(Re.pageX+ai.x),.5*(Re.pageY+ai.y))}d.subVectors(f,u).multiplyScalar(i.rotateSpeed);const kt=i.domElement;Y(2*Math.PI*d.x/kt.clientHeight),K(2*Math.PI*d.y/kt.clientHeight),u.copy(f)}function lt(Re){if(1===N.length)p.set(Re.pageX,Re.pageY);else{const kt=Vt(Re);p.set(.5*(Re.pageX+kt.x),.5*(Re.pageY+kt.y))}g.subVectors(p,_).multiplyScalar(i.panSpeed),ie(g.x,g.y),_.copy(p)}function ze(Re){const kt=Vt(Re),ai=Re.pageX-kt.x,Ot=Re.pageY-kt.y,yi=Math.sqrt(ai*ai+Ot*Ot);C.set(0,yi),B.set(0,Math.pow(C.y/m.y,i.zoomSpeed)),ee(B.y),m.copy(C),pe(.5*(Re.pageX+kt.x),.5*(Re.pageY+kt.y))}function vt(Re){!1!==i.enabled&&(0===N.length&&(i.domElement.setPointerCapture(Re.pointerId),i.domElement.addEventListener("pointermove",oe),i.domElement.addEventListener("pointerup",ne)),function xi(Re){N.push(Re.pointerId)}(Re),"touch"===Re.pointerType?function $t(Re){switch(Tt(Re),N.length){case 1:switch(i.touches.ONE){case 0:if(!1===i.enableRotate)return;He(Re),s=n.TOUCH_ROTATE;break;case 1:if(!1===i.enablePan)return;Je(Re),s=n.TOUCH_PAN;break;default:s=n.NONE}break;case 2:switch(i.touches.TWO){case 2:if(!1===i.enableZoom&&!1===i.enablePan)return;(function bt(Re){i.enableZoom&&ut(Re),i.enablePan&&Je(Re)})(Re),s=n.TOUCH_DOLLY_PAN;break;case 3:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function Se(Re){i.enableZoom&&ut(Re),i.enableRotate&&He(Re)})(Re),s=n.TOUCH_DOLLY_ROTATE;break;default:s=n.NONE}break;default:s=n.NONE}s!==n.NONE&&i.dispatchEvent(QM)}(Re):function Ne(Re){let kt;switch(Re.button){case 0:kt=i.mouseButtons.LEFT;break;case 1:kt=i.mouseButtons.MIDDLE;break;case 2:kt=i.mouseButtons.RIGHT;break;default:kt=-1}switch(kt){case 1:if(!1===i.enableZoom)return;(function Le(Re){pe(Re.clientX,Re.clientX),m.set(Re.clientX,Re.clientY)})(Re),s=n.DOLLY;break;case 0:if(Re.ctrlKey||Re.metaKey||Re.shiftKey){if(!1===i.enablePan)return;J(Re),s=n.PAN}else{if(!1===i.enableRotate)return;Be(Re),s=n.ROTATE}break;case 2:if(Re.ctrlKey||Re.metaKey||Re.shiftKey){if(!1===i.enableRotate)return;Be(Re),s=n.ROTATE}else{if(!1===i.enablePan)return;J(Re),s=n.PAN}break;default:s=n.NONE}s!==n.NONE&&i.dispatchEvent(QM)}(Re))}function oe(Re){!1!==i.enabled&&("touch"===Re.pointerType?function Ht(Re){switch(Tt(Re),s){case n.TOUCH_ROTATE:if(!1===i.enableRotate)return;ft(Re),i.update();break;case n.TOUCH_PAN:if(!1===i.enablePan)return;lt(Re),i.update();break;case n.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function _e(Re){i.enableZoom&&ze(Re),i.enablePan&&lt(Re)})(Re),i.update();break;case n.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function Ct(Re){i.enableZoom&&ze(Re),i.enableRotate&&ft(Re)})(Re),i.update();break;default:s=n.NONE}}(Re):function ot(Re){switch(s){case n.ROTATE:if(!1===i.enableRotate)return;!function te(Re){f.set(Re.clientX,Re.clientY),d.subVectors(f,u).multiplyScalar(i.rotateSpeed);const kt=i.domElement;Y(2*Math.PI*d.x/kt.clientHeight),K(2*Math.PI*d.y/kt.clientHeight),u.copy(f),i.update()}(Re);break;case n.DOLLY:if(!1===i.enableZoom)return;!function le(Re){C.set(Re.clientX,Re.clientY),B.subVectors(C,m),B.y>0?ee(W(B.y)):B.y<0&&he(W(B.y)),m.copy(C),i.update()}(Re);break;case n.PAN:if(!1===i.enablePan)return;!function be(Re){p.set(Re.clientX,Re.clientY),g.subVectors(p,_).multiplyScalar(i.panSpeed),ie(g.x,g.y),_.copy(p),i.update()}(Re)}}(Re))}function ne(Re){(function oi(Re){delete P[Re.pointerId];for(let kt=0;kt<N.length;kt++)if(N[kt]==Re.pointerId)return void N.splice(kt,1)})(Re),0===N.length&&(i.domElement.releasePointerCapture(Re.pointerId),i.domElement.removeEventListener("pointermove",oe),i.domElement.removeEventListener("pointerup",ne)),i.dispatchEvent(Nk),s=n.NONE}function gt(Re){!1===i.enabled||!1===i.enableZoom||s!==n.NONE||(Re.preventDefault(),i.dispatchEvent(QM),function De(Re){pe(Re.clientX,Re.clientY),Re.deltaY<0?he(W(Re.deltaY)):Re.deltaY>0&&ee(W(Re.deltaY)),i.update()}(Re),i.dispatchEvent(Nk))}function yt(Re){!1===i.enabled||!1===i.enablePan||function Fe(Re){let kt=!1;switch(Re.code){case i.keys.UP:Re.ctrlKey||Re.metaKey||Re.shiftKey?K(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):ie(0,i.keyPanSpeed),kt=!0;break;case i.keys.BOTTOM:Re.ctrlKey||Re.metaKey||Re.shiftKey?K(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):ie(0,-i.keyPanSpeed),kt=!0;break;case i.keys.LEFT:Re.ctrlKey||Re.metaKey||Re.shiftKey?Y(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):ie(i.keyPanSpeed,0),kt=!0;break;case i.keys.RIGHT:Re.ctrlKey||Re.metaKey||Re.shiftKey?Y(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):ie(-i.keyPanSpeed,0),kt=!0}kt&&(Re.preventDefault(),i.update())}(Re)}function ei(Re){!1!==i.enabled&&Re.preventDefault()}function Tt(Re){let kt=P[Re.pointerId];void 0===kt&&(kt=new Ut,P[Re.pointerId]=kt),kt.set(Re.pageX,Re.pageY)}function Vt(Re){return P[Re.pointerId===N[0]?N[1]:N[0]]}i.domElement.addEventListener("contextmenu",ei),i.domElement.addEventListener("pointerdown",vt),i.domElement.addEventListener("pointercancel",ne),i.domElement.addEventListener("wheel",gt,{passive:!1}),this.update()}}class W8{constructor(){}get camera(){return this._camera}get orbitControl(){return this._orbitControl}resetOrbitControl(){this.orbitControl&&(this.orbitControl.enablePan=!0,this.orbitControl.enableDamping=!0,this.orbitControl.enableRotate=!0,this.orbitControl.enableZoom=!0,this.orbitControl.minPolarAngle=0,this.orbitControl.maxPolarAngle=Math.PI/2)}initOrbitControl(e,t){this._orbitControl=new Y8(this._camera,e),this.updateOrbitControlConfigs(t)}updateOrbitControlConfigs(e){this._orbitControl.enabled=e.enable,this._orbitControl.enableDamping=e.damping,this._orbitControl.enablePan=e.pan,this._orbitControl.enableRotate=e.rotate,this._orbitControl.enableZoom=e.zoom,this._orbitControl.maxPolarAngle=e.maxPolarAngle,this._orbitControl.minPolarAngle=e.minPolarAngle,this._orbitControl.maxDistance=e.maxDistance??1/0,this._orbitControl.minDistance=e.minDistance??0,this._orbitControl.target.set(e.target.x,e.target.y,e.target.z)}updateAspect(e,t){this._camera&&(this._camera.aspect=e/t,this._camera.updateProjectionMatrix())}addCameraToScene(e,t){const i=new uo;return this._camera=i,e.add(i),t&&this.updateCameraConfigs(t),i}updateCameraConfigs(e){this.camera.position.set(e.position.x,e.position.y,e.position.z),this.camera.lookAt(new Ce(e.target.x,e.target.y,e.target.z)),this.camera.far=e.far,this.camera.near=e.near,this.camera.fov=e.fov,this.camera.updateProjectionMatrix(),e.aspect&&(this.camera.aspect=e.aspect)}fitCameraToObject(e,t=1.25,i){const n=new ja;n.setFromObject(e);var s=new Ce;const a=n.getCenter(s),o=n.getSize(s),l=Math.max(o.x,o.y,o.z),c=this._camera.fov*(Math.PI/180);let A=Math.abs(l/4*Math.tan(2*c));A*=t,this._camera.position.z=A;const u=n.min.z;this._camera.far=3*(u<0?-u+A:A-u),this._camera.updateProjectionMatrix(),this._camera.lookAt(a)}fitCameraToObjectGroup(e){const t=(new ja).setFromObject(e),i=t.getSize(new Ce),n=t.getCenter(new Ce),o=Math.max(i.x,i.y)/(2*Math.atan(Math.PI*this._camera.fov/360)),c=1.2*Math.max(o,o/this._camera.aspect),u=((new Ce).copy(this._camera.position),n.clone().sub(this._camera.position).normalize().multiplyScalar(c)),f=(new Ce).copy(n).sub(u),d=(new Ce).copy(n);this._camera.position.copy(f),this._camera.updateProjectionMatrix(),this._camera.lookAt(d)}setBackgroundCenter(e){this.orbitControl.reset();const t=(new ja).setFromObject(e),i=t.getSize(new Ce),n=i.length(),s=t.getCenter(new Ce);this.camera.near=n/100,this.camera.far=100*n,this.camera.focus=.5,this.camera.fov=80,this.camera.updateProjectionMatrix(),this.camera.position.copy(s);const a=Number((n/i.x).toFixed(2));this.camera.position.x+=n/a,this.camera.position.y+=n/5;const o=Number((n/i.z).toFixed(2));this.camera.position.z+=n/o,this.camera.lookAt(s),this.orbitControl.maxDistance=10*n,this.orbitControl.update()}}const V8=["determinateSpinner"];function j8(r,e){if(1&r&&(h.O4$(),h.TgZ(0,"svg",11),h._UZ(1,"circle",12),h.qZA()),2&r){const t=h.oxw();h.uIk("viewBox",t._viewBox()),h.xp6(1),h.Udp("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),h.uIk("r",t._circleRadius())}}const J8=(0,Qt.pj)(class{constructor(r){this._elementRef=r}},"primary"),K8=new h.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Z8(){return{diameter:zk}}}),zk=100;let Gk=(()=>{class r extends J8{constructor(t,i,n){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=zk,this._noopAnimations="NoopAnimations"===i&&!!n&&!n._forceAnimations,n&&(n.color&&(this.color=this.defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,(0,br.su)(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=(0,br.su)(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=(0,br.su)(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(h.SBq),h.Y36(h.QbO,8),h.Y36(K8))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,n){if(1&i&&h.Gf(V8,5),2&i){let s;h.iGM(s=h.CRH())&&(n._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(i,n){2&i&&(h.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===n.mode?n.value:null)("mode",n.mode),h.Udp("width",n.diameter,"px")("height",n.diameter,"px")("--mdc-circular-progress-size",n.diameter+"px")("--mdc-circular-progress-active-indicator-width",n.diameter+"px"),h.ekj("_mat-animation-noopable",n._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===n.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[h.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,n){if(1&i&&(h.YNc(0,j8,2,8,"ng-template",null,0,h.W1O),h.TgZ(2,"div",1,2),h.O4$(),h.TgZ(4,"svg",3),h._UZ(5,"circle",4),h.qZA()(),h.kcU(),h.TgZ(6,"div",5)(7,"div",6)(8,"div",7),h.GkF(9,8),h.qZA(),h.TgZ(10,"div",9),h.GkF(11,8),h.qZA(),h.TgZ(12,"div",10),h.GkF(13,8),h.qZA()()()),2&i){const s=h.MAs(1);h.xp6(4),h.uIk("viewBox",n._viewBox()),h.xp6(1),h.Udp("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeDashOffset(),"px")("stroke-width",n._circleStrokeWidth(),"%"),h.uIk("r",n._circleRadius()),h.xp6(4),h.Q6J("ngTemplateOutlet",s),h.xp6(2),h.Q6J("ngTemplateOutlet",s),h.xp6(2),h.Q6J("ngTemplateOutlet",s)}},dependencies:[G.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return r})(),Yk=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[G.ez,Qt.BQ]})}return r})();const q8=["canvas"],$8=["container"];function eW(r,e){1&r&&(h.TgZ(0,"div",6)(1,"div"),h._uU(2,"Loading..."),h.qZA(),h._UZ(3,"mat-spinner"),h.qZA())}function tW(r,e){if(1&r&&(h.ynx(0),h._UZ(1,"img",12),h.BQk()),2&r){const t=h.oxw().$implicit;h.xp6(1),h.Q6J("src",t.view._imageIcon,h.LSH)("alt",t.title)}}function iW(r,e){if(1&r&&(h.TgZ(0,"label"),h._uU(1),h.qZA()),2&r){const t=h.oxw().$implicit;h.xp6(1),h.Oqu(t.title)}}function nW(r,e){if(1&r&&(h.TgZ(0,"div",13),h._uU(1),h.qZA()),2&r){const t=h.oxw().$implicit;h.xp6(1),h.Oqu((null==t||null==t.action?null:t.action.description)||"")}}function rW(r,e){if(1&r&&(h.TgZ(0,"div",7)(1,"div",8),h.YNc(2,tW,2,2,"ng-container",9),h.YNc(3,iW,2,1,"ng-template",null,10,h.W1O),h.qZA(),h.YNc(5,nW,2,1,"div",11),h.qZA()),2&r){const t=e.$implicit,i=h.MAs(4),n=h.oxw();h.Q6J("ngClass",t.class),h.xp6(1),h.ekj("has-image",null==t||null==t.view?null:t.view._imageIcon),h.xp6(1),h.Q6J("ngIf",null==t||null==t.view?null:t.view._imageIcon)("ngIfElse",i),h.xp6(3),h.Q6J("ngIf",t.action.type===n.Action.hover)}}let sW=(()=>{class r extends Au.H{get canvas(){return this.canvasRef.nativeElement}constructor(t,i,n,s,a,o,l){super(),this.uploadService=t,this.store=i,this.socketService=n,this.render2=s,this.document=a,this.dialog=o,this.sharedStore=l,this.Action=FA,this.Animation=Animation,this.size={height:0,width:0},this.loading=!0,this.scene=new LI,this.details=[],this.action=FA,this.details$=new _a.X([]),this.points=[],this.Model=new H8,this.Light=new z8(this.scene),this.Camera=new W8,this.raycasterCamera=new OF}init(t){var i=this;return(0,hr.Z)(function*(){let n;if(t?.content?.config)n=t?.content?.config;else{if(!t.config)return void console.error("bad config");n=t.config}i.config=n,n.labels&&i.applyLabelsConfig(n.labels),i.points=[];for(const l of i.details){const c={position:new Ce(l.point.x,l.point.y,l.point.z),element:document.querySelector("."+l.class)};i.points.push(c)}n.background&&i.applyBackgroundConfig(n.background),i.applySceneConfig(n.scene),i.Camera.addCameraToScene(i.scene,n.scene.camera),i.Camera.updateAspect(i.size.width,i.size.height),i.Camera.initOrbitControl(i.canvas,n.scene.control),n.scene.light&&(n.scene.lights=[n.scene.light]),i.Light.updateAllLights(n.scene.lights);const s=(l,c,A,u,f)=>{i.config.background?(i.applyBackgroundConfig(i.config.background),i.loading=!1):console.error("no background!")},a=(l,c,A,u,f,d)=>{i.applyComponentConfig(d,f)},o=l=>{console.error("Error loading file:",l)};if(i.config.background){const l=i.config.background,c=yield i.uploadService.getFileUrlV2(l.file),A=c.url.url;if(!A)return void console.error(c.url.error??"can not load background");let u=".fbx";l.file.split(".").length>1&&(u="."+l.file.split(".").pop()),i.Model.load3DFile(A,u,l.file,i.scene,s,o)}if(i.config.components)for(const l of i.config.components){const c=yield i.uploadService.getFileUrlV2(l.file),A=c.url.url;if(!A){console.error(c.url.error??"can not load component");continue}let u=".fbx";l.file.split(".").length>1&&(u="."+l.file.split(".").pop()),i.Model.load3DFile(A,u,l.file,i.scene,a,o,void 0,l)}i.onResize(),i.animate()})()}ngAfterViewInit(){var t=this;return(0,hr.Z)(function*(){t.setCanvasSize(),t.setRenderer(),t.safeObservable(t.store.select((0,Yi.rM)(t.id))).pipe((0,ci.b)(i=>{i&&t.init(i)})).subscribe()})()}animate(){this.Camera.orbitControl?.update(),this.points=[],this.details||(this.details=[]),this.details.forEach(t=>{const i=t.point,n=document.querySelector("."+t.class);if(!n)return;const s={element:n,position:new Ce(i.x,i.y,i.z)};this.points.push(s)}),this.points.forEach((t,i)=>{const n=t.position.clone();n.project(this.Camera.camera),this.raycasterCamera.setFromCamera(n,this.Camera.camera);const s=this.raycasterCamera.intersectObjects(this.scene.children,!0);0===s.length?t.element.classList.add("visible"):s[0].distance<t.position.distanceTo(this.Camera.camera.position)?t.element.classList.remove("visible"):t.element.classList.add("visible"),t.element.style.transform=`translate(${n.x*this.size.width/2}px, ${-n.y*this.size.height/2}px)`}),this.renderer.render(this.scene,this.Camera.camera),window.requestAnimationFrame(this.animate.bind(this))}applySceneConfig(t){this.scene.background=new mi(t.backgroundColor)}applyLabelsConfig(t){this.details=t.map(i=>{let n=this.render2.createElement("div"),s=this.render2.createElement("div"),a=this.render2.createElement("label"),o=this.render2.createElement("div");return this.render2.setAttribute(a,"id","label_"+i.id),this.render2.setProperty(o,"innerHTML",i.action.description||""),this.render2.addClass(s,"point1"),this.render2.addClass(s,i.class),this.render2.addClass(n,"label"),this.render2.addClass(o,"text"),i.action&&this.render2.setStyle(a,"cursor","pointer"),this.render2.appendChild(n,a),this.render2.appendChild(s,n),this.render2.appendChild(s,o),this.render2.appendChild(this.containerRef.nativeElement,s),this.applyAction(i.action,i.id,i.point),i.view.icon&&this.uploadService.getFileUrl(i.view.icon).pipe((0,Oe.q)(1),(0,VB.z)(l=>this.uploadService.getFile(l.url.url).pipe((0,IC.K)(c=>(0,xe.of)(200===c.status?c.url:c)))),(0,Dn.U)(l=>({...i,view:{icon:l}}))),this.render2.setProperty(a,"innerHTML",i.content.dynamic.output?.name||i.title),i.content.dynamic.output?.name&&i.content.dynamic.topic?.id&&this.safeObservable(this.socketService.fetchDeviceData(i.content.dynamic.topic.id,i.content.dynamic.output.name)).pipe((0,Dn.U)(l=>{this.render2.setProperty(a,"innerHTML",l)})).subscribe(),i})}applyAction(t,i,n){const s=this.document.getElementById("label_"+i);t.type===FA.dialog?this.render2.listen(s,"click",a=>{this.dialog.open(PD,{width:"60%",height:"60%",panelClass:"3D-Dialog",data:{componentName:t.component,config:t.config}})}):t.type===FA.url?this.render2.listen(s,"click",a=>{this.dialog.open(RD,{width:"60%",height:"60%",panelClass:"3D-Dialog",data:{url:t.url}})}):t.type===FA.redirect&&this.render2.listen(s,"click",a=>{t.dashboard&&this.store.select((0,Yi.Et)(t.dashboard)).pipe((0,Oe.q)(1),(0,Pa.w)(o=>this.sharedStore.select(ae.K8).pipe((0,Oe.q)(1),(0,Dn.U)(l=>{t.dashboard&&this.store.dispatch(o?(0,k.Fi)({dashboard:o}):(0,k.bu)({dashboardId:t.dashboard,isPreview:l}))})))).subscribe()})}applyBackgroundConfig(t){this.background=this.scene.getObjectById(t.id),this.background&&(this.background.position.set(t.position.x,t.position.y,t.position.z),this.background.rotation.set(t.rotation.x,t.rotation.y,t.rotation.z),this.background.scale.set(t.scale.x,t.scale.y,t.scale.z),console.log("after assing position",this.background,t))}applyComponentConfig(t,i){const n=this.scene.getObjectById(i);n&&(n.position.set(t.position.x,t.position.y,t.position.z),n.rotation.set(t.rotation.x,t.rotation.y,t.rotation.z),n.scale.set(t.scale.x,t.scale.y,t.scale.z))}setCanvasSize(){this.size={width:this.canvas.clientWidth,height:this.canvas.clientHeight}}onResize(){this.size.width=this.canvas.clientWidth,this.size.height=this.canvas.clientHeight,this.Camera&&this.Camera.updateAspect(this.size.width,this.size.height),this.renderer&&(this.renderer.setSize(this.size.width,this.size.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)))}setRenderer(){this.renderer=new kI({canvas:this.canvas,antialias:!0}),this.renderer.setSize(this.size.width,this.size.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))}getIntersects(t){const i=new OF;let n=this.canvas,s=new Ut(0,0);const a=t.clientX,o=t.clientY,l=this.canvas.getBoundingClientRect();let c=l.top,A=l.left;A+=n.offsetLeft,c+=n.offsetTop,n=n.offsetParent,document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)?(A-=document.documentElement.scrollLeft,c-=document.documentElement.scrollTop):document.body&&(document.body.scrollTop||document.body.scrollLeft)?(A-=document.body.scrollLeft,c-=document.body.scrollTop):(window.pageXOffset||window.pageYOffset)&&(A-=window.pageXOffset,c-=window.pageYOffset);const f=c+this.canvas.clientHeight/2;return s.x=(a-(A+this.canvas.clientWidth/2))/(this.canvas.clientWidth/2),s.y=-(o-f)/(this.canvas.clientHeight/2),i.setFromCamera(s,this.Camera.camera),i.intersectObjects(this.scene.children)}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(UD),h.Y36(er.yh),h.Y36(ql),h.Y36(h.Qsj),h.Y36(G.K0),h.Y36(Qh.uw),h.Y36(er.yh))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-three-d"]],viewQuery:function(i,n){if(1&i&&(h.Gf(q8,7),h.Gf($8,7)),2&i){let s;h.iGM(s=h.CRH())&&(n.canvasRef=s.first),h.iGM(s=h.CRH())&&(n.containerRef=s.first)}},inputs:{config:"config",id:"id"},features:[h.qOj],decls:6,vars:2,consts:[[1,"modelContainer"],["container",""],["class","loading",4,"ngIf"],[1,"wbgl"],["canvas",""],["class","point1",3,"ngClass",4,"ngFor","ngForOf"],[1,"loading"],[1,"point1",3,"ngClass"],[1,"label"],[4,"ngIf","ngIfElse"],["labelText",""],["class","text",4,"ngIf"],[3,"src","alt"],[1,"text"]],template:function(i,n){1&i&&(h.TgZ(0,"main",0,1),h.YNc(2,eW,4,0,"div",2),h._UZ(3,"canvas",3,4),h.YNc(5,rW,6,6,"div",5),h.qZA()),2&i&&(h.xp6(2),h.Q6J("ngIf",n.loading),h.xp6(3),h.Q6J("ngForOf",n.details))},dependencies:[G.mk,G.sg,G.O5,Gk],styles:["main[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}main[_ngcontent-%COMP%]   .wbgl[_ngcontent-%COMP%]{position:absolute;left:0;overflow:hidden;width:100%!important;height:100%!important}.loading[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.6);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999}.loading[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{width:50px!important;height:50px!important;margin-top:.8em}.point[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;left:50%;top:50%;background-color:#fff;transform:scale(0);transition:transform .3s}.point[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem;border-radius:.5rem;background:rgba(0,0,0,.6666666667);border:1px solid rgba(255,255,255,.4666666667);color:#fff;font-family:Helvetica,Arial,sans-serif;font-weight:100;font-size:1em;opacity:0;transition:opacity .3s;opacity:1}.point[_ngcontent-%COMP%]   button.show[_ngcontent-%COMP%]{opacity:1}.point.visible[_ngcontent-%COMP%]{transform:scale(1)}.point1[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;background-color:#fff}.point1[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;padding:1rem;background:rgba(0,0,0,.4666666667);border-radius:100%;border:1px solid #ffffff;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transform:scale(0);transition:transform .3s}.point1[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;top:40px;width:200px;padding:20px;border-radius:4px;background:rgba(0,0,0,.6666666667);border:1px solid rgba(255,255,255,.4666666667);color:#fff;line-height:1.3em;font-family:Helvetica,Arial,sans-serif;font-weight:100;font-size:14px;opacity:0;transition:opacity .3s;pointer-events:none}.point1.visible[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{transform:scale(1)}.point1[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1}"]})}return r})(),aW=(()=>{class r{constructor(t){this.store=t,this.color="#DC143C",this.unsubscribe$=new Yn.x}ngOnInit(){this.color=this.config.view.Button.color||"#DC143C"}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}applyContent(t){this.store.dispatch((0,k.jv)({config:t}))}onClick(){this.config.content&&this.applyContent(this.config.content)}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(er.yh))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-change-source"]],inputs:{id:"id",config:"config"},decls:3,vars:2,consts:[[1,"container"],["Card","",3,"backgroundColor","click"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"button",1),h.NdJ("click",function(){return n.onClick()}),h._uU(2),h.qZA()()),2&i&&(h.xp6(1),h.Q6J("backgroundColor",n.color),h.xp6(1),h.Oqu(n.config.view.Labels.title))},dependencies:[RT],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;border:none;border-radius:.25rem;color:#fff}"]})}return r})();class dw extends Mo{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>en._new(this._root,{themeTags:Sn(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:Sn(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:Ye.new(this._root,{themeTags:Sn(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:Sn(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template]))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>en._new(this._root,{themeTags:Sn(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>ho._new(this._root,{themeTags:Sn(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template]))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>ho._new(this._root,{themeTags:Sn(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template]))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:new Kr(Pr.new({}),()=>Ye._new(this._root,{themeTags:Sn(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template]))})}_afterNew(){this._settings.themeTags=Sn(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(e){const t=this.children.push(this.itemContainers.make());return t._setDataItem(e),this.itemContainers.push(t),t.states.create("disabled",{}),t}makeMarker(){const e=this.markers.make();return this.markers.push(e),e.states.create("disabled",{}),e}makeLabel(){const e=this.labels.make();return e.states.create("disabled",{}),e}makeValueLabel(){const e=this.valueLabels.make();return e.states.create("disabled",{}),e}makeMarkerRectangle(){const e=this.markerRectangles.make();return e.states.create("disabled",{}),e}processDataItem(e){super.processDataItem(e);const t=this.makeItemContainer(e),i=this.get("nameField"),n=this.get("fillField"),s=this.get("strokeField");if(t){const a=this.get("clickTarget","itemContainer"),o=e.dataContext;o&&o.set&&o.set("legendDataItem",e),t._setDataItem(e),e.set("itemContainer",t);const l=this.makeMarker();if(l){t.children.push(l),l._setDataItem(e),e.set("marker",l);const u=this.get("useDefaultMarker"),f=l.children.push(this.makeMarkerRectangle());let d=e.get("fill"),_=e.get("stroke");e.set("markerRectangle",f),o&&o.get&&(d=o.get(n,d),_=o.get(s,_)),_||(_=d),u?o.on&&(o.on(n,()=>{f.set("fill",o.get(n))}),o.on(s,()=>{f.set("stroke",o.get(s))})):o&&o.createLegendMarker&&o.createLegendMarker(),f.setAll({fill:d,stroke:_});const p=o.component;p&&p.updateLegendMarker&&p.updateLegendMarker(o)}const c=this.makeLabel();if(c){t.children.push(c),c._setDataItem(e),e.set("label",c),c.text.on("text",()=>{t.setRaw("ariaLabel",c.text._getText()+("none"!==this.get("clickTarget")?"; "+this._t("Press ENTER to toggle"):"")),t.markDirtyAccessibility()}),o&&o.get&&e.set("name",o.get(i));let u=e.get("name");u&&c.set("text",u)}const A=this.makeValueLabel();if(A&&(t.children.push(A),A._setDataItem(e),e.set("valueLabel",A)),o&&o.show&&(o.on("visible",u=>{t.set("disabled",!u)}),o.get("visible")||t.set("disabled",!0),"none"!=a)){let u=t;"marker"==a&&(u=l),this._addClickEvents(u,o,e)}this.children.values.sort((u,f)=>{const d=u.dataItem.dataContext,_=f.dataItem.dataContext;if(d&&_){const p=this.data.indexOf(d),g=this.data.indexOf(_);if(p>g)return 1;if(p<g)return-1}return 0}),o&&o.updateLegendValue&&o.updateLegendValue()}}_addClickEvents(e,t,i){e.set("cursorOverStyle","pointer"),e.events.on("pointerover",()=>{const n=t.component;n&&n.hoverDataItem&&n.hoverDataItem(t)}),e.events.on("pointerout",()=>{const n=t.component;n&&n.hoverDataItem&&n.unhoverDataItem(t)}),e.events.on("click",()=>{const n=i.get("label").text._getText();t.show&&t.isHidden&&(t.isHidden()||!1===t.get("visible"))?(t.show(),e.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,n))):t.hide&&(t.hide(),e.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,n)))})}disposeDataItem(e){super.disposeDataItem(e);const t=e.dataContext;t&&t.get&&t.get("legendDataItem")==e&&t.set("legendDataItem",void 0);let i=e.get("itemContainer");i&&(this.itemContainers.removeValue(i),i.dispose());let n=e.get("marker");n&&(this.markers.removeValue(n),n.dispose());let s=e.get("markerRectangle");s&&(this.markerRectangles.removeValue(s),s.dispose());let a=e.get("label");a&&(this.labels.removeValue(a),a.dispose());let o=e.get("valueLabel");o&&(this.valueLabels.removeValue(o),o.dispose())}}Object.defineProperty(dw,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"}),Object.defineProperty(dw,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Mo.classNames.concat([dw.className])});class oW extends Cd{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,t=this.rule.bind(this);t("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:Dd.new(this._root,{}),width:hi,height:hi}),t("PieChart").setAll({radius:Tr(80),startAngle:-90,endAngle:270}),t("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),t("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),t("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),t("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),t("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),t("Slice",["pie"]).states.create("hover",{scale:1.04}),t("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),t("Tick",["pie"]).setAll({location:1}),t("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),t("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),t("FunnelSlice").setAll({interactive:!0,expandDistance:0}),t("FunnelSlice").states.create("hover",{expandDistance:.15}),t("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:pn}),t("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:pn,rotation:-90}),t("Label",["funnel","vertical"]).setAll({centerY:pn,centerX:0}),t("Tick",["funnel"]).setAll({location:1}),t("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),t("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),t("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),t("PyramidSeries").setAll({valueIs:"area"}),t("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),t("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),t("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),t("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),t("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),t("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:pn}),t("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:pn,rotation:-90}),t("Label",["pyramid","vertical"]).setAll({centerY:pn,centerX:0}),t("Tick",["pyramid"]).setAll({location:1}),t("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),t("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:pn}),t("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:pn,rotation:-90}),t("Label",["pictorial","vertical"]).setAll({centerY:pn,centerX:0}),t("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),t("Tick",["pictorial"]).setAll({location:.5});{const i=t("Graphics",["pictorial","background"]);i.setAll({fillOpacity:.2}),Xi(i,"fill",e,"alternativeBackground")}}}class fw extends Ee{_afterNew(){this._defaultThemes.push(oW.new(this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(e){super._processSeries(e),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}}Object.defineProperty(fw,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"}),Object.defineProperty(fw,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ee.classNames.concat([fw.className])});class Wx extends fw{constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:pn,y:pn})}_prepareChildren(){super._prepareChildren();const e=this.chartContainer,t=e.innerWidth(),i=e.innerHeight(),n=this.get("startAngle",0),s=this.get("endAngle",0),a=this.get("innerRadius");let o=lp(0,0,n,s,1);const l=t/(o.right-o.left),c=i/(o.bottom-o.top);let A={left:0,right:0,top:0,bottom:0};if(a instanceof vn){let d=a.value,_=Math.min(l,c);d=Math.max(_*d,_-Math.min(i,t))/_,A=lp(0,0,n,s,d),this.setPrivateRaw("irModifyer",d/a.value)}o=X0([o,A]);const u=this._maxRadius;this._maxRadius=Math.min(l,c);const f=ur(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-f*(o.bottom+o.top)/2,dx:-f*(o.right+o.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||u!=this._maxRadius)&&this.series.each(d=>{d._markDirtyKey("startAngle")}),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each(d=>{d._markDirtyKey("innerRadius")})}radius(e){let t=ur(this.get("radius",0),this._maxRadius),i=ur(this.get("innerRadius",0),t);if(e){let n=this.series.indexOf(e),s=this.series.length,a=e.get("radius");return null!=a?i+ur(a,t-i):i+(t-i)/s*(n+1)}return t}innerRadius(e){const t=this.radius();let i=ur(this.get("innerRadius",0),t);if(i<0&&(i=t+i),e){let n=this.series.indexOf(e),s=this.series.length,a=e.get("innerRadius");return null!=a?i+ur(a,t-i):i+(t-i)/s*n}return i}}Object.defineProperty(Wx,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"}),Object.defineProperty(Wx,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fw.classNames.concat([Wx.className])});class pw extends Mo{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(en.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(en.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(en.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this._makeSlices()}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this._makeLabels()}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this._makeTicks()})}makeSlice(e){const t=this.slicesContainer.children.push(this.slices.make());return t.on("fill",()=>{this.updateLegendMarker(e)}),t.on("stroke",()=>{this.updateLegendMarker(e)}),t._setDataItem(e),e.set("slice",t),this.slices.push(t),t}makeLabel(e){const t=this.labelsContainer.children.push(this.labels.make());return t._setDataItem(e),e.set("label",t),this.labels.push(t),t}_shouldMakeBullet(e){return null!=e.get("value")}makeTick(e){const t=this.ticksContainer.children.push(this.ticks.make());return t._setDataItem(e),e.set("tick",t),this.ticks.push(t),t}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){const e=this.get("colors");e&&e.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let e=0,t=0,i=0,n=1/0,s=0;Xe(this._dataItems,a=>{let o=a.get("valueWorking",0);e+=o,t+=Math.abs(o)}),Xe(this._dataItems,a=>{let o=a.get("valueWorking",0);o>i&&(i=o),o<n&&(n=o),s++;let l=o/t;0==t&&(l=0),a.setRaw("valuePercentTotal",100*l)}),this.setPrivateRaw("valueLow",n),this.setPrivateRaw("valueHigh",i),this.setPrivateRaw("valueSum",e),this.setPrivateRaw("valueAverage",e/s),this.setPrivateRaw("valueAbsoluteSum",t)}}show(e){const t=Object.create(null,{show:{get:()=>super.show}});return(0,zs.mG)(this,void 0,void 0,function*(){let i=[];i.push(t.show.call(this,e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)})}hide(e){const t=Object.create(null,{hide:{get:()=>super.hide}});return(0,zs.mG)(this,void 0,void 0,function*(){let i=[];i.push(t.hide.call(this,e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)})}_updateChildren(){super._updateChildren(),this._valuesDirty&&Xe(this._dataItems,e=>{e.get("label").text.markDirtyText()}),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&Xe(this._dataItems,e=>{this.updateLegendValue(e)}),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),Xe(this.dataItems,e=>{this._updateTick(e)})}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(e){if(super.processDataItem(e),null==e.get("fill")){let t=this.get("colors");t&&e.setRaw("fill",t.next())}}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,zs.mG)(this,void 0,void 0,function*(){const n=[i.showDataItem.call(this,e,t)];at(t)||(t=this.get("stateAnimationDuration",0));const s=this.get("stateAnimationEasing");let a=e.get("value");const o=e.animate({key:"valueWorking",to:a,duration:t,easing:s});o&&n.push(o.waitForStop());const l=e.get("tick");l&&n.push(l.show(t));const c=e.get("label");c&&n.push(c.show(t));const A=e.get("slice");A&&n.push(A.show(t)),A.get("active")&&A.states.applyAnimate("active"),yield Promise.all(n)})}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,zs.mG)(this,void 0,void 0,function*(){const n=[i.hideDataItem.call(this,e,t)],s=this.states.create("hidden",{});at(t)||(t=s.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const a=s.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=e.animate({key:"valueWorking",to:0,duration:t,easing:a});o&&n.push(o.waitForStop());const l=e.get("tick");l&&n.push(l.hide(t));const c=e.get("label");c&&n.push(c.hide(t));const A=e.get("slice");A.hideTooltip(),A&&n.push(A.hide(t)),yield Promise.all(n)})}disposeDataItem(e){super.disposeDataItem(e);let t=e.get("label");t&&(this.labels.removeValue(t),t.dispose());let i=e.get("tick");i&&(this.ticks.removeValue(i),i.dispose());let n=e.get("slice");n&&(this.slices.removeValue(n),n.dispose())}hoverDataItem(e){const t=e.get("slice");t&&!t.isHidden()&&t.hover()}unhoverDataItem(e){const t=e.get("slice");t&&t.unhover()}updateLegendMarker(e){if(e){const t=e.get("slice");if(t){const i=e.get("legendDataItem");if(i){const n=i.get("markerRectangle");Xe(ev,s=>{null!=t.get(s)&&n.set(s,t.get(s))})}}}}_arrangeDown(e){if(e){let t=this._getNextDown();e.sort((i,n)=>i.y>n.y?1:i.y<n.y?-1:0),Xe(e,i=>{const n=i.label.adjustedLocalBounds();let s=n.top;i.y+s<t&&(i.y=t-s),i.label.set("y",i.y),t=i.y+n.bottom})}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(e){if(e){let t=this._getNextUp();e.sort((i,n)=>i.y<n.y?1:i.y>n.y?-1:0),Xe(e,i=>{const n=i.label.adjustedLocalBounds();let s=n.bottom;i.y+s>t&&(i.y=t-s),i.label.set("y",i.y),t=i.y+n.top})}}_arrangeRight(e){if(e){let t=0;e.sort((i,n)=>i.y>n.y?1:i.y<n.y?-1:0),Xe(e,i=>{const n=i.label.adjustedLocalBounds();let s=n.left;i.y+s<t&&(i.y=t-s),i.label.set("x",i.y),t=i.y+n.right})}}_arrangeLeft(e){if(e){let t=this.labelsContainer.maxWidth();e.sort((i,n)=>i.y<n.y?1:i.y>n.y?-1:0),Xe(e,i=>{const n=i.label.adjustedLocalBounds();let s=n.right;i.y+s>t&&(i.y=t-s),i.label.set("x",i.y),t=i.y+n.left})}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(e){}_dispose(){super._dispose();const e=this.chart;e&&e.series.removeValue(this)}}Object.defineProperty(pw,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"}),Object.defineProperty(pw,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Mo.classNames.concat([pw.className])});class Vx extends pw{_makeSlices(){return new Kr(Pr.new({}),()=>dv._new(this._root,{themeTags:Sn(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template]))}_makeLabels(){return new Kr(Pr.new({}),()=>dg._new(this._root,{themeTags:Sn(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template]))}_makeTicks(){return new Kr(Pr.new({}),()=>Wa._new(this._root,{themeTags:Sn(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template]))}processDataItem(e){super.processDataItem(e);const t=this.makeSlice(e);t.on("scale",()=>{this._updateTick(e)}),t.on("shiftRadius",()=>{this._updateTick(e)}),t.events.on("positionchanged",()=>{this._updateTick(e)});const i=this.makeLabel(e);i.events.on("positionchanged",()=>{this._updateTick(e)}),this.makeTick(e),t.events.on("positionchanged",()=>{i.markDirty()})}_getNextUp(){const e=this.chart;return e?e._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){const e=this.chart;return e?-e._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();const e=this.chart;if(e){if(this.isDirty("alignLabels")){let t=this.labels.template;if(this.get("alignLabels"))t.set("textType","aligned");else{let i=t.get("textType");(null==i||"aligned"==i)&&t.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();const t=this.get("startAngle",e.get("startAngle",-90)),n=this.get("endAngle",e.get("endAngle",270))-t;let s=t;const a=e.radius(this);this.setPrivateRaw("radius",a);let o=e.innerRadius(this)*e.getPrivate("irModifyer",1);o<0&&(o=a+o),Xe(this._dataItems,l=>{this.updateLegendValue(l);let c=n*l.get("valuePercentTotal")/100;const A=l.get("slice");if(A){A.set("radius",a),A.set("innerRadius",o),A.set("startAngle",s),A.set("arc",c);const d=l.get("fill");A._setDefault("fill",d),A._setDefault("stroke",d)}let u=Ih(s+c/2);const f=l.get("label");if(f&&(f.setPrivate("radius",a),f.setPrivate("innerRadius",o),f.set("labelAngle",u),"aligned"==f.get("textType"))){let d=a+f.get("radius",0),_=a*Ks(u);u>90&&u<=270?(!f.isHidden()&&!f.isHiding()&&this._lLabels.push({label:f,y:_}),d*=-1,d-=this.labelsContainer.get("paddingLeft",0),f.set("centerX",hi),f.setPrivateRaw("left",!0)):(!f.isHidden()&&!f.isHiding()&&this._rLabels.push({label:f,y:_}),d+=this.labelsContainer.get("paddingRight",0),f.set("centerX",0),f.setPrivateRaw("left",!1)),f.set("x",d),f.set("y",a*Ks(u))}s+=c,this._updateTick(l)})}}}_updateTick(e){const t=e.get("tick"),i=e.get("label"),n=e.get("slice"),s=t.get("location",1);if(t&&i&&n){const a=(n.get("shiftRadius",0)+n.get("radius",0))*n.get("scale",1)*s,o=i.get("labelAngle",0),l=co(o),c=Ks(o),A=this.labelsContainer,u=A.get("paddingLeft",0),f=A.get("paddingRight",0);let d=0,_=0;d=i.x(),_=i.y();let p=[];if(0!=d&&0!=_){if("circular"==i.get("textType")){const m=i.radius()-i.get("paddingBottom",0),C=i.get("labelAngle",0);d=m*co(C),_=m*Ks(C)}let g=-f;i.getPrivate("left")&&(g=u),p=[{x:n.x()+a*l,y:n.y()+a*c},{x:d+g,y:_},{x:d,y:_}]}t.set("points",p)}}_positionBullet(e){const t=e.get("sprite");if(t){const n=t.dataItem.get("slice");if(n){const s=n.get("innerRadius",0),a=n.get("radius",0),u=n.get("startAngle",0)+n.get("arc",0)*e.get("locationX",.5),f=s+(a-s)*e.get("locationY",.5);t.setAll({x:co(u)*f,y:Ks(u)*f})}}}}function lW(r,e){if(1&r&&(h.TgZ(0,"h6"),h._uU(1),h.qZA()),2&r){const t=h.oxw();h.xp6(1),h.Oqu(t.config.view.labels.title||"")}}Object.defineProperty(Vx,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"}),Object.defineProperty(Vx,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pw.classNames.concat([Vx.className])});let cW=(()=>{class r{constructor(t,i,n){this.socketService=t,this.historicalService=i,this.store=n,this.unsubscribe$=new Yn.x,this.unsubscribeInterval$=new Yn.x,this.backgroundColor="transparent"}ngAfterViewInit(){let i=[],n=this.config;this._root&&this._root.dispose(),this._root=Lh.new("pie_chart_"+this.id),this._root.setThemes([bp.new(this._root)]),n.view.chart.BackgroundColor&&(this.backgroundColor=n.view.chart.BackgroundColor);const s=this._root.container.children.push(Wx.new(this._root,{...n.view.chart}));let a=s.series.push(Vx.new(this._root,{valueField:"value",categoryField:"label",...n.view.chart}));n.content.length>0&&(i=n.content.map(o=>({topic:o.topic.id,color:Qr(o.color??"#000000"),label:o.outputs?.read.name||"undefined",value:10}))),a.data.setAll(i),n.view.legend?.hasLegend&&s.children.push(dw.new(this._root,{...n.view.legend,x:Tr(Number(n.view.legend.x)),y:Tr(Number(n.view.legend.y)),layout:this._root[n.view.legend.layoutSetting]})).data.setAll(a.dataItems),a.appear(1e3),s.appear(1e3,100),n.content.length>0&&(i=n.content.map((o,l)=>(this.socketService.fetchDeviceData(o.topic.id,o.outputs?.read.name).pipe((0,Dn.U)(c=>{a.data.setIndex(l,{topic:o.topic.id,label:o.outputs?.read.name,value:c,color:Qr(o.color??"#000000")}),this._root?.resize()})).subscribe(),{label:o.outputs?.read.name||"undefined",value:0,color:Qr(o.color??"#000000")})))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.unsubscribeInterval$.next(),this.unsubscribeInterval$.complete(),this._root&&this._root.dispose()}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(ql),h.Y36(cg.O),h.Y36(er.yh))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-pie-chart"]],inputs:{id:"id",config:"config"},decls:3,vars:4,consts:[[1,"container"],[4,"ngIf"],[1,"chart-container",3,"id"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0),h.YNc(1,lW,2,1,"h6",1),h._UZ(2,"div",2),h.qZA()),2&i&&(h.Udp("background-color",n.backgroundColor),h.xp6(1),h.Q6J("ngIf",n.config.view.labels.title),h.xp6(1),h.Q6J("id","pie_chart_"+n.id))},dependencies:[G.O5],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;display:flex;flex-direction:column;border:1px solid #FFFFFF;border-radius:.5rem}.chart-container[_ngcontent-%COMP%]{padding:0;width:100%;flex:1 1 0}h6[_ngcontent-%COMP%]{text-align:center;color:#fff}"]})}return r})();function hW(r,e){if(1&r&&(h.TgZ(0,"h6"),h._uU(1),h.qZA()),2&r){const t=h.oxw();h.xp6(1),h.Oqu(t.config.view.labels.title||"")}}const Wk={ColumnChart:KR,ClusterColumnChart:(()=>{class r{constructor(t,i,n){this.socketService=t,this.historicalService=i,this.store=n,this._series=[],this._rawData=[],this.needToUpdateChart=!1,this.unsubscribe$=new Yn.x,this.unsubscribeInterval$=new Yn.x,this.backgroundColor="transparent"}ngAfterViewInit(){let i=[],n=this.config;this._root&&this._root.dispose(),this._root=Lh.new("column_chart_"+this.id),this._root.setThemes([bp.new(this._root)]),n.view.chart.BackgroundColor&&(this.backgroundColor=n.view.chart.BackgroundColor),this._chart=this._root.container.children.push(rt.new(this._root,{panX:!1,panY:!1,wheelX:"none",wheelY:"none",pinchZoomX:!1}));const s=Ms.new(this._root,{minGridDistance:10}),a=n.view.xRenderer;s.labels.template.setAll({rotation:n.view.xRenderer.rotation||0,centerY:("100"===a.centerY?hi:"50"===a.centerY?pn:fd)||pn,centerX:("100"===a.centerX?hi:"50"===a.centerX?pn:fd)||hi,breakWords:n.view.xRenderer.breakWords||!0,textAlign:n.view.xRenderer.textAlign||"center",fontSize:n.view.xRenderer.fontSize||"10",visible:n.view.xRenderer.visible||!1}),s.grid.template.setAll({location:1}),this._xAxis=this._chart.xAxes.push(Cu.new(this._root,{categoryField:"label",renderer:s,maxDeviation:.3,tooltip:hl.new(this._root,{})})),this._yAxis=this._chart.yAxes.push(Pn.new(this._root,{maxDeviation:.3,max:n.view.chart.max||100,min:n.view.chart.min||0,strictMinMax:!0,renderer:Ts.new(this._root,{minGridDistance:20,strokeOpacity:.1})})),this._chart.set("cursor",Di.new(this._root,{})).lineY.set("visible",!1),n.content.length>0&&(i=n.content.map(f=>({label:f.label,columns:f.columns.map(d=>({outputs:{read:d.outputs_read},Equivalent:d.Equivalent,topic:d.topic,color:d.color}))}))),this._series=[];let A=i[0].columns.map(f=>f.Equivalent||f.outputs?.read?.name),u=n.view.chart.clusterCount;for(let f=0;f<u;f++)this.addSeries("Series_"+f,"label",n,A[f]);if(this._chart.zoomOutButton.set("forceHidden",!0),this._chart.appear(1e3,100),!n.content[0]?.columns[0]?.isApi&&n.content.length>0){const f=JSON.parse(JSON.stringify(n.content));f.map((d,_)=>{d.columns.map((g,m)=>(this.socketService.fetchDeviceData(g.topic.id,g.outputs?.read?.name).pipe((0,Dn.U)(C=>{void 0!==C&&(g.value=Number(C),this.updateChartItem(g,_))})).subscribe(),g))}),this._rawData=f.map(d=>{const _=d.columns.map(g=>(g.value=0,g));let p={};for(const g of _)g.Equivalent?p[g.Equivalent]=g.value:g.outputs_read?p[g.outputs_read.name]=g.value:g.outputs?.read&&(p[g.outputs.read.name]=g.value);return p.label=d.label,p})}this.reRenderChart(),this._updateChartInterval=setInterval(()=>{this.needToUpdateChart&&(this.reRenderChart(),this.needToUpdateChart=!1)},1500)}updateChartItem(t,i){if(t.Equivalent){if(this._rawData[i][t.Equivalent]===t.value)return;this._rawData[i][t.Equivalent]=t.value}else if(t.outputs?.read){if(this._rawData[i][t.outputs?.read.name]===t.value)return;this._rawData[i][t.outputs?.read.name]=t.value}this.needToUpdateChart=!0}reRenderChart(){this._xAxis.data.setAll(this._rawData);for(let t=0;t<this._series.length;t++){const i=this._series[t];i.data.setAll(this._rawData),i.appear(500).then(()=>{})}}getItemOutputsText(t){return t.Equivalent||t.outputs?.read.name||"undefined"}addSeries(t,i,n,s){const a=fg.new(this._root,{name:t,xAxis:this._xAxis,yAxis:this._yAxis,valueYField:s,sequencedInterpolation:!0,categoryXField:i,tooltip:hl.new(this._root,{labelText:"{valueY}"})});return this._series.push(a),this._chart.series.push(a),a.columns.template.setAll({cornerRadiusTL:5,cornerRadiusTR:5,strokeOpacity:0}),a}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.unsubscribeInterval$.next(),this.unsubscribeInterval$.complete(),this._root&&this._root.dispose(),this._updateChartInterval&&clearInterval(this._updateChartInterval)}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(ql),h.Y36(cg.O),h.Y36(er.yh))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-cluster-column-chart"]],inputs:{id:"id",config:"config"},decls:3,vars:4,consts:[[1,"container"],[4,"ngIf"],[1,"chat-container",3,"id"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0),h.YNc(1,hW,2,1,"h6",1),h._UZ(2,"div",2),h.qZA()),2&i&&(h.Udp("background-color",n.backgroundColor),h.xp6(1),h.Q6J("ngIf",n.config),h.xp6(1),h.Q6J("id","column_chart_"+n.id))},dependencies:[G.O5],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;display:flex;flex-direction:column;border:1px solid #FFFFFF;border-radius:.5rem}.chat-container[_ngcontent-%COMP%]{padding:0;width:100%;height:100%}h6[_ngcontent-%COMP%]{text-align:center;color:#fff}"]})}return r})(),PieChart:cW,DynamicChart:DR,Gauge:HR,Card:WR,Map:VR,Table:void 0,LineChart:jR,LinkedTable:OO,Slider:YO,Button:VO,Hmi:kO,Form:qO,Submit:$O,"3D":sW,ChangeSource:aW,ProgressChart:(()=>{class r{constructor(t){this.socketService=t,this.unsubscribe$=new Yn.x,this.backgroundColor="transparent",this.rawData=[]}ngAfterViewInit(){const t=this.config;this.applyContent(t.content),this._root&&this._root.dispose(),this._root=Lh.new("progress_"+this.id),this._root.setThemes([bp.new(this._root)]),t.view.chart.BackgroundColor&&(this.backgroundColor=t.view.chart.BackgroundColor);let i=this._root.container.children.push(rt.new(this._root,{...t.view.chart,layout:this._root.verticalLayout})),s=(i.children.push(dw.new(this._root,{centerX:pn,x:pn})),i.xAxes.push(Cu.new(this._root,{categoryField:"category",renderer:Ms.new(this._root,{}),tooltip:hl.new(this._root,{})}))),a=s.get("renderer");a.grid.template.set("forceHidden",!0),a.labels.template.set("forceHidden",!0);const o=t.view.rangeColor.slice().sort((C,B)=>C.start<B.start?-1:1);let l=[];o?.forEach(C=>{l[C.start]=C.color});const c=o[o.length-1].end,A=[];let u=0,f="";for(let C=o[0].start;C<c;C++)o[u]&&(o[u+1]&&C>o[u+1].start&&u++,f=o[u].color,A.push({category:C,columnSettings:{fill:f},value:100,currentBullet:t.view.bullet.bullet==C}));s.data.setAll(A.reverse());let d=i.yAxes.push(Pn.new(this._root,{...t.view.valueAxisSetting,renderer:Ts.new(this._root,{})})),_=d.get("renderer");_.grid.template.set("forceHidden",!0),_.labels.template.set("forceHidden",!0);const p={width:hi,tooltipY:0,strokeOpacity:1,strokeWidth:2,stroke:Qr(16777215),templateField:"columnSettings"};let m=i.series.push(fg.new(this._root,{xAxis:s,yAxis:d,valueYField:"value",categoryXField:"category",maskBullets:!1}));m.columns.template.setAll(p),m.bullets.push((C,B,S)=>{let U=S.dataContext;if(U?.currentBullet){let H=en.new(C,{});return H.children.push(lr.new(C,{fill:U.columnSettings?.fill,dy:-5,centerY:hi,centerX:pn,svgPath:"M66.9 41.8c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4 0 11.3 20.4 32.4 20.4 32.4s20.4-21.1 20.4-32.4zM37 41.4c0-5.2 4.3-9.5 9.5-9.5s9.5 4.2 9.5 9.5c0 5.2-4.2 9.5-9.5 9.5-5.2 0-9.5-4.3-9.5-9.5z"})),yu.new(C,{locationY:1,sprite:H})}if(U.targetBullet){let H=en.new(C,{dx:15});return H.children.push(Td.new(C,{...t.view.targetCircle})),H.children.push(ho.new(C,{...t.view.targetSettings})),yu.new(C,{locationY:.5,sprite:H})}}),m.data.setAll(A),t.view.axisLabels.forEach(C=>this.addAxisLabel(s,C.category,C.text)),m.appear(1e3,100),i.appear(1e3,100)}addAxisLabel(t,i,n,s=0){let a=t.makeDataItem({category:i}),o=t.createAxisRange(a);o&&(o.get("label")?.setAll({fill:Qr(s??0),text:n,forceHidden:!1}),o.get("grid")?.setAll({strokeOpacity:1,location:1}))}applyContent(t){const i={};t.forEach(n=>{i[n.outputs.read.name]=!1,this.socketService.fetchDeviceData(n.topic.id,n.outputs.read.name).pipe((0,Dn.U)(s=>{if("string"==typeof s&&(s=JSON.parse(s)),s&&i[n.outputs.read.name]!==s){const a=new Date((new Date).toLocaleString("fa-IR-u-nu-latn"));this.rawData.push({...s,id:a.getTime(),name:n.outputs.read.name,topic:n.topic.name,date:a})}else"kn6r4fpx8yr"===n.topic.id&&(this.rawData=this.rawData.filter(a=>a.name!==n.outputs.read.name));i[n.outputs.read.name]=s}),(0,Rt.R)(this.unsubscribe$)).subscribe()})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(ql))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-progress-bar"]],inputs:{id:"id",config:"config"},decls:1,vars:3,consts:[[1,"container",3,"id"]],template:function(i,n){1&i&&h._UZ(0,"div",0),2&i&&(h.Udp("background-color",n.backgroundColor),h.Q6J("id","progress_"+n.id))},styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return r})()},AW=["Host"];function uW(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){h.CHM(t);const n=h.oxw();return h.KtG(n.dockManager.addFloatingWindow(n.panel))}),h.TgZ(1,"mat-icon"),h._uU(2,"branding_watermark"),h.qZA()()}}function dW(r,e){}const fW=function(r){return{backgroundColor:r}};let jx=(()=>{class r extends Au.H{constructor(t,i){super(),this.dockManager=t,this.dashboardStore=i,this.colorGrid="transparent"}ngAfterViewInit(){this.drawComponent()}get item(){return this.panel.gridSterConfig}drawComponent(){this.item.localId&&this.dashboardStore.select((0,Yi.rM)(this.item.localId)).pipe((0,Oe.q)(1),(0,Dn.U)(t=>{if(oo.N.LOGGER&&console.log(t),t&&t.config){this.data=t.config;const n=Wk[t.type],s=this.host;s.clear();const a=s.createComponent(n);a.instance.id=t.localId,a.instance.config=t.config,"Form"===this.item.type&&("Flow"===this.item.config.content.Name||"SetpointFlow"===this.item.config.content.Name?(a.instance.min=0,a.instance.max=28):"Level"===this.item.config.content.Name||"SetpointLevel"===this.item.config.content.Name?(a.instance.min=0,a.instance.max=100):"Temp"===this.item.config.content.Name?(a.instance.min=0,a.instance.max=50):"SetpointTemp"===this.item.config.content.Name?(a.instance.min=0,a.instance.max=45):"Hystersis"===this.item.config.content.Name&&(a.instance.min=0,a.instance.max=2)),"Submit"===this.item.type&&(a.instance.form=this.Form)}})).subscribe()}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(zM),h.Y36(er.yh))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["panel-container"]],viewQuery:function(i,n){if(1&i&&h.Gf(AW,7,h.s_b),2&i){let s;h.iGM(s=h.CRH())&&(n.host=s.first)}},inputs:{panel:"panel",Form:"Form",colorGrid:"colorGrid"},features:[h.qOj],decls:6,vars:4,consts:[[1,"panel-container"],["color","primary","mat-icon-button","","class","floating-window-icon",3,"click",4,"ngIf"],[1,"grid-item-container",3,"ngStyle"],[1,"grid-item-content"],["Host",""],["color","primary","mat-icon-button","",1,"floating-window-icon",3,"click"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0),h.YNc(1,uW,3,0,"button",1),h.TgZ(2,"div",2)(3,"div",3),h.YNc(4,dW,0,0,"ng-template",null,4,h.W1O),h.qZA()()()),2&i&&(h.xp6(1),h.Q6J("ngIf",!n.dockManager.lockActiveDashboardLayout&&n.panel.isGridSter),h.xp6(1),h.Q6J("ngStyle",h.VKq(2,fW,n.colorGrid)))},dependencies:[G.O5,G.PC,ms.RK,rs.Hw],styles:[".panel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.floating-window-icon[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;opacity:.7;z-index:2}.grid-item-content[_ngcontent-%COMP%]{width:100%;height:100%}.grid-item-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%}.grid-item-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0;padding:0;width:100%;height:100%;overflow-y:hidden;position:relative}.grid-item-content[_ngcontent-%COMP%]{width:100%;height:100%;padding:.1rem}"]})}return r})();class pW{constructor(e,t){this.wheel=e,this.id=t;let i=t.replace("-s","");this.element=document.createElement("div"),this.element.classList.add("dock-wheel-item"),this.element.classList.add("disable-selection"),this.element.classList.add("dock-wheel-"+i),this.element.classList.add("dock-wheel-"+i+"-icon"),this.hoverIconClass="dock-wheel-"+i+"-icon-hover",this.mouseOverHandler=new Ki(this.element,"pointerover",this.onMouseMoved.bind(this)),this.mouseOutHandler=new Ki(this.element,"pointerout",this.onMouseOut.bind(this)),this.active=!1}onMouseMoved(){this.active=!0,this.element.classList.add(this.hoverIconClass),this.wheel.onMouseOver(this)}onMouseOut(){this.active=!1,this.element.classList.remove(this.hoverIconClass),this.wheel.onMouseOut()}}var Ka=function(r){return r.left="left",r.right="right",r.top="top",r.down="down",r.fill="fill",r["left-s"]="left-s",r["right-s"]="right-s",r["top-s"]="top-s",r["down-s"]="down-s",r}(Ka||{});class mW{constructor(e){this.dockManager=e,this.elementMainWheel=document.createElement("div"),this.elementSideWheel=document.createElement("div"),this.wheelItems={};for(let i in Ka)this.wheelItems[i]=new pW(this,i),"-s"===i.substr(-2,2)?this.elementSideWheel.appendChild(this.wheelItems[i].element):this.elementMainWheel.appendChild(this.wheelItems[i].element);let t=9e6;this.elementMainWheel.classList.add("dock-wheel-base"),this.elementSideWheel.classList.add("dock-wheel-base"),this.elementMainWheel.style.zIndex=String(t+1),this.elementSideWheel.style.zIndex=String(t),this.elementPanelPreview=document.createElement("div"),this.elementPanelPreview.classList.add("dock-wheel-panel-preview"),this.elementPanelPreview.style.zIndex=String(t-1),this.activeDialog=void 0,this._activeNode=void 0,this._visible=!1}get activeNode(){return this._activeNode}set activeNode(e){let t=this._activeNode;this._activeNode=e,t!==this._activeNode&&this._visible&&this.showWheel()}showWheel(){if(this._visible=!0,!this.activeNode)return ln.removeNode(this.elementMainWheel),void ln.removeNode(this.elementSideWheel);let e=this.activeNode.container.containerElement,i=e.clientHeight,n=Math.floor(e.clientWidth/2),s=Math.floor(i/2),a=e.getBoundingClientRect(),o=this.dockManager.element.getBoundingClientRect();this.elementMainWheel.style.left=a.left-o.left+n+"px",this.elementMainWheel.style.top=a.top-o.top+s+"px",ln.removeNode(this.elementMainWheel),this.dockManager.element.appendChild(this.elementMainWheel)}_setWheelButtonPosition(e,t,i){let n=this.wheelItems[e],a=n.element.clientHeight/2,o=Math.floor(t-n.element.clientWidth/2),l=Math.floor(i-a);n.element.style.marginLeft=o+"px",n.element.style.marginTop=l+"px"}hideWheel(){this._visible=!1,this.activeNode=void 0,ln.removeNode(this.elementMainWheel),ln.removeNode(this.elementSideWheel),ln.removeNode(this.elementPanelPreview);for(let e in this.wheelItems)this.wheelItems[e].active=!1}onMouseOver(e){if(!this.activeDialog)return;let i,t=this.dockManager.context.model.rootNode;e.id===Ka.top?i=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,"vertical",!0):e.id===Ka.down?i=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,"vertical",!1):e.id===Ka.left?i=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,"horizontal",!0):e.id===Ka.right?i=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,"horizontal",!1):e.id===Ka.fill?i=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,"fill",!1):e.id===Ka["top-s"]?i=this.dockManager.layoutEngine.getDockBounds(t,this.activeDialog.panel,"vertical",!0):e.id===Ka["down-s"]?i=this.dockManager.layoutEngine.getDockBounds(t,this.activeDialog.panel,"vertical",!1):e.id===Ka["left-s"]?i=this.dockManager.layoutEngine.getDockBounds(t,this.activeDialog.panel,"horizontal",!0):e.id===Ka["right-s"]&&(i=this.dockManager.layoutEngine.getDockBounds(t,this.activeDialog.panel,"horizontal",!1)),i&&(this.dockManager.element.appendChild(this.elementPanelPreview),this.elementPanelPreview.style.left=Math.round(i.x)+"px",this.elementPanelPreview.style.top=Math.round(i.y)+"px",this.elementPanelPreview.style.width=Math.round(i.width)+"px",this.elementPanelPreview.style.height=Math.round(i.height)+"px")}onMouseOut(){ln.removeNode(this.elementPanelPreview)}onDialogDropped(e){let t=this._getActiveWheelItem();t&&this._handleDockRequest(t,e)}_getActiveWheelItem(){for(let e in this.wheelItems){let t=this.wheelItems[e];if(t.active)return t}}_handleDockRequest(e,t){e.active=!1,e.element.classList.remove(e.hoverIconClass),this.activeNode&&(e.id===Ka.left?this.dockManager.dockDialogLeft(this.activeNode,t):e.id===Ka.right?this.dockManager.dockDialogRight(this.activeNode,t):e.id===Ka.top?this.dockManager.dockDialogUp(this.activeNode,t):e.id===Ka.down?this.dockManager.dockDialogDown(this.activeNode,t):e.id===Ka.fill?this.dockManager.dockDialogFill(this.activeNode,t):e.id===Ka["left-s"]?this.dockManager.dockDialogLeft(this.dockManager.context.model.rootNode,t):e.id===Ka["right-s"]?this.dockManager.dockDialogRight(this.dockManager.context.model.rootNode,t):e.id===Ka["top-s"]?this.dockManager.dockDialogUp(this.dockManager.context.model.rootNode,t):e.id===Ka["down-s"]&&this.dockManager.dockDialogDown(this.dockManager.context.model.rootNode,t))}}class OM{constructor(){this.rootNode=this.documentManagerNode=void 0}}let gW=(()=>{class r{constructor(t){this.parent=t;let i=this._performUndock.bind(this);this.elementBase=document.createElement("div"),this.elementText=document.createElement("div"),this.elementCloseButton=document.createElement("div"),this.elementBase.classList.add("dockspan-tab-handle"),this.elementBase.classList.add("disable-selection"),this.elementText.classList.add("dockspan-tab-handle-text"),this.elementCloseButton.classList.add("dockspan-tab-handle-close-button"),this.elementBase.appendChild(this.elementText),this.parent.host.displayCloseButton&&this.elementBase.appendChild(this.elementCloseButton),(this.parent.container._hideCloseButton||this.parent.container._grayOut)&&(this.elementCloseButton.style.display="none"),this.parent.host.tabListElement.appendChild(this.elementBase);let n=t.container,s=n.getRawTitle();this.undockListener={onDockEnabled:a=>{this.undockEnabled(a.state)},onHideCloseButton:a=>{this.hideCloseButton(a.state)}},this.eventListeners=[],n.addListener(this.undockListener),this.elementText.innerHTML=s,this.elementText.title=this.elementText.innerText,this.undockInitiator=new uA(this.elementBase,i),this.undockInitiator.enabled=!0,this.mouseDownHandler=new Ki(this.elementBase,"mousedown",this.onMouseDown.bind(this)),this.touchDownHandler=new Ki(this.elementBase,"touchstart",this.onMouseDown.bind(this),{passive:!1}),this.closeButtonHandler=new Ki(this.elementCloseButton,"click",this.onCloseButtonClicked.bind(this)),this.closeButtonTouchHandler=new Ki(this.elementCloseButton,"touchstart",this.onCloseButtonClicked.bind(this)),this.auxClickHandler=new Ki(this.elementBase,"auxclick",this.onCloseButtonClicked.bind(this)),n.panelType==Il.document&&(this.contextMenuHandler=new Ki(this.elementBase,"contextmenu",this.oncontextMenuClicked.bind(this)))}addListener(t){this.eventListeners.push(t)}removeListener(t){this.eventListeners.splice(this.eventListeners.indexOf(t),1)}undockEnabled(t){this.undockInitiator.enabled=t}static#e=this.createContextMenuContentCallback=(t,i,n)=>{let s=document.createElement("div");s.innerText=Fl.getString("CloseAll"),i.append(s),s.onclick=()=>{for(let c=n.length-1;c>=0;c--){let A=n[c].container;A.panelType==Il.document&&A.close()}t.closeContextMenu()};let a=document.createElement("div");a.innerText=Fl.getString("CloseAllButThis"),i.append(a),a.onclick=()=>{for(let c=n.length-1;c>=0;c--){let A=n[c].container;t.parent.container!=A&&A.panelType==Il.document&&A.close()}t.closeContextMenu()};let o=document.createElement("div");o.innerText=Fl.getString("NewBrowserWindow"),i.append(o),o.onclick=()=>{t.parent.container.undockToBrowserDialog(),t.closeContextMenu()}};oncontextMenuClicked(t){t.preventDefault(),!this._ctxMenu&&r.createContextMenuContentCallback?(this._ctxMenu=document.createElement("div"),this._ctxMenu.className="dockspab-tab-handle-context-menu",r.createContextMenuContentCallback(this,this._ctxMenu,this.parent.container.dockManager.context.model.documentManagerNode.children),this._ctxMenu.style.left=t.pageX+"px",this._ctxMenu.style.top=t.pageY+"px",document.body.appendChild(this._ctxMenu),this._windowsContextMenuCloseBound=this.windowsContextMenuClose.bind(this),window.addEventListener("mouseup",this._windowsContextMenuCloseBound)):this.closeContextMenu()}closeContextMenu(){this._ctxMenu&&(document.body.removeChild(this._ctxMenu),delete this._ctxMenu,window.removeEventListener("mouseup",this._windowsContextMenuCloseBound))}windowsContextMenuClose(t){let i=t.composedPath();for(let n in i)if(i[n]==this._ctxMenu)return;this.closeContextMenu()}onMouseDown(t){t.preventDefault(),this.parent.onSelected(),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.touchMoveHandler&&(this.touchMoveHandler.cancel(),delete this.touchMoveHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.touchUpHandler&&(this.touchUpHandler.cancel(),delete this.touchUpHandler),this.stargDragPosition=t.clientX,this.mouseMoveHandler=new Ki(window,"mousemove",this.onMouseMove.bind(this)),this.touchMoveHandler=new Ki(window,"touchmove",this.onMouseMove.bind(this),{passive:!1}),this.mouseUpHandler=new Ki(window,"mouseup",this.onMouseUp.bind(this)),this.touchUpHandler=new Ki(window,"touchend",this.onMouseUp.bind(this))}onMouseUp(t){this.elementBase&&this.elementBase.classList.remove("dockspan-tab-handle-dragged"),this.dragged=!1,this.mouseMoveHandler&&this.mouseMoveHandler.cancel(),this.touchMoveHandler&&this.touchMoveHandler.cancel(),this.mouseUpHandler&&this.mouseUpHandler.cancel(),this.touchUpHandler&&this.touchUpHandler.cancel(),delete this.mouseMoveHandler,delete this.touchMoveHandler,delete this.mouseUpHandler,delete this.touchUpHandler}moveTabEvent(t,i){t.eventListeners.forEach(n=>{n.onMoveTab&&n.onMoveTab({self:t,state:i})})}onMouseMove(t){if(t.preventDefault(),!(Math.abs(this.stargDragPosition-t.clientX)<10)&&null!=this.elementBase){this.elementBase.classList.add("dockspan-tab-handle-dragged"),this.dragged=!0,this.prev=this.current,this.current=t.clientX,this.direction=this.current-this.prev;let i=this.elementBase.getBoundingClientRect();(t.clientX<i.left&&this.direction<0||t.clientX>i.left+i.width&&this.direction>0)&&this.moveTabEvent(this,(this.direction<0?{state:"left",bound:i.left,rect:i}:{state:"right",bound:i.right,rect:i}).state)}}hideCloseButton(t){this.elementCloseButton.style.display=t?"none":"block"}updateTitle(){if(this.parent.container instanceof lo){let i=this.parent.container.getRawTitle();this.elementText.innerHTML=i}}destroy(){this.parent.container.removeListener(this.undockListener),this.mouseDownHandler.cancel(),this.touchDownHandler.cancel(),this.closeButtonHandler.cancel(),this.closeButtonTouchHandler.cancel(),this.auxClickHandler.cancel(),this.mouseMoveHandler&&this.mouseMoveHandler.cancel(),this.touchMoveHandler&&this.touchMoveHandler.cancel(),this.mouseUpHandler&&this.mouseUpHandler.cancel(),this.touchUpHandler&&this.touchUpHandler.cancel(),this.contextMenuHandler&&this.contextMenuHandler.cancel(),this.elementBase&&(ln.removeNode(this.elementBase),delete this.elementBase),this.elementCloseButton&&(ln.removeNode(this.elementCloseButton),delete this.elementCloseButton)}_performUndock(t,i){return"panel"===this.parent.container.containerType?(this.undockInitiator.enabled=!1,this.parent.container.performUndockToDialog(t,i)):null}onCloseButtonClicked(t){"none"!==this.elementCloseButton.style.display&&2!==t.button&&"panel"===this.parent.container.containerType&&this.parent.container.close()}setSelected(t){t?this.elementBase.classList.add("dockspan-tab-handle-selected"):(this.elementBase.classList.remove("dockspan-tab-handle-selected"),this.elementBase.classList.remove("dockspan-tab-handle-active"))}setActive(t){this.elementBase&&(t?this.elementBase.classList.add("dockspan-tab-handle-active"):this.elementBase.classList.remove("dockspan-tab-handle-active"))}}return r})();class Vk{constructor(e,t){0!==arguments.length&&(this.selected=!1,this.host=e,this.container=t,this.handle=new gW(this),this.containerElement=t.containerElement,t instanceof lo&&(this.panel=t,this.panel.onTitleChanged=this.onTitleChanged.bind(this),this.onTitleChanged()),t.tabPage=this)}onTitleChanged(){this.handle.updateTitle(),this.panel&&(this.panel.hasChanges?this.handle.elementText.classList.add("panel-has-changes"):this.handle.elementText.classList.remove("panel-has-changes"))}destroy(){this.handle.destroy(),this.container instanceof lo&&delete this.container.onTitleChanged,this.host.dockManager.activePanel==this.panel&&(this.host.dockManager.activePanel=null),this.container.tabPage=null,ln.removeNode(this.containerElement)}onSelected(){this.host.onTabPageSelected(this,!0),this.container instanceof lo&&this.container.dockManager.notifyOnTabChange(this)}setSelected(e,t){this.selected=e,this.handle.setSelected(e),this._initContent||this.host.contentElement.appendChild(this.containerElement),this._initContent=!0,this.selected?(this.containerElement.style.display="block",this.panel.setVisible(!0),this.container.resize(this.host.contentElement.clientWidth,this.host.contentElement.clientHeight),t&&(this.host.dockManager.activePanel=this.container)):(this.containerElement.style.display="none",this.panel.setVisible(!1))}resize(e,t){this.container.resize(e,t)}}var y_=function(r){return r[r.TOP=0]="TOP",r[r.BOTTOM=1]="BOTTOM",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT",r}(y_||{});class _W{constructor(e,t,i){if(void 0===t&&(t=y_.BOTTOM),void 0===i&&(i=!1),this.dockManager=e,this.tabStripDirection=t,this.displayCloseButton=i,this.pages=[],this.eventListeners=[],this.tabHandleListener={onMoveTab:n=>{this.onMoveTab(n)}},this.hostElement=document.createElement("div"),this.tabListElement=document.createElement("div"),this.separatorElement=document.createElement("div"),this.contentElement=document.createElement("div"),this.contentElement.tabIndex=0,this.createTabPage=this._createDefaultTabPage,this.tabStripDirection===y_.BOTTOM)this.hostElement.appendChild(this.contentElement),this.hostElement.appendChild(this.separatorElement),this.hostElement.appendChild(this.tabListElement);else{if(this.tabStripDirection!==y_.TOP)throw new Error("Only top and bottom tab strip orientations are supported");this.hostElement.appendChild(this.tabListElement),this.hostElement.appendChild(this.separatorElement),this.hostElement.appendChild(this.contentElement)}this.hostElement.classList.add("dockspan-tab-host"),this.tabListElement.classList.add("dockspan-tab-handle-list-container"),this.separatorElement.classList.add("dockspan-tab-handle-content-seperator"),this.contentElement.classList.add("dockspan-tab-content"),this.contentElement.tabIndex=0,this.focusHandler=new Ki(this.contentElement,"focus",this.onFocus.bind(this),!0),this.mouseDownHandler=new Ki(this.contentElement,"mousedown",this.onMousedown.bind(this),!0)}onFocus(){this.activeTab&&this.dockManager.activePanel!=this.activeTab.panel&&(this.dockManager.activePanel=this.activeTab.panel)}setActive(e){e?this.separatorElement.classList.add("dockspan-tab-handle-content-seperator-active"):this.separatorElement.classList.remove("dockspan-tab-handle-content-seperator-active"),this.activeTab&&this.activeTab.handle.setActive(e)}onMousedown(){this.activeTab&&this.dockManager.activePanel!=this.activeTab.panel&&(this.dockManager.activePanel=this.activeTab.panel)}onMoveTab(e){let t=Array.prototype.slice.call(this.tabListElement.childNodes).indexOf(e.self.elementBase);this.change(this,e.self,e.state,t)}performTabsLayout(e){this.pages=ln.orderByIndexes(this.pages,e);let t=this.tabListElement.childNodes,i=[];for(let n in t)1===t[n].nodeType&&i.push(t[n]);i=ln.orderByIndexes(i,e);for(let n=0;n<i.length;++n)this.tabListElement.appendChild(i[n]);this.activeTab&&this.onTabPageSelected(this.activeTab,!1)}getActiveTab(){return this.activeTab}addListener(e){this.eventListeners.push(e)}removeListener(e){this.eventListeners.splice(this.eventListeners.indexOf(e),1)}change(e,t,i,n){this.eventListeners.forEach(s=>{s.onChange&&s.onChange({host:e,handle:t,state:i,index:n})})}_createDefaultTabPage(e,t){return new Vk(e,t)}setActiveTab(e){let t;this.pages.forEach(i=>{i.container===e&&(t=i)}),this.pages.length>0&&t&&(this.onTabPageSelected(t,!0),this.dockManager.activePanel=e)}resize(e,t){this.hostElement.style.width=e+"px",this.hostElement.style.height=t+"px";let i=this.tabListElement.clientHeight;this._resizeRequested||requestAnimationFrame(()=>this.resizeTabListElement(e,t)),this._resizeRequested=!0;let s=t-i-this.separatorElement.clientHeight;this.contentElement.style.height=s+"px",this.activeTab&&this.activeTab.resize(e,s)}resizeTabListElement(e,t){if(this._resizeRequested=!1,0===this.pages.length)return;let i=0;this.pages.forEach(s=>{let a=s.handle;null!=a.elementBase&&(a.elementBase.style.width="",i+=a.elementBase.clientWidth)});let n=e/i;n>1.2||this.pages.forEach((s,a)=>{let o=s.handle,l=n*o.elementBase.clientWidth;a===this.pages.length-1&&(l-=5),o.elementBase.style.width=l+"px"})}performLayout(e){this.pages.forEach(n=>{if(!e.some(s=>s==n.container)){n.handle.removeListener(this.tabHandleListener),n.destroy();let s=this.pages.indexOf(n);s>-1&&this.pages.splice(s,1)}});let t=this.activeTab;delete this.activeTab;let i=e.filter(n=>"panel"===n.containerType);i.length>0?(i.forEach(n=>{let s=null;this.pages.some(a=>a.container==n&&(s=a,!0))||(s=this.createTabPage(this,n),s.handle.addListener(this.tabHandleListener),this.pages.push(s)),t&&s.container===t.container&&(this.activeTab=s)}),this._setTabHandlesVisible(!0)):this._setTabHandlesVisible(!1),this.activeTab&&this.onTabPageSelected(this.activeTab,!1)}_setTabHandlesVisible(e){e?(this.tabListElement.classList.add("dockspan-tab-handle-list-container-visible"),this.separatorElement.classList.add("dockspan-tab-handle-content-seperator-visible")):(this.tabListElement.classList.remove("dockspan-tab-handle-list-container-visible"),this.separatorElement.classList.remove("dockspan-tab-handle-content-seperator-visible"))}onTabPageSelected(e,t){this.activeTab=e,this.pages.forEach(i=>{i.setSelected(i===e,t)})}}class Jx{constructor(e,t){void 0===t&&(t=y_.BOTTOM),this.dockManager=e,this.tabOrientation=t,this.name=ln.getNextId("fill_"),this.element=document.createElement("div"),this.containerElement=this.element,this.containerType=Jc.fill,this.minimumAllowedChildNodes=2,this.element.classList.add("dock-container"),this.element.classList.add("dock-container-fill"),this.tabHost=new _W(e,this.tabOrientation),this.tabHostListener={onChange:i=>{this.dockManager._requestTabReorder(this,i)}},this.tabHost.addListener(this.tabHostListener),this.element.appendChild(this.tabHost.hostElement)}setActiveChild(e){this.tabHost.setActiveTab(e)}resize(e,t){this.element.style.width=e+"px",this.element.style.height=t+"px",this.tabHost.resize(e,t)}performLayout(e){this.tabHost.performLayout(e)}destroy(){this.tabHost.pages.forEach(e=>e.destroy()),ln.removeNode(this.element)&&delete this.element}saveState(e){e.width=this.width,e.height=this.height,e.name=this.name}loadState(e){this.state={width:e.width,height:e.height},this.name=e.name}get width(){return this.element.clientWidth}set width(e){this.element.style.width=e+"px"}get height(){return this.element.clientHeight}set height(e){this.element.style.height=e+"px"}}class vW extends Vk{constructor(e,t){super(e,t),"panel"===this.container.containerType&&(this.panel=t,this.containerElement=this.panel.elementContentWrapper,ln.removeNode(this.containerElement))}destroy(){super.destroy(),this.panel.elementContentHost.appendChild(this.containerElement)}}class Kx extends Jx{constructor(e){super(e,y_.TOP),this.minimumAllowedChildNodes=0,this.element.classList.add("document-manager"),this.tabHost.createTabPage=this._createDocumentTabPage,this.tabHost.displayCloseButton=!0}_createDocumentTabPage(e,t){return new vW(e,t)}saveState(e){super.saveState(e),e.documentManager=!0}selectedTab(){return this.tabHost.activeTab}}class wW{constructor(e){this.dockManager=e,this.model=new OM,this.documentManagerView=new Kx(this.dockManager)}}class of{constructor(e){this.container=e,this.children=[]}detachFromParent(){this.parent&&(this.parent.removeChild(this),delete this.parent)}removeChild(e){let t=this.children.indexOf(e);t>=0&&this.children.splice(t,1)}addChild(e){e.detachFromParent(),e.parent=this,this.children.push(e)}addChildBefore(e,t){this._addChildWithDirection(e,t,!0)}addChildAfter(e,t){this._addChildWithDirection(e,t,!1)}_addChildWithDirection(e,t,i){t.detachFromParent(),t.parent=this;let n=this.children.indexOf(e),s=this.children.slice(0,n),a=this.children.slice(n+1,this.children.length);this.children=s.slice(0),i?(this.children.push(t),this.children.push(e)):(this.children.push(e),this.children.push(t)),Array.prototype.push.apply(this.children,a)}performLayout(e){let t=this.children.map(i=>i.container);0!==t.length&&this.container.performLayout(t,e)}debugDumpTree(e){void 0===e&&(e=0);let t=this.container.name;for(let n=0;n<e;n++)t="\t"+t;console.log(">>"+t+" ["+(void 0===this.parent?"null":this.parent.container.containerType)+"]"),this.children.forEach(n=>{n.debugDumpTree(e+1)})}}class bW{constructor(e,t,i){this.previousContainer=e,this.nextContainer=t,this.stackedVertical=i,this.barElement=document.createElement("div"),this.barElement.classList.add(i?"splitbar-horizontal":"splitbar-vertical"),this.pointerDownHandler=new Ki(this.barElement,"pointerdown",this.onPointerDown.bind(this)),this.minPanelSize=50,this.readyToProcessNextDrag=!0,this.dockSpawnResizedEvent=new CustomEvent("DockSpawnResizedEvent",{composed:!0,bubbles:!0}),this.iframeEventHandlers=[]}onPointerDown(e){this.barElement.setPointerCapture(e.pointerId),this._startDragging(e)}onPointerUp(e){this.barElement.releasePointerCapture(e.pointerId),this._stopDragging()}onPointerMovedIframe(e,t){null!=e.changedTouches&&(e=e.changedTouches[0]);let i=t.getBoundingClientRect();this.handleMoveEvent({x:parseInt(""+e.clientX+i.x),y:parseInt(""+e.clientY+i.y)})}onPointerMoved(e){null!=e.changedTouches&&(e=e.changedTouches[0]),this.handleMoveEvent({x:parseInt(""+e.clientX),y:parseInt(""+e.clientY)})}handleMoveEvent(e){if(!this.readyToProcessNextDrag)return;this.readyToProcessNextDrag=!1;let t=this.previousContainer.dockManager;t.suspendLayout(this.previousContainer),t.suspendLayout(this.nextContainer),this._performDrag(e.x-this.previousMouseEvent.x,e.y-this.previousMouseEvent.y),this.previousMouseEvent=e,this.readyToProcessNextDrag=!0,t.resumeLayout(this.previousContainer),t.resumeLayout(this.nextContainer)}_performDrag(e,t){let i=this.previousContainer.containerElement.clientWidth,n=this.previousContainer.containerElement.clientHeight,s=this.nextContainer.containerElement.clientWidth,a=this.nextContainer.containerElement.clientHeight,o=this.stackedVertical?n:i,l=this.stackedVertical?a:s,c=this.stackedVertical?t:e,A=o+c,u=l-c;(A<this.minPanelSize||u<this.minPanelSize)&&!(A<this.minPanelSize&&A>o||u<this.minPanelSize&&u>l)||(this.stackedVertical?(this.previousContainer.resize(i,A),this.nextContainer.resize(s,u)):c<0?(this.previousContainer.resize(A,n),this.nextContainer.resize(u,a)):(this.nextContainer.resize(u,a),this.previousContainer.resize(A,n),this.nextContainer.resize(u,a)),document.dispatchEvent(this.dockSpawnResizedEvent))}_startDragging(e){if(ln.disableGlobalTextSelection(this.previousContainer.dockManager.config.dialogRootElement),this.pointerMovedHandler&&(this.pointerMovedHandler.cancel(),delete this.pointerMovedHandler),this.pointerUpHandler&&(this.pointerUpHandler.cancel(),delete this.pointerUpHandler),this.pointerMovedHandler=new Ki(window,"pointermove",this.onPointerMoved.bind(this)),this.pointerUpHandler=new Ki(window,"pointerup",this.onPointerUp.bind(this)),this.previousContainer.dockManager.iframes)for(let t of this.previousContainer.dockManager.iframes){let i=this.onPointerMovedIframe.bind(this);this.iframeEventHandlers.push(new Ki(t.contentWindow,"pointermove",n=>i(n,t))),this.iframeEventHandlers.push(new Ki(t.contentWindow,"pointerup",this.onPointerUp.bind(this)))}this.previousMouseEvent={x:e.clientX,y:e.clientY}}_stopDragging(){ln.enableGlobalTextSelection(this.previousContainer.dockManager.config.dialogRootElement),this.pointerMovedHandler&&(this.pointerMovedHandler.cancel(),delete this.pointerMovedHandler),this.pointerUpHandler&&(this.pointerUpHandler.cancel(),delete this.pointerUpHandler);for(let e of this.iframeEventHandlers)e.cancel();this.iframeEventHandlers=[]}}class yW{constructor(e,t){this.childContainers=e,this.stackedVertical=t,this.panelElement=document.createElement("div"),this.spiltterBars=[],this._buildSplitterDOMAndAddElements()}_buildSplitterDOMAndAddElements(){if(this.childContainers.length<=1)throw new Error("Splitter panel should contain atleast 2 panels");this.spiltterBars=[];let e=null;for(let i=0;i<this.childContainers.length-1;i++){let n=this.childContainers[i],a=new bW(n,this.childContainers[i+1],this.stackedVertical);this.spiltterBars.push(a),Array.from(this.panelElement.children).includes(n.containerElement)||this._insertContainerIntoPanel(n,e),this.panelElement.insertBefore(a.barElement,n.containerElement.nextSibling),e=a.barElement}let t=this.childContainers.slice(-1)[0];Array.from(this.panelElement.children).includes(t.containerElement)||this._insertContainerIntoPanel(t,e)}performLayout(e,t){(!ln.arrayEqual(this.childContainers,e)||t)&&(this.childContainers.forEach(n=>{e.some(s=>s==n)||n.containerElement&&(n.containerElement.classList.remove("splitter-container-vertical"),n.containerElement.classList.remove("splitter-container-horizontal"),ln.removeNode(n.containerElement))}),this.spiltterBars.forEach(n=>{ln.removeNode(n.barElement)}),this.childContainers=e,this._buildSplitterDOMAndAddElements())}removeFromDOM(){this.childContainers.forEach(e=>{e.containerElement&&(e.containerElement.classList.remove("splitter-container-vertical"),e.containerElement.classList.remove("splitter-container-horizontal"),ln.removeNode(e.containerElement))}),this.spiltterBars.forEach(e=>{ln.removeNode(e.barElement)})}destroy(){this.removeFromDOM(),this.panelElement.parentNode.removeChild(this.panelElement)}_insertContainerIntoPanel(e,t){e?(e.containerElement.parentNode!=this.panelElement&&(ln.removeNode(e.containerElement),t?this.panelElement.insertBefore(e.containerElement,t.nextSibling):this.panelElement.children.length>0?this.panelElement.insertBefore(e.containerElement,this.panelElement.children[0]):this.panelElement.appendChild(e.containerElement)),e.containerElement.classList.add(this.stackedVertical?"splitter-container-vertical":"splitter-container-horizontal")):console.error("container is undefined")}setContainerRatio(e,t){let i=this.stackedVertical?this.panelElement.clientHeight:this.panelElement.clientWidth,n=i*t,o=(i-n-(this.stackedVertical?this.spiltterBars[0].barElement.clientHeight:this.spiltterBars[0].barElement.clientWidth)*this.spiltterBars.length)/i;for(let l=0;l<this.childContainers.length;l++){let A,c=this.childContainers[l];c!==e?(A=this.stackedVertical?c.containerElement.parentElement.clientHeight:c.containerElement.parentElement.clientWidth,A*=o):A=n,this.stackedVertical?c.resize(c.width,Math.floor(A)):c.resize(Math.floor(A),c.height)}}getRatios(){let t=(this.stackedVertical?this.panelElement.clientHeight:this.panelElement.clientWidth)-(this.stackedVertical?this.spiltterBars[0].barElement.clientHeight:this.spiltterBars[0].barElement.clientWidth)*this.spiltterBars.length,i=[];for(let n=0;n<this.childContainers.length;n++){let s=this.childContainers[n];i.push((this.stackedVertical?s.containerElement.clientHeight:s.containerElement.clientWidth)/t)}return i}setRatios(e){let i=(this.stackedVertical?this.panelElement.clientHeight:this.panelElement.clientWidth)-(this.stackedVertical?this.spiltterBars[0].barElement.clientHeight:this.spiltterBars[0].barElement.clientWidth)*this.spiltterBars.length;for(let n=0;n<this.childContainers.length;n++){let s=this.childContainers[n],a=i*e[n];this.stackedVertical?s.resize(s.width,Math.floor(a)):s.resize(Math.floor(a),s.height)}}resize(e,t){if(this.childContainers.length<=1)return;let i;for(this.panelElement.style.width=e+"px",this.panelElement.style.height=t+"px",i=0;i<this.childContainers.length;i++){let A=this.childContainers[i];if(this.stackedVertical?A.resize(e,A.height?A.height:t):A.resize(A.width?A.width:e,t),i<this.spiltterBars.length){let u=this.spiltterBars[i];this.stackedVertical?u.barElement.style.width=e+"px":u.barElement.style.height=t+"px"}}let n=0;this.childContainers.forEach(A=>{n+=this.stackedVertical?A.height:A.width});const s=this.spiltterBars[0].barElement.getBoundingClientRect();let o=this.stackedVertical?t:e;o-=(this.stackedVertical?s.height:s.width)*this.spiltterBars.length,n=Math.max(n,1);let l=o/n,c=0;for(i=0;i<this.childContainers.length;i++){let A=this.childContainers[i];"none"==A.containerElement.style.display&&(A.containerElement.style.display="block");let u=this.stackedVertical?A.containerElement.clientHeight:A.containerElement.clientWidth,f=l>1?Math.floor(u*l):Math.ceil(u*l);c+=f,i===this.childContainers.length-1&&(f+=o-c),this.stackedVertical?A.resize(A.width,f):A.resize(f,A.height)}}}class jk{constructor(e,t,i,n){0!==arguments.length&&(this.name=e,this.dockManager=t,this.stackedVertical=n,this.splitterPanel=new yW(i,this.stackedVertical),this.containerElement=this.splitterPanel.panelElement,this.minimumAllowedChildNodes=2)}resize(e,t){this.splitterPanel.resize(e,t),this._cachedWidth=e,this._cachedHeight=t}performLayout(e,t=!1){this.splitterPanel.performLayout(e,t)}setActiveChild(){}destroy(){this.splitterPanel.destroy()}setContainerRatio(e,t){this.splitterPanel.setContainerRatio(e,t),this.resize(this.width,this.height)}getRatios(){return this.splitterPanel.getRatios()}setRatios(e){this.splitterPanel.setRatios(e),this.resize(this.width,this.height)}saveState(e){e.width=this.width,e.height=this.height}loadState(e){this.state={width:e.width,height:e.height}}get width(){return void 0===this._cachedWidth&&(this._cachedWidth=this.splitterPanel.panelElement.clientWidth),this._cachedWidth}get height(){return void 0===this._cachedHeight&&(this._cachedHeight=this.splitterPanel.panelElement.clientHeight),this._cachedHeight}}class NM extends jk{constructor(e,t){super(ln.getNextId("horizontal_splitter_"),e,t,!1),this.containerType=Jc.horizontal}}class HM extends jk{constructor(e,t){super(ln.getNextId("vertical_splitter_"),e,t,!0),this.containerType=Jc.vertical}}class xW{constructor(e){this._forceResizeCompositeContainer=t=>{t.resize(t.containerElement.clientWidth,t.containerElement.clientHeight)},this.dockManager=e}dockLeft(e,t){this._performDock(e,t,"horizontal",!0)}dockRight(e,t){this._performDock(e,t,"horizontal",!1)}dockUp(e,t){this._performDock(e,t,"vertical",!0)}dockDown(e,t){this._performDock(e,t,"vertical",!1)}dockFill(e,t){this._performDock(e,t,"fill",!1)}undock(e){let t=e.parent;if(!t)throw new Error("Cannot undock.  panel is not a leaf node");let i=t.children.indexOf(e);if(e.detachFromParent(),t.children.length<t.container.minimumAllowedChildNodes){let n=t.parent;for(let s=0;s<t.children.length;s++){let a=t.children[s];if(n){n.addChildAfter(t,a),t.detachFromParent();let o=t.container.containerElement.clientWidth,l=t.container.containerElement.clientHeight;t.container.destroy(),a.container.resize(o,l),n.performLayout(!1)}else t.detachFromParent(),t.container.destroy(),this.dockManager.setRootNode(a)}}else if(t.performLayout(!1),t.children.length>0){let n=t.children[Math.max(0,i-1)];t.container.setActiveChild(n.container)}this.dockManager.invalidate(),this.dockManager.notifyOnUnDock(e)}close(e){let t=e?.parent;if(!t)throw new Error("Cannot undock.  panel is not a leaf node");let i=!1;t.children.length>0&&null!=t.container.tabHost&&(i=t.container.tabHost.getActiveTab().container==e.container);let n=t.children.indexOf(e);if(e.detachFromParent(),t.children.length<t.container.minimumAllowedChildNodes){let s=t.parent;for(let a=0;a<t.children.length;a++){let o=t.children[a];s?(s.addChildAfter(t,o),t.detachFromParent(),o.container.resize(t.container.containerElement.clientWidth,t.container.containerElement.clientHeight),t.container.destroy(),s.performLayout(!1)):(t.detachFromParent(),t.container.destroy(),this.dockManager.setRootNode(o))}}else if(t.performLayout(!1),i){let s=t.children[Math.max(0,n-1)];null!=s&&t.container.setActiveChild(s.container)}this.dockManager.invalidate(),this.dockManager.notifyOnUnDock(e)}reorderTabs(e,t,i,n){let a="left"===i?n:n+1;if("right"==i&&a>=e.children.length||"left"==i&&0==a)return;let o=Array.apply(null,{length:e.children.length}).map(Number.call,Number),l=o.splice(a,1)[0];o.splice("left"===i?n-1:n,0,l),e.children=ln.orderByIndexes(e.children,o),e.container.tabHost.performTabsLayout(o),this.dockManager.notifyOnTabsReorder(e)}_performDock(e,t,i,n){if(e.parent&&"fill"===e.parent.container.containerType&&(e=e.parent),"fill"===i&&"fill"===e.container.containerType)return e.addChild(t),e.performLayout(!1),e.container.setActiveChild(t.container),this.dockManager.invalidate(),void this.dockManager.notifyOnDock(t);let a,o,l;if(e===this.dockManager.context.model.rootNode)return n?(a=this._createDockContainer(i,t,e),o=new of(a),o.addChild(t),o.addChild(e)):(a=this._createDockContainer(i,e,t),o=new of(a),o.addChild(e),o.addChild(t)),this.dockManager.setRootNode(o),this.dockManager.rebuildLayout(this.dockManager.context.model.rootNode),o.container.setActiveChild(t.container),this.dockManager.invalidate(),void this.dockManager.notifyOnDock(t);if(e.parent.container.containerType!==i){l=e.parent;let u=e.container.containerElement.clientWidth,f=e.container.containerElement.clientHeight,d=l.container.containerElement.clientWidth,_=l.container.containerElement.clientHeight;a=this._createDockContainer(i,t,e),o=new of(a),l.addChildAfter(e,o),e.detachFromParent(),ln.removeNode(e.container.containerElement),n?(o.addChild(t),o.addChild(e)):(o.addChild(e),o.addChild(t)),l.performLayout(!1),o.performLayout(!0),o.container.setActiveChild(t.container),o.container.resize(u,f),l.container.resize(d,_)}else l=e.parent,n?l.addChildBefore(e,t):l.addChildAfter(e,t),l.performLayout(!1),l.container.setActiveChild(t.container);t.container.resize(t.container.containerElement.clientWidth,t.container.containerElement.clientHeight),this.dockManager.invalidate(),this.dockManager.notifyOnDock(t)}_createDockContainer(e,t,i){if("horizontal"===e)return new NM(this.dockManager,[t.container,i.container]);if("vertical"===e)return new HM(this.dockManager,[t.container,i.container]);if("fill"===e)return new Jx(this.dockManager);throw new Error("Failed to create dock container of type: "+e)}getDockBounds(e,t,i,n){let s,a,o,l;if("fill"===i){let p=e.container.containerElement,g=this.dockManager.element.getBoundingClientRect(),m=p.getBoundingClientRect();return{x:m.left-g.left,y:m.top-g.top,width:p.clientWidth,height:p.clientHeight}}e.parent&&"fill"===e.parent.container.containerType&&(e=e.parent);let c=!1;e.parent&&e.parent.container.containerType===i?(s=e.parent,a=s.children.length,o=s.children.indexOf(e)+(n?0:1)):(s=e,a=1,o=n?0:1,c=!0);let u=0,f=0;if("vertical"===i||"horizontal"===i){let p=this._getVaringDimension(s.container,i)-5*(a-1),g=this._getVaringDimension(t,i),m=p/(p+g);if(u=g*m,c)f=n?0:p*m;else{for(let C=0;C<o;C++)f+=this._getVaringDimension(s.children[C].container,i);f*=m}}l={};let d=this.dockManager.element.getBoundingClientRect(),_=s.container.containerElement.getBoundingClientRect();return"vertical"===i?(l.x=_.left-d.left,l.y=_.top-d.top+f,l.width=s.container.width,l.height=u):"horizontal"===i&&(l.x=_.left-d.left+f,l.y=_.top-d.top,l.width=u,l.height=s.container.height),l}_getVaringDimension(e,t){return"vertical"===t?e.height:"horizontal"===t?e.width:0}}class BW{constructor(e,t,i,n){this.disableDragging=!1,this.dialog=e,this.delegate=t,this.containerElement=t.containerElement,this.dockManager=t.dockManager,this.topLevelElement=i,this.containerType=t.containerType,this.mouseDownHandler=new Ki(n,"mousedown",this.onMouseDown.bind(this)),this.touchDownHandler=new Ki(n,"touchstart",this.onMouseDown.bind(this)),this.topLevelElement.style.left=i.offsetLeft+"px",this.topLevelElement.style.top=i.offsetTop+"px",this.minimumAllowedChildNodes=t.minimumAllowedChildNodes,this.iframeEventHandlers=[]}destroy(){this.removeDecorator(),this.delegate.destroy()}saveState(e){this.delegate.saveState(e)}loadState(e){this.delegate.loadState(e)}setActiveChild(){}get width(){return this.delegate.width}get height(){return this.delegate.height}get name(){return this.delegate.name}set name(e){e&&(this.delegate.name=e)}resize(e,t){this.delegate.resize(e,t)}performLayout(e){this.delegate.performLayout(e,!1)}removeDecorator(){this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.touchDownHandler&&(this.touchDownHandler.cancel(),delete this.touchDownHandler)}onMouseDown(e){if(2!=e.button&&(e.preventDefault&&e.preventDefault(),!this.disableDragging&&(this._startDragging(e),this.previousMousePosition={x:e.clientX,y:e.clientY},this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMoveHandler=new Ki(window,"pointermove",this.onMouseMove.bind(this)),this.mouseUpHandler=new Ki(window,"pointerup",this.onMouseUp.bind(this)),this.dockManager.iframes)))for(let t of this.dockManager.iframes){let i=this.onMouseMovedIframe.bind(this);this.iframeEventHandlers.push(new Ki(t.contentWindow,"pointermove",n=>i(n,t))),this.iframeEventHandlers.push(new Ki(t.contentWindow,"pointerup",this.onMouseUp.bind(this)))}}onMouseUp(e){this._stopDragging(e),this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler,this.mouseUpHandler.cancel(),delete this.mouseUpHandler;for(let t of this.iframeEventHandlers)t.cancel();this.iframeEventHandlers=[]}_startDragging(e){this.containerElement.classList.add("draggable-dragging-active"),this.delegate.elementContentContainer.classList.add("draggable-dragging-active"),this.dialog.eventListener&&this.dialog.eventListener._onDialogDragStarted(this.dialog,e),ln.disableGlobalTextSelection(this.dockManager.config.dialogRootElement)}_stopDragging(e){this.containerElement.classList.remove("draggable-dragging-active"),this.delegate.elementContentContainer.classList.remove("draggable-dragging-active"),this.dialog.eventListener&&this.dialog.eventListener._onDialogDragEnded(this.dialog,e),ln.enableGlobalTextSelection(this.dockManager.config.dialogRootElement)}onMouseMovedIframe(e,t){let i=t.getBoundingClientRect();this.onMouseMove(e,{x:i.x,y:i.y})}onMouseMove(e,t){e.preventDefault&&e.preventDefault();let i=new Oa(e.clientX,e.clientY);t&&(i=new Oa(e.clientX+t.x,e.clientY+t.y));let n=this.dockManager.checkXBounds(this.topLevelElement,i,this.previousMousePosition,!1,!1),s=this.dockManager.checkYBounds(this.topLevelElement,i,this.previousMousePosition,!1,!1);this._performDrag(n,s),this.previousMousePosition=i}_performDrag(e,t){let i=e+ln.getPixels(this.topLevelElement.style.left),n=t+ln.getPixels(this.topLevelElement.style.top);this.topLevelElement.style.left=i+"px",this.topLevelElement.style.top=n+"px",this.dialog.panel.setDialogPosition(i,n)}}class CW{constructor(){this.element=void 0,this.handleSize=6,this.cornerSize=12,this.east=!1,this.west=!1,this.north=!1,this.south=!1,this.corner=!1}adjustSize(e,t){this.corner?(this.west&&(this.element.style.left="0px"),this.east&&(this.element.style.left=e-this.cornerSize+"px"),this.north&&(this.element.style.top="0px"),this.south&&(this.element.style.top=t-this.cornerSize+"px")):(this.west&&(this.element.style.left="0px",this.element.style.top=this.cornerSize+"px"),this.east&&(this.element.style.left=e-this.handleSize+"px",this.element.style.top=this.cornerSize+"px"),this.north&&(this.element.style.left=this.cornerSize+"px",this.element.style.top="0px"),this.south&&(this.element.style.left=this.cornerSize+"px",this.element.style.top=t-this.handleSize+"px"),this.west||this.east?this.element.style.height=t-2*this.cornerSize+"px":this.element.style.width=e-2*this.cornerSize+"px")}}class EW{constructor(e,t,i,n=!1){this.dialog=e,this.disableResize=n,this.delegate=t,this.containerElement=t.containerElement,this.dockManager=t.dockManager,this.topLevelElement=i,this.containerType=t.containerType,this.topLevelElement.style.left=this.topLevelElement.offsetLeft+"px",this.topLevelElement.style.top=this.topLevelElement.offsetTop+"px",this.minimumAllowedChildNodes=t.minimumAllowedChildNodes,this._buildResizeHandles(),this.readyToProcessNextResize=!0,this.dockSpawnResizedEvent=new CustomEvent("DockSpawnResizedEvent",{composed:!0,bubbles:!0}),this.iframeEventHandlers=[]}setActiveChild(){}_buildResizeHandles(){this.resizeHandles=[],this.disableResize||(this._buildResizeHandle(!1,!0,!0,!1),this._buildResizeHandle(!0,!1,!1,!0),this._buildResizeHandle(!1,!0,!1,!0),this._buildResizeHandle(!0,!1,!1,!1),this._buildResizeHandle(!1,!0,!1,!1),this._buildResizeHandle(!1,!1,!0,!1),this._buildResizeHandle(!1,!1,!1,!0))}_buildResizeHandle(e,t,i,n){let s=new CW;s.east=e,s.west=t,s.north=i,s.south=n,s.element=document.createElement("div"),this.topLevelElement.appendChild(s.element);let a="",o="";i&&(a="n"),n&&(a="s"),e&&(o="e"),t&&(o="w");let l="resize-handle-"+a+o;a.length>0&&o.length>0&&(s.corner=!0),s.element.classList.add(s.corner?"resize-handle-corner":"resize-handle"),s.element.classList.add(l),this.resizeHandles.push(s),s.mouseDownHandler=new Ki(s.element,"mousedown",c=>{this.onMouseDown(s,c)}),s.touchDownHandler=new Ki(s.element,"touchstart",c=>{this.onMouseDown(s,c)})}saveState(e){this.delegate.saveState(e)}loadState(e){this.delegate.loadState(e)}get width(){return this.delegate.width}get height(){return this.delegate.height}get name(){return this.delegate.name}set name(e){e&&(this.delegate.name=e)}resize(e,t){this.delegate.resize(e,t),this._adjustResizeHandles(e,t),document.dispatchEvent(this.dockSpawnResizedEvent)}_adjustResizeHandles(e,t){this.resizeHandles.forEach(i=>{i.adjustSize(e,t)})}performLayout(e){this.delegate.performLayout(e,!1)}destroy(){this.removeDecorator(),this.delegate.destroy()}removeDecorator(){}onMouseMovedIframe(e,t,i){let n=i.getBoundingClientRect();this.onMouseMoved(e,t,{x:n.x,y:n.y})}onMouseMoved(e,t,i){let n=null;if(t.changedTouches){if(t.changedTouches.length>1)return;n=t.changedTouches[0]}else n=t;if(!this.readyToProcessNextResize)return;this.readyToProcessNextResize=!1,this.dialog.panel&&this.dockManager.suspendLayout(this.dialog.panel);let s=new Oa(n.clientX,n.clientY);i&&(s=new Oa(n.clientX+i.x,n.clientY+i.y));let a=this.dockManager.checkXBounds(this.topLevelElement,s,this.previousMousePosition,e.west,e.east),o=this.dockManager.checkYBounds(this.topLevelElement,s,this.previousMousePosition,e.north,e.south);this._performDrag(e,a,o),this.previousMousePosition=s,this.readyToProcessNextResize=!0,this.dialog.panel&&this.dockManager.resumeLayout(this.dialog.panel),this.dockManager.notifyOnContainerResized(this)}onMouseDown(e,t){let i=null;if(t.touches){if(t.touches.length>1)return;i=t.touches[0]}else i=t;this.previousMousePosition=new Oa(i.clientX,i.clientY),e.mouseMoveHandler&&(e.mouseMoveHandler.cancel(),delete e.mouseMoveHandler),e.touchMoveHandler&&(e.touchMoveHandler.cancel(),delete e.touchMoveHandler),e.mouseUpHandler&&(e.mouseUpHandler.cancel(),delete e.mouseUpHandler),e.touchUpHandler&&(e.touchUpHandler.cancel(),delete e.touchUpHandler);for(let n of this.iframeEventHandlers)n.cancel();if(this.iframeEventHandlers=[],e.mouseMoveHandler=new Ki(window,"mousemove",n=>{this.onMouseMoved(e,n)}),e.touchMoveHandler=new Ki(window,"touchmove",n=>{this.onMouseMoved(e,n)}),e.mouseUpHandler=new Ki(window,"mouseup",n=>{this.onMouseUp(e)}),e.touchUpHandler=new Ki(window,"touchend",n=>{this.onMouseUp(e)}),this.dockManager.iframes)for(let n of this.dockManager.iframes){let s=this.onMouseMovedIframe.bind(this);this.iframeEventHandlers.push(new Ki(n.contentWindow,"mousemove",a=>s(e,a,n))),this.iframeEventHandlers.push(new Ki(n.contentWindow,"mouseup",a=>this.onMouseUp(e))),this.iframeEventHandlers.push(new Ki(n.contentWindow,"touchmove",a=>s(e,a,n))),this.iframeEventHandlers.push(new Ki(n.contentWindow,"touchend",a=>this.onMouseUp(e)))}ln.disableGlobalTextSelection(this.dockManager.config.dialogRootElement)}onMouseUp(e){e.mouseMoveHandler.cancel(),e.touchMoveHandler.cancel(),e.mouseUpHandler.cancel(),e.touchUpHandler.cancel(),delete e.mouseMoveHandler,delete e.touchMoveHandler,delete e.mouseUpHandler,delete e.touchUpHandler;for(let t of this.iframeEventHandlers)t.cancel();this.iframeEventHandlers=[],ln.enableGlobalTextSelection(this.dockManager.config.dialogRootElement)}_performDrag(e,t,i){let n={};n.left=ln.getPixels(this.topLevelElement.style.left),n.top=ln.getPixels(this.topLevelElement.style.top),n.width=this.topLevelElement.clientWidth,n.height=this.topLevelElement.clientHeight,e.east&&this._resizeEast(t,n),e.west&&this._resizeWest(t,n),e.north&&this._resizeNorth(i,n),e.south&&this._resizeSouth(i,n)}_resizeWest(e,t){this._resizeContainer(e,0,-e,0,t)}_resizeEast(e,t){this._resizeContainer(0,0,e,0,t)}_resizeNorth(e,t){this._resizeContainer(0,e,0,-e,t)}_resizeSouth(e,t){this._resizeContainer(0,0,0,e,t)}_resizeContainer(e,t,i,n,s){s.left+=e,s.top+=t,s.width+=i,s.height+=n,s.width=Math.max(s.width,50),s.height=Math.max(s.height,50),this.topLevelElement.style.left=s.left+"px",this.topLevelElement.style.top=s.top+"px",this.resize(s.width,s.height)}}let Zx=(()=>{class r{constructor(t,i,n,s){this.panel=t,this.dockManager=i,this.eventListener=i,this.grayoutParent=n,this.disableResize=s,this._initialize(),this.dockManager.context.model.dialogs.push(this),this.position=i.defaultDialogPosition,this.dockManager.notifyOnCreateDialog(this),t.isDialog=!0}saveState(t,i){this.position=new Oa(t,i),this.dockManager.notifyOnChangeDialogPosition(this,t,i)}static fromElement(t,i){return new r(new lo(document.getElementById(t),i),i,null)}_initialize(){this.panel.floatingDialog=this,this.elementDialog=Object.assign(document.createElement("div"),{floatingDialog:this}),this.elementDialog.tabIndex=0,this.elementDialog.appendChild(this.panel.elementPanel),this.draggable=new BW(this,this.panel,this.elementDialog,this.panel.elementTitle),this.resizable=new EW(this,this.draggable,this.draggable.topLevelElement,this.disableResize),this.dockManager.config.dialogRootElement.appendChild(this.elementDialog),this.elementDialog.classList.add("dialog-floating"),this.focusHandler=new Ki(this.elementDialog,"focus",this.onFocus.bind(this),!0),this.mouseDownHandler=new Ki(this.elementDialog,"pointerdown",this.onMouseDown.bind(this),!0),this.keyPressHandler=new Ki(this.elementDialog,"keypress",this.dockManager.onKeyPressBound,!0),this.contextmenuHandler=new Ki(this.panel.elementTitle,"contextmenu",this.oncontextMenuClicked.bind(this)),this.resize(this.panel.elementPanel.clientWidth,this.panel.elementPanel.clientHeight),this.isHidden=!1,null!=this.grayoutParent&&this.grayoutParent.grayOut(!0),this.bringToFront()}setPosition(t,i){let n=this.dockManager.config.dialogRootElement.getBoundingClientRect();this.position=new Oa(t-n.left,i-n.top),this.elementDialog.style.left=t-n.left+"px",this.elementDialog.style.top=i-n.top+"px",this.panel.setDialogPosition(t,i),this.dockManager.notifyOnChangeDialogPosition(this,t,i)}getPosition(){return new Oa(this.position?this.position.x:0,this.position?this.position.y:0)}onFocus(){this.dockManager.activePanel!=this.panel&&(this.dockManager.activePanel=this.panel)}onMouseDown(t){2!=t.button&&this.bringToFront()}destroy(){this.panel.lastDialogSize={width:this.resizable.width,height:this.resizable.height},this.focusHandler&&(this.focusHandler.cancel(),delete this.focusHandler),this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.keyPressHandler&&(this.keyPressHandler.cancel(),delete this.keyPressHandler),this.contextmenuHandler&&(this.contextmenuHandler.cancel(),delete this.contextmenuHandler),ln.removeNode(this.elementDialog),this.draggable.removeDecorator(),ln.removeNode(this.panel.elementPanel),ln.arrayRemove(this.dockManager.context.model.dialogs,this),delete this.panel.floatingDialog,this.grayoutParent&&this.grayoutParent.grayOut(!1)}resize(t,i){this.resizable.resize(t,i)}setTitle(t){this.panel.setTitle(t)}setTitleIcon(t){this.panel.setTitleIcon(t)}bringToFront(){this.panel.elementContentContainer.style.zIndex=this.dockManager.zIndexDialogCounter++,this.elementDialog.style.zIndex=this.dockManager.zIndexDialogCounter++,this.dockManager.activePanel=this.panel}hide(){this.elementDialog.style.zIndex="0",this.panel.elementContentContainer.style.zIndex="",this.elementDialog.style.display="none",this.isHidden||(this.isHidden=!0,this.dockManager.notifyOnHideDialog(this)),this.grayoutParent&&this.grayoutParent.grayOut(!1)}close(){this.hide(),this.remove(),this.dockManager.notifyOnClosePanel(this.panel),this.destroy()}remove(){this.elementDialog.parentNode?.removeChild(this.elementDialog)}show(){this.panel.elementContentContainer.style.zIndex=this.dockManager.zIndexDialogCounter++,this.elementDialog.style.zIndex=this.dockManager.zIndexDialogCounter++,this.elementDialog.style.display="block",this.isHidden&&(this.isHidden=!1,this.dockManager.notifyOnShowDialog(this))}static#e=this.createContextMenuContentCallback=(t,i,n)=>{if(t.panel._hideCloseButton)return!1;{let s=document.createElement("div");s.innerText=Fl.getString("CloseDialog"),i.append(s),s.onclick=()=>{t.panel.close(),t.closeContextMenu()};let a=document.createElement("div");return a.innerText=Fl.getString("NewBrowserWindow"),i.append(a),a.onclick=()=>{t.panel.undockToBrowserDialog(),t.closeContextMenu()},!0}};oncontextMenuClicked(t){t.preventDefault(),!this._ctxMenu&&r.createContextMenuContentCallback?(this._ctxMenu=document.createElement("div"),this._ctxMenu.className="dockspab-tab-handle-context-menu",!1!==r.createContextMenuContentCallback(this,this._ctxMenu,this.dockManager.context.model.documentManagerNode.children)?(this._ctxMenu.style.left=t.pageX+"px",this._ctxMenu.style.top=t.pageY+"px",document.body.appendChild(this._ctxMenu),this._windowsContextMenuCloseBound=this.windowsContextMenuClose.bind(this),window.addEventListener("pointerup",this._windowsContextMenuCloseBound)):this._ctxMenu=null):this.closeContextMenu()}closeContextMenu(){this._ctxMenu&&(document.body.removeChild(this._ctxMenu),delete this._ctxMenu,window.removeEventListener("pointerup",this._windowsContextMenuCloseBound))}windowsContextMenuClose(t){let i=t.composedPath();for(let n in i)if(i[n]==this._ctxMenu)return;this.closeContextMenu()}}return r})();class MW{serialize(e){let t=this._buildGraphInfo(e.rootNode),i=this._buildDialogsInfo(e.dialogs.sort((n,s)=>n.elementDialog.style.zIndex-s.elementDialog.style.zIndex));return JSON.stringify({graphInfo:t,dialogsInfo:i})}_buildGraphInfo(e){let t={};e.container.saveState(t);let i=[];return e.children.forEach(s=>{i.push(this._buildGraphInfo(s))}),{containerType:e.container.containerType,state:t,children:i}}_buildDialogsInfo(e){let t=[];return e.forEach(i=>{let n={},s=i.panel;s.saveState(n);let a={containerType:s.containerType,state:n,position:i.getPosition(),isHidden:i.isHidden};t.push(a)}),t}}class TW{constructor(e){this.dockManager=e}deserialize(e){var t=this;return(0,hr.Z)(function*(){let i=JSON.parse(e),n=new OM;return n.rootNode=yield t._buildGraph(i.graphInfo),n.dialogs=yield t._buildDialogs(i.dialogsInfo),n.documentManagerNode=t.documentManagerNode,n})()}_buildGraph(e){var t=this;return(0,hr.Z)(function*(){let i=e.children,n=[];for(let o of i){let l=yield t._buildGraph(o);null!==l&&n.push(l)}let s=yield t._createContainer(e,n);if(null===s)return null;let a=new of(s);s instanceof Kx&&(t.documentManagerNode=a),a.children=n;for(let o of a.children.reverse())o.parent=a;return a.children.reverse(),a})()}_createContainer(e,t){var i=this;return(0,hr.Z)(function*(){let a,n=e.containerType,s=e.state,o=[];for(let l of t)o.push(l.container);if("panel"===n){if(a=yield lo.loadFromState(s,i.dockManager),!a.prepareForDocking)return null;a.prepareForDocking(),ln.removeNode(a.elementPanel)}else if("horizontal"===n)a=new NM(i.dockManager,o);else if("vertical"===n)a=new HM(i.dockManager,o);else{if("fill"!==n)throw new Error("Cannot create dock container of unknown type: "+n);a=s.documentManager?new Kx(i.dockManager):new Jx(i.dockManager)}return a.loadState(s),a})()}_buildDialogs(e){var t=this;return(0,hr.Z)(function*(){let i=[];for(let n of e){let o,a=n.state;if("panel"===n.containerType&&(o=yield lo.loadFromState(a,t.dockManager),o.prepareForDocking)){ln.removeNode(o.elementPanel),o.isDialog=!0;let l=new Zx(o,t.dockManager);(n.position.x>document.body.clientWidth||n.position.y>document.body.clientHeight-70)&&(n.position.x=20,n.position.y=70),l.setPosition(n.position.x,n.position.y),l.isHidden=n.isHidden,l.isHidden&&l.hide(),i.push(l)}}return i})()}}class DW{constructor(){this.escClosesWindow=!0,this.escClosesDialog=!0,this.dialogRootElement=document.body,this.moveOnlyWithinDockConatiner=!1}}class SW{constructor(e,t){if(void 0===e)throw new Error("Invalid Dock Manager element provided");this._config=Object.assign(new DW,t),this.element=e,this.context=this.dockWheel=this.layoutEngine=this.mouseMoveHandler=this.touchMoveHandler=void 0,this.layoutEventListeners=[],this.defaultDialogPosition=new Oa(0,0)}get config(){return this._config}initialize(){this.backgroundContext=this.element.children[0],this.context=new wW(this);let e=new of(this.context.documentManagerView);this.context.model.rootNode=e,this.context.model.documentManagerNode=e,this.context.model.dialogs=[],this.setRootNode(this.context.model.rootNode),this.resize(this.element.clientWidth,this.element.clientHeight),this.dockWheel=new mW(this),this.layoutEngine=new xW(this),this._undockEnabled=!0,this.rebuildLayout(this.context.model.rootNode),this.zIndexCounter=1001,this.zIndexTabHost=1e3,this.zIndexTabHandle=100,this.zIndexDialogCounter=10001,null!=this.backgroundContext&&this.context.model.rootNode.container.tabHost.hostElement.insertBefore(this.backgroundContext,this.context.model.rootNode.container.tabHost.hostElement.firstChild),this.onKeyPressBound=this.onKeyPress.bind(this),this.element.addEventListener("keydown",this.onKeyPressBound)}onKeyPress(e){if("Escape"==e.key&&this.activePanel&&!this.activePanel._hideCloseButton&&(this.activePanel.isDialog&&this._config.escClosesDialog||!this.activePanel.isDialog&&this._config.escClosesWindow)){let t=this.activePanel;this.activePanel=null,t.close()}}checkXBounds(e,t,i,n,s){if(this._config.moveOnlyWithinDockConatiner)return this.checkXBoundsWithinDockContainer(e,t,i,n,s);let a=this.element.getBoundingClientRect(),o=Math.floor(t.x-i.x),c=e.offsetLeft+o+a.left>window.innerWidth-40;if(e.offsetLeft+e.offsetWidth+o+a.left<40){i.x=t.x,o=0;let A=40-(e.offsetWidth+e.offsetLeft+a.left);A>0&&(o=A)}else if(c){i.x=t.x,o=0;let A=window.innerWidth-40-e.offsetLeft-a.left;A>0&&(o=A)}return o}checkXBoundsWithinDockContainer(e,t,i,n,s){let a=t.x-i.x,o=this.element.getBoundingClientRect(),l=e.getBoundingClientRect(),A=a>0&&l.right+a>o.right&&!n;return a<0&&l.left+a<o.left&&!s?(t.x-=a,a=o.left-l.left,t.x-=a):A&&(t.x-=a,a=o.right-l.right,t.x-=a),a}checkYBounds(e,t,i,n,s){if(this._config.moveOnlyWithinDockConatiner)return this.checkYBoundsWithinDockContainer(e,t,i,n,s);let a=this.element.getBoundingClientRect(),o=Math.floor(t.y-i.y),c=e.offsetTop+o+a.top>window.innerHeight-16;if(e.offsetTop+o+a.top<0)i.y=t.y,o=0;else if(c){i.y=t.y,o=0;let A=window.innerHeight-16-e.offsetTop-a.top;A>0&&(o=A)}return o}checkYBoundsWithinDockContainer(e,t,i,n,s){let a=t.y-i.y,o=this.element.getBoundingClientRect(),l=e.getBoundingClientRect(),A=a>0&&l.bottom+a>o.bottom&&!n;return a<0&&l.top+a<o.top&&!s?(t.y-=a,a=o.top-l.top,t.y-=a):A&&(t.y-=a,a=o.bottom-l.bottom,t.y-=a),a}rebuildLayout(e){e.children.forEach(t=>{this.rebuildLayout(t)}),e.performLayout(!1)}invalidate(){this.resize(this.element.clientWidth,this.element.clientHeight)}resize(e,t){this.element.style.width=e+"px",this.element.style.height=t+"px",this.context.model.rootNode.container.resize(e,t);let i=0,n=0;for(let s of this.context.model.dialogs)(s.position.x>this.element.clientWidth||s.position.y>this.element.clientHeight)&&((i>this.element.clientWidth||n>this.element.clientHeight)&&(i=0,n=0),s.setPosition(100+i,100+n),i+=100,n+=100)}setModel(e){ln.removeNode(this.context.documentManagerView.containerElement),this.context.model=e,this.setRootNode(e.rootNode),this.rebuildLayout(e.rootNode),this.loadResize(e.rootNode)}loadResize(e){e.children.reverse().forEach(i=>{this.loadResize(i),e.container.setActiveChild(i.container)}),e.children.reverse();let t=e.container;e.container.resize(t.state.width,t.state.height)}setRootNode(e){e.detachFromParent(),this.context.model.rootNode=e,this.element.appendChild(e.container.containerElement)}_onDialogDragStarted(e,t){this.dockWheel.activeNode=this._findNodeOnPoint(t.clientX,t.clientY),this.dockWheel.activeDialog=e,(null==e.noDocking||!0!==e.noDocking)&&this.dockWheel.showWheel(),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.touchMoveHandler&&(this.touchMoveHandler.cancel(),delete this.touchMoveHandler),this.mouseMoveHandler=new Ki(window,"mousemove",this._onMouseMoved.bind(this)),this.touchMoveHandler=new Ki(window,"touchmove",this._onMouseMoved.bind(this))}_onDialogDragEnded(e,t){this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.touchMoveHandler&&(this.touchMoveHandler.cancel(),delete this.touchMoveHandler),this.dockWheel.onDialogDropped(e),this.dockWheel.hideWheel(),delete this.dockWheel.activeDialog,e.saveState(e.elementDialog.offsetLeft,e.elementDialog.offsetTop)}_onMouseMoved(e){null!=e.changedTouches&&(e=e.changedTouches[0]),this.dockWheel.activeNode=this._findNodeOnPoint(e.clientX,e.clientY)}_findNodeOnPoint(e,t){let n,i=[];for(i.push(this.context.model.rootNode);i.length>0;){let s=i.pop();ln.isPointInsideNode(e,t,s)&&(n=s,[].push.apply(i,s.children))}return n}dockDialogLeft(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockLeft.bind(this.layoutEngine))}dockDialogRight(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockRight.bind(this.layoutEngine))}dockDialogUp(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockUp.bind(this.layoutEngine))}dockDialogDown(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockDown.bind(this.layoutEngine))}dockDialogFill(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockFill.bind(this.layoutEngine))}dockLeft(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockLeft.bind(this.layoutEngine),!1,i)}dockRight(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockRight.bind(this.layoutEngine),!0,i)}dockUp(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockUp.bind(this.layoutEngine),!1,i)}dockDown(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockDown.bind(this.layoutEngine),!0,i)}dockFill(e,t){return this._requestDockContainer(e,t,this.layoutEngine.dockFill.bind(this.layoutEngine),!1)}floatDialog(e,t,i,n,s){let a;if(this.context.model.dialogs.forEach(c=>{e==c.panel&&(c.show(),c.setPosition(t,i),a=c)}),a)return a;try{let c=this._findNodeFromContainer(e);this.layoutEngine.undock(c)}catch{}let o=e;ln.removeNode(o.elementPanel),o.isDialog=!0;let l=new Zx(o,this,n,s);return l.setPosition(t,i),l}_requestDockDialog(e,t,i){let n=t.panel,s=new of(n);return n.prepareForDocking(),n.elementContentContainer.style.zIndex="",t.destroy(),i(e,s),s}_checkShowBackgroundContext(){null!=this.backgroundContext&&(this.backgroundContext.style.display=this.context.model.documentManagerNode.children.length>0?"none":"block")}_requestDockContainer(e,t,i,n,s){let a=new of(t);if("panel"===t.containerType){let c=t;c.prepareForDocking(),ln.removeNode(c.elementPanel)}let l,o=null;if(e.parent&&e.parent.container&&(l=e.parent.container,l.getRatios&&(o=l.getRatios())),i(e,a),s&&a.parent&&("vertical"===a.parent.container.containerType||"horizontal"===a.parent.container.containerType)){let c=a.parent.container;if(o&&l==c){if(n){for(let A=0;A<o.length;A++)o[A]=o[A]-o[A]*s;o.push(s)}else o[0]=o[0]-s,o.unshift(s);c.setRatios(o)}else c.setContainerRatio(t,s)}return this.rebuildLayout(this.context.model.rootNode),this.invalidate(),this._checkShowBackgroundContext(),a}_requestTabReorder(e,t){let i=this._findNodeFromContainer(e);this.layoutEngine.reorderTabs(i,t.handle,t.state,t.index)}requestUndockToDialog(e,t,i){let n=this._findNodeFromContainer(e);this.layoutEngine.undock(n);let s=n.container;s.elementPanel.style.display="block";let a=new Zx(s,this,null);if(s.lastDialogSize&&a.resize(s.lastDialogSize.width,s.lastDialogSize.height),void 0!==t){let o=a.elementDialog.clientWidth;i.x>o&&(i.x=.75*o),a.setPosition(t.clientX-i.x,t.clientY-i.y),a.draggable.onMouseDown(t)}return a}requestClose(e){let t=this._findNodeFromContainer(e);if(this.layoutEngine.close(t),this.activePanel==e&&(this.activePanel=null),this._activeDocument==e){const i=this._activeDocument;this._activeDocument=null,this.notifyOnActiveDocumentChange(null,i)}}openInDialog(e,t,i,n){let s=new Zx(e,this,null,n);if(null!=t){let a=s.elementDialog.clientWidth;i.x>a&&(i.x=.75*a),s.setPosition(t.clientX-i.x,t.clientY-i.y),s.draggable.onMouseDown(t)}return s}requestUndock(e){let t=this._findNodeFromContainer(e);this.layoutEngine.undock(t)}requestRemove(e){let t=this._findNodeFromContainer(e),i=t.parent;return t.detachFromParent(),i&&this.rebuildLayout(i),t}getNodeByElementId(e){let t=[];for(t.push(this.context.model.rootNode);t.length>0;){let i=t.pop();if(i.container instanceof lo&&(i.container.elementContent.id===e||i.container.elementContent instanceof HTMLSlotElement&&i.container.elementContent.assignedElements()?.[0]?.id===e))return i;[].push.apply(t,i.children)}return null}getNodeByElement(e){let t=[];for(t.push(this.context.model.rootNode);t.length>0;){let i=t.pop();if(i.container instanceof lo&&(i.container.elementContent===e||i.container.elementContent instanceof HTMLSlotElement&&i.container.elementContent.assignedElements()?.[0]===e))return i;[].push.apply(t,i.children)}return null}_findNodeFromContainer(e){let t=[];for(t.push(this.context.model.rootNode);t.length>0;){let i=t.pop();if(i.container===e)return i;[].push.apply(t,i.children)}return null}findNodeFromContainerElement(e){let t=[];for(t.push(this.context.model.rootNode);t.length>0;){let i=t.pop();if(i.container.containerElement===e)return i;[].push.apply(t,i.children)}return null}addLayoutListener(e){this.layoutEventListeners.push(e)}removeLayoutListener(e){this.layoutEventListeners.splice(this.layoutEventListeners.indexOf(e),1)}suspendLayout(e){this.layoutEventListeners.forEach(t=>{t.onSuspendLayout&&t.onSuspendLayout(this,e)})}resumeLayout(e){this.layoutEventListeners.forEach(t=>{t.onResumeLayout&&t.onResumeLayout(this,e)})}notifyOnDock(e){this._checkShowBackgroundContext(),this.layoutEventListeners.forEach(t=>{t.onDock&&(t.onDock(this,e),e.container.resize(e.container.width,e.container.height))})}notifyOnTabsReorder(e){this.layoutEventListeners.forEach(t=>{t.onTabsReorder&&t.onTabsReorder(this,e)})}notifyOnUnDock(e){this._checkShowBackgroundContext(),this.layoutEventListeners.forEach(t=>{t.onUndock&&t.onUndock(this,e)})}notifyOnClosePanel(e){if(this._checkShowBackgroundContext(),this.activePanel==e&&(this.activePanel=null),this._activeDocument==e){const t=this._activeDocument;this._activeDocument=null,this.notifyOnActiveDocumentChange(null,t)}this.layoutEventListeners.forEach(t=>{t.onClosePanel&&t.onClosePanel(this,e)})}notifyOnCreateDialog(e){this.layoutEventListeners.forEach(t=>{t.onCreateDialog&&t.onCreateDialog(this,e)})}notifyOnHideDialog(e){this.layoutEventListeners.forEach(t=>{t.onHideDialog&&t.onHideDialog(this,e)})}notifyOnShowDialog(e){this.layoutEventListeners.forEach(t=>{t.onShowDialog&&t.onShowDialog(this,e)})}notifyOnChangeDialogPosition(e,t,i){this.layoutEventListeners.forEach(n=>{n.onChangeDialogPosition&&n.onChangeDialogPosition(this,e,t,i)})}notifyOnContainerResized(e){this.layoutEventListeners.forEach(t=>{t.onContainerResized&&t.onContainerResized(this,e)})}notifyOnTabChange(e){this.layoutEventListeners.forEach(t=>{t.onTabChanged&&t.onTabChanged(this,e)})}notifyOnActivePanelChange(e,t){this.layoutEventListeners.forEach(i=>{i.onActivePanelChange&&i.onActivePanelChange(this,e,t)})}notifyOnActiveDocumentChange(e,t){this.layoutEventListeners.forEach(i=>{i.onActiveDocumentChange&&i.onActiveDocumentChange(this,e,t)})}saveState(){return(new MW).serialize(this.context.model)}loadState(e){var t=this;return(0,hr.Z)(function*(){let i=new TW(t);t.context.model=yield i.deserialize(e),t.setModel(t.context.model)})()}getPanels(){let e=[];return this._allPanels(this.context.model.rootNode,e),this.context.model.dialogs.forEach(t=>{e.push(t.panel)}),e}undockEnabled(e){this._undockEnabled=e,this.getPanels().forEach(t=>{t.canUndock(e)})}lockDockState(e){this.undockEnabled(!e),this.hideCloseButton(e)}hideCloseButton(e){this.getPanels().forEach(t=>{t.hideCloseButton(e)})}updatePanels(e){let t=[];return this._allPanels(this.context.model.rootNode,t),t.forEach(i=>{ln.arrayContains(e,i.elementContent.id)||i.close()}),this.context.model.dialogs.forEach(i=>{ln.arrayContains(e,i.panel.elementContent.id)?i.show():i.hide()}),t}getVisiblePanels(){let e=[];return this._allPanels(this.context.model.rootNode,e),this.context.model.dialogs.forEach(t=>{t.isHidden||e.push(t.panel)}),e}_allPanels(e,t){e.children.forEach(i=>{this._allPanels(i,t)}),"panel"===e.container.containerType&&t.push(e.container)}get activeDocument(){return this._activeDocument}get activePanel(){return this._activePanel}set activePanel(e){if(e!==this._activePanel){e&&!e.isDialog&&(this._lastPanelNotADialog=e),this._lastPanelNotADialog&&this.getPanels().indexOf(this._lastPanelNotADialog)<0&&(this._lastPanelNotADialog=null);let t=this.activePanel;this.activePanel&&(this.activePanel.elementTitle.classList.remove("dockspan-panel-active"),this.activePanel.elementTitleText.classList.remove("dockspan-panel-titlebar-text-active"),this.activePanel.tabPage&&this.activePanel.tabPage.host.setActive(!1)),this._activePanel=e;let i=this._activeDocument;e&&e.panelType==Il.document&&(this._activeDocument=e),!e&&t&&t.isDialog&&null==e&&this._lastPanelNotADialog&&this.activePanel!=this._lastPanelNotADialog&&(e=this._lastPanelNotADialog,this._lastPanelNotADialog=void 0),this.notifyOnActivePanelChange(e,t),i!=this._activeDocument&&this.notifyOnActiveDocumentChange(this._activeDocument,i),e&&(e.elementTitle.classList.add("dockspan-panel-active"),e.elementTitleText.classList.add("dockspan-panel-titlebar-text-active"),e.tabPage&&e.tabPage.host.setActive(!0))}else e&&e.tabPage&&e.tabPage.host.setActive(!0)}}let zM=(()=>{class r{constructor(t,i){this.transmit=t,this.notify=i,this._panels=[],this._lockActiveDashboardLayout=new _a.X(!0),this.lockActiveDashboardLayout$().subscribe(n=>{if(n){if(this._spawnDockManager)for(const s of this._spawnDockManager.getPanels())this._spawnDockManager.suspendLayout(s),s.canUndock(!0)}else if(this._spawnDockManager)for(const s of this._spawnDockManager.getPanels())this._spawnDockManager.resumeLayout(s),s.canUndock(!1);this.rebuildDockManager()})}get lockActiveDashboardLayout(){return this._lockActiveDashboardLayout.value}get floatingWindowPanels(){return this._panels.filter(t=>t.isFloating)}get gridSterPanels(){return this._panels.filter(t=>t.isGridSter)}set lockActiveDashboardLayout(t){this._lockActiveDashboardLayout.next(t)}get getDashboardGridConfig(){return this._activeDashboard.gridConfig}lockActiveDashboardLayout$(){return this._lockActiveDashboardLayout}toggleLockActiveDashboardLayout(){this.lockActiveDashboardLayout=!this.lockActiveDashboardLayout}loadTraditionalDashboard(t){var i=this;return(0,hr.Z)(function*(){if(yield i.resetDashboard(),i._activeDashboard=JSON.parse(JSON.stringify(t)),t.nodes)for(const n of t.nodes){if(i._panels.find(a=>a.nativeId===n._id))continue;const s=new _0(i._spawnDockManager,n._id,Qa.GRID_STER);s.setGridSterConfig(n),i._panels.push(s)}(yield i.loadActiveDashboardLayoutConfigs())||i.addGridsterPanel(),setTimeout(()=>{i.rebuildDockManager()},1e3)})()}setFloatingWindowsContainer(t){this._floatingWindowsContainer=t}setContainerRef(t){this.viewContainer=t}addFloatingWindow(t){if(!this._floatingWindowsContainer)return;let i=this._floatingWindowsContainer.createComponent(jx);return i.setInput("panel",t),t.setFloatingByComponentRef(i),setTimeout(()=>{this.rebuildDockManager()},300),i}setActivePanel(t){for(const i of this._panels)i.setActive=i.id===t.id}loadActiveDashboardLayoutConfigs(){var t=this;return(0,hr.Z)(function*(){let i;if(localStorage.getItem(t._activeDashboard.id)&&(i=JSON.parse(localStorage.getItem(t._activeDashboard.id))),!i)return!1;yield t.loadSpawnPanelsState(i.dock_spawn);for(const n of i.grid_ster){const s=t._panels.find(a=>a.nativeId===n._id);s&&(s.gridSterConfig.cols=n.cols,s.gridSterConfig.rows=n.rows,s.gridSterConfig.x=n.x,s.gridSterConfig.y=n.y,s._mode=Qa.GRID_STER)}return!0})()}saveActiveDashboardLayoutConfigs(){var t=this;return(0,hr.Z)(function*(){const i=t._spawnDockManager.saveState(),n=t.gridSterPanels.map(a=>({_id:a.nativeId,rows:a.gridSterConfig.rows,cols:a.gridSterConfig.cols,x:a.gridSterConfig.x,y:a.gridSterConfig.y})),s={dock_spawn:JSON.parse(i),grid_ster:n};localStorage.setItem(t._activeDashboard.id,JSON.stringify(s)),t.notify.successSnack(`${t._activeDashboard.name} dashboard layout configurations saved`)})()}updateGridSterComponent(t){const i=this._panels.find(n=>n.gridSterConfig&&n.nativeId===t._id);i?(i.gridSterConfig.cols=t.cols,i.gridSterConfig.rows=t.rows,i.gridSterConfig.x=t.x,i.gridSterConfig.y=t.y):console.warn("can not find target gridster node panel")}initSpawnDockManager(){let t=document.getElementById("gridLayoutContainer");this._spawnDockManager&&(this._spawnDockManager=null,delete this._spawnDockManager),this._spawnDockManager=new SW(t),this._spawnDockManager.initialize();const i=(n,s,a,o)=>{o||(o=1),n.hideCloseButton(!0);const l=this._panels.find(c=>c.nativeId===s.container.id);"dock"===a?(s.container.hidePinButton&&s.container.hidePinButton(!0),s.container.hideFullscreenButton&&s.container.hideFullscreenButton(!0),l&&l.setDocked(s.container)):(s.container.hidePinButton&&s.container.hidePinButton(!1),s.container.hideFullscreenButton&&s.container.hideFullscreenButton(!1),l&&l.setFloating()),setTimeout(()=>{this.rebuildDockManager()},400)};this._spawnDockManager.addLayoutListener({onDock:(n,s,a)=>{a&&a>1||(a||(a=0),i(n,s,"dock",a))},onUndock(n,s){i(n,s,"unDock")}})}resetDashboard(){var t=this;return(0,hr.Z)(function*(){t.initSpawnDockManager();let i=[];for(;t._panels.length>0;){const n=t._panels.shift();n.isPin?i.push(n):yield n.destroy()}t._panels=i,t._gridsterComponentRef&&(t._gridsterComponentRef.destroy(),t._gridsterComponentRef=void 0),t._gridsterPanel&&(t._gridsterPanel.destroy(),t._gridsterPanel=void 0)})()}addGridsterPanel(t=!0){return this._gridsterComponentRef=this.viewContainer.createComponent(Em),this._gridsterPanel=new lo(this._gridsterComponentRef.location.nativeElement,this._spawnDockManager,"Grid",Il.document,!0),this._gridsterPanel.setId("grid"),this._gridsterPanel.hideCloseButton(!0),this._gridsterPanel.hidePinButton(!0),this._gridsterPanel.hideFullscreenButton(!0),t&&this._spawnDockManager.dockFill(this._spawnDockManager.context.model.documentManagerNode,this._gridsterPanel),this._gridsterPanel}loadSpawnPanelsState(t){var i=this;return(0,hr.Z)(function*(){let n=new OM;const s=yield i._buildSpawnGraph(t.graphInfo);n.rootNode=s,n.dialogs=yield i._buildSpawnDialogs(t.dialogsInfo),n.documentManagerNode=i._spawnDockManager.context.model.documentManagerNode,i._spawnDockManager.setModel(n),i._spawnDockManager.notifyOnDock(s)})()}_buildSpawnGraph(t){var i=this;return(0,hr.Z)(function*(){let n=t.children,s=[];for(let l of n){let c=yield i._buildSpawnGraph(l);null!==c&&s.push(c)}let a=yield i._createSpawnContainer(t,s);if(null===a)return null;let o=new of(a);o.children=s;for(let l of o.children.reverse())l.parent=o;return o.children.reverse(),o})()}_createSpawnContainer(t,i){var n=this;return(0,hr.Z)(function*(){let s=t.containerType,a=t.state,o=null,l=[];for(let c of i)l.push(c.container);if("panel"===t.containerType){if(t.state.panelType!==Il.document)throw new Error("Cannot create panel container");if("grid"===t.state.id)o=n.addGridsterPanel(!1);else{const c=n._panels.find(u=>u.nativeId===t.state.id);if(!c)return console.warn("can not find panel to load!",t.state.id),null;let A=n._floatingWindowsContainer.createComponent(jx);if(A.setInput("panel",c),o=new lo(A.location.nativeElement,n._spawnDockManager,c.nativeId,Il.document),c.setDocked(o),t.state.isPin&&(c._isPin=t.state.isPin),c._floatingComponentRef=A,!o.prepareForDocking)return null;o.prepareForDocking(),ln.removeNode(o.elementPanel)}}else if("horizontal"===t.containerType)o=new NM(n._spawnDockManager,l);else if("vertical"===s)o=new HM(n._spawnDockManager,l);else{if("fill"!==s)throw new Error("Cannot create dock container of unknown type: "+s);o=a.documentManager?new Kx(n._spawnDockManager):new Jx(n._spawnDockManager)}return o.loadState(a),o})()}_buildSpawnDialogs(t){var i=this;return(0,hr.Z)(function*(){let n=[];for(let s of t){let o=s.state;if("panel"===s.containerType){const l=i._panels.find(f=>f.nativeId===o.id);if(!l)return console.warn("can not find dialog to load!",o.id),[];if(l.isLoaded){console.warn(`dialog ${l.id} before loaded`);continue}let c=i._floatingWindowsContainer.createComponent(jx);c.setInput("panel",l);let A=new lo(c.location.nativeElement,i._spawnDockManager,o.id,Il.document);l.setFloating(A),A.loadState(o),l._isPin=o.isPin,(s.position.x>document.body.clientWidth||s.position.y>document.body.clientHeight-70)&&(s.position.x=20,s.position.y=70);const u=i._spawnDockManager.floatDialog(A,s.position.x,s.position.y);l._floatingComponentRef=c,l._spawnDialog=u,u.setPosition(s.position.x,s.position.y),u.isHidden=s.isHidden,u.isHidden&&u.hide(),n.push(u)}}return n})()}rebuildDockManager(){if(!this._spawnDockManager)return;this._spawnDockManager._checkShowBackgroundContext();const t=i=>{for(const n of i.children)t(n);this._spawnDockManager.rebuildLayout(i),i.container.resize(i.container.width,i.container.height)};t(this._spawnDockManager.context.model.rootNode);for(const i of this._spawnDockManager.context.model.dialogs)i.resizable.resize(i.panel.width,i.panel.height);this._spawnDockManager.invalidate()}static#e=this.\u0275fac=function(i){return new(i||r)(h.LFG(Dl.U),h.LFG(lC.d))};static#t=this.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var GM=ge(5191);function IW(r,e){1&r&&(h.TgZ(0,"div",18),h._UZ(1,"img",19),h.qZA())}function FW(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",20),h.NdJ("click",function(){h.CHM(t);const n=h.oxw();return h.KtG(n.onFullScreen())}),h.TgZ(1,"span",4),h._uU(2,"fullscreen"),h.qZA()()}}function kW(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",20),h.NdJ("click",function(){h.CHM(t);const n=h.oxw();return h.KtG(n.onExitFullScreen())}),h.TgZ(1,"span",4),h._uU(2,"fullscreen_exit"),h.qZA()()}}function LW(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"div",21),h.NdJ("click",function(){h.CHM(t);const n=h.oxw();return h.KtG(n.dockManager.saveActiveDashboardLayoutConfigs())}),h.TgZ(1,"span",4),h._uU(2,"save"),h.qZA()()}}const PW=function(r,e){return{backgroundColor:r,color:e}};let RW=(()=>{class r{constructor(t,i,n,s,a,o){this.panelService=t,this.store=i,this.dockManager=n,this.dashboardService=s,this.transmit=a,this.router=o,this.menuSide_open=!0,this.menuStatic_open=!0,this.menuShow=!0,this.menu2_open=!1,this.fullscreen=!1,this.menuType="full",this.notificationsCount=0,this.downloadable_json="/assets/downloadable.json",this.roleTypes=kf.r,this.getApplication(kf.l)}ngOnInit(){this.username$=this.store.select(ae.bG).pipe((0,Dn.U)(t=>t?.username)),document.addEventListener("fullscreenchange",this.onFullscreenChange),"static"!==this.menuType&&(this.menuSide_open=!0),this.panelService.menuType.subscribe(t=>{this.menuType=t}),this.panelService.menuShow.subscribe(t=>{this.menuShow=t}),this.panelService.notificationsCount.subscribe(t=>{this.notificationsCount=t})}ngDoCheck(){this.checkFullscreenMode()}getApplication(t){this.transmit.emit("menu-item-clicked",void 0),this.selectedAppType=t,this.store.select(ae.rh).pipe((0,Pa.w)(i=>(i&&this.dashboardService.getApplicationData(i,t),(0,xe.of)()))).subscribe()}onMenuToggle(){if("static"===this.menuType)this.menuStatic_open?$("#cmp-menu-static").slideUp(100):$("#cmp-menu-static").slideDown(100),this.menuStatic_open=!this.menuStatic_open;else{let t=$(".menu-wrapper").width();this.menuSide_open?$(".menu-wrapper").velocity({marginLeft:"-"+t+"px",opacity:0},300):$(".menu-wrapper").velocity({marginLeft:0,opacity:1},300),this.menuSide_open=!this.menuSide_open}}onMenu2Click(){$("#cmp-menu-activity.ltr").velocity({right:0,opacity:1},300),$("#cmp-menu-activity.rtl").velocity({left:0,opacity:1},300)}onChangeLanguage(t){return!!["english","farsi"].includes(t)&&(localStorage.setItem("language",t),window.location.reload(),!0)}checkFullscreenMode(){this.fullscreen=window.innerHeight==screen.height}onFullscreenChange(){this.fullscreen=!!document.fullscreenElement}onFullScreen(){if(!this.fullscreen){try{document.documentElement.requestFullscreen()}catch{}this.fullscreen=!0}}onExitFullScreen(){if(this.fullscreen){try{document.exitFullscreen()}catch{}this.fullscreen=!1}}onLogout(){return localStorage.clear(),this.router.navigate(["Auth"]),(0,d0.ls)({userData:null})}switchToUserRole(t){this.transmit.emit("updated_user_role",t)}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(Wl),h.Y36(er.yh),h.Y36(zM),h.Y36(oC.s),h.Y36(Dl.U),h.Y36($o.F0))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-top-bar"]],inputs:{skeletonConfig:"skeletonConfig"},decls:45,vars:25,consts:[["id","cmp-top-bar",1,"toolbars-bg","toolbars-text",3,"ngStyle"],[1,"items"],["class","logo",4,"ngIf"],[1,"item","icon","menu-side",3,"click"],[1,"material-icons"],["class","item icon fullscreen",3,"click",4,"ngIf"],["matTooltip","Toggle lock active dashboard layout",1,"item","icon","fullscreen",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor","click"],["labUsers","matMenu"],["class","item icon fullscreen","matTooltip","Save active dashboard layout configuration",3,"click",4,"ngIf"],[1,"ms-auto"],[1,"item","user"],["id","dropdown_user",1,"caret-off","d-flex","align-items-center",3,"matMenuTriggerFor"],[1,"me-1","d-none","d-md-inline-block"],["profileMenu","matMenu"],[1,"logo"],["src","./assets/logo.svg","alt",""],[1,"item","icon","fullscreen",3,"click"],["matTooltip","Save active dashboard layout configuration",1,"item","icon","fullscreen",3,"click"]],template:function(i,n){if(1&i&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,IW,2,0,"div",2),h.TgZ(3,"div",3),h.NdJ("click",function(){return n.onMenuToggle()}),h.TgZ(4,"span",4),h._uU(5,"menu"),h.qZA()(),h.YNc(6,FW,3,0,"div",5),h.YNc(7,kW,3,0,"div",5),h.TgZ(8,"div",6),h.NdJ("click",function(){return n.dockManager.toggleLockActiveDashboardLayout()}),h.TgZ(9,"span",4),h._uU(10),h.qZA()(),h._UZ(11,"button",7),h.TgZ(12,"mat-menu",null,8)(14,"button",9),h.NdJ("click",function(){return n.getApplication("barname_rizi")}),h._uU(15,"\u0628\u0631\u0646\u0627\u0645\u0647 \u0631\u06cc\u0632\u06cc"),h.qZA(),h.TgZ(16,"button",10),h.NdJ("click",function(){return n.getApplication("azmayesh")}),h._uU(17,"\u0622\u0632\u0645\u0627\u06cc\u0634\u06af\u0627\u0647"),h.qZA(),h.TgZ(18,"button",9),h.NdJ("click",function(){return n.getApplication("tolid")}),h._uU(19,"\u062a\u0648\u0644\u06cc\u062f"),h.qZA(),h.TgZ(20,"button",9),h.NdJ("click",function(){return n.getApplication("automasion")}),h._uU(21,"\u0627\u062a\u0648\u0645\u0627\u0633\u06cc\u0648\u0646 \u0635\u0646\u0639\u062a\u06cc"),h.qZA(),h.TgZ(22,"button",9),h.NdJ("click",function(){return n.getApplication("anbast_bardasht")}),h._uU(23,"\u0627\u0646\u0628\u0627\u0634\u062a\u060c \u0628\u0631\u062f\u0627\u0634\u062a \u0648 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc"),h.qZA()(),h.TgZ(24,"mat-menu",null,11)(26,"button",9),h.NdJ("click",function(){return n.switchToUserRole(n.roleTypes.SUPER_ADMIN)}),h._uU(27,"\u0627\u062f\u0645\u06cc\u0646"),h.qZA(),h.TgZ(28,"button",9),h.NdJ("click",function(){return n.switchToUserRole(n.roleTypes.JUST_LAB_REPORTS)}),h._uU(29,"\u0633\u0631\u067e\u0631\u0633\u062a"),h.qZA(),h.TgZ(30,"button",9),h.NdJ("click",function(){return n.switchToUserRole(n.roleTypes.JUST_LAB_DATA_ENTRIES)}),h._uU(31,"\u06a9\u0627\u0631\u0634\u0646\u0627\u0633"),h.qZA()(),h.YNc(32,LW,3,0,"div",12),h._UZ(33,"div",13),h.TgZ(34,"div",14)(35,"div",15)(36,"span",16),h._uU(37),h.ALo(38,"async"),h.qZA(),h.TgZ(39,"span",4),h._uU(40,"person"),h.qZA()(),h.TgZ(41,"mat-menu",null,17)(43,"button",9),h.NdJ("click",function(){return n.onLogout()}),h._uU(44,"Logout"),h.qZA()()()()()),2&i){const s=h.MAs(13),a=h.MAs(25),o=h.MAs(42);h.Q6J("ngStyle",h.WLB(22,PW,n.skeletonConfig.topbarColor,n.skeletonConfig.topbarTextColor)),h.xp6(2),h.Q6J("ngIf","static"===n.menuType),h.xp6(4),h.Q6J("ngIf",!n.fullscreen),h.xp6(1),h.Q6J("ngIf",n.fullscreen),h.xp6(3),h.Oqu(n.dockManager.lockActiveDashboardLayout?"lock":"lock_open"),h.xp6(1),h.Q6J("matMenuTriggerFor",s),h.xp6(3),h.Udp("color","barname_rizi"==n.selectedAppType?"red":"unset"),h.xp6(2),h.Udp("color","azmayesh"==n.selectedAppType?"red":"unset"),h.Q6J("matMenuTriggerFor",a),h.xp6(2),h.Udp("color","tolid"==n.selectedAppType?"red":"unset"),h.xp6(2),h.Udp("color","automasion"==n.selectedAppType?"red":"unset"),h.xp6(2),h.Udp("color","anbast_bardasht"==n.selectedAppType?"red":"unset"),h.xp6(10),h.Q6J("ngIf",!n.dockManager.lockActiveDashboardLayout),h.xp6(3),h.Q6J("matMenuTriggerFor",o),h.xp6(2),h.Oqu(h.lcZ(38,20,n.username$))}},dependencies:[G.O5,G.PC,ms.lW,Rs.VK,Rs.OP,Rs.p6,GM.gM,G.Ov],styles:["#cmp-top-bar{padding:10px 5px}@media (min-width: 576px){#cmp-top-bar{padding:10px 15px}}#cmp-top-bar .items{display:flex;align-items:center;width:100%}#cmp-top-bar .items .logo{display:flex;align-items:center}#cmp-top-bar .items .logo img{height:24px}#cmp-top-bar .items .item{display:flex;align-items:center;justify-content:center;margin:0 8px;height:30px;-webkit-user-select:none;user-select:none;cursor:pointer}@media (min-width: 576px){#cmp-top-bar .items .item{margin:0 10px}}#cmp-top-bar .items .item.lang img{height:20px}#cmp-top-bar .items .item.notifications .counter{position:absolute;display:flex;align-items:center;justify-content:center;top:-8px;right:-8px;padding:2px 2px 0 0;width:20px;height:20px;color:#fff;background-color:var(--color_red_500);border-radius:50%;font-size:11px}#cmp-top-bar .items .item .dropdown-item{font-size:13px}\n"],encapsulation:2})}return r})();var UW=ge(509),YM=ge(5190),Jk=ge(3104),Hu=ge(7812),QW=ge(9520),OW=ge.n(QW),hs=ge(5464),is=Uint8Array,Fo=Uint16Array,lf=Uint32Array,x_=new is([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),B_=new is([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mw=new is([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zk=function(r,e){for(var t=new Fo(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];var n=new lf(t[30]);for(i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)n[s]=s-t[i]<<5|i;return[t,n]},Xk=Zk(x_,2),WM=Xk[0],Xx=Xk[1];WM[28]=258,Xx[258]=28;for(var qk=Zk(B_,0),$k=qk[0],VM=qk[1],gw=new Fo(32768),ks=0;ks<32768;++ks){var cf=(43690&ks)>>>1|(21845&ks)<<1;gw[ks]=((65280&(cf=(61680&(cf=(52428&cf)>>>2|(13107&cf)<<2))>>>4|(3855&cf)<<4))>>>8|(255&cf)<<8)>>>1}var Ah=function(r,e,t){for(var i=r.length,n=0,s=new Fo(e);n<i;++n)++s[r[n]-1];var o,a=new Fo(e);for(n=0;n<e;++n)a[n]=a[n-1]+s[n-1]<<1;if(t){o=new Fo(1<<e);var l=15-e;for(n=0;n<i;++n)if(r[n])for(var c=n<<4|r[n],A=e-r[n],u=a[r[n]-1]++<<A,f=u|(1<<A)-1;u<=f;++u)o[gw[u]>>>l]=c}else for(o=new Fo(i),n=0;n<i;++n)o[n]=gw[a[r[n]-1]++]>>>15-r[n];return o},zu=new is(288);for(ks=0;ks<144;++ks)zu[ks]=8;for(ks=144;ks<256;++ks)zu[ks]=9;for(ks=256;ks<280;++ks)zu[ks]=7;for(ks=280;ks<288;++ks)zu[ks]=8;var C_=new is(32);for(ks=0;ks<32;++ks)C_[ks]=5;var eL=Ah(zu,9,0),tL=Ah(zu,9,1),iL=Ah(C_,5,0),nL=Ah(C_,5,1),qx=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},uh=function(r,e,t){var i=e/8>>0;return(r[i]|r[i+1]<<8)>>>(7&e)&t},$x=function(r,e){var t=e/8>>0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>>(7&e)},_w=function(r){return(r/8>>0)+(7&r&&1)},tm=function(r,e,t){(null==e||e<0)&&(e=0),(null==t||t>r.length)&&(t=r.length);var i=new(r instanceof Fo?Fo:r instanceof lf?lf:is)(t-e);return i.set(r.subarray(e,t)),i},GA=function(r,e,t){var i=e/8>>0;r[i]|=t<<=7&e,r[i+1]|=t>>>8},E_=function(r,e,t){var i=e/8>>0;r[i]|=t<<=7&e,r[i+1]|=t>>>8,r[i+2]|=t>>>16},t1=function(r,e){for(var t=[],i=0;i<r.length;++i)r[i]&&t.push({s:i,f:r[i]});var n=t.length,s=t.slice();if(!n)return[new is(0),0];if(1==n){var a=new is(t[0].s+1);return a[t[0].s]=1,[a,1]}t.sort(function(U,H){return U.f-H.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,A=1,u=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};A!=n-1;)o=t[t[c].f<t[u].f?c++:u++],l=t[c!=A&&t[c].f<t[u].f?c++:u++],t[A++]={s:-1,f:o.f+l.f,l:o,r:l};var f=s[0].s;for(i=1;i<n;++i)s[i].s>f&&(f=s[i].s);var d=new Fo(f+1),_=n1(t[A-1],d,0);if(_>e){i=0;var p=0,g=_-e,m=1<<g;for(s.sort(function(H,N){return d[N.s]-d[H.s]||H.f-N.f});i<n;++i){var C=s[i].s;if(!(d[C]>e))break;p+=m-(1<<_-d[C]),d[C]=e}for(p>>>=g;p>0;){var B=s[i].s;d[B]<e?p-=1<<e-d[B]++-1:++i}for(;i>=0&&p;--i){var S=s[i].s;d[S]==e&&(--d[S],++p)}_=e}return[new is(d),_]},n1=function(r,e,t){return-1==r.s?Math.max(n1(r.l,e,t+1),n1(r.r,e,t+1)):e[r.s]=t},jM=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Fo(++e),i=0,n=r[0],s=1,a=function(l){t[i++]=l},o=1;o<=e;++o)if(r[o]==n&&o!=e)++s;else{if(!n&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(n),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(n);s=1,n=r[o]}return[t.subarray(0,i),e]},M_=function(r,e){for(var t=0,i=0;i<e.length;++i)t+=r[i]*e[i];return t},vw=function(r,e,t){var i=t.length,n=_w(e+2);r[n]=255&i,r[n+1]=i>>>8,r[n+2]=255^r[n],r[n+3]=255^r[n+1];for(var s=0;s<i;++s)r[n+s+4]=t[s];return 8*(n+4+i)},JM=function(r,e,t,i,n,s,a,o,l,c,A){GA(e,A++,t),++n[256];for(var u=t1(n,15),f=u[0],d=u[1],_=t1(s,15),p=_[0],g=_[1],m=jM(f),C=m[0],B=m[1],S=jM(p),U=S[0],H=S[1],N=new Fo(19),P=0;P<C.length;++P)N[31&C[P]]++;for(P=0;P<U.length;++P)N[31&U[P]]++;for(var z=t1(N,7),W=z[0],Y=z[1],K=19;K>4&&!W[mw[K-1]];--K);var ee,he,pe,ue,q=c+5<<3,Q=M_(n,zu)+M_(s,C_)+a,ie=M_(n,f)+M_(s,p)+a+14+3*K+M_(N,W)+(2*N[16]+3*N[17]+7*N[18]);if(q<=Q&&q<=ie)return vw(e,A,r.subarray(l,l+c));if(GA(e,A,1+(ie<Q)),A+=2,ie<Q){ee=Ah(f,d,0),he=f,pe=Ah(p,g,0),ue=p;var Be=Ah(W,Y,0);for(GA(e,A,B-257),GA(e,A+5,H-1),GA(e,A+10,K-4),A+=14,P=0;P<K;++P)GA(e,A+3*P,W[mw[P]]);A+=3*K;for(var Le=[C,U],J=0;J<2;++J){var te=Le[J];for(P=0;P<te.length;++P)GA(e,A,Be[le=31&te[P]]),A+=W[le],le>15&&(GA(e,A,te[P]>>>5&127),A+=te[P]>>>12)}}else ee=eL,he=zu,pe=iL,ue=C_;for(P=0;P<o;++P)if(i[P]>255){var le;E_(e,A,ee[257+(le=i[P]>>>18&31)]),A+=he[le+257],le>7&&(GA(e,A,i[P]>>>23&31),A+=x_[le]);var be=31&i[P];E_(e,A,pe[be]),A+=ue[be],be>3&&(E_(e,A,i[P]>>>5&8191),A+=B_[be])}else E_(e,A,ee[i[P]]),A+=he[i[P]];return E_(e,A,ee[256]),A+he[256]},rL=new lf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sL=new is(0),s1=function(r,e,t,i,n){return function(r,e,t,i,n,s){var a=r.length,o=new is(i+a+5*(1+Math.floor(a/7e3))+n),l=o.subarray(i,o.length-n),c=0;if(!e||a<8)for(var A=0;A<=a;A+=65535){var u=A+65535;u<a?c=vw(l,c,r.subarray(A,u)):(l[A]=s,c=vw(l,c,r.subarray(A,a)))}else{for(var f=rL[e-1],d=f>>>13,_=8191&f,p=(1<<t)-1,g=new Fo(32768),m=new Fo(p+1),C=Math.ceil(t/3),B=2*C,S=function(lt){return(r[lt]^r[lt+1]<<C^r[lt+2]<<B)&p},U=new lf(25e3),H=new Fo(288),N=new Fo(32),P=0,z=0,W=(A=0,0),Y=0,K=0;A<a;++A){var q=S(A),Q=32767&A,ie=m[q];if(g[Q]=ie,m[q]=Q,Y<=A){var ee=a-A;if((P>7e3||W>24576)&&ee>423){c=JM(r,l,0,U,H,N,z,W,K,A-K,c),W=P=z=0,K=A;for(var he=0;he<286;++he)H[he]=0;for(he=0;he<30;++he)N[he]=0}var pe=2,ue=0,Be=_,Le=Q-ie&32767;if(ee>2&&q==S(A-Le))for(var J=Math.min(d,ee)-1,te=Math.min(32767,A),le=Math.min(258,ee);Le<=te&&--Be&&Q!=ie;){if(r[A+pe]==r[A+pe-Le]){for(var be=0;be<le&&r[A+be]==r[A+be-Le];++be);if(be>pe){if(pe=be,ue=Le,be>J)break;var De=Math.min(Le,be-2),Fe=0;for(he=0;he<De;++he){var He=A-Le+he+32768&32767,ut=He-g[He]+32768&32767;ut>Fe&&(Fe=ut,ie=He)}}}Le+=(Q=ie)-(ie=g[Q])+32768&32767}if(ue){U[W++]=268435456|Xx[pe]<<18|VM[ue];var bt=31&Xx[pe],Se=31&VM[ue];z+=x_[bt]+B_[Se],++H[257+bt],++N[Se],Y=A+pe,++P}else U[W++]=r[A],++H[r[A]]}}c=JM(r,l,s,U,H,N,z,W,K,A-K,c),s||(c=vw(l,c,sL))}return tm(o,0,i+_w(c)+n)}(r,null==e.level?6:e.level,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):12+e.mem,t,i,!n)};function bw(r,e){void 0===e&&(e={});var t=function(){var r=1,e=0;return{p:function(t){for(var i=r,n=e,s=t.length,a=0;a!=s;){for(var o=Math.min(a+5552,s);a<o;++a)n+=i+=t[a];i%=65521,n%=65521}r=i,e=n},d:function(){return(r>>>8<<16|(255&e)<<8|e>>>8)+2*((255&r)<<23)}}}();t.p(r);var i=s1(r,e,2,4);return function(r,e){var t=e.level,i=0==t?0:t<6?1:9==t?3:2;r[0]=120,r[1]=i<<6|(i?32-2*i:1)}(i,e),function(r,e,t){for(;t;++e)r[e]=t,t>>>=8}(i,i.length-4,t.d()),i}function l1(r,e){return function(r,e,t){var i=r.length,n=!e||t,s=!t||t.i;t||(t={}),e||(e=new is(3*i));var a=function(De){var Fe=e.length;if(De>Fe){var He=new is(Math.max(2*Fe,De));He.set(e),e=He}},o=t.f||0,l=t.p||0,c=t.b||0,A=t.l,u=t.d,f=t.m,d=t.n,_=8*i;do{if(!A){t.f=o=uh(r,l,1);var p=uh(r,l+1,3);if(l+=3,!p){var m=r[(g=_w(l)+4)-4]|r[g-3]<<8,C=g+m;if(C>i){if(s)throw"unexpected EOF";break}n&&a(c+m),e.set(r.subarray(g,C),c),t.b=c+=m,t.p=l=8*C;continue}if(1==p)A=tL,u=nL,f=9,d=5;else{if(2!=p)throw"invalid block type";var B=uh(r,l,31)+257,S=uh(r,l+10,15)+4,U=B+uh(r,l+5,31)+1;l+=14;for(var H=new is(U),N=new is(19),P=0;P<S;++P)N[mw[P]]=uh(r,l+3*P,7);l+=3*S;var z=qx(N),W=(1<<z)-1;if(!s&&l+U*(z+7)>_)break;var Y=Ah(N,z,1);for(P=0;P<U;){var g,K=Y[uh(r,l,W)];if(l+=15&K,(g=K>>>4)<16)H[P++]=g;else{var q=0,Q=0;for(16==g?(Q=3+uh(r,l,3),l+=2,q=H[P-1]):17==g?(Q=3+uh(r,l,7),l+=3):18==g&&(Q=11+uh(r,l,127),l+=7);Q--;)H[P++]=q}}var ie=H.subarray(0,B),ee=H.subarray(B);f=qx(ie),d=qx(ee),A=Ah(ie,f,1),u=Ah(ee,d,1)}if(l>_)throw"unexpected EOF"}n&&a(c+131072);for(var he=(1<<f)-1,pe=(1<<d)-1,ue=f+d+18;s||l+ue<_;){var Be=(q=A[$x(r,l)&he])>>>4;if((l+=15&q)>_)throw"unexpected EOF";if(!q)throw"invalid length/literal";if(Be<256)e[c++]=Be;else{if(256==Be){A=null;break}var Le=Be-254;Be>264&&(Le=uh(r,l,(1<<(J=x_[P=Be-257]))-1)+WM[P],l+=J);var te=u[$x(r,l)&pe],le=te>>>4;if(!te)throw"invalid distance";if(l+=15&te,ee=$k[le],le>3){var J=B_[le];ee+=$x(r,l)&(1<<J)-1,l+=J}if(l>_)throw"unexpected EOF";n&&a(c+131072);for(var be=c+Le;c<be;c+=4)e[c]=e[c-ee],e[c+1]=e[c+1-ee],e[c+2]=e[c+2-ee],e[c+3]=e[c+3-ee];c=be}}t.l=A,t.p=l,t.b=c,A&&(o=1,t.m=f,t.d=u,t.n=d)}while(!o);return c==e.length?e:tm(e,0,c)}((function(r){if(8!=(15&r[0])||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(32&r[1])throw"invalid zlib data: preset dictionaries not supported"}(r),r.subarray(2,-4)),e)}var xn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function e2(){xn.console&&"function"==typeof xn.console.log&&xn.console.log.apply(xn.console,arguments)}var As={log:e2,warn:function(r){xn.console&&("function"==typeof xn.console.warn?xn.console.warn.apply(xn.console,arguments):e2.call(null,arguments))},error:function(r){xn.console&&("function"==typeof xn.console.error?xn.console.error.apply(xn.console,arguments):e2(r))}};function t2(r,e,t){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){im(i.response,e,t)},i.onerror=function(){As.error("could not download file")},i.send()}function BL(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function h1(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var yw,n2,im=xn.saveAs||("object"!==(typeof window>"u"?"undefined":(0,hs.Z)(window))||window!==xn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var i=xn.URL||xn.webkitURL,n=document.createElement("a");n.download=e=e||r.name||"download",n.rel="noopener","string"==typeof r?(n.href=r,n.origin!==location.origin?BL(n.href)?t2(r,e,t):h1(n,n.target="_blank"):h1(n)):(n.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){h1(n)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download","string"==typeof r)if(BL(r))t2(r,e,t);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){h1(i)})}else navigator.msSaveOrOpenBlob((n=r,void 0===(s=t)?s={autoBom:!1}:"object"!==(0,hs.Z)(s)&&(As.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n),e);var n,s}:function(r,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof r)return t2(r,e,t);var n="application/octet-stream"===r.type,s=/constructor/i.test(xn.HTMLElement)||xn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||n&&s)&&"object"===(typeof FileReader>"u"?"undefined":(0,hs.Z)(FileReader))){var o=new FileReader;o.onloadend=function(){var A=o.result;A=a?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=A:location=A,i=null},o.readAsDataURL(r)}else{var l=xn.URL||xn.webkitURL,c=l.createObjectURL(r);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function CL(r){var e;r=r||"",this.ok=!1,"#"==r.charAt(0)&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<t.length;i++){var s=t[i].process,a=t[i].re.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return 1==o.length&&(o="0"+o),1==l.length&&(l="0"+l),1==c.length&&(c="0"+c),"#"+o+l+c}}function r2(r,e){var t=r[0],i=r[1],n=r[2],s=r[3];t=vl(t,i,n,s,e[0],7,-680876936),s=vl(s,t,i,n,e[1],12,-389564586),n=vl(n,s,t,i,e[2],17,606105819),i=vl(i,n,s,t,e[3],22,-1044525330),t=vl(t,i,n,s,e[4],7,-176418897),s=vl(s,t,i,n,e[5],12,1200080426),n=vl(n,s,t,i,e[6],17,-1473231341),i=vl(i,n,s,t,e[7],22,-45705983),t=vl(t,i,n,s,e[8],7,1770035416),s=vl(s,t,i,n,e[9],12,-1958414417),n=vl(n,s,t,i,e[10],17,-42063),i=vl(i,n,s,t,e[11],22,-1990404162),t=vl(t,i,n,s,e[12],7,1804603682),s=vl(s,t,i,n,e[13],12,-40341101),n=vl(n,s,t,i,e[14],17,-1502002290),t=wl(t,i=vl(i,n,s,t,e[15],22,1236535329),n,s,e[1],5,-165796510),s=wl(s,t,i,n,e[6],9,-1069501632),n=wl(n,s,t,i,e[11],14,643717713),i=wl(i,n,s,t,e[0],20,-373897302),t=wl(t,i,n,s,e[5],5,-701558691),s=wl(s,t,i,n,e[10],9,38016083),n=wl(n,s,t,i,e[15],14,-660478335),i=wl(i,n,s,t,e[4],20,-405537848),t=wl(t,i,n,s,e[9],5,568446438),s=wl(s,t,i,n,e[14],9,-1019803690),n=wl(n,s,t,i,e[3],14,-187363961),i=wl(i,n,s,t,e[8],20,1163531501),t=wl(t,i,n,s,e[13],5,-1444681467),s=wl(s,t,i,n,e[2],9,-51403784),n=wl(n,s,t,i,e[7],14,1735328473),t=bl(t,i=wl(i,n,s,t,e[12],20,-1926607734),n,s,e[5],4,-378558),s=bl(s,t,i,n,e[8],11,-2022574463),n=bl(n,s,t,i,e[11],16,1839030562),i=bl(i,n,s,t,e[14],23,-35309556),t=bl(t,i,n,s,e[1],4,-1530992060),s=bl(s,t,i,n,e[4],11,1272893353),n=bl(n,s,t,i,e[7],16,-155497632),i=bl(i,n,s,t,e[10],23,-1094730640),t=bl(t,i,n,s,e[13],4,681279174),s=bl(s,t,i,n,e[0],11,-358537222),n=bl(n,s,t,i,e[3],16,-722521979),i=bl(i,n,s,t,e[6],23,76029189),t=bl(t,i,n,s,e[9],4,-640364487),s=bl(s,t,i,n,e[12],11,-421815835),n=bl(n,s,t,i,e[15],16,530742520),t=yl(t,i=bl(i,n,s,t,e[2],23,-995338651),n,s,e[0],6,-198630844),s=yl(s,t,i,n,e[7],10,1126891415),n=yl(n,s,t,i,e[14],15,-1416354905),i=yl(i,n,s,t,e[5],21,-57434055),t=yl(t,i,n,s,e[12],6,1700485571),s=yl(s,t,i,n,e[3],10,-1894986606),n=yl(n,s,t,i,e[10],15,-1051523),i=yl(i,n,s,t,e[1],21,-2054922799),t=yl(t,i,n,s,e[8],6,1873313359),s=yl(s,t,i,n,e[15],10,-30611744),n=yl(n,s,t,i,e[6],15,-1560198380),i=yl(i,n,s,t,e[13],21,1309151649),t=yl(t,i,n,s,e[4],6,-145523070),s=yl(s,t,i,n,e[11],10,-1120210379),n=yl(n,s,t,i,e[2],15,718787259),i=yl(i,n,s,t,e[9],21,-343485551),r[0]=Af(t,r[0]),r[1]=Af(i,r[1]),r[2]=Af(n,r[2]),r[3]=Af(s,r[3])}function A1(r,e,t,i,n,s){return e=Af(Af(e,r),Af(i,s)),Af(e<<n|e>>>32-n,t)}function vl(r,e,t,i,n,s,a){return A1(e&t|~e&i,r,e,n,s,a)}function wl(r,e,t,i,n,s,a){return A1(e&i|t&~i,r,e,n,s,a)}function bl(r,e,t,i,n,s,a){return A1(e^t^i,r,e,n,s,a)}function yl(r,e,t,i,n,s,a){return A1(t^(e|~i),r,e,n,s,a)}function EL(r){var e,t=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)r2(i,XW(r.substring(e-64,e)));r=r.substring(e-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)n[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(r2(i,n),e=0;e<16;e++)n[e]=0;return n[14]=8*t,r2(i,n),i}function XW(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}yw=xn.atob.bind(xn),n2=xn.btoa.bind(xn);var ML="0123456789abcdef".split("");function qW(r){for(var e="",t=0;t<4;t++)e+=ML[r>>8*t+4&15]+ML[r>>8*t&15];return e}function $W(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function s2(r){return EL(r).map($W).join("")}var eV="5d41402abc4b2a76b9719d911017c592"!=function(r){for(var e=0;e<r.length;e++)r[e]=qW(r[e]);return r.join("")}(EL("hello"));function Af(r,e){if(eV){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function a2(r,e){var t,i,n;if(r!==t){for(var a=(n=r,new Array(1+(256/r.length>>0)+1).join(n)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var A=o[l];c=(c+A+a.charCodeAt(l))%256,o[l]=o[c],o[c]=A}t=r,i=o}else o=i;var u=e.length,f=0,d=0,_="";for(l=0;l<u;l++)d=(d+(A=o[f=(f+1)%256]))%256,o[f]=o[d],o[d]=A,a=o[(o[f]+o[d])%256],_+=String.fromCharCode(e.charCodeAt(l)^a);return _}var TL={print:4,modify:8,copy:16,"annot-forms":32};function D_(r,e,t,i){this.v=1,this.r=2;var n=192;r.forEach(function(o){if(void 0!==TL.perm)throw new Error("Invalid permission: "+o);n+=TL[o]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^n)),this.encryptionKey=s2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=a2(this.encryptionKey,this.padding)}function S_(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,i=0;i<t;i++){var n=r.charCodeAt(i);e+=n<33||35===n||37===n||40===n||41===n||47===n||60===n||62===n||91===n||93===n||123===n||125===n||n>126?"#"+("0"+n.toString(16)).slice(-2):r[i]}return e}function DL(r){if("object"!==(0,hs.Z)(r))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,n){if(n=n||!1,"string"!=typeof t||"function"!=typeof i||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!n],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],0===Object.keys(e[i]).length&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),n=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,i)}catch(o){xn.console&&As.error("jsPDF PubSub Error",o.message,o)}a[1]&&n.push(s)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function u1(r){if(!(this instanceof u1))return new u1(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function SL(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function nm(r,e,t,i,n){if(!(this instanceof nm))return new nm(r,e,t,i,n);this.type="axial"===r?2:3,this.coords=e,this.colors=t,SL.call(this,i,n)}function I_(r,e,t,i,n){if(!(this instanceof I_))return new I_(r,e,t,i,n);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,SL.call(this,i,n)}function bn(r){var e,t="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],n=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",A=null;"object"===(0,hs.Z)(r=r||{})&&(t=r.orientation,i=r.unit||i,n=r.format||n,s=r.compress||r.compressPdf||s,null!==(A=r.encryption||null)&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),o="number"==typeof r.userUnit?Math.abs(r.userUnit):1,void 0!==r.precision&&(e=r.precision),void 0!==r.floatPrecision&&(l=r.floatPrecision),c=r.defaultPathOperation||"S"),a=r.filters||(!0===s?["FlateEncode"]:a),i=i||"mm",t=(""+(t||"P")).toLowerCase();var u=r.putOnlyUsedFonts||!1,f={},d={internal:{},__private__:{}};d.__private__.PubSub=DL;var _="1.3",p=d.__private__.getPdfVersion=function(){return _};d.__private__.setPdfVersion=function(F){_=F};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return g};var m=d.__private__.getPageFormat=function(F){return g[F]};n=n||"a4";var B="compat";function S(){this.saveGraphicsState(),_e(new Ii(Vt,0,0,-Vt,0,gf()*Vt).toString()+" cm"),this.setFontSize(this.getFontSize()/Vt),c="n",B="advanced"}function U(){this.restoreGraphicsState(),c="S",B="compat"}var H=d.__private__.combineFontStyleAndFontWeight=function(F,se){if("bold"==F&&"normal"==se||"bold"==F&&400==se||"normal"==F&&"italic"==se||"bold"==F&&"italic"==se)throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(F=400==se||"normal"===se?"italic"===F?"italic":"normal":700!=se&&"bold"!==se||"normal"!==F?(700==se?"bold":se)+""+F:"bold"),F};d.advancedAPI=function(F){var se="compat"===B;return se&&S.call(this),"function"!=typeof F||(F(this),se&&U.call(this)),this},d.compatAPI=function(F){var se="advanced"===B;return se&&U.call(this),"function"!=typeof F||(F(this),se&&S.call(this)),this},d.isAdvancedAPI=function(){return"advanced"===B};var N,P=function(F){if("advanced"!==B)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=d.roundToPrecision=d.__private__.roundToPrecision=function(F,se){var ke=e||se;if(isNaN(F)||isNaN(ke))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(ke).replace(/0+$/,"")};N=d.hpf=d.__private__.hpf="number"==typeof l?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return z(F,l)}:"smart"===l?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return z(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return z(F,16)};var W=d.f2=d.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return z(F,2)},Y=d.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return z(F,3)},K=d.scale=d.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===B?F*Vt:"advanced"===B?F:void 0},Q=function(F){return K(function(F){return"compat"===B?gf()-F:"advanced"===B?F:void 0}(F))};d.__private__.setPrecision=d.setPrecision=function(F){"number"==typeof parseInt(F,10)&&(e=parseInt(F,10))};var ie,ee="00000000000000000000000000000000",he=d.__private__.getFileId=function(){return ee},pe=d.__private__.setFileId=function(F){return ee=void 0!==F&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==A&&(Bl=new D_(A.userPermissions,A.userPassword,A.ownerPassword,ee)),ee};d.setFileId=function(F){return pe(F),this},d.getFileId=function(){return he()};var ue=d.__private__.convertDateToPDFDate=function(F){var se=F.getTimezoneOffset(),ke=se<0?"+":"-",je=Math.floor(Math.abs(se/60)),ht=Math.abs(se%60),Pt=[ke,le(je),"'",le(ht),"'"].join("");return["D:",F.getFullYear(),le(F.getMonth()+1),le(F.getDate()),le(F.getHours()),le(F.getMinutes()),le(F.getSeconds()),Pt].join("")},Be=d.__private__.convertPDFDateToDate=function(F){var se=parseInt(F.substr(2,4),10),ke=parseInt(F.substr(6,2),10)-1,je=parseInt(F.substr(8,2),10),ht=parseInt(F.substr(10,2),10),Pt=parseInt(F.substr(12,2),10),ii=parseInt(F.substr(14,2),10);return new Date(se,ke,je,ht,Pt,ii,0)},Le=d.__private__.setCreationDate=function(F){var se;if(void 0===F&&(F=new Date),F instanceof Date)se=ue(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=F}return ie=se},J=d.__private__.getCreationDate=function(F){var se=ie;return"jsDate"===F&&(se=Be(ie)),se};d.setCreationDate=function(F){return Le(F),this},d.getCreationDate=function(F){return J(F)};var te,le=d.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},be=d.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},De=0,Fe=[],He=[],Je=0,ut=[],bt=[],Se=!1,ft=He;d.__private__.setCustomOutputDestination=function(F){Se=!0,ft=F};var ze=function(F){Se||(ft=F)};d.__private__.resetCustomOutputDestination=function(){Se=!1,ft=He};var _e=d.__private__.out=function(F){return F=F.toString(),Je+=F.length+1,ft.push(F),ft},Ct=d.__private__.write=function(F){return _e(1===arguments.length?F.toString():Array.prototype.join.call(arguments," "))},vt=d.__private__.getArrayBuffer=function(F){for(var se=F.length,ke=new ArrayBuffer(se),je=new Uint8Array(ke);se--;)je[se]=F.charCodeAt(se);return ke},oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return oe};var ne=r.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(F){return ne="advanced"===B?F/Vt:F,this};var Ne,ot=d.__private__.getFontSize=d.getFontSize=function(){return"compat"===B?ne:ne*Vt},gt=r.R2L||!1;d.__private__.setR2L=d.setR2L=function(F){return gt=F,this},d.__private__.getR2L=d.getR2L=function(){return gt};var yt,$t=d.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))Ne=F;else if(isNaN(F)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');Ne=F}else Ne=parseInt(F,10)};d.__private__.getZoomMode=function(){return Ne};var Ht,ei=d.__private__.setPageMode=function(F){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');yt=F};d.__private__.getPageMode=function(){return yt};var xi=d.__private__.setLayoutMode=function(F){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Ht=F};d.__private__.getLayoutMode=function(){return Ht},d.__private__.setDisplayMode=d.setDisplayMode=function(F,se,ke){return $t(F),xi(se),ei(ke),this};var oi={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(F){if(-1===Object.keys(oi).indexOf(F))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return oi[F]},d.__private__.getDocumentProperties=function(){return oi},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(F){for(var se in oi)oi.hasOwnProperty(se)&&F[se]&&(oi[se]=F[se]);return this},d.__private__.setDocumentProperty=function(F,se){if(-1===Object.keys(oi).indexOf(F))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return oi[F]=se};var Tt,Vt,Re,kt,ai,Ot={},yi={},Bn=[],ji={},Fn={},Zt={},Ve={},si=null,Jt=0,ri=[],gi=new DL(d),sr=r.hotfixes||[],Cn={},Zr={},bs=[],Ii=function F(se,ke,je,ht,Pt,ii){if(!(this instanceof F))return new F(se,ke,je,ht,Pt,ii);isNaN(se)&&(se=1),isNaN(ke)&&(ke=0),isNaN(je)&&(je=0),isNaN(ht)&&(ht=1),isNaN(Pt)&&(Pt=0),isNaN(ii)&&(ii=0),this._matrix=[se,ke,je,ht,Pt,ii]};Object.defineProperty(Ii.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Ii.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Ii.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Ii.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Ii.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Ii.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Ii.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Ii.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Ii.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Ii.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Ii.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Ii.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Ii.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ii.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ii.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ii.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ii.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(F)},Ii.prototype.multiply=function(F){return new Ii(F.sx*this.sx+F.shy*this.shx,F.sx*this.shy+F.shy*this.sy,F.shx*this.sx+F.sy*this.shx,F.shx*this.shy+F.sy*this.sy,F.tx*this.sx+F.ty*this.shx+this.tx,F.tx*this.shy+F.ty*this.sy+this.ty)},Ii.prototype.decompose=function(){var F=this.sx,se=this.shy,ke=this.shx,je=this.sy,ht=this.tx,Pt=this.ty,ii=Math.sqrt(F*F+se*se),Oi=(F/=ii)*ke+(se/=ii)*je;ke-=F*Oi,je-=se*Oi;var cn=Math.sqrt(ke*ke+je*je);return Oi/=cn,F*(je/=cn)<se*(ke/=cn)&&(F=-F,se=-se,Oi=-Oi,ii=-ii),{scale:new Ii(ii,0,0,cn,0,0),translate:new Ii(1,0,0,1,ht,Pt),rotate:new Ii(F,se,-se,F,0,0),skew:new Ii(1,0,Oi,1,0,0)}},Ii.prototype.toString=function(F){return this.join(" ")},Ii.prototype.inversed=function(){var F=this.sx,se=this.shy,ke=this.shx,je=this.sy,ht=this.tx,Pt=this.ty,ii=1/(F*je-se*ke),Oi=je*ii,cn=-se*ii,jn=-ke*ii,ar=F*ii;return new Ii(Oi,cn,jn,ar,-Oi*ht-jn*Pt,-cn*ht-ar*Pt)},Ii.prototype.applyToPoint=function(F){return new V_(F.x*this.sx+F.y*this.shx+this.tx,F.x*this.shy+F.y*this.sy+this.ty)},Ii.prototype.applyToRectangle=function(F){var se=this.applyToPoint(F),ke=this.applyToPoint(new V_(F.x+F.w,F.y+F.h));return new Sw(se.x,se.y,ke.x-se.x,ke.y-se.y)},Ii.prototype.clone=function(){return new Ii(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},d.Matrix=Ii;var us=d.matrixMult=function(F,se){return se.multiply(F)},Ta=new Ii(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Ta;var Zo=function(F,se){if(!Fn[F]){var ke=(se instanceof nm?"Sh":"P")+(Object.keys(ji).length+1).toString(10);se.id=ke,Fn[F]=ke,ji[ke]=se,gi.publish("addPattern",se)}};d.ShadingPattern=nm,d.TilingPattern=I_,d.addShadingPattern=function(F,se){return P("addShadingPattern()"),Zo(F,se),this},d.beginTilingPattern=function(F){P("beginTilingPattern()"),P1(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},d.endTilingPattern=function(F,se){P("endTilingPattern()"),se.stream=bt[te].join("\n"),Zo(F,se),gi.publish("endTilingPattern",se),bs.pop().restore()};var F,Da=d.__private__.newObject=function(){var F=Ls();return xl(F,!0),F},Ls=d.__private__.newObjectDeferred=function(){return De++,Fe[De]=function(){return Je},De},xl=function(F,se){return se="boolean"==typeof se&&se,Fe[F]=Je,se&&_e(F+" 0 obj"),F},Zh=d.__private__.newAdditionalObject=function(){var F={objId:Ls(),content:""};return ut.push(F),F},dh=Ls(),oc=Ls(),Rc=d.__private__.decodeColorString=function(F){var se=F.split(" ");if(2!==se.length||"g"!==se[1]&&"G"!==se[1])5===se.length&&("k"===se[4]||"K"===se[4])&&(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var ke=parseFloat(se[0]);se=[ke,ke,ke,"r"]}for(var je="#",ht=0;ht<3;ht++)je+=("0"+Math.floor(255*parseFloat(se[ht])).toString(16)).slice(-2);return je},Uc=d.__private__.encodeColorString=function(F){var se;"string"==typeof F&&(F={ch1:F});var ke=F.ch1,je=F.ch2,ht=F.ch3,Pt=F.ch4,ii="draw"===F.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ke&&"#"!==ke.charAt(0)){var Oi=new CL(ke);if(Oi.ok)ke=Oi.toHex();else if(!/^\d*\.?\d*$/.test(ke))throw new Error('Invalid color "'+ke+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ke&&/^#[0-9A-Fa-f]{3}$/.test(ke)&&(ke="#"+ke[1]+ke[1]+ke[2]+ke[2]+ke[3]+ke[3]),"string"==typeof ke&&/^#[0-9A-Fa-f]{6}$/.test(ke)){var cn=parseInt(ke.substr(1),16);ke=cn>>16&255,je=cn>>8&255,ht=255&cn}if(void 0===je||void 0===Pt&&ke===je&&je===ht)se="string"==typeof ke?ke+" "+ii[0]:2===F.precision?W(ke/255)+" "+ii[0]:Y(ke/255)+" "+ii[0];else if(void 0===Pt||"object"===(0,hs.Z)(Pt)){if(Pt&&!isNaN(Pt.a)&&0===Pt.a)return["1.","1.","1.",ii[1]].join(" ");se="string"==typeof ke?[ke,je,ht,ii[1]].join(" "):2===F.precision?[W(ke/255),W(je/255),W(ht/255),ii[1]].join(" "):[Y(ke/255),Y(je/255),Y(ht/255),ii[1]].join(" ")}else se="string"==typeof ke?[ke,je,ht,Pt,ii[2]].join(" "):2===F.precision?[W(ke),W(je),W(ht),W(Pt),ii[2]].join(" "):[Y(ke),Y(je),Y(ht),Y(Pt),ii[2]].join(" ");return se},fh=d.__private__.getFilters=function(){return a},Te=d.__private__.putStream=function(F){var se=(F=F||{}).data||"",ke=F.filters||fh(),je=F.alreadyAppliedFilters||[],ht=F.addLength1||!1,Pt=se.length,ii=F.objectId,Oi=function(Cl){return Cl};if(null!==A&&void 0===ii)throw new Error("ObjectId must be passed to putStream for file encryption");null!==A&&(Oi=Bl.encryptor(ii,0));var cn={};!0===ke&&(ke=["FlateEncode"]);var jn=F.additionalKeyValues||[],ar=(cn=void 0!==bn.API.processDataByFilters?bn.API.processDataByFilters(se,ke):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(0!==cn.data.length&&(jn.push({key:"Length",value:cn.data.length}),!0===ht&&jn.push({key:"Length1",value:Pt})),0!=ar.length)if(ar.split("/").length-1==1)jn.push({key:"Filter",value:ar});else{jn.push({key:"Filter",value:"["+ar+"]"});for(var Er=0;Er<jn.length;Er+=1)if("DecodeParms"===jn[Er].key){for(var $s=[],ua=0;ua<cn.reverseChain.split("/").length-1;ua+=1)$s.push("null");$s.push(jn[Er].value),jn[Er].value="["+$s.join(" ")+"]"}}_e("<<");for(var Xa=0;Xa<jn.length;Xa++)_e("/"+jn[Xa].key+" "+jn[Xa].value);_e(">>"),0!==cn.data.length&&(_e("stream"),_e(Oi(cn.data)),_e("endstream"))},ct=d.__private__.putPage=function(F){var se=F.number,ke=F.data,je=F.objId,ht=F.contentsObjId;xl(je,!0),_e("<</Type /Page"),_e("/Parent "+F.rootDictionaryObjId+" 0 R"),_e("/Resources "+F.resourceDictionaryObjId+" 0 R"),_e("/MediaBox ["+parseFloat(N(F.mediaBox.bottomLeftX))+" "+parseFloat(N(F.mediaBox.bottomLeftY))+" "+N(F.mediaBox.topRightX)+" "+N(F.mediaBox.topRightY)+"]"),null!==F.cropBox&&_e("/CropBox ["+N(F.cropBox.bottomLeftX)+" "+N(F.cropBox.bottomLeftY)+" "+N(F.cropBox.topRightX)+" "+N(F.cropBox.topRightY)+"]"),null!==F.bleedBox&&_e("/BleedBox ["+N(F.bleedBox.bottomLeftX)+" "+N(F.bleedBox.bottomLeftY)+" "+N(F.bleedBox.topRightX)+" "+N(F.bleedBox.topRightY)+"]"),null!==F.trimBox&&_e("/TrimBox ["+N(F.trimBox.bottomLeftX)+" "+N(F.trimBox.bottomLeftY)+" "+N(F.trimBox.topRightX)+" "+N(F.trimBox.topRightY)+"]"),null!==F.artBox&&_e("/ArtBox ["+N(F.artBox.bottomLeftX)+" "+N(F.artBox.bottomLeftY)+" "+N(F.artBox.topRightX)+" "+N(F.artBox.topRightY)+"]"),"number"==typeof F.userUnit&&1!==F.userUnit&&_e("/UserUnit "+F.userUnit),gi.publish("putPage",{objId:je,pageContext:ri[se],pageNumber:se,page:ke}),_e("/Contents "+ht+" 0 R"),_e(">>"),_e("endobj");var Pt=ke.join("\n");return"advanced"===B&&(Pt+="\nQ"),xl(ht,!0),Te({data:Pt,filters:fh(),objectId:ht}),_e("endobj"),je},Bt=d.__private__.putPages=function(){var F,se,ke=[];for(F=1;F<=Jt;F++)ri[F].objId=Ls(),ri[F].contentsObjId=Ls();for(F=1;F<=Jt;F++)ke.push(ct({number:F,data:bt[F],objId:ri[F].objId,contentsObjId:ri[F].contentsObjId,mediaBox:ri[F].mediaBox,cropBox:ri[F].cropBox,bleedBox:ri[F].bleedBox,trimBox:ri[F].trimBox,artBox:ri[F].artBox,userUnit:ri[F].userUnit,rootDictionaryObjId:dh,resourceDictionaryObjId:oc}));xl(dh,!0),_e("<</Type /Pages");var je="/Kids [";for(se=0;se<Jt;se++)je+=ke[se]+" 0 R ";_e(je+"]"),_e("/Count "+Jt),_e(">>"),_e("endobj"),gi.publish("postPutPages")},Mt=function(F){gi.publish("putFont",{font:F,out:_e,newObject:Da,putStream:Te}),!0!==F.isAlreadyPutted&&(F.objectNumber=Da(),_e("<<"),_e("/Type /Font"),_e("/BaseFont /"+S_(F.postScriptName)),_e("/Subtype /Type1"),"string"==typeof F.encoding&&_e("/Encoding /"+F.encoding),_e("/FirstChar 32"),_e("/LastChar 255"),_e(">>"),_e("endobj"))},Pi=function(F){F.objectNumber=Da();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[N(F.x),N(F.y),N(F.x+F.width),N(F.y+F.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var ke=F.pages[1].join("\n");Te({data:ke,additionalKeyValues:se,objectId:F.objectNumber}),_e("endobj")},En=function(F,se){se||(se=21);var ke=Da(),je=function(F,se){var ke,je=[],ht=1/(se-1);for(ke=0;ke<1;ke+=ht)je.push(ke);je.push(1),0!=F[0].offset&&F.unshift({offset:0,color:F[0].color}),1!=F[F.length-1].offset&&F.push({offset:1,color:F[F.length-1].color});for(var Oi="",cn=0,jn=0;jn<je.length;jn++){for(ke=je[jn];ke>F[cn+1].offset;)cn++;var ar=F[cn].offset,Er=(ke-ar)/(F[cn+1].offset-ar),$s=F[cn].color,ua=F[cn+1].color;Oi+=be(Math.round((1-Er)*$s[0]+Er*ua[0]).toString(16))+be(Math.round((1-Er)*$s[1]+Er*ua[1]).toString(16))+be(Math.round((1-Er)*$s[2]+Er*ua[2]).toString(16))}return Oi.trim()}(F.colors,se),ht=[];ht.push({key:"FunctionType",value:"0"}),ht.push({key:"Domain",value:"[0.0 1.0]"}),ht.push({key:"Size",value:"["+se+"]"}),ht.push({key:"BitsPerSample",value:"8"}),ht.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ht.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te({data:je,additionalKeyValues:ht,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ke}),_e("endobj"),F.objectNumber=Da(),_e("<< /ShadingType "+F.type),_e("/ColorSpace /DeviceRGB");var Pt="/Coords ["+N(parseFloat(F.coords[0]))+" "+N(parseFloat(F.coords[1]))+" ";Pt+=2===F.type?N(parseFloat(F.coords[2]))+" "+N(parseFloat(F.coords[3])):N(parseFloat(F.coords[2]))+" "+N(parseFloat(F.coords[3]))+" "+N(parseFloat(F.coords[4]))+" "+N(parseFloat(F.coords[5])),_e(Pt+="]"),F.matrix&&_e("/Matrix ["+F.matrix.toString()+"]"),_e("/Function "+ke+" 0 R"),_e("/Extend [true true]"),_e(">>"),_e("endobj")},Vn=function(F,se){var ke=Ls(),je=Da();se.push({resourcesOid:ke,objectOid:je}),F.objectNumber=je;var ht=[];ht.push({key:"Type",value:"/Pattern"}),ht.push({key:"PatternType",value:"1"}),ht.push({key:"PaintType",value:"1"}),ht.push({key:"TilingType",value:"1"}),ht.push({key:"BBox",value:"["+F.boundingBox.map(N).join(" ")+"]"}),ht.push({key:"XStep",value:N(F.xStep)}),ht.push({key:"YStep",value:N(F.yStep)}),ht.push({key:"Resources",value:ke+" 0 R"}),F.matrix&&ht.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),Te({data:F.stream,additionalKeyValues:ht,objectId:F.objectNumber}),_e("endobj")},Rn=function(F){for(var se in F.objectNumber=Da(),_e("<<"),F)switch(se){case"opacity":_e("/ca "+W(F[se]));break;case"stroke-opacity":_e("/CA "+W(F[se]))}_e(">>"),_e("endobj")},Gn=function(F){xl(F.resourcesOid,!0),_e("<<"),_e("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var F in _e("/Font <<"),Ot)Ot.hasOwnProperty(F)&&(!1===u||!0===u&&f.hasOwnProperty(F))&&_e("/"+F+" "+Ot[F].objectNumber+" 0 R");_e(">>")}(),function(){if(Object.keys(ji).length>0){for(var F in _e("/Shading <<"),ji)ji.hasOwnProperty(F)&&ji[F]instanceof nm&&ji[F].objectNumber>=0&&_e("/"+F+" "+ji[F].objectNumber+" 0 R");gi.publish("putShadingPatternDict"),_e(">>")}}(),function(F){if(Object.keys(ji).length>0){for(var se in _e("/Pattern <<"),ji)ji.hasOwnProperty(se)&&ji[se]instanceof d.TilingPattern&&ji[se].objectNumber>=0&&ji[se].objectNumber<F&&_e("/"+se+" "+ji[se].objectNumber+" 0 R");gi.publish("putTilingPatternDict"),_e(">>")}}(F.objectOid),function(){if(Object.keys(Zt).length>0){var F;for(F in _e("/ExtGState <<"),Zt)Zt.hasOwnProperty(F)&&Zt[F].objectNumber>=0&&_e("/"+F+" "+Zt[F].objectNumber+" 0 R");gi.publish("putGStateDict"),_e(">>")}}(),function(){for(var F in _e("/XObject <<"),Cn)Cn.hasOwnProperty(F)&&Cn[F].objectNumber>=0&&_e("/"+F+" "+Cn[F].objectNumber+" 0 R");gi.publish("putXobjectDict"),_e(">>")}(),_e(">>"),_e("endobj")},jA=function(F){yi[F.fontName]=yi[F.fontName]||{},yi[F.fontName][F.fontStyle]=F.id},Gu=function(F,se,ke,je,ht){var Pt={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:F,fontName:se,fontStyle:ke,encoding:je,isStandardFont:ht||!1,metadata:{}};return gi.publish("addFont",{font:Pt,instance:this}),Ot[Pt.id]=Pt,jA(Pt),Pt.id},fs=d.__private__.pdfEscape=d.pdfEscape=function(F,se){return function(F,se){var ke,je,ht,Pt,ii,Oi,cn,jn,ar;if(ht=(se=se||{}).sourceEncoding||"Unicode",ii=se.outputEncoding,(se.autoencode||ii)&&Ot[Tt].metadata&&Ot[Tt].metadata[ht]&&Ot[Tt].metadata[ht].encoding&&(Pt=Ot[Tt].metadata[ht].encoding,!ii&&Ot[Tt].encoding&&(ii=Ot[Tt].encoding),!ii&&Pt.codePages&&(ii=Pt.codePages[0]),"string"==typeof ii&&(ii=Pt[ii]),ii)){for(cn=!1,Oi=[],ke=0,je=F.length;ke<je;ke++)(jn=ii[F.charCodeAt(ke)])?Oi.push(String.fromCharCode(jn)):Oi.push(F[ke]),Oi[ke].charCodeAt(0)>>8&&(cn=!0);F=Oi.join("")}for(ke=F.length;void 0===cn&&0!==ke;)F.charCodeAt(ke-1)>>8&&(cn=!0),ke--;if(!cn)return F;for(Oi=se.noBOM?[]:[254,255],ke=0,je=F.length;ke<je;ke++){if((ar=(jn=F.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+F+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Oi.push(ar),Oi.push(jn-(ar<<8))}return String.fromCharCode.apply(void 0,Oi)}(F,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yu=d.__private__.beginPage=function(F){bt[++Jt]=[],ri[Jt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},B1(Jt),ze(bt[te])},O_=function(F,se){var ke,je,ht;switch(t=se||t,"string"==typeof F&&(ke=m(F.toLowerCase()),Array.isArray(ke)&&(je=ke[0],ht=ke[1])),Array.isArray(F)&&(je=F[0]*Vt,ht=F[1]*Vt),isNaN(je)&&(je=n[0],ht=n[1]),(je>14400||ht>14400)&&(As.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),ht=Math.min(14400,ht)),n=[je,ht],t.substr(0,1)){case"l":ht>je&&(n=[ht,je]);break;case"p":je>ht&&(n=[ht,je])}Yu(n),S1(Ew),_e(Xh),0!==Tw&&_e(Tw+" J"),0!==Dw&&_e(Dw+" j"),gi.publish("addPage",{pageNumber:Jt})},N_=function(F){F>0&&F<=Jt&&(bt.splice(F,1),ri.splice(F,1),Jt--,te>Jt&&(te=Jt),this.setPage(te))},B1=function(F){F>0&&F<=Jt&&(te=F)},m2=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return bt.length-1},C1=function(F,se,ke){var je,ht=void 0;return ke=ke||{},se=void 0!==se?se:Ot[Tt].fontStyle,je=(F=void 0!==F?F:Ot[Tt].fontName).toLowerCase(),void 0!==yi[je]&&void 0!==yi[je][se]?ht=yi[je][se]:void 0!==yi[F]&&void 0!==yi[F][se]?ht=yi[F][se]:!1===ke.disableWarning&&As.warn("Unable to look up font label for font '"+F+"', '"+se+"'. Refer to getFontList() for available fonts."),ht||ke.noFallback||null==(ht=yi.times[se])&&(ht=yi.times.normal),ht},g2=d.__private__.putInfo=function(){var F=Da(),se=function(je){return je};for(var ke in null!==A&&(se=Bl.encryptor(F,0)),_e("<<"),_e("/Producer ("+fs(se("jsPDF "+bn.version))+")"),oi)oi.hasOwnProperty(ke)&&oi[ke]&&_e("/"+ke.substr(0,1).toUpperCase()+ke.substr(1)+" ("+fs(se(oi[ke]))+")");_e("/CreationDate ("+fs(se(ie))+")"),_e(">>"),_e("endobj")},xw=d.__private__.putCatalog=function(F){var se=(F=F||{}).rootDictionaryObjId||dh;switch(Da(),_e("<<"),_e("/Type /Catalog"),_e("/Pages "+se+" 0 R"),Ne||(Ne="fullwidth"),Ne){case"fullwidth":_e("/OpenAction [3 0 R /FitH null]");break;case"fullheight":_e("/OpenAction [3 0 R /FitV null]");break;case"fullpage":_e("/OpenAction [3 0 R /Fit]");break;case"original":_e("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ke=""+Ne;"%"===ke.substr(ke.length-1)&&(Ne=parseInt(Ne)/100),"number"==typeof Ne&&_e("/OpenAction [3 0 R /XYZ null null "+W(Ne)+"]")}switch(Ht||(Ht="continuous"),Ht){case"continuous":_e("/PageLayout /OneColumn");break;case"single":_e("/PageLayout /SinglePage");break;case"two":case"twoleft":_e("/PageLayout /TwoColumnLeft");break;case"tworight":_e("/PageLayout /TwoColumnRight")}yt&&_e("/PageMode /"+yt),gi.publish("putCatalog"),_e(">>"),_e("endobj")},_2=d.__private__.putTrailer=function(){_e("trailer"),_e("<<"),_e("/Size "+(De+1)),_e("/Root "+De+" 0 R"),_e("/Info "+(De-1)+" 0 R"),null!==A&&_e("/Encrypt "+Bl.oid+" 0 R"),_e("/ID [ <"+ee+"> <"+ee+"> ]"),_e(">>")},v2=d.__private__.putHeader=function(){_e("%PDF-"+_),_e("%\xba\xdf\xac\xe0")},w2=d.__private__.putXRef=function(){var F="0000000000";_e("xref"),_e("0 "+(De+1)),_e("0000000000 65535 f ");for(var se=1;se<=De;se++)_e("function"==typeof Fe[se]?(F+Fe[se]()).slice(-10)+" 00000 n ":void 0!==Fe[se]?(F+Fe[se]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Wu=d.__private__.buildDocument=function(){De=0,Je=0,He=[],Fe=[],ut=[],dh=Ls(),oc=Ls(),ze(He),gi.publish("buildDocument"),v2(),Bt(),function(){gi.publish("putAdditionalObjects");for(var F=0;F<ut.length;F++){var se=ut[F];xl(se.objId,!0),_e(se.content),_e("endobj")}gi.publish("postPutAdditionalObjects")}(),function(){var F=[];(function(){for(var F in Ot)Ot.hasOwnProperty(F)&&(!1===u||!0===u&&f.hasOwnProperty(F))&&Mt(Ot[F])})(),function(){var F;for(F in Zt)Zt.hasOwnProperty(F)&&Rn(Zt[F])}(),function(){for(var F in Cn)Cn.hasOwnProperty(F)&&Pi(Cn[F])}(),function(F){var se;for(se in ji)ji.hasOwnProperty(se)&&(ji[se]instanceof nm?En(ji[se]):ji[se]instanceof I_&&Vn(ji[se],F))}(F),gi.publish("putResources"),F.forEach(Gn),Gn({resourcesOid:oc,objectOid:Number.MAX_SAFE_INTEGER}),gi.publish("postPutResources")}(),null!==A&&(Bl.oid=Da(),_e("<<"),_e("/Filter /Standard"),_e("/V "+Bl.v),_e("/R "+Bl.r),_e("/U <"+Bl.toHexString(Bl.U)+">"),_e("/O <"+Bl.toHexString(Bl.O)+">"),_e("/P "+Bl.P),_e(">>"),_e("endobj")),g2(),xw();var F=Je;return w2(),_2(),_e("startxref"),_e(""+F),_e("%%EOF"),ze(bt[te]),He.join("\n")},H_=d.__private__.getBlob=function(F){return new Blob([vt(F)],{type:"application/pdf"})},z_=d.output=d.__private__.output=((F=function(F,se){switch("string"==typeof(se=se||{})?se={filename:se}:se.filename=se.filename||"generated.pdf",F){case void 0:return Wu();case"save":d.save(se.filename);break;case"arraybuffer":return vt(Wu());case"blob":return H_(Wu());case"bloburi":case"bloburl":if(void 0!==xn.URL&&"function"==typeof xn.URL.createObjectURL)return xn.URL&&xn.URL.createObjectURL(H_(Wu()))||void 0;As.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ke="",je=Wu();try{ke=n2(je)}catch{ke=n2(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+se.filename+";base64,"+ke;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(xn)){var ht="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(ht=se.pdfObjectUrl,Pt="");var ii='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ht+'"'+Pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",Oi=xn.open();return null!==Oi&&Oi.document.write(ii),Oi}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(xn)){var cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',jn=xn.open();if(null!==jn){jn.document.write(cn);var ar=this;jn.document.documentElement.querySelector("#pdfViewer").onload=function(){jn.document.title=se.filename,jn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ar.output("bloburl"))}}return jn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(xn))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',$s=xn.open();if(null!==$s&&($s.document.write(Er),$s.document.title=se.filename),$s||typeof safari>"u")return $s;break;case"datauri":case"dataurl":return xn.document.location.href=this.output("datauristring",se);default:return null}}).foo=function(){try{return F.apply(this,arguments)}catch(je){var se=je.stack||"";~se.indexOf(" at ")&&(se=se.split(" at ")[1]);var ke="Error in function "+se.split("\n")[0].split("<")[0]+": "+je.message;if(!xn.console)throw new Error(ke);xn.console.error(ke,je),xn.alert&&alert(ke)}},F.foo.bar=F,F.foo),E1=function(F){return!0===Array.isArray(sr)&&sr.indexOf(F)>-1};switch(i){case"pt":Vt=1;break;case"mm":Vt=72/25.4;break;case"cm":Vt=72/2.54;break;case"in":Vt=72;break;case"px":Vt=1==E1("px_scaling")?.75:96/72;break;case"pc":case"em":Vt=12;break;case"ex":Vt=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);Vt=i}var Bl=null;Le(),pe();var M1=d.__private__.getPageInfo=d.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ri[F].objId,pageNumber:F,pageContext:ri[F]}},Qn=d.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in ri)if(ri[se].objId===F)break;return M1(se)},y2=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ri[te].objId,pageNumber:te,pageContext:ri[te]}};d.addPage=function(){return O_.apply(this,arguments),this},d.setPage=function(){return B1.apply(this,arguments),ze.call(this,bt[te]),this},d.insertPage=function(F){return this.addPage(),this.movePage(te,F),this},d.movePage=function(F,se){var ke,je;if(F>se){ke=bt[F],je=ri[F];for(var ht=F;ht>se;ht--)bt[ht]=bt[ht-1],ri[ht]=ri[ht-1];bt[se]=ke,ri[se]=je,this.setPage(se)}else if(F<se){ke=bt[F],je=ri[F];for(var Pt=F;Pt<se;Pt++)bt[Pt]=bt[Pt+1],ri[Pt]=ri[Pt+1];bt[se]=ke,ri[se]=je,this.setPage(se)}return this},d.deletePage=function(){return N_.apply(this,arguments),this},d.__private__.text=d.text=function(F,se,ke,je,ht){var Pt,ii,Oi,cn,jn,ar,Er,$s,ua,Xa=(je=je||{}).scope||this;if("number"==typeof F&&"number"==typeof se&&("string"==typeof ke||Array.isArray(ke))){var Cl=ke;ke=se,se=F,F=Cl}if(arguments[3]instanceof Ii?(P("The transform parameter of text() with a Matrix value"),ua=ht):(Oi=arguments[4],cn=arguments[5],"object"===(0,hs.Z)(Er=arguments[3])&&null!==Er||("string"==typeof Oi&&(cn=Oi,Oi=null),"string"==typeof Er&&(cn=Er,Er=null),"number"==typeof Er&&(Oi=Er,Er=null),je={flags:Er,angle:Oi,align:cn})),isNaN(se)||isNaN(ke)||null==F)throw new Error("Invalid arguments passed to jsPDF.text");if(0===F.length)return Xa;var qh,Ro="",Qc="number"==typeof je.lineHeightFactor?je.lineHeightFactor:cm,ju=Xa.internal.scaleFactor;function R1(ys){return ys=ys.split("\t").join(Array(je.TabLen||9).join(" ")),fs(ys,Er)}function Lw(ys){for(var xs,Sa=ys.concat(),_o=[],Xu=Sa.length;Xu--;)"string"==typeof(xs=Sa.shift())?_o.push(xs):Array.isArray(ys)&&(1===xs.length||void 0===xs[1]&&void 0===xs[2])?_o.push(xs[0]):_o.push([xs[0],xs[1],xs[2]]);return _o}function Pw(ys,xs){var Sa;if("string"==typeof ys)Sa=xs(ys)[0];else if(Array.isArray(ys)){for(var _o,Xu,yf=ys.concat(),n0=[],Q1=yf.length;Q1--;)"string"==typeof(_o=yf.shift())?n0.push(xs(_o)[0]):Array.isArray(_o)&&"string"==typeof _o[0]&&(Xu=xs(_o[0],_o[1],_o[2]),n0.push([Xu[0],Xu[1],Xu[2]]));Sa=n0}return Sa}var J_=!1,Rw=!0;if("string"==typeof F)J_=!0;else if(Array.isArray(F)){var Uw=F.concat();ii=[];for(var K_,cc=Uw.length;cc--;)("string"!=typeof(K_=Uw.shift())||Array.isArray(K_)&&"string"!=typeof K_[0])&&(Rw=!1);J_=Rw}if(!1===J_)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');"string"==typeof F&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var Z_=ne/Xa.internal.scaleFactor,X_=Z_*(Qc-1);switch(je.baseline){case"bottom":ke-=X_;break;case"top":ke+=Z_-X_;break;case"hanging":ke+=Z_-2*X_;break;case"middle":ke+=Z_/2-X_}if((ar=je.maxWidth||0)>0&&("string"==typeof F?F=Xa.splitTextToSize(F,ar):"[object Array]"===Object.prototype.toString.call(F)&&(F=F.reduce(function(ys,xs){return ys.concat(Xa.splitTextToSize(xs,ar))},[]))),gi.publish("preProcessText",Pt={text:F,x:se,y:ke,options:je,mutex:{pdfEscape:fs,activeFontKey:Tt,fonts:Ot,activeFontSize:ne}}),F=Pt.text,Oi=(je=Pt.options).angle,ua instanceof Ii||!Oi||"number"!=typeof Oi)Oi&&Oi instanceof Ii&&(ua=Oi);else{Oi*=Math.PI/180,0===je.rotationDirection&&(Oi=-Oi),"advanced"===B&&(Oi=-Oi);var q_=Math.cos(Oi),Qw=Math.sin(Oi);ua=new Ii(q_,Qw,-Qw,q_,0,0)}"advanced"!==B||ua||(ua=Ta),void 0!==(jn=je.charSpace||W_)&&(Ro+=N(K(jn))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==($s=je.horizontalScale)&&(Ro+=N(100*$s)+" Tz\n");var hc=-1,F2=void 0!==je.renderingMode?je.renderingMode:je.stroke,Ow=Xa.internal.getCurrentPageInfo().pageContext;switch(F2){case 0:case!1:case"fill":hc=0;break;case 1:case!0:case"stroke":hc=1;break;case 2:case"fillThenStroke":hc=2;break;case 3:case"invisible":hc=3;break;case 4:case"fillAndAddForClipping":hc=4;break;case 5:case"strokeAndAddPathForClipping":hc=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hc=6;break;case 7:case"addToPathForClipping":hc=7}-1!==hc?Ro+=hc+" Tr\n":-1!==(void 0!==Ow.usedRenderingMode?Ow.usedRenderingMode:-1)&&(Ro+="0 Tr\n"),-1!==hc&&(Ow.usedRenderingMode=hc),cn=je.align||"left";var $h,Nw=ne*Qc,k2=Xa.internal.pageSize.getWidth(),L2=Ot[Tt];jn=je.charSpace||W_,ar=je.maxWidth||0,Er=Object.assign({autoencode:!0,noBOM:!0},je.flags);var _f=[];if("[object Array]"===Object.prototype.toString.call(F)){var mh;ii=Lw(F),"left"!==cn&&($h=ii.map(function(ys){return Xa.getStringUnitWidth(ys,{font:L2,charSpace:jn,fontSize:ne,doKerning:!1})*ne/ju}));var eA,vf=0;if("right"===cn){se-=$h[0],F=[],cc=ii.length;for(var ZA=0;ZA<cc;ZA++)0===ZA?(eA=Vu(se),mh=pf(ke)):(eA=K(vf-$h[ZA]),mh=-Nw),F.push([ii[ZA],eA,mh]),vf=$h[ZA]}else if("center"===cn){se-=$h[0]/2,F=[],cc=ii.length;for(var Ju=0;Ju<cc;Ju++)0===Ju?(eA=Vu(se),mh=pf(ke)):(eA=K((vf-$h[Ju])/2),mh=-Nw),F.push([ii[Ju],eA,mh]),vf=$h[Ju]}else if("left"===cn){F=[],cc=ii.length;for(var $_=0;$_<cc;$_++)F.push(ii[$_])}else{if("justify"!==cn)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');F=[],cc=ii.length,ar=0!==ar?ar:k2;for(var tA=0;tA<cc;tA++)mh=0===tA?pf(ke):-Nw,eA=0===tA?Vu(se):0,_f.push(tA<cc-1?N(K((ar-$h[tA])/(ii[tA].split(" ").length-1))):0),F.push([ii[tA],eA,mh])}}!0===("boolean"==typeof je.R2L?je.R2L:gt)&&(F=Pw(F,function(ys,xs,Sa){return[ys.split("").reverse().join(""),xs,Sa]})),gi.publish("postProcessText",Pt={text:F,x:se,y:ke,options:je,mutex:{pdfEscape:fs,activeFontKey:Tt,fonts:Ot,activeFontSize:ne}}),F=Pt.text,qh=Pt.mutex.isHex||!1;var Hw=Ot[Tt].encoding;"WinAnsiEncoding"!==Hw&&"StandardEncoding"!==Hw||(F=Pw(F,function(ys,xs,Sa){return[R1(ys),xs,Sa]})),ii=Lw(F),F=[];for(var wf,iA,Ku,dm=Array.isArray(ii[0])?1:0,bf="",zw=function(ys,xs,Sa){var _o="";return Sa instanceof Ii?(Sa="number"==typeof je.angle?us(Sa,new Ii(1,0,0,1,ys,xs)):us(new Ii(1,0,0,1,ys,xs),Sa),"advanced"===B&&(Sa=us(new Ii(1,0,0,-1,0,0),Sa)),_o=Sa.join(" ")+" Tm\n"):_o=N(ys)+" "+N(xs)+" Td\n",_o},gh=0;gh<ii.length;gh++){switch(bf="",dm){case 1:Ku=(qh?"<":"(")+ii[gh][0]+(qh?">":")"),wf=parseFloat(ii[gh][1]),iA=parseFloat(ii[gh][2]);break;case 0:Ku=(qh?"<":"(")+ii[gh]+(qh?">":")"),wf=Vu(se),iA=pf(ke)}void 0!==_f&&void 0!==_f[gh]&&(bf=_f[gh]+" Tw\n"),0===gh?F.push(bf+zw(wf,iA,ua)+Ku):0===dm?F.push(bf+Ku):1===dm&&F.push(bf+zw(wf,iA,ua)+Ku)}F=F.join(0===dm?" Tj\nT* ":" Tj\n"),F+=" Tj\n";var Zu="BT\n/";return Zu+=Tt+" "+ne+" Tf\n",Zu+=N(ne*Qc)+" TL\n",Zu+=hm+"\n",Zu+=Ro,Zu+=F,_e(Zu+="ET"),f[Tt]=!0,Xa};var x2=d.__private__.clip=d.clip=function(F){return _e("evenodd"===F?"W*":"W"),this};d.clipEvenOdd=function(){return x2("evenodd")},d.__private__.discardPath=d.discardPath=function(){return _e("n"),this};var KA=d.__private__.isValidStyle=function(F){var se=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)&&(se=!0),se};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(F){return KA(F)&&(c=F),this};var T1=d.__private__.getStyle=d.getStyle=function(F){var se=c;switch(F){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=F}return se},D1=d.close=function(){return _e("h"),this};d.stroke=function(){return _e("S"),this},d.fill=function(F){return G_("f",F),this},d.fillEvenOdd=function(F){return G_("f*",F),this},d.fillStroke=function(F){return G_("B",F),this},d.fillStrokeEvenOdd=function(F){return G_("B*",F),this};var G_=function(F,se){"object"===(0,hs.Z)(se)?C2(se,F):_e(F)},Bw=function(F){null===F||"advanced"===B&&void 0===F||(F=T1(F),_e(F))};function B2(F,se,ke,je,ht){var Pt=new I_(se||this.boundingBox,ke||this.xStep,je||this.yStep,this.gState,ht||this.matrix);Pt.stream=this.stream;var ii=F+"$$"+this.cloneIndex+++"$$";return Zo(ii,Pt),Pt}var C2=function(F,se){var ke=Fn[F.key],je=ji[ke];if(je instanceof nm)_e("q"),_e(E2(se)),je.gState&&d.setGState(je.gState),_e(F.matrix.toString()+" cm"),_e("/"+ke+" sh"),_e("Q");else if(je instanceof I_){var ht=new Ii(1,0,0,-1,0,gf());F.matrix&&(ht=ht.multiply(F.matrix||Ta),ke=B2.call(je,F.key,F.boundingBox,F.xStep,F.yStep,ht).id),_e("q"),_e("/Pattern cs"),_e("/"+ke+" scn"),je.gState&&d.setGState(je.gState),_e(se),_e("Q")}},E2=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cw=d.moveTo=function(F,se){return _e(N(K(F))+" "+N(Q(se))+" m"),this},lm=d.lineTo=function(F,se){return _e(N(K(F))+" "+N(Q(se))+" l"),this},ff=d.curveTo=function(F,se,ke,je,ht,Pt){return _e([N(K(F)),N(Q(se)),N(K(ke)),N(Q(je)),N(K(ht)),N(Q(Pt)),"c"].join(" ")),this};d.__private__.line=d.line=function(F,se,ke,je,ht){if(isNaN(F)||isNaN(se)||isNaN(ke)||isNaN(je)||!KA(ht))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===B?this.lines([[ke-F,je-se]],F,se,[1,1],ht||"S"):this.lines([[ke-F,je-se]],F,se,[1,1]).stroke()},d.__private__.lines=d.lines=function(F,se,ke,je,ht,Pt){var ii,Oi,cn,jn,ar,Cl,Ro,qh;if("number"==typeof F&&(qh=ke,ke=se,se=F,F=qh),je=je||[1,1],Pt=Pt||!1,isNaN(se)||isNaN(ke)||!Array.isArray(F)||!Array.isArray(je)||!KA(ht)||"boolean"!=typeof Pt)throw new Error("Invalid arguments passed to jsPDF.lines");for(Cw(se,ke),ii=je[0],Oi=je[1],jn=F.length,Cl=se,Ro=ke,cn=0;cn<jn;cn++)2===(ar=F[cn]).length?lm(Cl=ar[0]*ii+Cl,Ro=ar[1]*Oi+Ro):ff(ar[0]*ii+Cl,ar[1]*Oi+Ro,ar[2]*ii+Cl,ar[3]*Oi+Ro,Cl=ar[4]*ii+Cl,Ro=ar[5]*Oi+Ro);return Pt&&D1(),Bw(ht),this},d.path=function(F){for(var se=0;se<F.length;se++){var ke=F[se],je=ke.c;switch(ke.op){case"m":Cw(je[0],je[1]);break;case"l":lm(je[0],je[1]);break;case"c":ff.apply(this,je);break;case"h":D1()}}return this},d.__private__.rect=d.rect=function(F,se,ke,je,ht){if(isNaN(F)||isNaN(se)||isNaN(ke)||isNaN(je)||!KA(ht))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===B&&(je=-je),_e([N(K(F)),N(Q(se)),N(K(ke)),N(K(je)),"re"].join(" ")),Bw(ht),this},d.__private__.triangle=d.triangle=function(F,se,ke,je,ht,Pt,ii){if(isNaN(F)||isNaN(se)||isNaN(ke)||isNaN(je)||isNaN(ht)||isNaN(Pt)||!KA(ii))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ke-F,je-se],[ht-ke,Pt-je],[F-ht,se-Pt]],F,se,[1,1],ii,!0),this},d.__private__.roundedRect=d.roundedRect=function(F,se,ke,je,ht,Pt,ii){if(isNaN(F)||isNaN(se)||isNaN(ke)||isNaN(je)||isNaN(ht)||isNaN(Pt)||!KA(ii))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Oi=4/3*(Math.SQRT2-1);return ht=Math.min(ht,.5*ke),Pt=Math.min(Pt,.5*je),this.lines([[ke-2*ht,0],[ht*Oi,0,ht,Pt-Pt*Oi,ht,Pt],[0,je-2*Pt],[0,Pt*Oi,-ht*Oi,Pt,-ht,Pt],[2*ht-ke,0],[-ht*Oi,0,-ht,-Pt*Oi,-ht,-Pt],[0,2*Pt-je],[0,-Pt*Oi,ht*Oi,-Pt,ht,-Pt]],F+ht,se,[1,1],ii,!0),this},d.__private__.ellipse=d.ellipse=function(F,se,ke,je,ht){if(isNaN(F)||isNaN(se)||isNaN(ke)||isNaN(je)||!KA(ht))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pt=4/3*(Math.SQRT2-1)*ke,ii=4/3*(Math.SQRT2-1)*je;return Cw(F+ke,se),ff(F+ke,se-ii,F+Pt,se-je,F,se-je),ff(F-Pt,se-je,F-ke,se-ii,F-ke,se),ff(F-ke,se+ii,F-Pt,se+je,F,se+je),ff(F+Pt,se+je,F+ke,se+ii,F+ke,se),Bw(ht),this},d.__private__.circle=d.circle=function(F,se,ke,je){if(isNaN(F)||isNaN(se)||isNaN(ke)||!KA(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,se,ke,ke,je)},d.setFont=function(F,se,ke){return ke&&(se=H(se,ke)),Tt=C1(F,se,{disableWarning:!1}),this};var M2=d.__private__.getFont=d.getFont=function(){return Ot[C1.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var F,se,ke={};for(F in yi)if(yi.hasOwnProperty(F))for(se in ke[F]=[],yi[F])yi[F].hasOwnProperty(se)&&ke[F].push(se);return ke},d.addFont=function(F,se,ke,je,ht){var Pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Pt.indexOf(arguments[3])?ht=arguments[3]:arguments[3]&&-1==Pt.indexOf(arguments[3])&&(ke=H(ke,je)),Gu.call(this,F,se,ke,ht=ht||"Identity-H")};var cm,Ew=r.lineWidth||.200025,Y_=d.__private__.getLineWidth=d.getLineWidth=function(){return Ew},S1=d.__private__.setLineWidth=d.setLineWidth=function(F){return Ew=F,_e(N(K(F))+" w"),this};d.__private__.setLineDash=bn.API.setLineDash=bn.API.setLineDashPattern=function(F,se){if(F=F||[],se=se||0,isNaN(se)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(ke){return N(K(ke))}).join(" "),se=N(K(se)),_e("["+F+"] "+se+" d"),this};var I1=d.__private__.getLineHeight=d.getLineHeight=function(){return ne*cm};d.__private__.getLineHeight=d.getLineHeight=function(){return ne*cm};var F1=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(F){return"number"==typeof(F=F||1.15)&&(cm=F),this},k1=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return cm};F1(r.lineHeight);var Vu=d.__private__.getHorizontalCoordinate=function(F){return K(F)},pf=d.__private__.getVerticalCoordinate=function(F){return"advanced"===B?F:ri[te].mediaBox.topRightY-ri[te].mediaBox.bottomLeftY-K(F)},T2=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(F){return N(Vu(F))},mf=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(F){return N(pf(F))},Xh=r.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Rc(Xh)},d.__private__.setStrokeColor=d.setDrawColor=function(F,se,ke,je){return Xh=Uc({ch1:F,ch2:se,ch3:ke,ch4:je,pdfColorType:"draw",precision:2}),_e(Xh),this};var Mw=r.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Rc(Mw)},d.__private__.setFillColor=d.setFillColor=function(F,se,ke,je){return Mw=Uc({ch1:F,ch2:se,ch3:ke,ch4:je,pdfColorType:"fill",precision:2}),_e(Mw),this};var hm=r.textColor||"0 g",D2=d.__private__.getTextColor=d.getTextColor=function(){return Rc(hm)};d.__private__.setTextColor=d.setTextColor=function(F,se,ke,je){return hm=Uc({ch1:F,ch2:se,ch3:ke,ch4:je,pdfColorType:"text",precision:3}),this};var W_=r.charSpace,S2=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(W_||0)};d.__private__.setCharSpace=d.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return W_=F,this};var Tw=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(F){var se=d.CapJoinStyles[F];if(void 0===se)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tw=se,_e(se+" J"),this};var Dw=0;d.__private__.setLineJoin=d.setLineJoin=function(F){var se=d.CapJoinStyles[F];if(void 0===se)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dw=se,_e(se+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return _e(N(K(F))+" M"),this},d.GState=u1,d.setGState=function(F){(F="string"==typeof F?Zt[Ve[F]]:L1(null,F)).equals(si)||(_e("/"+F.id+" gs"),si=F)};var L1=function(F,se){if(!F||!Ve[F]){var ke=!1;for(var je in Zt)if(Zt.hasOwnProperty(je)&&Zt[je].equals(se)){ke=!0;break}if(ke)se=Zt[je];else{var ht="GS"+(Object.keys(Zt).length+1).toString(10);Zt[ht]=se,se.id=ht}return F&&(Ve[F]=se.id),gi.publish("addGState",se),se}};d.addGState=function(F,se){return L1(F,se),this},d.saveGraphicsState=function(){return _e("q"),Bn.push({key:Tt,size:ne,color:hm}),this},d.restoreGraphicsState=function(){_e("Q");var F=Bn.pop();return Tt=F.key,ne=F.size,hm=F.color,si=null,this},d.setCurrentTransformationMatrix=function(F){return _e(F.toString()+" cm"),this},d.comment=function(F){return _e("#"+F),this};var V_=function(F,se){var ke=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ke},set:function(Pt){isNaN(Pt)||(ke=parseFloat(Pt))}});var je=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(Pt){isNaN(Pt)||(je=parseFloat(Pt))}});var ht="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ht},set:function(Pt){ht=Pt.toString()}}),this},Sw=function(F,se,ke,je){V_.call(this,F,se),this.type="rect";var ht=ke||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ht},set:function(ii){isNaN(ii)||(ht=parseFloat(ii))}});var Pt=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pt},set:function(ii){isNaN(ii)||(Pt=parseFloat(ii))}}),this},Iw=function(){this.page=Jt,this.currentPage=te,this.pages=bt.slice(0),this.pagesContext=ri.slice(0),this.x=Re,this.y=kt,this.matrix=ai,this.width=Am(te),this.height=gf(te),this.outputDestination=ft,this.id="",this.objectNumber=-1};Iw.prototype.restore=function(){Jt=this.page,ri=this.pagesContext,bt=this.pages,Re=this.x,kt=this.y,ai=this.matrix,Fw(te=this.currentPage,this.width),kw(te,this.height),ft=this.outputDestination};var P1=function(F,se,ke,je,ht){bs.push(new Iw),Jt=te=0,bt=[],Re=F,kt=se,ai=ht,Yu([ke,je])};for(var j_ in d.beginFormObject=function(F,se,ke,je,ht){return P1(F,se,ke,je,ht),this},d.endFormObject=function(F){return function(F){if(Zr[F])bs.pop().restore();else{var se=new Iw,ke="Xo"+(Object.keys(Cn).length+1).toString(10);se.id=ke,Zr[F]=ke,Cn[ke]=se,gi.publish("addFormObject",se),bs.pop().restore()}}(F),this},d.doFormObject=function(F,se){var ke=Cn[Zr[F]];return _e("q"),_e(se.toString()+" cm"),_e("/"+ke.id+" Do"),_e("Q"),this},d.getFormObject=function(F){var se=Cn[Zr[F]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},d.save=function(F,se){return F=F||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,!1===se.returnPromise?(im(H_(Wu()),F),"function"==typeof im.unload&&xn.setTimeout&&setTimeout(im.unload,911),this):new Promise(function(ke,je){try{var ht=im(H_(Wu()),F);"function"==typeof im.unload&&xn.setTimeout&&setTimeout(im.unload,911),ke(ht)}catch(Pt){je(Pt.message)}})},bn.API)bn.API.hasOwnProperty(j_)&&("events"===j_&&bn.API.events.length?function(F,se){var je,ht;for(ht=se.length-1;-1!==ht;ht--)F.subscribe.apply(F,[se[ht][0]].concat("function"==typeof(je=se[ht][1])?[je]:je))}(gi,bn.API.events):d[j_]=bn.API[j_]);var Am=d.getPageWidth=function(F){return(ri[F=F||te].mediaBox.topRightX-ri[F].mediaBox.bottomLeftX)/Vt},Fw=d.setPageWidth=function(F,se){ri[F].mediaBox.topRightX=se*Vt+ri[F].mediaBox.bottomLeftX},gf=d.getPageHeight=function(F){return(ri[F=F||te].mediaBox.topRightY-ri[F].mediaBox.bottomLeftY)/Vt},kw=d.setPageHeight=function(F,se){ri[F].mediaBox.topRightY=se*Vt+ri[F].mediaBox.bottomLeftY};return d.internal={pdfEscape:fs,getStyle:T1,getFont:M2,getFontSize:ot,getCharSpace:S2,getTextColor:D2,getLineHeight:I1,getLineHeightFactor:k1,getLineWidth:Y_,write:Ct,getHorizontalCoordinate:Vu,getVerticalCoordinate:pf,getCoordinateString:T2,getVerticalCoordinateString:mf,collections:{},newObject:Da,newAdditionalObject:Zh,newObjectDeferred:Ls,newObjectDeferredBegin:xl,getFilters:fh,putStream:Te,events:gi,scaleFactor:Vt,pageSize:{getWidth:function(){return Am(te)},setWidth:function(F){Fw(te,F)},getHeight:function(){return gf(te)},setHeight:function(F){kw(te,F)}},encryptionOptions:A,encryption:Bl,getEncryptor:function(F){return null!==A?Bl.encryptor(F,0):function(se){return se}},output:z_,getNumberOfPages:m2,pages:bt,out:_e,f2:W,f3:Y,getPageInfo:M1,getPageInfoByObjId:Qn,getCurrentPageInfo:y2,getPDFVersion:p,Point:V_,Rectangle:Sw,Matrix:Ii,hasHotfix:E1},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Am(te)},set:function(F){Fw(te,F)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return gf(te)},set:function(F){kw(te,F)},enumerable:!0,configurable:!0}),function(F){for(var se=0,ke=oe.length;se<ke;se++){var je=Gu.call(this,F[se][0],F[se][1],F[se][2],oe[se][3],!0);!1===u&&(f[je]=!0);var ht=F[se][0].split("-");jA({id:je,fontName:ht[0],fontStyle:ht[1]||""})}gi.publish("addFonts",{fonts:Ot,dictionary:yi})}.call(d,oe),Tt="F1",O_(n,t),gi.publish("initialized"),d}D_.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},D_.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},D_.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},D_.prototype.processOwnerPassword=function(r,e){return a2(s2(e).substr(0,5),r)},D_.prototype.encryptor=function(r,e){var t=s2(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return a2(t,i)}},u1.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||(0,hs.Z)(r)!==(0,hs.Z)(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return 0===i},bn.API={events:[]},bn.version="2.5.1";var ha=bn.API,o2=1,rm=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},F_=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},zn=function(r){return r.toFixed(2)},uf=function(r){return r.toFixed(5)};ha.__acroform__={};var ac=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},IL=function(r){return r*o2},YA=function(r){var e=new kL,t=Zi.internal.getHeight(r)||0,i=Zi.internal.getWidth(r)||0;return e.BBox=[0,0,Number(zn(i)),Number(zn(t))],e},tV=ha.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},iV=ha.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},nV=ha.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Ca=ha.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nV(r,e-1)},Ea=ha.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tV(r,e-1)},Ma=ha.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iV(r,e-1)},rV=ha.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,n=r[0],s=r[1],a=r[2],o=r[3],l={};return l.lowerLeft_X=t(n)||0,l.lowerLeft_Y=i(s+o)||0,l.upperRight_X=t(n+a)||0,l.upperRight_Y=i(s)||0,[Number(zn(l.lowerLeft_X)),Number(zn(l.lowerLeft_Y)),Number(zn(l.upperRight_X)),Number(zn(l.upperRight_Y))]},sV=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],i=l2(r,r._V||r.DV),n=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+n+" "+zn(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=YA(r);return s.scope=r.scope,s.stream=e.join("\n"),s}},l2=function(r,e){var t=0===r.fontSize?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},n=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");n=n.map(r.multiline?function(Y){return Y.split("\n")}:function(Y){return[Y]});var s=t,a=Zi.internal.getHeight(r)||0;a=a<0?-a:a;var Y,o=Zi.internal.getWidth(r)||0;o=o<0?-o:o,s++;e:for(;s>0;){e="",s--;var c,A,u=d1("3",r,s).height,f=r.multiline?a-s:(a-u)/2,d=f+=2,_=0,p=0,g=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+d1(e,r,s=12).width+", FieldWidth:"+o+"\n";break}for(var m="",C=0,B=0;B<n.length;B++)if(n.hasOwnProperty(B)){var S=!1;if(1!==n[B].length&&g!==n[B].length-1){if((u+2)*(C+2)+2>a)continue e;m+=n[B][g],S=!0,p=B,B--}else{m=" "==(m+=n[B][g]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var U=parseInt(B),H=(Y=U)+1<n.length&&d1(m+" "+n[Y+1][0],r,s).width<=o-4,N=B>=n.length-1;if(H&&!N){m+=" ",g=0;continue}if(H||N){if(N)p=U;else if(r.multiline&&(u+2)*(C+2)+2>a)continue e}else{if(!r.multiline||(u+2)*(C+2)+2>a)continue e;p=U}}for(var P="",z=_;z<=p;z++){var W=n[z];if(r.multiline){if(z===p){P+=W[g]+" ",g=(g+1)%W.length;continue}if(z===_){P+=W[W.length-1]+" ";continue}}P+=W[0]+" "}switch(P=" "==P.substr(P.length-1)?P.substr(0,P.length-1):P,A=d1(P,r,s).width,r.textAlign){case"right":c=o-A-2;break;case"center":c=(o-A)/2;break;default:c=2}e+=zn(c)+" "+zn(d)+" Td\n",e+="("+rm(P)+") Tj\n",e+=-zn(c)+" 0 Td\n",d=-(s+2),A=0,_=S?p:p+1,C++,m=""}break}return i.text=e,i.fontSize=s,i},d1=function(r,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),n=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:n}},aV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oV=function(r,e){var t={type:"reference",object:r};void 0===e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},FL=ha.__acroform__.arrayToPdfArray=function(r,e,t){var i=function(a){return a};if(Array.isArray(r)){for(var n="[",s=0;s<r.length;s++)switch(0!==s&&(n+=" "),(0,hs.Z)(r[s])){case"boolean":case"number":case"object":n+=r[s].toString();break;case"string":"/"!==r[s].substr(0,1)?(void 0!==e&&t&&(i=t.internal.getEncryptor(e)),n+="("+rm(i(r[s].toString()))+")"):n+=r[s].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},c2=function(r,e,t){var i=function(n){return n};return void 0!==e&&t&&(i=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+rm(i(r))+")"},WA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};WA.prototype.toString=function(){return this.objId+" 0 R"},WA.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},WA.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var i=e[t],n=this[i];n&&(Array.isArray(n)?r.push({key:i,value:FL(n,this.objId,this.scope)}):n instanceof WA?(n.scope=this.scope,r.push({key:i,value:n.objId+" 0 R"})):"function"!=typeof n&&r.push({key:i,value:n}))}return r};var kL=function(){WA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};ac(kL,WA);var LL=function(){WA.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+rm(t(r))+")"}},set:function(t){r=t}})};ac(LL,WA);var jh=function r(){WA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ca(e,3)},set:function(m){this.F=m?Ea(e,3):Ma(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');t=m}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(m){i=void 0!==m?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(m){i[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(m){i[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(m){i[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(m){i[3]=m}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof m1)return;s="FieldObject"+r.FieldNum++}var m=function(C){return C};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+rm(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/o2:c},set:function(m){c=m}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(m){A=m}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof m1||this instanceof sm))return c2(u,this.objId,this.scope)},set:function(m){m=m.toString(),u=m}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Po?f:c2(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=this instanceof Po?m:"("===m.substr(0,1)?F_(m.substr(1,m.length-2)):F_(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Po?F_(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof Po?"/"+m:m}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Po?d:c2(d,this.objId,this.scope)},set:function(m){m=m.toString(),d=this instanceof Po?m:"("===m.substr(0,1)?F_(m.substr(1,m.length-2)):F_(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Po?F_(d.substr(1,d.length-1)):d},set:function(m){m=m.toString(),d=this instanceof Po?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(m){p=m=!!m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(m){_=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,1)},set:function(m){this.Ff=m?Ea(this.Ff,1):Ma(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,2)},set:function(m){this.Ff=m?Ea(this.Ff,2):Ma(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,3)},set:function(m){this.Ff=m?Ea(this.Ff,3):Ma(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(m){if(-1===[0,1,2].indexOf(m))throw new Error('Invalid value "'+m+'" for attribute Q supplied.');g=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(g){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};ac(jh,WA);var k_=function(){jh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return FL(e,this.objId,this.scope)},set:function(t){var i,n;n=[],"string"==typeof(i=t)&&(n=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(i,/\((.*?)\)/g)),e=n}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,18)},set:function(t){this.Ff=t?Ea(this.Ff,18):Ma(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?Ea(this.Ff,19):Ma(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,20)},set:function(t){t?(this.Ff=Ea(this.Ff,20),e.sort()):this.Ff=Ma(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,22)},set:function(t){this.Ff=t?Ea(this.Ff,22):Ma(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,23)},set:function(t){this.Ff=t?Ea(this.Ff,23):Ma(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,27)},set:function(t){this.Ff=t?Ea(this.Ff,27):Ma(this.Ff,27)}}),this.hasAppearanceStream=!1};ac(k_,jh);var L_=function(){k_.call(this),this.fontName="helvetica",this.combo=!1};ac(L_,k_);var P_=function(){L_.call(this),this.combo=!0};ac(P_,L_);var f1=function(){P_.call(this),this.edit=!0};ac(f1,P_);var Po=function(){jh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,15)},set:function(t){this.Ff=t?Ea(this.Ff,15):Ma(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,16)},set:function(t){this.Ff=t?Ea(this.Ff,16):Ma(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,17)},set:function(t){this.Ff=t?Ea(this.Ff,17):Ma(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,26)},set:function(t){this.Ff=t?Ea(this.Ff,26):Ma(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var i,n=[];for(i in n.push("<<"),e)n.push("/"+i+" ("+rm(t(e[i]))+")");return n.push(">>"),n.join("\n")}},set:function(t){"object"===(0,hs.Z)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};ac(Po,jh);var p1=function(){Po.call(this),this.pushButton=!0};ac(p1,Po);var R_=function(){Po.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=void 0!==e?e:[]}})};ac(R_,Po);var m1=function(){var r,e;jh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(n){e=n}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+rm(n(i[s]))+")");return a.push(">>"),a.join("\n")},set:function(n){"object"===(0,hs.Z)(n)&&(i=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(n){"string"==typeof n&&(i.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Zi.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ac(m1,jh),R_.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},R_.prototype.createOption=function(r){var e=new m1;return e.Parent=this,e.optionName=r,this.Kids.push(e),hV.call(this.scope,e),e};var g1=function(){Po.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Zi.CheckBox.createAppearanceStream()};ac(g1,Po);var sm=function(){jh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,13)},set:function(e){this.Ff=e?Ea(this.Ff,13):Ma(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,21)},set:function(e){this.Ff=e?Ea(this.Ff,21):Ma(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,23)},set:function(e){this.Ff=e?Ea(this.Ff,23):Ma(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,24)},set:function(e){this.Ff=e?Ea(this.Ff,24):Ma(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,25)},set:function(e){this.Ff=e?Ea(this.Ff,25):Ma(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,26)},set:function(e){this.Ff=e?Ea(this.Ff,26):Ma(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ac(sm,jh);var _1=function(){sm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,14)},set:function(r){this.Ff=r?Ea(this.Ff,14):Ma(this.Ff,14)}}),this.password=!0};ac(_1,sm);var Zi={CheckBox:{createAppearanceStream:function(){return{N:{On:Zi.CheckBox.YesNormal},D:{On:Zi.CheckBox.YesPushDown,Off:Zi.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=YA(r);e.scope=r.scope;var t=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=l2(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+zn(Zi.internal.getWidth(r))+" "+zn(Zi.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+zn(s.fontSize)+" Tf "+n),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(r){var e=YA(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),n=[],s=Zi.internal.getHeight(r),a=Zi.internal.getWidth(r),o=l2(r,r.caption);return n.push("1 g"),n.push("0 0 "+zn(a)+" "+zn(s)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+zn(a-1)+" "+zn(s-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+t+" "+zn(o.fontSize)+" Tf "+i),n.push(o.text),n.push("ET"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(r){var e=YA(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+zn(Zi.internal.getWidth(r))+" "+zn(Zi.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Zi.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Zi.RadioButton.Circle.YesNormal,e.D[r]=Zi.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=YA(r);e.scope=r.scope;var t=[],i=Zi.internal.getWidth(r)<=Zi.internal.getHeight(r)?Zi.internal.getWidth(r)/4:Zi.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var s=Number((i*Zi.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+uf(Zi.internal.getWidth(r)/2)+" "+uf(Zi.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(r){var e=YA(r);e.scope=r.scope;var t=[],i=Zi.internal.getWidth(r)<=Zi.internal.getHeight(r)?Zi.internal.getWidth(r)/4:Zi.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),s=Number((n*Zi.internal.Bezier_C).toFixed(5)),a=Number((i*Zi.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+uf(Zi.internal.getWidth(r)/2)+" "+uf(Zi.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+uf(Zi.internal.getWidth(r)/2)+" "+uf(Zi.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(r){var e=YA(r);e.scope=r.scope;var t=[],i=Zi.internal.getWidth(r)<=Zi.internal.getHeight(r)?Zi.internal.getWidth(r)/4:Zi.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),s=Number((n*Zi.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+uf(Zi.internal.getWidth(r)/2)+" "+uf(Zi.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Zi.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Zi.RadioButton.Cross.YesNormal,e.D[r]=Zi.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=YA(r);e.scope=r.scope;var t=[],i=Zi.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+zn(Zi.internal.getWidth(r)-2)+" "+zn(Zi.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(zn(i.x1.x)+" "+zn(i.x1.y)+" m"),t.push(zn(i.x2.x)+" "+zn(i.x2.y)+" l"),t.push(zn(i.x4.x)+" "+zn(i.x4.y)+" m"),t.push(zn(i.x3.x)+" "+zn(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(r){var e=YA(r);e.scope=r.scope;var t=Zi.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+zn(Zi.internal.getWidth(r))+" "+zn(Zi.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+zn(Zi.internal.getWidth(r)-2)+" "+zn(Zi.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(zn(t.x1.x)+" "+zn(t.x1.y)+" m"),i.push(zn(t.x2.x)+" "+zn(t.x2.y)+" l"),i.push(zn(t.x4.x)+" "+zn(t.x4.y)+" m"),i.push(zn(t.x3.x)+" "+zn(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(r){var e=YA(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+zn(Zi.internal.getWidth(r))+" "+zn(Zi.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Zi.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Zi.internal.getWidth(r),t=Zi.internal.getHeight(r),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},Zi.internal.getWidth=function(r){var e=0;return"object"===(0,hs.Z)(r)&&(e=IL(r.Rect[2])),e},Zi.internal.getHeight=function(r){var e=0;return"object"===(0,hs.Z)(r)&&(e=IL(r.Rect[3])),e};var r,e,hV=ha.addField=function(r){if(function(r,e){if(e.scope=r,void 0!==r.internal&&(void 0===r.internal.acroformPlugin||!1===r.internal.acroformPlugin.isInitialized)){if(jh.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(aV)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");o2=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new LL,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){var t;(t=r).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),r.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in i)if(i.hasOwnProperty(n)){var s=i[n];s.objId=void 0,s.hasAnnotation&&oV(s,t)}}(r)}),r.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(r)}),r.internal.events.subscribe("postPutPages",function(t){!function(i,n){var s=!i;for(var a in i||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var o=i[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=rV(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Zi.createDefaultAppearanceStream(o),"object"===(0,hs.Z)(o)&&"function"==typeof o.getKeyValueListForStream&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var A=sV(o);l.push({key:"AP",value:"<</N "+A+">>"}),n.internal.acroformPlugin.xForms.push(A)}if(o.appearanceStreamContent){var u="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var d=o.appearanceStreamContent[f];if(u+="/"+f+" ",u+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var _=d[a];"function"==typeof _&&(_=_.call(n,o)),u+="/"+a+" "+_+" ",n.internal.acroformPlugin.xForms.indexOf(_)>=0||n.internal.acroformPlugin.xForms.push(_)}}else"function"==typeof(_=d)&&(_=_.call(n,o)),u+="/"+a+" "+_,n.internal.acroformPlugin.xForms.indexOf(_)>=0||n.internal.acroformPlugin.xForms.push(_);u+=">>"}l.push({key:"AP",value:"<<\n"+u+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:o.objId}),n.internal.out("endobj")}s&&function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var i=t,n=r[t];e.internal.newObjectDeferredBegin(n.objId,!0),"object"===(0,hs.Z)(n)&&"function"==typeof n.putStream&&n.putStream(),delete r[i]}}(n.internal.acroformPlugin.xForms,n)}(t,r)}),r.internal.acroformPlugin.isInitialized=!0}}(this,r),!(r instanceof jh))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};function PL(r){return r.reduce(function(e,t,i){return e[t]=i,e},{})}ha.AcroFormChoiceField=k_,ha.AcroFormListBox=L_,ha.AcroFormComboBox=P_,ha.AcroFormEditBox=f1,ha.AcroFormButton=Po,ha.AcroFormPushButton=p1,ha.AcroFormRadioButton=R_,ha.AcroFormCheckBox=g1,ha.AcroFormTextField=sm,ha.AcroFormPasswordField=_1,ha.AcroFormAppearance=Zi,ha.AcroForm={ChoiceField:k_,ListBox:L_,ComboBox:P_,EditBox:f1,Button:Po,PushButton:p1,RadioButton:R_,CheckBox:g1,TextField:sm,PasswordField:_1,Appearance:Zi},bn.AcroForm={ChoiceField:k_,ListBox:L_,ComboBox:P_,EditBox:f1,Button:Po,PushButton:p1,RadioButton:R_,CheckBox:g1,TextField:sm,PasswordField:_1,Appearance:Zi},function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(Y,K){var q,Q,ie,ee,he,pe=e;if("RGBA"===(K=K||e)||void 0!==Y.data&&Y.data instanceof Uint8ClampedArray&&"height"in Y&&"width"in Y)return"RGBA";if(H(Y))for(he in t)for(ie=t[he],q=0;q<ie.length;q+=1){for(ee=!0,Q=0;Q<ie[q].length;Q+=1)if(void 0!==ie[q][Q]&&ie[q][Q]!==Y[Q]){ee=!1;break}if(!0===ee){pe=he;break}}else for(he in t)for(ie=t[he],q=0;q<ie.length;q+=1){for(ee=!0,Q=0;Q<ie[q].length;Q+=1)if(void 0!==ie[q][Q]&&ie[q][Q]!==Y.charCodeAt(Q)){ee=!1;break}if(!0===ee){pe=he;break}}return pe===e&&K!==e&&(pe=K),pe},n=function Y(K){for(var q=this.internal.write,Q=this.internal.putStream,ie=(0,this.internal.getFilters)();-1!==ie.indexOf("FlateEncode");)ie.splice(ie.indexOf("FlateEncode"),1);K.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:K.width}),ee.push({key:"Height",value:K.height}),K.colorSpace===g.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(K.palette.length/3-1)+" "+("sMask"in K&&void 0!==K.sMask?K.objectId+2:K.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+K.colorSpace}),K.colorSpace===g.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:K.bitsPerComponent}),"decodeParameters"in K&&void 0!==K.decodeParameters&&ee.push({key:"DecodeParms",value:"<<"+K.decodeParameters+">>"}),"transparency"in K&&Array.isArray(K.transparency)){for(var he="",pe=0,ue=K.transparency.length;pe<ue;pe++)he+=K.transparency[pe]+" "+K.transparency[pe]+" ";ee.push({key:"Mask",value:"["+he+"]"})}if(void 0!==K.sMask&&ee.push({key:"SMask",value:K.objectId+1+" 0 R"}),Q({data:K.data,additionalKeyValues:ee,alreadyAppliedFilters:void 0!==K.filter?["/"+K.filter]:void 0,objectId:K.objectId}),q("endobj"),"sMask"in K&&void 0!==K.sMask){var J={width:K.width,height:K.height,colorSpace:"DeviceGray",bitsPerComponent:K.bitsPerComponent,decodeParameters:"/Predictor "+K.predictor+" /Colors 1 /BitsPerComponent "+K.bitsPerComponent+" /Columns "+K.width,data:K.sMask};"filter"in K&&(J.filter=K.filter),Y.call(this,J)}if(K.colorSpace===g.INDEXED){var te=this.internal.newObject();Q({data:P(new Uint8Array(K.palette)),objectId:te}),q("endobj")}},s=function(){var Y=this.internal.collections.addImage_images;for(var K in Y)n.call(this,Y[K])},a=function(){var Y,K=this.internal.collections.addImage_images,q=this.internal.write;for(var Q in K)q("/I"+(Y=K[Q]).index,Y.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var Y=this.internal.collections.addImage_images;return o.call(this),Y},c=function(){return Object.keys(this.internal.collections.addImage_images).length},A=function(Y){return"function"==typeof r["process"+Y.toUpperCase()]},u=function(Y){return"object"===(0,hs.Z)(Y)&&1===Y.nodeType},f=function(Y,K){if("IMG"===Y.nodeName&&Y.hasAttribute("src")){var q=""+Y.getAttribute("src");if(0===q.indexOf("data:image/"))return yw(unescape(q).split("base64,").pop());var Q=r.loadFile(q,!0);if(void 0!==Q)return Q}if("CANVAS"===Y.nodeName){if(0===Y.width||0===Y.height)throw new Error("Given canvas must have data. Canvas width: "+Y.width+", height: "+Y.height);var ie;switch(K){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return yw(Y.toDataURL(ie,1).split("base64,").pop())}},d=function(Y){var K=this.internal.collections.addImage_images;if(K)for(var q in K)if(Y===K[q].alias)return K[q]},_=function(Y,K,q){return Y||K||(Y=-96,K=-96),Y<0&&(Y=-1*q.width*72/Y/this.internal.scaleFactor),K<0&&(K=-1*q.height*72/K/this.internal.scaleFactor),0===Y&&(Y=K*q.width/q.height),0===K&&(K=Y*q.height/q.width),[Y,K]},p=function(Y,K,q,Q,ie,ee){var he=_.call(this,q,Q,ie),pe=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,Be=l.call(this);if(q=he[0],Q=he[1],Be[ie.index]=ie,ee){ee*=Math.PI/180;var Le=Math.cos(ee),J=Math.sin(ee),te=function(be){return be.toFixed(4)},le=[te(Le),te(J),te(-1*J),te(Le),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,pe(Y),ue(K+Q),"cm"].join(" ")),this.internal.write(le.join(" ")),this.internal.write([pe(q),"0","0",pe(Q),"0","0","cm"].join(" "))):this.internal.write([pe(q),"0","0",pe(Q),pe(Y),ue(K+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},g=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=r.__addimage__.sHashCode=function(Y){var K,q,Q=0;if("string"==typeof Y)for(q=Y.length,K=0;K<q;K++)Q=(Q<<5)-Q+Y.charCodeAt(K),Q|=0;else if(H(Y))for(q=Y.byteLength/2,K=0;K<q;K++)Q=(Q<<5)-Q+Y[K],Q|=0;return Q},B=r.__addimage__.validateStringAsBase64=function(Y){(Y=Y||"").toString().trim();var K=!0;return 0===Y.length&&(K=!1),Y.length%4!=0&&(K=!1),!1===/^[A-Za-z0-9+/]+$/.test(Y.substr(0,Y.length-2))&&(K=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Y.substr(-2))&&(K=!1),K},S=r.__addimage__.extractImageFromDataUrl=function(Y){var K=(Y=Y||"").split("base64,"),q=null;if(2===K.length){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(K[0]);Array.isArray(Q)&&(q={mimeType:Q[1],charset:Q[2],data:K[1]})}return q},U=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(Y){return U()&&Y instanceof ArrayBuffer};var H=r.__addimage__.isArrayBufferView=function(Y){return U()&&typeof Uint32Array<"u"&&(Y instanceof Int8Array||Y instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Y instanceof Uint8ClampedArray||Y instanceof Int16Array||Y instanceof Uint16Array||Y instanceof Int32Array||Y instanceof Uint32Array||Y instanceof Float32Array||Y instanceof Float64Array)},N=r.__addimage__.binaryStringToUint8Array=function(Y){for(var K=Y.length,q=new Uint8Array(K),Q=0;Q<K;Q++)q[Q]=Y.charCodeAt(Q);return q},P=r.__addimage__.arrayBufferToBinaryString=function(Y){for(var K="",q=H(Y)?Y:new Uint8Array(Y),Q=0;Q<q.length;Q+=8192)K+=String.fromCharCode.apply(null,q.subarray(Q,Q+8192));return K};r.addImage=function(){var Y,K,q,Q,ie,ee,he,pe,ue;if("number"==typeof arguments[1]?(K=e,q=arguments[1],Q=arguments[2],ie=arguments[3],ee=arguments[4],he=arguments[5],pe=arguments[6],ue=arguments[7]):(K=arguments[1],q=arguments[2],Q=arguments[3],ie=arguments[4],ee=arguments[5],he=arguments[6],pe=arguments[7],ue=arguments[8]),"object"===(0,hs.Z)(Y=arguments[0])&&!u(Y)&&"imageData"in Y){var Be=Y;Y=Be.imageData,K=Be.format||K||e,q=Be.x||q||0,Q=Be.y||Q||0,ie=Be.w||Be.width||ie,ee=Be.h||Be.height||ee,he=Be.alias||he,pe=Be.compression||pe,ue=Be.rotation||Be.angle||ue}var Le=this.internal.getFilters();if(void 0===pe&&-1!==Le.indexOf("FlateEncode")&&(pe="SLOW"),isNaN(q)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var J=z.call(this,Y,K,he,pe);return p.call(this,q,Q,ie,ee,J,ue),this};var z=function(Y,K,q,Q){var ie,ee,he,ue;if("string"==typeof Y&&i(Y)===e){Y=unescape(Y);var pe=W(Y,!1);(""!==pe||void 0!==(pe=r.loadFile(Y,!0)))&&(Y=pe)}if(u(Y)&&(Y=f(Y,K)),K=i(Y,K),!A(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if((null==(he=q)||0===he.length)&&(q="string"==typeof(ue=Y)||H(ue)?C(ue):H(ue.data)?C(ue.data):null),(ie=d.call(this,q))||(U()&&(Y instanceof Uint8Array||"RGBA"===K||(ee=Y,Y=N(Y))),ie=this["process"+K.toUpperCase()](Y,c.call(this),q,function(ue){return ue&&"string"==typeof ue&&(ue=ue.toUpperCase()),ue in r.image_compression?ue:m.NONE}(Q),ee)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},W=r.__addimage__.convertBase64ToBinaryString=function(Y,K){var q;K="boolean"!=typeof K||K;var Q,ie="";if("string"==typeof Y){Q=null!==(q=S(Y))?q.data:Y;try{ie=yw(Q)}catch(ee){if(K)throw B(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};r.getImageProperties=function(Y){var K,q,Q="";if(u(Y)&&(Y=f(Y)),"string"==typeof Y&&i(Y)===e&&(""===(Q=W(Y,!1))&&(Q=r.loadFile(Y)||""),Y=Q),q=i(Y),!A(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(!U()||Y instanceof Uint8Array||(Y=N(Y)),!(K=this["process"+q.toUpperCase()](Y)))throw new Error("An unknown error occurred whilst processing the image");return K.fileType=q,K}}(bn.API),
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
r=bn.API,e=function(t){if(void 0!==t&&""!=t)return!0},bn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var i,n,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,A=!1,u=0;u<c.length&&!A;u++)switch((i=c[u]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(0!=A){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){i=c[f];var d=this.internal.pdfEscape,_=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(p.objId),C=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(n="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+d(m(i.contents))+")",s+=" /Popup "+g.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(m(C))+") >>",p.content=s;var B=p.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+a(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+B,i.open&&(s+=" /Open true"),g.content=s+=" >>",this.internal.write(p.objId,"0 R",g.objId,"0 R");break;case"freetext":n="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var S=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+d(_(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(i.options.name){var U=this.annotations._nameMap[i.options.name];i.options.pageNumber=U.page,i.options.top=U.y}else i.options.top||(i.options.top=0);if(n="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+d(_(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var H=o(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+H+" "+i.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),r.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},r.link=function(t,i,n,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:c(i),w:l(t+n),h:c(i+s)},options:a,type:"link"})},r.textWithLink=function(t,i,n,s){var a,o,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var A=this.splitTextToSize(t,o=s.maxWidth).length;a=Math.ceil(c*A)}else o=l,a=c;return this.text(t,i,n,s),"center"===s.align&&(i-=l/2),"right"===s.align&&(i-=l),this.link(i,(n+=.2*c)-c,o,a,s),l},r.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor},
/**
       * @license
       * Copyright (c) 2017 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(p){return void 0!==e[p.charCodeAt(0)]},a=r.__arabicParser__.isArabicLetter=function(p){return"string"==typeof p&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=r.__arabicParser__.isArabicEndLetter=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(p){return a(p)&&n.indexOf(p.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length>=1};var c=r.__arabicParser__.arabicLetterHasFinalForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length>=3};var A=r.__arabicParser__.arabicLetterHasMedialForm=function(p){return a(p)&&s(p)&&4==e[p.charCodeAt(0)].length},u=r.__arabicParser__.resolveLigatures=function(p){var g=0,m=t,C="",B=0;for(g=0;g<p.length;g+=1)void 0!==m[p.charCodeAt(g)]?(B++,"number"==typeof(m=m[p.charCodeAt(g)])&&(C+=String.fromCharCode(m),m=t,B=0),g===p.length-1&&(m=t,C+=p.charAt(g-(B-1)),g-=B-1,B=0)):(m=t,C+=p.charAt(g-B),g-=B,B=0);return C};r.__arabicParser__.isArabicDiacritic=function(p){return void 0!==p&&void 0!==i[p.charCodeAt(0)]};var f=r.__arabicParser__.getCorrectForm=function(p,g,m){return a(p)?!1===s(p)?-1:!c(p)||!a(g)&&!a(m)||!a(m)&&o(g)||o(p)&&!a(g)||o(p)&&l(g)||o(p)&&o(g)?0:A(p)&&a(g)&&!o(g)&&a(m)&&c(m)?3:o(p)||!a(m)?1:2:-1},d=function(p){var g=0,m=0,C=0,B="",S="",U="",H=(p=p||"").split("\\s+"),N=[];for(g=0;g<H.length;g+=1){for(N.push(""),m=0;m<H[g].length;m+=1)S=H[g][m-1],U=H[g][m+1],a(B=H[g][m])?(C=f(B,S,U),N[g]+=-1!==C?String.fromCharCode(e[B.charCodeAt(0)][C]):B):N[g]+=B;N[g]=u(N[g])}return N.join(" ")},_=r.__arabicParser__.processArabic=r.processArabic=function(){var p,g="string"==typeof arguments[0]?arguments[0]:arguments[0].text,m=[];if(Array.isArray(g)){var C=0;for(m=[],C=0;C<g.length;C+=1)Array.isArray(g[C])?m.push([d(g[C][0]),g[C][1],g[C][2]]):m.push([d(g[C])]);p=m}else p=d(g);return"string"==typeof arguments[0]?p:(arguments[0].text=p,arguments[0])};r.events.push(["preProcessText",_])}(bn.API),bn.API.autoPrint=function(r){var e;return"javascript"===((r=r||{}).variant=r.variant||"non-conform",r.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||!1===Number.isInteger(o)||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||!1===Number.isInteger(o)||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var n;if("2d"!==(t=t||"2d"))return null;for(n in i)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=i[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(bn.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(p){_=p}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},r.getTextDimensions=function(l,c){i.call(this);var A=(c=c||{}).fontSize||this.getFontSize(),u=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,d=0,_=0,p=0,g=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?"string"==typeof l?l=this.splitTextToSize(l,m):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(B,S){return B.concat(g.splitTextToSize(S,m))},[])):l=Array.isArray(l)?l:[l];for(var C=0;C<l.length;C++)d<(p=this.getStringUnitWidth(l[C],{font:u})*A)&&(d=p);return 0!==d&&(_=l.length),{w:d/=f,h:Math.max((_*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/f,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=u.top,d&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===t?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-A,l.y+A,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+A,{align:"center",baseline:"top",maxWidth:l.width-A-A}):this.text(l.text,l.x+A,l.y+A,{align:"left",baseline:"top",maxWidth:l.width-A-A})),this.internal.__cell__.lastCell=l,this};r.table=function(l,c,A,u,f){if(i.call(this),!A)throw new Error("No data for PDF table.");var d,_,p,g,m=[],C=[],B=[],S={},U={},H=[],N=[],P=(f=f||{}).autoSize||!1,z=!1!==f.printHeaders,W=f.css&&void 0!==f.css["font-size"]?16*f.css["font-size"]:f.fontSize||12,Y=f.margins||Object.assign({width:this.getPageWidth()},e),K="number"==typeof f.padding?f.padding:3,q=f.headerBackgroundColor||"#c8c8c8",Q=f.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=Y,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=K,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=Q,this.setFontSize(W),null==u)C=m=Object.keys(A[0]),B=m.map(function(){return"left"});else if(Array.isArray(u)&&"object"===(0,hs.Z)(u[0]))for(m=u.map(function(Be){return Be.name}),C=u.map(function(Be){return Be.prompt||Be.name||""}),B=u.map(function(Be){return Be.align||"left"}),d=0;d<u.length;d+=1)U[u[d].name]=u[d].width*(19.049976/25.4);else Array.isArray(u)&&"string"==typeof u[0]&&(C=m=u,B=m.map(function(){return"left"}));if(P||Array.isArray(u)&&"string"==typeof u[0])for(d=0;d<m.length;d+=1){for(S[g=m[d]]=A.map(function(Be){return Be[g]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(C[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=S[g],this.setFont(void 0,"normal"),p=0;p<_.length;p+=1)H.push(this.getTextDimensions(_[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[g]=Math.max.apply(null,H)+K+K,H=[]}if(z){var ie={};for(d=0;d<m.length;d+=1)ie[m[d]]={},ie[m[d]].text=C[d],ie[m[d]].align=B[d];var ee=o.call(this,ie,U);N=m.map(function(Be){return new s(l,c,U[Be],ee,ie[Be].text,void 0,ie[Be].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var he=u.reduce(function(Be,Le){return Be[Le.name]=Le.align,Be},{});for(d=0;d<A.length;d+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:d,data:A[d]},this);var pe=o.call(this,A[d],U);for(p=0;p<m.length;p+=1){var ue=A[d][m[p]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:d,col:p,data:ue},this),a.call(this,new s(l,c,U[m[p]],pe,ue,d+2,he[m[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var A=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(d){var _=l[d];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[d]-A-A)},this).map(function(d){return this.getLineHeightFactor()*d.length*u/f+A+A},this).reduce(function(d,_){return Math.max(d,_)},0)};r.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){A=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(A.y=this.internal.__cell__.margins.top||0,f.push(A)),A.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,A),this.setTextColor(_)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),t=!1}}(bn.API);var RL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},UL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],h2=PL(UL),QL=[100,200,300,400,500,600,700,800,900],AV=PL(QL);function A2(r){var s,e=r.family.replace(/"|'/g,"").toLowerCase(),t=RL[s=(s=r.style)||"normal"]?s:"normal",i=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(r.weight),n=function(s){return"number"==typeof h2[s=s||"normal"]?s:"normal"}(r.stretch);return{family:e,style:t,weight:i,stretch:n,src:r.src||[],ref:r.ref||{name:e,style:[n,t,i].join(" ")}}}function OL(r,e,t,i){var n;for(n=t;n>=0&&n<e.length;n+=i)if(r[e[n]])return r[e[n]];for(n=t;n>=0&&n<e.length;n-=i)if(r[e[n]])return r[e[n]]}var uV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},NL={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function HL(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function zL(r){return r.trimLeft()}function fV(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function pV(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],r.substring(e[0].length)]}var v1,GL,YL,u2=["times"];(function(r){var e,t,i,n,s,a,o,l,c,A=function(J){return this.isStrokeTransparent=(J=J||{}).isStrokeTransparent||!1,this.strokeOpacity=J.strokeOpacity||1,this.strokeStyle=J.strokeStyle||"#000000",this.fillStyle=J.fillStyle||"#000000",this.isFillTransparent=J.isFillTransparent||!1,this.fillOpacity=J.fillOpacity||1,this.font=J.font||"10px sans-serif",this.textBaseline=J.textBaseline||"alphabetic",this.textAlign=J.textAlign||"left",this.lineWidth=J.lineWidth||1,this.lineJoin=J.lineJoin||"miter",this.lineCap=J.lineCap||"butt",this.path=J.path||[],this.transform=void 0!==J.transform?J.transform.clone():new l,this.globalCompositeOperation=J.globalCompositeOperation||"normal",this.globalAlpha=J.globalAlpha||1,this.clip_path=J.clip_path||[],this.currentPoint=J.currentPoint||new a,this.miterLimit=J.miterLimit||10,this.lastPoint=J.lastPoint||new a,this.lineDashOffset=J.lineDashOffset||0,this.lineDash=J.lineDash||[],this.margin=J.margin||[0,0,0,0],this.prevPageLastElemOffset=J.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof J.ignoreClearRect||J.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new A}]);var u=function(J){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var te=J;Object.defineProperty(this,"pdf",{get:function(){return te}});var le=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return le},set:function(ze){le=!!ze}});var be=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return be},set:function(ze){be=!!ze}});var De=0;Object.defineProperty(this,"posX",{get:function(){return De},set:function(ze){isNaN(ze)||(De=ze)}});var Fe=0;Object.defineProperty(this,"posY",{get:function(){return Fe},set:function(ze){isNaN(ze)||(Fe=ze)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ze){var _e;"number"==typeof ze?_e=[ze,ze,ze,ze]:((_e=new Array(4))[0]=ze[0],_e[1]=ze.length>=2?ze[1]:_e[0],_e[2]=ze.length>=3?ze[2]:_e[0],_e[3]=ze.length>=4?ze[3]:_e[1]),c.margin=_e}});var He=!1;Object.defineProperty(this,"autoPaging",{get:function(){return He},set:function(ze){He=ze}});var Je=0;Object.defineProperty(this,"lastBreak",{get:function(){return Je},set:function(ze){Je=ze}});var ut=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ut},set:function(ze){ut=ze}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ze){ze instanceof A&&(c=ze)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ze){c.path=ze}});var bt=[];Object.defineProperty(this,"ctxStack",{get:function(){return bt},set:function(ze){bt=ze}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ze){var _e;_e=f(ze),this.ctx.fillStyle=_e.style,this.ctx.isFillTransparent=0===_e.a,this.ctx.fillOpacity=_e.a,this.pdf.setFillColor(_e.r,_e.g,_e.b,{a:_e.a}),this.pdf.setTextColor(_e.r,_e.g,_e.b,{a:_e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ze){var _e=f(ze);this.ctx.strokeStyle=_e.style,this.ctx.isStrokeTransparent=0===_e.a,this.ctx.strokeOpacity=_e.a,0===_e.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(_e.r,_e.g,_e.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ze){-1!==["butt","round","square"].indexOf(ze)&&(this.ctx.lineCap=ze,this.pdf.setLineCap(ze))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ze){isNaN(ze)||(this.ctx.lineWidth=ze,this.pdf.setLineWidth(ze))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ze){-1!==["bevel","round","miter"].indexOf(ze)&&(this.ctx.lineJoin=ze,this.pdf.setLineJoin(ze))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ze){isNaN(ze)||(this.ctx.miterLimit=ze,this.pdf.setMiterLimit(ze))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ze){this.ctx.textBaseline=ze}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ze){-1!==["right","end","center","left","start"].indexOf(ze)&&(this.ctx.textAlign=ze)}});var Se=null,lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return lt},set:function(ze){Se=null,lt=ze}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ze){var _e;if(this.ctx.font=ze,null!==(_e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ze))){var Ct=_e[1],vt=_e[3],oe=_e[4],ne=_e[6],Ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(oe)[2];oe=Math.floor("px"===Ne?parseFloat(oe)*this.pdf.internal.scaleFactor:"em"===Ne?parseFloat(oe)*this.pdf.getFontSize():parseFloat(oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(oe);var ot=function(oi){var Tt,Vt,Re=[],kt=oi.trim();if(""===kt)return u2;if(kt in NL)return[NL[kt]];for(;""!==kt;){switch(Vt=null,Tt=(kt=zL(kt)).charAt(0)){case'"':case"'":Vt=fV(kt.substring(1),Tt);break;default:Vt=pV(kt)}if(null===Vt||(Re.push(Vt[0]),""!==(kt=zL(Vt[1]))&&","!==kt.charAt(0)))return u2;kt=kt.replace(/^,/,"")}return Re}(ne);if(this.fontFaces){var gt=function dV(r,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",n=Object.assign({},uV,t.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(n[(s=A2(e[o])).family]&&(s.family=n[s.family]),r.hasOwnProperty(s.family)){a=r[s.family];break}if(!(a=a||r[i]))throw new Error("Could not find a font-family for the rule '"+HL(s)+"' and default family '"+i+"'.");if(a=function(l,c){if(c[l])return c[l];var A=h2[l],f=OL(c,UL,A,A<=h2.normal?-1:1);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,a),a=function(l,c){if(c[l])return c[l];for(var A=RL[l],u=0;u<A.length;++u)if(c[A[u]])return c[A[u]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,c){if(c[l])return c[l];if(400===l&&c[500])return c[500];if(500===l&&c[400])return c[400];var u=OL(c,QL,AV[l],l<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+l);return u}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+HL(s)+"'.");return a}(function ft(ze,_e){if(null===Se){var Ct=(vt=ze.getFontList(),oe=[],Object.keys(vt).forEach(function(ne){vt[ne].forEach(function(Ne){var ot=null;switch(Ne){case"bold":ot={family:ne,weight:"bold"};break;case"italic":ot={family:ne,style:"italic"};break;case"bolditalic":ot={family:ne,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:ne}}null!==ot&&(ot.ref={name:ne,style:Ne},oe.push(ot))})}),oe);Se=function(vt){for(var oe={},ne=0;ne<vt.length;++ne){var Ne=A2(vt[ne]),ot=Ne.family,gt=Ne.stretch,yt=Ne.style,$t=Ne.weight;oe[ot]=oe[ot]||{},oe[ot][gt]=oe[ot][gt]||{},oe[ot][gt][yt]=oe[ot][gt][yt]||{},oe[ot][gt][yt][$t]=Ne}return oe}(Ct.concat(_e))}var vt,oe;return Se}(this.pdf,this.fontFaces),ot.map(function(oi){return{family:oi,stretch:"normal",weight:vt,style:Ct}}));this.pdf.setFont(gt.ref.name,gt.ref.style)}else{var yt="";("bold"===vt||parseInt(vt,10)>=700||"bold"===Ct)&&(yt="bold"),"italic"===Ct&&(yt+="italic"),0===yt.length&&(yt="normal");for(var $t="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ei=0;ei<ot.length;ei++){if(void 0!==this.pdf.internal.getFont(ot[ei],yt,{noFallback:!0,disableWarning:!0})){$t=ot[ei];break}if("bolditalic"===yt&&void 0!==this.pdf.internal.getFont(ot[ei],"bold",{noFallback:!0,disableWarning:!0}))$t=ot[ei],yt="bold";else if(void 0!==this.pdf.internal.getFont(ot[ei],"normal",{noFallback:!0,disableWarning:!0})){$t=ot[ei],yt="normal";break}}if(""===$t)for(var xi=0;xi<ot.length;xi++)if(Ht[ot[xi]]){$t=Ht[ot[xi]];break}this.pdf.setFont($t=""===$t?"Times":$t,yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ze){this.ctx.globalCompositeOperation=ze}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ze){this.ctx.globalAlpha=ze}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ze){this.ctx.lineDashOffset=ze,Le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ze){this.ctx.lineDash=ze,Le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ze){this.ctx.ignoreClearRect=!!ze}})};u.prototype.setLineDash=function(J){this.lineDash=J},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){S.call(this,"fill",!1)},u.prototype.stroke=function(){S.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(J,te){if(isNaN(J)||isNaN(te))throw As.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var le=this.ctx.transform.applyToPoint(new a(J,te));this.path.push({type:"mt",x:le.x,y:le.y}),this.ctx.lastPoint=new a(J,te)},u.prototype.closePath=function(){var J=new a(0,0),te=0;for(te=this.path.length-1;-1!==te;te--)if("begin"===this.path[te].type&&"object"===(0,hs.Z)(this.path[te+1])&&"number"==typeof this.path[te+1].x){J=new a(this.path[te+1].x,this.path[te+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(J.x,J.y)},u.prototype.lineTo=function(J,te){if(isNaN(J)||isNaN(te))throw As.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var le=this.ctx.transform.applyToPoint(new a(J,te));this.path.push({type:"lt",x:le.x,y:le.y}),this.ctx.lastPoint=new a(le.x,le.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},u.prototype.quadraticCurveTo=function(J,te,le,be){if(isNaN(le)||isNaN(be)||isNaN(J)||isNaN(te))throw As.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var De=this.ctx.transform.applyToPoint(new a(le,be)),Fe=this.ctx.transform.applyToPoint(new a(J,te));this.path.push({type:"qct",x1:Fe.x,y1:Fe.y,x:De.x,y:De.y}),this.ctx.lastPoint=new a(De.x,De.y)},u.prototype.bezierCurveTo=function(J,te,le,be,De,Fe){if(isNaN(De)||isNaN(Fe)||isNaN(J)||isNaN(te)||isNaN(le)||isNaN(be))throw As.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var He=this.ctx.transform.applyToPoint(new a(De,Fe)),Je=this.ctx.transform.applyToPoint(new a(J,te)),ut=this.ctx.transform.applyToPoint(new a(le,be));this.path.push({type:"bct",x1:Je.x,y1:Je.y,x2:ut.x,y2:ut.y,x:He.x,y:He.y}),this.ctx.lastPoint=new a(He.x,He.y)},u.prototype.arc=function(J,te,le,be,De,Fe){if(isNaN(J)||isNaN(te)||isNaN(le)||isNaN(be)||isNaN(De))throw As.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Fe=!!Fe,!this.ctx.transform.isIdentity){var He=this.ctx.transform.applyToPoint(new a(J,te));J=He.x,te=He.y;var Je=this.ctx.transform.applyToPoint(new a(0,le)),ut=this.ctx.transform.applyToPoint(new a(0,0));le=Math.sqrt(Math.pow(Je.x-ut.x,2)+Math.pow(Je.y-ut.y,2))}Math.abs(De-be)>=2*Math.PI&&(be=0,De=2*Math.PI),this.path.push({type:"arc",x:J,y:te,radius:le,startAngle:be,endAngle:De,counterclockwise:Fe})},u.prototype.arcTo=function(J,te,le,be,De){throw new Error("arcTo not implemented.")},u.prototype.rect=function(J,te,le,be){if(isNaN(J)||isNaN(te)||isNaN(le)||isNaN(be))throw As.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(J,te),this.lineTo(J+le,te),this.lineTo(J+le,te+be),this.lineTo(J,te+be),this.lineTo(J,te),this.lineTo(J+le,te),this.lineTo(J,te)},u.prototype.fillRect=function(J,te,le,be){if(isNaN(J)||isNaN(te)||isNaN(le)||isNaN(be))throw As.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var De={};"butt"!==this.lineCap&&(De.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(De.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(J,te,le,be),this.fill(),De.hasOwnProperty("lineCap")&&(this.lineCap=De.lineCap),De.hasOwnProperty("lineJoin")&&(this.lineJoin=De.lineJoin)}},u.prototype.strokeRect=function(J,te,le,be){if(isNaN(J)||isNaN(te)||isNaN(le)||isNaN(be))throw As.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(J,te,le,be),this.stroke())},u.prototype.clearRect=function(J,te,le,be){if(isNaN(J)||isNaN(te)||isNaN(le)||isNaN(be))throw As.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(J,te,le,be))},u.prototype.save=function(J){J="boolean"!=typeof J||J;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("q");if(this.pdf.setPage(te),J){this.ctx.fontSize=this.pdf.internal.getFontSize();var be=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=be}},u.prototype.restore=function(J){J="boolean"!=typeof J||J;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("Q");this.pdf.setPage(te),J&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(J){var te,le,be,De;if(!0===J.isCanvasGradient&&(J=J.getColor()),!J)return{r:0,g:0,b:0,a:0,style:J};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(J))te=0,le=0,be=0,De=0;else{var Fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(J);if(null!==Fe)te=parseInt(Fe[1]),le=parseInt(Fe[2]),be=parseInt(Fe[3]),De=1;else if(null!==(Fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(J)))te=parseInt(Fe[1]),le=parseInt(Fe[2]),be=parseInt(Fe[3]),De=parseFloat(Fe[4]);else{if(De=1,"string"==typeof J&&"#"!==J.charAt(0)){var He=new CL(J);J=He.ok?He.toHex():"#000000"}4===J.length?(te=J.substring(1,2),te+=te,le=J.substring(2,3),le+=le,be=J.substring(3,4),be+=be):(te=J.substring(1,3),le=J.substring(3,5),be=J.substring(5,7)),te=parseInt(te,16),le=parseInt(le,16),be=parseInt(be,16)}}return{r:te,g:le,b:be,a:De,style:J}},d=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},_=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};u.prototype.fillText=function(J,te,le,be){if(isNaN(te)||isNaN(le)||"string"!=typeof J)throw As.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(be=isNaN(be)?void 0:be,!d.call(this)){var De=pe(this.ctx.transform.rotation);K.call(this,{text:J,x:te,y:le,scale:this.ctx.transform.scaleX,angle:De,align:this.textAlign,maxWidth:be})}},u.prototype.strokeText=function(J,te,le,be){if(isNaN(te)||isNaN(le)||"string"!=typeof J)throw As.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){be=isNaN(be)?void 0:be;var De=pe(this.ctx.transform.rotation);K.call(this,{text:J,x:te,y:le,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:De,align:this.textAlign,maxWidth:be})}},u.prototype.measureText=function(J){if("string"!=typeof J)throw As.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var te=this.pdf,le=this.pdf.internal.scaleFactor,be=te.internal.getFontSize(),De=te.getStringUnitWidth(J)*be/te.internal.scaleFactor;return new function(He){var Je=(He=He||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Je}}),this}({width:De*=Math.round(96*le/72*1e4)/1e4})},u.prototype.scale=function(J,te){if(isNaN(J)||isNaN(te))throw As.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var le=new l(J,0,0,te,0,0);this.ctx.transform=this.ctx.transform.multiply(le)},u.prototype.rotate=function(J){if(isNaN(J))throw As.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var te=new l(Math.cos(J),Math.sin(J),-Math.sin(J),Math.cos(J),0,0);this.ctx.transform=this.ctx.transform.multiply(te)},u.prototype.translate=function(J,te){if(isNaN(J)||isNaN(te))throw As.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var le=new l(1,0,0,1,J,te);this.ctx.transform=this.ctx.transform.multiply(le)},u.prototype.transform=function(J,te,le,be,De,Fe){if(isNaN(J)||isNaN(te)||isNaN(le)||isNaN(be)||isNaN(De)||isNaN(Fe))throw As.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var He=new l(J,te,le,be,De,Fe);this.ctx.transform=this.ctx.transform.multiply(He)},u.prototype.setTransform=function(J,te,le,be,De,Fe){J=isNaN(J)?1:J,te=isNaN(te)?0:te,le=isNaN(le)?0:le,be=isNaN(be)?1:be,De=isNaN(De)?0:De,Fe=isNaN(Fe)?0:Fe,this.ctx.transform=new l(J,te,le,be,De,Fe)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(J,te,le,be,De,Fe,He,Je,ut){var bt=this.pdf.getImageProperties(J),Se=1,ft=1,lt=1,ze=1;void 0!==be&&void 0!==Je&&(lt=Je/be,ze=ut/De,Se=bt.width/be*Je/be,ft=bt.height/De*ut/De),void 0===Fe&&(Fe=te,He=le,te=0,le=0),void 0!==be&&void 0===Je&&(Je=be,ut=De),void 0===be&&void 0===Je&&(Je=bt.width,ut=bt.height);for(var _e,Ct=this.ctx.transform.decompose(),vt=pe(Ct.rotate.shx),oe=new l,ne=(oe=(oe=(oe=oe.multiply(Ct.translate)).multiply(Ct.skew)).multiply(Ct.scale)).applyToRectangle(new o(Fe-te*lt,He-le*ze,be*Se,De*ft)),Ne=g.call(this,ne),ot=[],gt=0;gt<Ne.length;gt+=1)-1===ot.indexOf(Ne[gt])&&ot.push(Ne[gt]);if(B(ot),this.autoPaging)for(var yt=ot[0],$t=ot[ot.length-1],Ht=yt;Ht<$t+1;Ht++){this.pdf.setPage(Ht);var ei=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xi=1===Ht?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vt=1===Ht?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ht-2)*Tt;if(0!==this.ctx.clip_path.length){var Re=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(_e,this.posX+this.margin[3],-Vt+xi+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=Re}var kt=JSON.parse(JSON.stringify(ne));kt=C([kt],this.posX+this.margin[3],-Vt+xi+this.ctx.prevPageLastElemOffset)[0];var ai=(Ht>yt||Ht<$t)&&p.call(this);ai&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ei,Tt,null).clip().discardPath()),this.pdf.addImage(J,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,vt),ai&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(J,"JPEG",ne.x,ne.y,ne.w,ne.h,null,null,vt)};var g=function(J,te,le){var be=[];te=te||this.pdf.internal.pageSize.width,le=le||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var De=this.posY+this.ctx.prevPageLastElemOffset;switch(J.type){default:case"mt":case"lt":be.push(Math.floor((J.y+De)/le)+1);break;case"arc":be.push(Math.floor((J.y+De-J.radius)/le)+1),be.push(Math.floor((J.y+De+J.radius)/le)+1);break;case"qct":var Fe=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,J.x1,J.y1,J.x,J.y);be.push(Math.floor((Fe.y+De)/le)+1),be.push(Math.floor((Fe.y+Fe.h+De)/le)+1);break;case"bct":var He=Be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,J.x1,J.y1,J.x2,J.y2,J.x,J.y);be.push(Math.floor((He.y+De)/le)+1),be.push(Math.floor((He.y+He.h+De)/le)+1);break;case"rect":be.push(Math.floor((J.y+De)/le)+1),be.push(Math.floor((J.y+J.h+De)/le)+1)}for(var Je=0;Je<be.length;Je+=1)for(;this.pdf.internal.getNumberOfPages()<be[Je];)m.call(this);return be},m=function(){var J=this.fillStyle,te=this.strokeStyle,le=this.font,be=this.lineCap,De=this.lineWidth,Fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=J,this.strokeStyle=te,this.font=le,this.lineCap=be,this.lineWidth=De,this.lineJoin=Fe},C=function(J,te,le){for(var be=0;be<J.length;be++)switch(J[be].type){case"bct":J[be].x2+=te,J[be].y2+=le;case"qct":J[be].x1+=te,J[be].y1+=le;default:J[be].x+=te,J[be].y+=le}return J},B=function(J){return J.sort(function(te,le){return te-le})},S=function(J,te){for(var le,be,De=this.fillStyle,Fe=this.strokeStyle,He=this.lineCap,Je=this.lineWidth,ut=Math.abs(Je*this.ctx.transform.scaleX),bt=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),ft=JSON.parse(JSON.stringify(this.path)),lt=[],ze=0;ze<ft.length;ze++)if(void 0!==ft[ze].x)for(var _e=g.call(this,ft[ze]),Ct=0;Ct<_e.length;Ct+=1)-1===lt.indexOf(_e[Ct])&&lt.push(_e[Ct]);for(var vt=0;vt<lt.length;vt++)for(;this.pdf.internal.getNumberOfPages()<lt[vt];)m.call(this);if(B(lt),this.autoPaging)for(var oe=lt[0],ne=lt[lt.length-1],Ne=oe;Ne<ne+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=De,this.strokeStyle=Fe,this.lineCap=He,this.lineWidth=ut,this.lineJoin=bt;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=1===Ne?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=1===Ne?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ne-2)*$t;if(0!==this.ctx.clip_path.length){var ei=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(le,this.posX+this.margin[3],-Ht+gt+this.ctx.prevPageLastElemOffset),U.call(this,J,!0),this.path=ei}if(be=JSON.parse(JSON.stringify(Se)),this.path=C(be,this.posX+this.margin[3],-Ht+gt+this.ctx.prevPageLastElemOffset),!1===te||0===Ne){var xi=(Ne>oe||Ne<ne)&&p.call(this);xi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,$t,null).clip().discardPath()),U.call(this,J,te),xi&&this.pdf.restoreGraphicsState()}this.lineWidth=Je}else this.lineWidth=ut,U.call(this,J,te),this.lineWidth=Je;this.path=Se},U=function(J,te){if(("stroke"!==J||te||!_.call(this))&&("stroke"===J||te||!d.call(this))){for(var le,be,De=[],Fe=this.path,He=0;He<Fe.length;He++){var Je=Fe[He];switch(Je.type){case"begin":De.push({begin:!0});break;case"close":De.push({close:!0});break;case"mt":De.push({start:Je,deltas:[],abs:[]});break;case"lt":var ut=De.length;if(Fe[He-1]&&!isNaN(Fe[He-1].x)&&(le=[Je.x-Fe[He-1].x,Je.y-Fe[He-1].y],ut>0))for(;ut>=0;ut--)if(!0!==De[ut-1].close&&!0!==De[ut-1].begin){De[ut-1].deltas.push(le),De[ut-1].abs.push(Je);break}break;case"bct":De[De.length-1].deltas.push(le=[Je.x1-Fe[He-1].x,Je.y1-Fe[He-1].y,Je.x2-Fe[He-1].x,Je.y2-Fe[He-1].y,Je.x-Fe[He-1].x,Je.y-Fe[He-1].y]);break;case"qct":De[De.length-1].deltas.push(le=[Fe[He-1].x+2/3*(Je.x1-Fe[He-1].x)-Fe[He-1].x,Fe[He-1].y+2/3*(Je.y1-Fe[He-1].y)-Fe[He-1].y,Je.x+2/3*(Je.x1-Je.x)-Fe[He-1].x,Je.y+2/3*(Je.y1-Je.y)-Fe[He-1].y,Je.x-Fe[He-1].x,Je.y-Fe[He-1].y]);break;case"arc":De.push({deltas:[],abs:[],arc:!0}),Array.isArray(De[De.length-1].abs)&&De[De.length-1].abs.push(Je)}}be=te?null:"stroke"===J?"stroke":"fill";for(var Ct=!1,vt=0;vt<De.length;vt++)if(De[vt].arc)for(var oe=De[vt].abs,ne=0;ne<oe.length;ne++){var Ne=oe[ne];"arc"===Ne.type?P.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,te,!Ct):q.call(this,Ne.x,Ne.y),Ct=!0}else!0===De[vt].close?(this.pdf.internal.out("h"),Ct=!1):!0!==De[vt].begin&&(Q.call(this,De[vt].deltas,De[vt].start.x,De[vt].start.y),Ct=!0);be&&z.call(this,be),te&&W.call(this)}},H=function(J){var te=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,le=te*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return J-le;case"top":return J+te-le;case"hanging":return J+te-2*le;case"middle":return J+te/2-le;default:return J}},N=function(J){return J+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var J=function(){};return J.colorStops=[],J.addColorStop=function(te,le){this.colorStops.push([te,le])},J.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},J.isCanvasGradient=!0,J},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(J,te,le,be,De,Fe,He,Je,ut){for(var bt=ee.call(this,le,be,De,Fe),Se=0;Se<bt.length;Se++){var ft=bt[Se];0===Se&&(ut?Y.call(this,ft.x1+J,ft.y1+te):q.call(this,ft.x1+J,ft.y1+te)),ie.call(this,J,te,ft.x2,ft.y2,ft.x3,ft.y3,ft.x4,ft.y4)}Je?W.call(this):z.call(this,He)},z=function(J){switch(J){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},Y=function(J,te){this.pdf.internal.out(t(J)+" "+i(te)+" m")},K=function(J){var te;switch(J.align){case"right":case"end":te="right";break;case"center":te="center";break;default:te="left"}var le=this.pdf.getTextDimensions(J.text),be=H.call(this,J.y),De=N.call(this,be)-le.h,Fe=this.ctx.transform.applyToPoint(new a(J.x,be)),He=this.ctx.transform.decompose(),Je=new l;Je=(Je=(Je=Je.multiply(He.translate)).multiply(He.skew)).multiply(He.scale);for(var ut,bt,Se,ft=this.ctx.transform.applyToRectangle(new o(J.x,be,le.w,le.h)),lt=Je.applyToRectangle(new o(J.x,De,le.w,le.h)),ze=g.call(this,lt),_e=[],Ct=0;Ct<ze.length;Ct+=1)-1===_e.indexOf(ze[Ct])&&_e.push(ze[Ct]);if(B(_e),this.autoPaging)for(var vt=_e[0],oe=_e[_e.length-1],ne=vt;ne<oe+1;ne++){this.pdf.setPage(ne);var Ne=1===ne?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.margin[2],yt=gt-this.margin[0],$t=this.pdf.internal.pageSize.width-this.margin[1],Ht=$t-this.margin[3],ei=1===ne?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(ne-2)*yt;if(0!==this.ctx.clip_path.length){var xi=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ut,this.posX+this.margin[3],-1*ei+Ne),U.call(this,"fill",!0),this.path=xi}var oi=C([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-ei+Ne+this.ctx.prevPageLastElemOffset)[0];J.scale>=.01&&(bt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(bt*J.scale),this.lineWidth=(Se=this.lineWidth)*J.scale);var Tt="text"!==this.autoPaging;if(Tt||oi.y+oi.h<=gt){if(Tt||oi.y>=Ne&&oi.x<=$t){var Vt=Tt?J.text:this.pdf.splitTextToSize(J.text,J.maxWidth||$t-oi.x)[0],Re=C([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-ei+Ne+this.ctx.prevPageLastElemOffset)[0],kt=Tt&&(ne>vt||ne<oe)&&p.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,yt,null).clip().discardPath()),this.pdf.text(Vt,Re.x,Re.y,{angle:J.angle,align:te,renderingMode:J.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else oi.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-oi.y);J.scale>=.01&&(this.pdf.setFontSize(bt),this.lineWidth=Se)}else J.scale>=.01&&(bt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(bt*J.scale),this.lineWidth=(Se=this.lineWidth)*J.scale),this.pdf.text(J.text,Fe.x+this.posX,Fe.y+this.posY,{angle:J.angle,align:te,renderingMode:J.renderingMode,maxWidth:J.maxWidth}),J.scale>=.01&&(this.pdf.setFontSize(bt),this.lineWidth=Se)},q=function(J,te,le,be){be=be||0,this.pdf.internal.out(t(J+(le=le||0))+" "+i(te+be)+" l")},Q=function(J,te,le){return this.pdf.lines(J,te,le,null,null)},ie=function(J,te,le,be,De,Fe,He,Je){this.pdf.internal.out([e(n(le+J)),e(s(be+te)),e(n(De+J)),e(s(Fe+te)),e(n(He+J)),e(s(Je+te)),"c"].join(" "))},ee=function(J,te,le,be){for(var De=2*Math.PI,Fe=Math.PI/2;te>le;)te-=De;var He=Math.abs(le-te);He<De&&be&&(He=De-He);for(var Je=[],ut=be?-1:1,bt=te;He>1e-5;){var Se=bt+ut*Math.min(He,Fe);Je.push(he.call(this,J,bt,Se)),He-=Math.abs(Se-bt),bt=Se}return Je},he=function(J,te,le){var be=(le-te)/2,De=J*Math.cos(be),Fe=J*Math.sin(be),He=De,Je=-Fe,ut=He*He+Je*Je,bt=ut+He*De+Je*Fe,Se=4/3*(Math.sqrt(2*ut*bt)-bt)/(He*Fe-Je*De),ft=He-Se*Je,lt=Je+Se*He,ze=ft,_e=-lt,Ct=be+te,vt=Math.cos(Ct),oe=Math.sin(Ct);return{x1:J*Math.cos(te),y1:J*Math.sin(te),x2:ft*vt-lt*oe,y2:ft*oe+lt*vt,x3:ze*vt-_e*oe,y3:ze*oe+_e*vt,x4:J*Math.cos(le),y4:J*Math.sin(le)}},pe=function(J){return 180*J/Math.PI},ue=function(J,te,le,be,De,Fe){var He=J+.5*(le-J),Je=te+.5*(be-te),ut=De+.5*(le-De),bt=Fe+.5*(be-Fe),Se=Math.min(J,De,He,ut),ft=Math.max(J,De,He,ut),lt=Math.min(te,Fe,Je,bt),ze=Math.max(te,Fe,Je,bt);return new o(Se,lt,ft-Se,ze-lt)},Be=function(J,te,le,be,De,Fe,He,Je){var ut,bt,Se,ft,lt,ze,_e,Ct,vt,oe,ne,Ne,ot,gt,yt=le-J,$t=be-te,Ht=De-le,ei=Fe-be,xi=He-De,oi=Je-Fe;for(bt=0;bt<41;bt++)vt=(_e=(Se=J+(ut=bt/40)*yt)+ut*((lt=le+ut*Ht)-Se))+ut*(lt+ut*(De+ut*xi-lt)-_e),oe=(Ct=(ft=te+ut*$t)+ut*((ze=be+ut*ei)-ft))+ut*(ze+ut*(Fe+ut*oi-ze)-Ct),0==bt?(ne=vt,Ne=oe,ot=vt,gt=oe):(ne=Math.min(ne,vt),Ne=Math.min(Ne,oe),ot=Math.max(ot,vt),gt=Math.max(gt,oe));return new o(Math.round(ne),Math.round(Ne),Math.round(ot-ne),Math.round(gt-Ne))},Le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var le=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==le&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=le)}}})(bn.API),
/**
       * @license
       * jsPDF filters PlugIn
       * Copyright (c) 2014 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var e=function(s){var a,o,l,c,A,u,f,d,_,p;for(/[^\x00-\xFF]/.test(s),o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)0!==(A=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))?(u=(A=((A=((A=((A=(A-(p=A%85))/85)-(_=A%85))/85)-(d=A%85))/85)-(f=A%85))/85)%85,o.push(u+33,f+33,d+33,_+33,p+33)):o.push(122);return function(g,m){for(var C=m;C>0;C--)g.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},t=function(s){var a,o,l,c,A,u=String,f="length",d=255,_="charCodeAt",p="slice",g="replace";for(s[p](-2),s=s[p](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),l=[],c=0,A=(s+=a="uuuuu"[p](s[f]%5||5))[f];A>c;c+=5)o=52200625*(s[_](c)-33)+614125*(s[_](c+1)-33)+7225*(s[_](c+2)-33)+85*(s[_](c+3)-33)+(s[_](c+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(m,C){for(var B=C;B>0;B--)m.pop()}(l,a[f]),u.fromCharCode.apply(u,l)},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===a.test(s))return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},n=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return(a=bw(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};r.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for("string"==typeof(a=a||[])&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=n(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(bn.API),
/**
       * @license
       * jsPDF fileloading PlugIn
       * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){r.loadFile=function(e,t,i){return function(n,s,a){s=!1!==s,a="function"==typeof a?a:function(){};var o=void 0;try{o=function(l,c,A){var u=new XMLHttpRequest,f=0,d=function(_){var p=_.length,g=[],m=String.fromCharCode;for(f=0;f<p;f+=1)g.push(m(255&_.charCodeAt(f)));return g.join("")};if(u.open("GET",l,!c),u.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(u.onload=function(){A(200===u.status?d(this.responseText):void 0)}),u.send(null),c&&200===u.status)return d(u.responseText)}(n,s,a)}catch{}return o}(e,t,i)},r.loadImageFile=r.loadFile}(bn.API),function(r){function e(){return(xn.html2canvas?Promise.resolve(xn.html2canvas):Promise.resolve().then(ge.t.bind(ge,9520,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(xn.DOMPurify?Promise.resolve(xn.DOMPurify):ge.e(702).then(ge.t.bind(ge,9702,23))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var o=(0,hs.Z)(a);return"undefined"===o?"undefined":"string"===o||a instanceof String?"string":"number"===o||a instanceof Number?"number":"function"===o||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===o?"object":"unknown"},n=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(i(l)){case"string":return"string";case"element":return"canvas"===l.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(l){return this.set({src:n("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,A){for(var u=3===c.nodeType?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)!0!==A&&1===f.nodeType&&"SCRIPT"===f.nodeName||u.appendChild(l(f,A));return 1===c.nodeType&&("CANVAS"===c.nodeName?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):"TEXTAREA"!==c.nodeName&&"SELECT"!==c.nodeName||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===o.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,A="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,l.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var d=c[f],_=d.src.find(function(p){return"truetype"===p.format});_&&l.addFont(_.url,d.ref.name,d.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=0==u.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,l.context2d.save(!0),o(this.prop.container,u)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return"img"===(l=l||"pdf").toLowerCase()||"image"===l.toLowerCase()?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if("object"!==i(a))return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||bn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,c){return null!=a&&(this.progress.val=a),null!=o&&(this.progress.state=o),null!=l&&(this.progress.n=l),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,A){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(u){return l.updateProgress(null,c),u}).then(c,A).then(function(u){return l.updateProgress(1),u})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),A=l.call(c,a,o);return s.convert(A,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,bn.getPageSize=function(a,o,l){if("object"===(0,hs.Z)(a)){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var A,u=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+o}var d,_=0,p=0;if(f.hasOwnProperty(u))_=f[u][1]/A,p=f[u][0]/A;else try{_=l[1],p=l[0]}catch{throw new Error("Invalid format: "+l)}if("p"===a||"portrait"===a)a="p",p>_&&(d=p,p=_,_=d);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",_>p&&(d=p,p=_,_=d)}return{width:p,height:_,unit:o,k:A,orientation:a}},r.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(A2):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(bn.API),bn.API.addJS=function(r){return YL=r,this.internal.events.subscribe("postPutResources",function(){v1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(v1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),GL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+YL+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==v1&&void 0!==GL&&this.internal.out("/Names <</JavaScript "+v1+" 0 R>>")}),this},
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var e;r.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=t.outline.render().split(/\r\n/),s=0;s<n.length;s++){var a=n[s],o=i.exec(a);null!=o&&t.internal.newObjectDeferredBegin(o[1],!1),t.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,A=[];for(s=0;s<c;s++){var u=t.internal.newObject();A.push(u);var f=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<A.length;s++)t.internal.write("(page_"+(s+1)+")"+A[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,n,s){var a={title:n,options:s,children:[]};return null==i&&(i=this.root),i.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var n=0;n<i.children.length;n++)this.genIds_r(i.children[n])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},t.outline.line=function(i){this.ctx.val+=i+"\r\n"},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(i,n){for(var s=0;s<n.children.length;s++)i.count++,this.count_r(i,n.children[s]);return i.count}}])}(bn.API),
/**
       * @license
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,i,n,s,a,o){var l,c=this.decode.DCT_DECODE,A=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=a||t)?new Uint8Array(t):t,(l=function(u){for(var f,d=256*u.charCodeAt(4)+u.charCodeAt(5),_=u.length,p={width:0,height:0,numcomponents:1},g=4;g<_;g+=2){if(-1!==e.indexOf(u.charCodeAt((g+=d)+1))){f=256*u.charCodeAt(g+5)+u.charCodeAt(g+6),p={width:256*u.charCodeAt(g+7)+u.charCodeAt(g+8),height:f,numcomponents:u.charCodeAt(g+9)};break}d=256*u.charCodeAt(g+2)+u.charCodeAt(g+3)}return p}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}A={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:i,alias:n}}return A}}(bn.API);var U_,w1,WL,VL,jL,mV=function(){var r,e,t;function i(s){var a,l,c,A,u,f,d,_,p,g,m,C,B;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(a=this.readUInt32(),_=function(){var S,U;for(U=[],S=0;S<4;++S)U.push(String.fromCharCode(this.data[this.pos++]));return U}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},A=this.readUInt16(),c=this.readUInt16()||100,u.delay=1e3*A/c,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for("fdAT"===_&&(this.pos+=4,a-=4),s=u?.data||this.imgData,m=0;0<=a?m<a:m>a;0<=a?++m:--m)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((p=l-this.transparency.indexed.length)>0)for(C=0;0<=p?C<p:C>p;0<=p?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(g=this.read(a)).indexOf(0),d=String.fromCharCode.apply(String,g.slice(0,f)),this.text[d]=String.fromCharCode.apply(String,g.slice(f+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(B=this.colorType)||6===B,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function A(u,f,d,_){var p,g,m,C,B,S,U,H,P,z,W,Y,K,q,Q,ie,ee,he,pe,ue,Be=Math.ceil((c.width-u)/d),Le=Math.ceil((c.height-f)/_),J=c.width==Be&&c.height==Le;for(K=a*Be,W=J?o:new Uint8Array(K*Le),S=s.length,Y=0,g=0;Y<Le&&l<S;){switch(s[l++]){case 0:for(C=ie=0;ie<K;C=ie+=1)W[g++]=s[l++];break;case 1:for(C=ee=0;ee<K;C=ee+=1)p=s[l++],B=C<a?0:W[g-a],W[g++]=(p+B)%256;break;case 2:for(C=he=0;he<K;C=he+=1)p=s[l++],m=(C-C%a)/a,W[g++]=((q=Y&&W[(Y-1)*K+m*a+C%a])+p)%256;break;case 3:for(C=pe=0;pe<K;C=pe+=1)p=s[l++],m=(C-C%a)/a,B=C<a?0:W[g-a],q=Y&&W[(Y-1)*K+m*a+C%a],W[g++]=(p+Math.floor((B+q)/2))%256;break;case 4:for(C=ue=0;ue<K;C=ue+=1)p=s[l++],m=(C-C%a)/a,0===Y?q=Q=0:(q=W[(Y-1)*K+m*a+C%a],Q=m&&W[(Y-1)*K+(m-1)*a+C%a]),U=(B=C<a?0:W[g-a])+q-Q,H=Math.abs(U-B),P=Math.abs(U-q),z=Math.abs(U-Q),W[g++]=(p+(H<=P&&H<=z?B:P<=z?q:Q))%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!J){var te=((f+Y*_)*c.width+u)*a,le=Y*K;for(C=0;C<Be;C+=1){for(var be=0;be<a;be+=1)o[te++]=W[le++];te+=(d-1)*a}}Y++}}return s=l1(s),1==c.interlaceMethod?(A(0,0,8,8),A(4,0,8,8),A(0,4,4,8),A(2,0,4,4),A(0,2,2,4),A(1,0,2,2),A(0,1,1,2)):A(0,0,1,1),o},i.prototype.decodePalette=function(){var s,a,o,l,c,A,u,f,d;for(o=this.palette,A=this.transparency.indexed||[],c=new Uint8Array((A.length||0)+o.length),l=0,s=0,a=u=0,f=o.length;u<f;a=u+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=null!=(d=A[s++])?d:255;return c},i.prototype.copyToImageData=function(s,a){var o,l,c,A,u,f,d,_,p,g,m;if(l=this.colors,p=null,o=this.hasAlphaChannel,this.palette.length&&(p=null!=(m=this._decodedPalette)?m:this._decodedPalette=this.decodePalette(),l=4,o=!0),_=(c=s.data||s).length,u=p||a,A=f=0,1===l)for(;A<_;)d=p?4*a[A/4]:f,g=u[d++],c[A++]=g,c[A++]=g,c[A++]=g,c[A++]=o?u[d++]:255,f=d;else for(;A<_;)d=p?4*a[A/4]:f,c[A++]=u[d++],c[A++]=u[d++],c[A++]=u[d++],c[A++]=o?u[d++]:255,f=d},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var n=function(){if("[object Window]"===Object.prototype.toString.call(xn)){try{e=xn.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return n(),r=function(s){var a;if(!0===n())return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var a,o,l,c,A,u,f,d;if(this.animation){for(d=[],o=A=0,u=(f=this.animation.frames).length;A<u;o=++A)l=s.createImageData((a=f[o]).width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,d.push(a.image=r(l));return d}},i.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],0===a&&s.clearRect(0,0,this.width,this.height),1===c?.disposeOp?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):2===c?.disposeOp&&s.putImageData(c.imageData,c.xOffset,c.yOffset),0===o.blendOp&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},i.prototype.animate=function(s){var a,o,l,c,A,u,f=this;return o=0,c=(u=this.animation).numFrames,l=u.frames,A=u.numPlays,(a=function(){var d,_;if(d=o++%c,_=l[d],f.renderFrame(s,d),c>1&&o/c<A)return f.animation._timeout=setTimeout(a,_.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},i.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},i}();function gV(r){var e=0;if(71!==r[e++]||73!==r[e++]||70!==r[e++]||56!==r[e++]||56!=(r[e++]+1&253)||97!==r[e++])throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,n=r[e++],a=1<<1+(7&n);e++,e++;var o=null,l=null;n>>7&&(o=e,l=a,e+=3*a);var c=!0,A=[],u=0,f=null,d=0,_=null;for(this.width=t,this.height=i;c&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(11!==r[e]||78==r[e+1]&&69==r[e+2]&&84==r[e+3]&&83==r[e+4]&&67==r[e+5]&&65==r[e+6]&&80==r[e+7]&&69==r[e+8]&&50==r[e+9]&&46==r[e+10]&&48==r[e+11]&&3==r[e+12]&&1==r[e+13]&&0==r[e+16])e+=14,_=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((Y=r[e++])>=0))throw Error("Invalid block size");if(0===Y)break;e+=Y}break;case 249:if(4!==r[e++]||0!==r[e+4])throw new Error("Invalid graphics extension block.");var p=r[e++];u=r[e++]|r[e++]<<8,f=r[e++],!(1&p)&&(f=null),d=p>>2&7,e++;break;case 254:for(;;){if(!((Y=r[e++])>=0))throw Error("Invalid block size");if(0===Y)break;e+=Y}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var g=r[e++]|r[e++]<<8,m=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,B=r[e++]|r[e++]<<8,S=r[e++],U=S>>6&1,H=1<<1+(7&S),N=o,P=l,z=!1;S>>7&&(z=!0,N=e,P=H,e+=3*H);var W=e;for(e++;;){var Y;if(!((Y=r[e++])>=0))throw Error("Invalid block size");if(0===Y)break;e+=Y}A.push({x:g,y:m,width:C,height:B,has_local_palette:z,palette_offset:N,palette_size:P,data_offset:W,data_length:e-W,transparent_index:f,interlaced:!!U,delay:u,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return _},this.frameInfo=function(K){if(K<0||K>=A.length)throw new Error("Frame index out of range.");return A[K]},this.decodeAndBlitFrameBGRA=function(K,q){var Q=this.frameInfo(K),ie=Q.width*Q.height,ee=new Uint8Array(ie);JL(r,Q.data_offset,ee,ie);var he=Q.palette_offset,pe=Q.transparent_index;null===pe&&(pe=256);var ue=Q.width,Be=t-ue,Le=ue,J=4*(Q.y*t+Q.x),te=4*((Q.y+Q.height)*t+Q.x),le=J,be=4*Be;!0===Q.interlaced&&(be+=4*t*7);for(var De=8,Fe=0,He=ee.length;Fe<He;++Fe){var Je=ee[Fe];if(0===Le&&(Le=ue,(le+=be)>=te&&(be=4*Be+4*t*(De-1),le=J+(ue+Be)*(De<<1),De>>=1)),Je===pe)le+=4;else{var ut=r[he+3*Je],bt=r[he+3*Je+1];q[le++]=r[he+3*Je+2],q[le++]=bt,q[le++]=ut,q[le++]=255}--Le}},this.decodeAndBlitFrameRGBA=function(K,q){var Q=this.frameInfo(K),ie=Q.width*Q.height,ee=new Uint8Array(ie);JL(r,Q.data_offset,ee,ie);var he=Q.palette_offset,pe=Q.transparent_index;null===pe&&(pe=256);var ue=Q.width,Be=t-ue,Le=ue,J=4*(Q.y*t+Q.x),te=4*((Q.y+Q.height)*t+Q.x),le=J,be=4*Be;!0===Q.interlaced&&(be+=4*t*7);for(var De=8,Fe=0,He=ee.length;Fe<He;++Fe){var Je=ee[Fe];if(0===Le&&(Le=ue,(le+=be)>=te&&(be=4*Be+4*t*(De-1),le=J+(ue+Be)*(De<<1),De>>=1)),Je===pe)le+=4;else{var bt=r[he+3*Je+1],Se=r[he+3*Je+2];q[le++]=r[he+3*Je],q[le++]=bt,q[le++]=Se,q[le++]=255}--Le}}}function JL(r,e,t,i){for(var n=r[e++],s=1<<n,a=s+1,o=a+1,l=n+1,c=(1<<l)-1,A=0,u=0,f=0,d=r[e++],_=new Int32Array(4096),p=null;;){for(;A<16&&0!==d;)u|=r[e++]<<A,A+=8,1===d?d=r[e++]:--d;if(A<l)break;var g=u&c;if(u>>=l,A-=l,g!==s){if(g===a)break;for(var m=g<o?g:p,C=0,B=m;B>s;)B=_[B]>>8,++C;var S=B;if(f+C+(m!==g?1:0)>i)return void As.log("Warning, gif stream longer than expected.");t[f++]=S;var U=f+=C;for(m!==g&&(t[f++]=S),B=m;C--;)t[--U]=255&(B=_[B]),B>>=8;null!==p&&o<4096&&(_[o++]=p<<8|S,o>=c+1&&l<12&&(++l,c=c<<1|1)),p=g}else o=a+1,c=(1<<(l=n+1))-1,p=null}return f!==i&&As.log("Warning, gif stream shorter than expected."),t}function d2(r){var e,t,i,n,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),A=new Array(64),u=new Array(65535),f=new Array(65535),d=new Array(64),_=new Array(64),p=[],g=0,m=7,C=new Array(64),B=new Array(64),S=new Array(64),U=new Array(256),H=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Y=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],K=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(J,te){for(var le=0,be=0,De=new Array,Fe=1;Fe<=16;Fe++){for(var He=1;He<=J[Fe];He++)De[te[be]]=[],De[te[be]][0]=le,De[te[be]][1]=Fe,be++,le++;le*=2}return De}function he(J){for(var te=J[0],le=J[1]-1;le>=0;)te&1<<le&&(g|=1<<m),le--,--m<0&&(255==g?(pe(255),pe(0)):pe(g),m=7,g=0)}function pe(J){p.push(J)}function ue(J){pe(J>>8&255),pe(255&J)}function Be(J,te,le,be,De){for(var Fe,He=De[0],Je=De[240],ut=function(oe,ne){var Ne,ot,gt,yt,$t,Ht,ei,xi,oi,Tt,Vt=0;for(oi=0;oi<8;++oi){var Re=(Ne=oe[Vt])+(xi=oe[Vt+7]),kt=Ne-xi,ai=(ot=oe[Vt+1])+(ei=oe[Vt+6]),Ot=ot-ei,yi=(gt=oe[Vt+2])+(Ht=oe[Vt+5]),Bn=gt-Ht,ji=(yt=oe[Vt+3])+($t=oe[Vt+4]),Fn=yt-$t,Zt=Re+ji,Ve=Re-ji,si=ai+yi,Jt=ai-yi;oe[Vt]=Zt+si,oe[Vt+4]=Zt-si;var ri=.707106781*(Jt+Ve);oe[Vt+2]=Ve+ri,oe[Vt+6]=Ve-ri;var gi=.382683433*((Zt=Fn+Bn)-(Jt=Ot+kt)),sr=.5411961*Zt+gi,Cn=1.306562965*Jt+gi,Zr=.707106781*(si=Bn+Ot),bs=kt+Zr,Ii=kt-Zr;oe[Vt+5]=Ii+sr,oe[Vt+3]=Ii-sr,oe[Vt+1]=bs+Cn,oe[Vt+7]=bs-Cn,Vt+=8}for(Vt=0,oi=0;oi<8;++oi){var us=(Ne=oe[Vt])+(xi=oe[Vt+56]),Ta=Ne-xi,Zo=(ot=oe[Vt+8])+(ei=oe[Vt+48]),Da=ot-ei,Ls=(gt=oe[Vt+16])+(Ht=oe[Vt+40]),xl=gt-Ht,Zh=(yt=oe[Vt+24])+($t=oe[Vt+32]),dh=yt-$t,oc=us+Zh,Rc=us-Zh,Uc=Zo+Ls,fh=Zo-Ls;oe[Vt]=oc+Uc,oe[Vt+32]=oc-Uc;var Te=.707106781*(fh+Rc);oe[Vt+16]=Rc+Te,oe[Vt+48]=Rc-Te;var ct=.382683433*((oc=dh+xl)-(fh=Da+Ta)),Bt=.5411961*oc+ct,Mt=1.306562965*fh+ct,xt=.707106781*(Uc=xl+Da),Pi=Ta+xt,$i=Ta-xt;oe[Vt+40]=$i+Bt,oe[Vt+24]=$i-Bt,oe[Vt+8]=Pi+Mt,oe[Vt+56]=Pi-Mt,Vt++}for(oi=0;oi<64;++oi)d[oi]=(Tt=oe[oi]*ne[oi])>0?Tt+.5|0:Tt-.5|0;return d}(J,te),bt=0;bt<64;++bt)_[N[bt]]=ut[bt];var Se=_[0]-le;le=_[0],0==Se?he(be[0]):(he(be[f[Fe=32767+Se]]),he(u[Fe]));for(var ft=63;ft>0&&0==_[ft];)ft--;if(0==ft)return he(He),le;for(var lt,ze=1;ze<=ft;){for(var _e=ze;0==_[ze]&&ze<=ft;)++ze;var Ct=ze-_e;if(Ct>=16){lt=Ct>>4;for(var vt=1;vt<=lt;++vt)he(Je);Ct&=15}he(De[(Ct<<4)+f[Fe=32767+_[ze]]]),he(u[Fe]),ze++}return 63!=ft&&he(He),le}function Le(J){J=Math.min(Math.max(J,1),100),s!=J&&(function(te){for(var le=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],be=0;be<64;be++){var De=a((le[be]*te+50)/100);De=Math.min(Math.max(De,1),255),o[N[be]]=De}for(var Fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],He=0;He<64;He++){var Je=a((Fe[He]*te+50)/100);Je=Math.min(Math.max(Je,1),255),l[N[He]]=Je}for(var ut=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],bt=0,Se=0;Se<8;Se++)for(var ft=0;ft<8;ft++)c[bt]=1/(o[N[bt]]*ut[Se]*ut[ft]*8),A[bt]=1/(l[N[bt]]*ut[Se]*ut[ft]*8),bt++}(J<50?Math.floor(5e3/J):Math.floor(200-2*J)),s=J)}this.encode=function(J,te){var ot,gt;te&&Le(te),p=new Array,g=0,m=7,ue(65496),ue(65504),ue(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),ue(1),ue(1),pe(0),pe(0),function(){ue(65499),ue(132),pe(0);for(var ot=0;ot<64;ot++)pe(o[ot]);pe(1);for(var gt=0;gt<64;gt++)pe(l[gt])}(),ot=J.width,gt=J.height,ue(65472),ue(17),pe(8),ue(gt),ue(ot),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1),function(){ue(65476),ue(418),pe(0);for(var ot=0;ot<16;ot++)pe(P[ot+1]);for(var gt=0;gt<=11;gt++)pe(z[gt]);pe(16);for(var yt=0;yt<16;yt++)pe(W[yt+1]);for(var $t=0;$t<=161;$t++)pe(Y[$t]);pe(1);for(var Ht=0;Ht<16;Ht++)pe(K[Ht+1]);for(var ei=0;ei<=11;ei++)pe(q[ei]);pe(17);for(var xi=0;xi<16;xi++)pe(Q[xi+1]);for(var oi=0;oi<=161;oi++)pe(ie[oi])}(),ue(65498),ue(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var le=0,be=0,De=0;g=0,m=7,this.encode.displayName="_encode_";for(var Fe,He,Je,ut,bt,Se,ft,lt,ze,_e=J.data,vt=J.height,oe=4*J.width,ne=0;ne<vt;){for(Fe=0;Fe<oe;){for(bt=oe*ne+Fe,ft=-1,lt=0,ze=0;ze<64;ze++)Se=bt+(lt=ze>>3)*oe+(ft=4*(7&ze)),ne+lt>=vt&&(Se-=oe*(ne+1+lt-vt)),Fe+ft>=oe&&(Se-=Fe+ft-oe+4),He=_e[Se++],Je=_e[Se++],ut=_e[Se++],C[ze]=(H[He]+H[Je+256>>0]+H[ut+512>>0]>>16)-128,B[ze]=(H[He+768>>0]+H[Je+1024>>0]+H[ut+1280>>0]>>16)-128,S[ze]=(H[He+1280>>0]+H[Je+1536>>0]+H[ut+1792>>0]>>16)-128;le=Be(C,c,le,e,i),be=Be(B,A,be,t,n),De=Be(S,A,De,t,n),Fe+=32}ne+=8}if(m>=0){var Ne=[];Ne[1]=m+1,Ne[0]=(1<<m+1)-1,he(Ne)}return ue(65497),new Uint8Array(p)},r=r||50,function(){for(var J=String.fromCharCode,te=0;te<256;te++)U[te]=J(te)}(),e=ee(P,z),t=ee(K,q),i=ee(W,Y),n=ee(Q,ie),function(){for(var J=1,te=2,le=1;le<=15;le++){for(var be=J;be<te;be++)f[32767+be]=le,u[32767+be]=[],u[32767+be][1]=le,u[32767+be][0]=be;for(var De=-(te-1);De<=-J;De++)f[32767+De]=le,u[32767+De]=[],u[32767+De][1]=le,u[32767+De][0]=te-1+De;J<<=1,te<<=1}}(),function(){for(var J=0;J<256;J++)H[J]=19595*J,H[J+256>>0]=38470*J,H[J+512>>0]=7471*J+32768,H[J+768>>0]=-11059*J,H[J+1024>>0]=-21709*J,H[J+1280>>0]=32768*J+8421375,H[J+1536>>0]=-27439*J,H[J+1792>>0]=-5329*J}(),Le(r)}function Jh(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function KL(r){function e(P){if(!P)throw Error("assert :P")}function t(P,z,W){for(var Y=0;4>Y;Y++)if(P[z+Y]!=W.charCodeAt(Y))return!0;return!1}function i(P,z,W,Y,K){for(var q=0;q<K;q++)P[z+q]=W[Y+q]}function n(P,z,W,Y){for(var K=0;K<Y;K++)P[z+K]=W}function s(P){return new Int32Array(P)}function a(P,z){for(var W=[],Y=0;Y<P;Y++)W.push(new z);return W}function o(P,z){var W=[];return function Y(K,q,Q){for(var ie=Q[q],ee=0;ee<ie&&(K.push(Q.length>q+1?[]:new z),!(Q.length<q+1));ee++)Y(K[ee],q+1,Q)}(W,0,P),W}var l=function(){var P=this;function z(v,T){for(var L=1<<T-1>>>0;v&L;)L>>>=1;return L?(v&L-1)+L:v}function W(v,T,L,V,re){e(!(V%L));do{v[T+(V-=L)]=re}while(0<V)}function Y(v,T,L,V,re){if(e(2328>=re),512>=re)var de=s(512);else if(null==(de=s(re)))return 0;return function(me,ve,ye,Ie,Ke,pt){var mt,nt,Gt=ve,It=1<<ye,Ze=s(16),et=s(16);for(e(0!=Ke),e(null!=Ie),e(null!=me),e(0<ye),nt=0;nt<Ke;++nt){if(15<Ie[nt])return 0;++Ze[Ie[nt]]}if(Ze[0]==Ke)return 0;for(et[1]=0,mt=1;15>mt;++mt){if(Ze[mt]>1<<mt)return 0;et[mt+1]=et[mt]+Ze[mt]}for(nt=0;nt<Ke;++nt)mt=Ie[nt],0<Ie[nt]&&(pt[et[mt]++]=nt);if(1==et[15])return(Ie=new K).g=0,Ie.value=pt[0],W(me,Gt,1,It,Ie),It;var Nt,Kt=-1,zt=It-1,Ni=0,Ei=1,mn=1,ki=1<<ye;for(nt=0,mt=1,Ke=2;mt<=ye;++mt,Ke<<=1){if(Ei+=mn<<=1,0>(mn-=Ze[mt]))return 0;for(;0<Ze[mt];--Ze[mt])(Ie=new K).g=mt,Ie.value=pt[nt++],W(me,Gt+Ni,Ke,ki,Ie),Ni=z(Ni,mt)}for(mt=ye+1,Ke=2;15>=mt;++mt,Ke<<=1){if(Ei+=mn<<=1,0>(mn-=Ze[mt]))return 0;for(;0<Ze[mt];--Ze[mt]){if(Ie=new K,(Ni&zt)!=Kt){for(Gt+=ki,Nt=1<<(Kt=mt)-ye;15>Kt&&!(0>=(Nt-=Ze[Kt]));)++Kt,Nt<<=1;It+=ki=1<<(Nt=Kt-ye),me[ve+(Kt=Ni&zt)].g=Nt+ye,me[ve+Kt].value=Gt-ve-Kt}Ie.g=mt-ye,Ie.value=pt[nt++],W(me,Gt+(Ni>>ye),Ke,ki,Ie),Ni=z(Ni,mt)}}return Ei!=2*et[15]-1?0:It}(v,T,L,V,re,de)}function K(){this.value=this.g=0}function q(){this.value=this.g=0}function Q(){this.G=a(5,K),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(cc,q)}function ie(v,T,L,V){e(null!=v),e(null!=T),e(2147483648>V),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=T,v.pa=L,v.Jd=T,v.Yc=L+V,v.Zc=4<=V?L+V-4+1:L,Fe(v)}function ee(v,T){for(var L=0;0<T--;)L|=Je(v,128)<<T;return L}function he(v,T){var L=ee(v,T);return He(v)?-L:L}function pe(v,T,L,V){var re,de=0;for(e(null!=v),e(null!=T),e(4294967288>V),v.Sb=V,v.Ra=0,v.u=0,v.h=0,4<V&&(V=4),re=0;re<V;++re)de+=T[L+re]<<8*re;v.Ra=de,v.bb=V,v.oa=T,v.pa=L}function ue(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<q_-8>>>0,++v.bb,v.u-=8;le(v)&&(v.h=1,v.u=0)}function Be(v,T){if(e(0<=T),!v.h&&T<=X_){var L=te(v)&Z_[T];return v.u+=T,ue(v),L}return v.h=1,v.u=0}function Le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(v){return v.Ra>>>(v.u&q_-1)>>>0}function le(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>q_}function be(v,T){v.u=T,v.h=le(v)}function De(v){v.u>=Qw&&(e(v.u>=Qw),ue(v))}function Fe(v){e(null!=v&&null!=v.oa),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(null!=v&&null!=v.oa),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function He(v){return ee(v,1)}function Je(v,T){var L=v.Ca;0>v.b&&Fe(v);var V=v.b,re=L*T>>>8,de=(v.I>>>V>re)+0;for(de?(L-=re,v.I-=re+1<<V>>>0):L=re+1,V=L,re=0;256<=V;)re+=8,V>>=8;return v.b-=V=7^re+hc[V],v.Ca=(L<<V)-1,de}function ut(v,T,L){v[T+0]=L>>24&255,v[T+1]=L>>16&255,v[T+2]=L>>8&255,v[T+3]=L>>0&255}function bt(v,T){return v[T+0]<<0|v[T+1]<<8}function Se(v,T){return bt(v,T)|v[T+2]<<16}function ft(v,T){return bt(v,T)|bt(v,T+2)<<16}function lt(v,T){var L=1<<T;return e(null!=v),e(0<T),v.X=s(L),null==v.X?0:(v.Mb=32-T,v.Xa=T,1)}function ze(v,T){e(null!=v),e(null!=T),e(v.Xa==T.Xa),i(T.X,0,v.X,0,1<<T.Xa)}function _e(){this.X=[],this.Xa=this.Mb=0}function Ct(v,T,L,V){e(null!=L),e(null!=V);var re=L[0],de=V[0];return 0==re&&(re=(v*de+T/2)/T),0==de&&(de=(T*re+v/2)/v),0>=re||0>=de?0:(L[0]=re,V[0]=de,1)}function vt(v,T){return v+(1<<T)-1>>>T}function oe(v,T){return((4278255360&v)+(4278255360&T)>>>0&4278255360)+((16711935&v)+(16711935&T)>>>0&16711935)>>>0}function ne(v,T){P[T]=function(L,V,re,de,me,ve,ye){var Ie;for(Ie=0;Ie<me;++Ie){var Ke=P[v](ve[ye+Ie-1],re,de+Ie);ve[ye+Ie]=oe(L[V+Ie],Ke)}}}function Ne(){this.ud=this.hd=this.jd=0}function ot(v,T){return((4278124286&(v^T))>>>1)+(v&T)>>>0}function gt(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function yt(v,T){return gt(v+(v-T+.5>>1))}function $t(v,T,L){return Math.abs(T-L)-Math.abs(v-L)}function Ht(v,T,L,V,re,de,me){for(V=de[me-1],L=0;L<re;++L)de[me+L]=V=oe(v[T+L],V)}function ei(v,T,L,V,re){var de;for(de=0;de<L;++de){var me=v[T+de],ve=me>>8&255,ye=16711935&(ye=(ye=16711935&me)+((ve<<16)+ve));V[re+de]=(4278255360&me)+ye>>>0}}function xi(v,T){T.jd=v>>0&255,T.hd=v>>8&255,T.ud=v>>16&255}function oi(v,T,L,V,re,de){var me;for(me=0;me<V;++me){var ve=T[L+me],ye=ve>>>8,Ie=ve,Ke=255&(Ke=(Ke=ve>>>16)+((v.jd<<24>>24)*(ye<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(v.hd<<24>>24)*(ye<<24>>24)>>>5)+((v.ud<<24>>24)*(Ke<<24>>24)>>>5)),re[de+me]=(4278255360&ve)+(Ke<<16)+Ie}}function Tt(v,T,L,V,re){P[T]=function(de,me,ve,ye,Ie,Ke,pt,mt,nt){for(ye=pt;ye<mt;++ye)for(pt=0;pt<nt;++pt)Ie[Ke++]=re(ve[V(de[me++])])},P[v]=function(de,me,ve,ye,Ie,Ke,pt){var mt=8>>de.b,nt=de.Ea,Gt=de.K[0],It=de.w;if(8>mt)for(de=(1<<de.b)-1,It=(1<<mt)-1;me<ve;++me){var Ze,et=0;for(Ze=0;Ze<nt;++Ze)Ze&de||(et=V(ye[Ie++])),Ke[pt++]=re(Gt[et&It]),et>>=mt}else P["VP8LMapColor"+L](ye,Ie,Gt,It,Ke,pt,me,ve,nt)}}function Vt(v,T,L,V,re){for(L=T+L;T<L;){var de=v[T++];V[re++]=de>>16&255,V[re++]=de>>8&255,V[re++]=de>>0&255}}function Re(v,T,L,V,re){for(L=T+L;T<L;){var de=v[T++];V[re++]=de>>16&255,V[re++]=de>>8&255,V[re++]=de>>0&255,V[re++]=de>>24&255}}function kt(v,T,L,V,re){for(L=T+L;T<L;){var de=(me=v[T++])>>16&240|me>>12&15,me=me>>0&240|me>>28&15;V[re++]=de,V[re++]=me}}function ai(v,T,L,V,re){for(L=T+L;T<L;){var de=(me=v[T++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;V[re++]=de,V[re++]=me}}function Ot(v,T,L,V,re){for(L=T+L;T<L;){var de=v[T++];V[re++]=de>>0&255,V[re++]=de>>8&255,V[re++]=de>>16&255}}function yi(v,T,L,V,re,de){if(0==de)for(L=T+L;T<L;)ut(V,((de=v[T++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),re+=32;else i(V,re,v,T,L)}function Bn(v,T){P[T][0]=P[v+"0"],P[T][1]=P[v+"1"],P[T][2]=P[v+"2"],P[T][3]=P[v+"3"],P[T][4]=P[v+"4"],P[T][5]=P[v+"5"],P[T][6]=P[v+"6"],P[T][7]=P[v+"7"],P[T][8]=P[v+"8"],P[T][9]=P[v+"9"],P[T][10]=P[v+"10"],P[T][11]=P[v+"11"],P[T][12]=P[v+"12"],P[T][13]=P[v+"13"],P[T][14]=P[v+"0"],P[T][15]=P[v+"0"]}function ji(v){return v==U2||v==Q2||v==Y1||v==O2}function Fn(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ve(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fn,this.f.kb=new Zt,this.sd=null}function si(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ri(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function gi(v,T){var L=v.T,V=T.ba.f.RGBA,re=V.eb,de=V.fb+v.ka*V.A,me=vh[T.ba.S],ve=v.y,ye=v.O,Ie=v.f,Ke=v.N,pt=v.ea,mt=v.W,nt=T.cc,Gt=T.dc,It=T.Mc,Ze=T.Nc,et=v.ka,Nt=v.ka+v.T,Kt=v.U,zt=Kt+1>>1;for(0==et?me(ve,ye,null,null,Ie,Ke,pt,mt,Ie,Ke,pt,mt,re,de,null,null,Kt):(me(T.ec,T.fc,ve,ye,nt,Gt,It,Ze,Ie,Ke,pt,mt,re,de-V.A,re,de,Kt),++L);et+2<Nt;et+=2)me(ve,(ye+=2*v.fa)-v.fa,ve,ye,nt=Ie,Gt=Ke,It=pt,Ze=mt,Ie,Ke+=v.Rc,pt,mt+=v.Rc,re,(de+=2*V.A)-V.A,re,de,Kt);return ye+=v.fa,v.j+Nt<v.o?(i(T.ec,T.fc,ve,ye,Kt),i(T.cc,T.dc,Ie,Ke,zt),i(T.Mc,T.Nc,pt,mt,zt),L--):1&Nt||me(ve,ye,null,null,Ie,Ke,pt,mt,Ie,Ke,pt,mt,re,de+V.A,null,null,Kt),L}function sr(v,T,L){var V=v.F,re=[v.J];if(null!=V){var de=v.U,me=T.ba.S,ve=me==G1||me==Y1;T=T.ba.f.RGBA;var ye=[0],Ie=v.ka;ye[0]=v.T,v.Kb&&(0==Ie?--ye[0]:(--Ie,re[0]-=v.width),v.j+v.ka+v.T==v.o&&(ye[0]=v.o-v.j-Ie));var Ke=T.eb;v=Q1(V,re[0],v.width,de,ye,Ke,(Ie=T.fb+Ie*T.A)+(ve?0:3),T.A),e(L==ye),v&&ji(me)&&yf(Ke,Ie,ve,de,ye,T.A)}return 0}function Cn(v){var T=v.ma,L=T.ba.S,V=11>L,re=L==H1||L==z1||L==G1||L==R2||12==L||ji(L);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Rw(T.Oa,v,re?11:12))return 0;if(re&&ji(L)&&ii(),v.da)alert("todo:use_scaling");else{if(V){if(T.Ib=ri,v.Kb){if(T.memory=s(v.U+2*(L=v.U+1>>1)),null==T.memory)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+v.U,T.Mc=T.cc,T.Nc=T.dc+L,T.Ib=gi,ii()}}else alert("todo:EmitYUV");re&&(T.Jb=sr,V&&ht())}if(V&&!vP){for(v=0;256>v;++v)k7[v]=89858*(v-128)+V1>>W1,R7[v]=-22014*(v-128)+V1,P7[v]=-45773*(v-128),L7[v]=113618*(v-128)+V1>>W1;for(v=Yw;v<z2;++v)U7[v-Yw]=Qc(T=76283*(v-16)+V1>>W1,255),Q7[v-Yw]=Qc(T+8>>4,15);vP=1}return 1}function Zr(v){var T=v.ma,L=v.U,V=v.T;return e(!(1&v.ka)),0>=L||0>=V?0:(L=T.Ib(v,T),null!=T.Jb&&T.Jb(v,T,L),T.Dc+=L,1)}function bs(v){v.ma.memory=null}function Ii(v,T,L,V){return 47!=Be(v,8)?0:(T[0]=Be(v,14)+1,L[0]=Be(v,14)+1,V[0]=Be(v,1),0!=Be(v,3)?0:!v.h)}function us(v,T){if(4>v)return v+1;var L=v-2>>1;return(2+(1&v)<<L)+Be(T,L)+1}function Ta(v,T){return 120<T?T-120:1<=(L=((L=v7[T-1])>>4)*v+(8-(15&L)))?L:1;var L}function Zo(v,T,L){var V=te(L),re=v[T+=255&V].g-8;return 0<re&&(be(L,L.u+8),V=te(L),T+=v[T].value,T+=V&(1<<re)-1),be(L,L.u+v[T].g),v[T].value}function Da(v,T,L){return L.g+=v.g,L.value+=v.value<<T>>>0,e(8>=L.g),v.g}function Ls(v,T,L){var V=v.xc;return e((T=0==V?0:v.vc[v.md*(L>>V)+(T>>V)])<v.Wb),v.Ya[T]}function xl(v,T,L,V){var re=v.ab,de=v.c*T,me=v.C;T=me+T;var ve=L,ye=V;for(V=v.Ta,L=v.Ua;0<re--;){var Ie=v.gc[re],Ke=me,pt=T,mt=ve,nt=ye,Gt=(ye=V,ve=L,Ie.Ea);switch(e(Ke<pt),e(pt<=Ie.nc),Ie.hc){case 2:U1(mt,nt,(pt-Ke)*Gt,ye,ve);break;case 0:var It=Ke,Ze=pt,et=ye,Nt=ve,Kt=(ki=Ie).Ea;0==It&&(F2(mt,nt,null,null,1,et,Nt),Ht(mt,nt+1,0,0,Kt-1,et,Nt+1),nt+=Kt,Nt+=Kt,++It);for(var zt=1<<ki.b,Ni=zt-1,Ei=vt(Kt,ki.b),mn=ki.K,ki=ki.w+(It>>ki.b)*Ei;It<Ze;){var Nr=mn,Xr=ki,Ir=1;for(Ow(mt,nt,et,Nt-Kt,1,et,Nt);Ir<Kt;){var pr=(Ir&~Ni)+zt;pr>Kt&&(pr=Kt),(0,_f[Nr[Xr++]>>8&15])(mt,nt+ +Ir,et,Nt+Ir-Kt,pr-Ir,et,Nt+Ir),Ir=pr}nt+=Kt,Nt+=Kt,++It&Ni||(ki+=Ei)}pt!=Ie.nc&&i(ye,ve-Gt,ye,ve+(pt-Ke-1)*Gt,Gt);break;case 1:for(Gt=mt,Ze=nt,Kt=(mt=Ie.Ea)-(Nt=mt&~(et=(nt=1<<Ie.b)-1)),It=vt(mt,Ie.b),zt=Ie.K,Ie=Ie.w+(Ke>>Ie.b)*It;Ke<pt;){for(Ni=zt,Ei=Ie,mn=new Ne,ki=Ze+Nt,Nr=Ze+mt;Ze<ki;)xi(Ni[Ei++],mn),mh(mn,Gt,Ze,nt,ye,ve),Ze+=nt,ve+=nt;Ze<Nr&&(xi(Ni[Ei++],mn),mh(mn,Gt,Ze,Kt,ye,ve),Ze+=Kt,ve+=Kt),++Ke&et||(Ie+=It)}break;case 3:if(mt==ye&&nt==ve&&0<Ie.b){for(Ze=ye,mt=Gt=ve+(pt-Ke)*Gt-(Nt=(pt-Ke)*vt(Ie.Ea,Ie.b)),nt=ye,et=ve,It=[],Nt=(Kt=Nt)-1;0<=Nt;--Nt)It[Nt]=nt[et+Nt];for(Nt=Kt-1;0<=Nt;--Nt)Ze[mt+Nt]=It[Nt];$h(Ie,Ke,pt,ye,Gt,ye,ve)}else $h(Ie,Ke,pt,mt,nt,ye,ve)}ve=V,ye=L}ye!=L&&i(V,L,ve,ye,de)}function Zh(v,T){var L=v.V,V=v.Ba+v.c*v.C,re=T-v.C;if(e(T<=v.l.o),e(16>=re),0<re){var de=v.l,me=v.Ta,ve=v.Ua,ye=de.width;if(xl(v,re,L,V),re=ve=[ve],e((L=v.C)<(V=T)),e(de.v<de.va),V>de.o&&(V=de.o),L<de.j){var Ie=de.j-L;L=de.j,re[0]+=Ie*ye}if(L>=V?L=0:(re[0]+=4*de.v,de.ka=L-de.j,de.U=de.va-de.v,de.T=V-L,L=1),L){if(ve=ve[0],11>(L=v.ca).S){var Ke=L.f.RGBA,pt=(V=L.S,re=de.U,de=de.T,Ie=Ke.eb,Ke.A),mt=de;for(Ke=Ke.fb+v.Ma*Ke.A;0<mt--;){var nt=me,Gt=ve,It=re,Ze=Ie,et=Ke;switch(V){case N1:eA(nt,Gt,It,Ze,et);break;case H1:vf(nt,Gt,It,Ze,et);break;case U2:vf(nt,Gt,It,Ze,et),yf(Ze,et,0,It,1,0);break;case cP:$_(nt,Gt,It,Ze,et);break;case z1:yi(nt,Gt,It,Ze,et,1);break;case Q2:yi(nt,Gt,It,Ze,et,1),yf(Ze,et,0,It,1,0);break;case G1:yi(nt,Gt,It,Ze,et,0);break;case Y1:yi(nt,Gt,It,Ze,et,0),yf(Ze,et,1,It,1,0);break;case R2:ZA(nt,Gt,It,Ze,et);break;case O2:ZA(nt,Gt,It,Ze,et),n0(Ze,et,It,1,0);break;case hP:Ju(nt,Gt,It,Ze,et);break;default:e(0)}ve+=ye,Ke+=pt}v.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=L.height)}}v.C=T,e(v.C<=v.i)}function dh(v){var T;if(0<v.ua)return 0;for(T=0;T<v.Wb;++T){var L=v.Ya[T].G,V=v.Ya[T].H;if(0<L[1][V[1]+0].g||0<L[2][V[2]+0].g||0<L[3][V[3]+0].g)return 0}return 1}function oc(v,T,L,V,re,de){if(0!=v.Z){var me=v.qd,ve=v.rd;for(e(null!=Bf[v.Z]);T<L;++T)Bf[v.Z](me,ve,V,re,V,re,de),me=V,ve=re,re+=de;v.qd=me,v.rd=ve}}function Rc(v,T){var L=v.l.ma,V=0==L.Z||1==L.Z?v.l.j:v.C;if(V=v.C<V?V:v.C,e(T<=v.l.o),T>V){var re=v.l.width,de=L.ca,me=L.tb+re*V,ve=v.V,ye=v.Ba+v.c*V,Ie=v.gc;e(1==v.ab),e(3==Ie[0].hc),k2(Ie[0],V,T,ve,ye,de,me),oc(L,V,T,de,me,re)}v.C=v.Ma=T}function Uc(v,T,L,V,re,de,me){var ve=v.$/V,ye=v.$%V,Ie=v.m,Ke=v.s,pt=L+v.$,mt=pt;re=L+V*re;var nt=L+V*de,Gt=280+Ke.ua,It=v.Pb?ve:16777216,Ze=0<Ke.ua?Ke.Wa:null,et=Ke.wc,Nt=pt<nt?Ls(Ke,ye,ve):null;e(v.C<de),e(nt<=re);var Kt=!1;e:for(;;){for(;Kt||pt<nt;){var zt=0;if(ve>=It){var Ni=pt-L;e((It=v).Pb),It.wd=It.m,It.xd=Ni,0<It.s.ua&&ze(It.s.Wa,It.s.vb),It=ve+b7}if(ye&et||(Nt=Ls(Ke,ye,ve)),e(null!=Nt),Nt.Qb&&(T[pt]=Nt.qb,Kt=!0),!Kt)if(De(Ie),Nt.jc){Ni=T;var Ei=pt,mn=Nt.pd[te(zt=Ie)&cc-1];e(Nt.jc),256>mn.g?(be(zt,zt.u+mn.g),Ni[Ei]=mn.value,zt=0):(be(zt,zt.u+mn.g-256),e(256<=mn.value),zt=mn.value),0==zt&&(Kt=!0)}else zt=Zo(Nt.G[0],Nt.H[0],Ie);if(Ie.h)break;if(Kt||256>zt){if(!Kt)if(Nt.nd)T[pt]=(Nt.qb|zt<<8)>>>0;else{if(De(Ie),Kt=Zo(Nt.G[1],Nt.H[1],Ie),De(Ie),Ni=Zo(Nt.G[2],Nt.H[2],Ie),Ei=Zo(Nt.G[3],Nt.H[3],Ie),Ie.h)break;T[pt]=(Ei<<24|Kt<<16|zt<<8|Ni)>>>0}if(Kt=!1,++pt,++ye>=V&&(ye=0,++ve,null!=me&&ve<=de&&!(ve%16)&&me(v,ve),null!=Ze))for(;mt<pt;)zt=T[mt++],Ze.X[(506832829*zt&4294967295)>>>Ze.Mb]=zt}else if(280>zt){if(zt=us(zt-256,Ie),Ni=Zo(Nt.G[4],Nt.H[4],Ie),De(Ie),Ni=Ta(V,Ni=us(Ni,Ie)),Ie.h)break;if(pt-L<Ni||re-pt<zt)break e;for(Ei=0;Ei<zt;++Ei)T[pt+Ei]=T[pt+Ei-Ni];for(pt+=zt,ye+=zt;ye>=V;)ye-=V,++ve,null!=me&&ve<=de&&!(ve%16)&&me(v,ve);if(e(pt<=re),ye&et&&(Nt=Ls(Ke,ye,ve)),null!=Ze)for(;mt<pt;)zt=T[mt++],Ze.X[(506832829*zt&4294967295)>>>Ze.Mb]=zt}else{if(!(zt<Gt))break e;for(Kt=zt-280,e(null!=Ze);mt<pt;)zt=T[mt++],Ze.X[(506832829*zt&4294967295)>>>Ze.Mb]=zt;zt=pt,e(!(Kt>>>(Ni=Ze).Xa)),T[zt]=Ni.X[Kt],Kt=!0}Kt||e(Ie.h==le(Ie))}if(v.Pb&&Ie.h&&pt<re)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&ze(v.s.vb,v.s.Wa);else{if(Ie.h)break e;me?.(v,ve>de?de:ve),v.a=0,v.$=pt-L}return 1}return v.a=3,0}function fh(v){e(null!=v),v.vc=null,v.yc=null,v.Ya=null;var T=v.Wa;null!=T&&(T.X=null),v.vb=null,e(null!=v)}function Te(){var v=new I2;return null==v?null:(v.a=0,v.xb=dP,Bn("Predictor","VP8LPredictors"),Bn("Predictor","VP8LPredictors_C"),Bn("PredictorAdd","VP8LPredictorsAdd"),Bn("PredictorAdd","VP8LPredictorsAdd_C"),U1=ei,mh=oi,eA=Vt,vf=Re,ZA=kt,Ju=ai,$_=Ot,P.VP8LMapColor32b=Nw,P.VP8LMapColor8b=L2,v)}function ct(v,T,L,V,re){var de=1,me=[v],ve=[T],ye=V.m,Ie=V.s,Ke=null,pt=0;e:for(;;){if(L)for(;de&&Be(ye,1);){var mt=me,nt=ve,Gt=V,It=1,Ze=Gt.m,et=Gt.gc[Gt.ab],Nt=Be(Ze,2);if(Gt.Oc&1<<Nt)de=0;else{switch(Gt.Oc|=1<<Nt,et.hc=Nt,et.Ea=mt[0],et.nc=nt[0],et.K=[null],++Gt.ab,e(4>=Gt.ab),Nt){case 0:case 1:et.b=Be(Ze,3)+2,It=ct(vt(et.Ea,et.b),vt(et.nc,et.b),0,Gt,et.K),et.K=et.K[0];break;case 3:var Kt,zt=Be(Ze,8)+1,Ni=16<zt?0:4<zt?1:2<zt?2:3;if(mt[0]=vt(et.Ea,Ni),et.b=Ni,Kt=It=ct(zt,1,0,Gt,et.K)){var Ei,mn=zt,ki=et,Nr=1<<(8>>ki.b),Xr=s(Nr);if(null==Xr)Kt=0;else{var Ir=ki.K[0],pr=ki.w;for(Xr[0]=ki.K[0][0],Ei=1;Ei<1*mn;++Ei)Xr[Ei]=oe(Ir[pr+Ei],Xr[Ei-1]);for(;Ei<4*Nr;++Ei)Xr[Ei]=0;ki.K[0]=null,ki.K[0]=Xr,Kt=1}}It=Kt;break;case 2:break;default:e(0)}de=It}}if(me=me[0],ve=ve[0],de&&Be(ye,1)&&!(de=1<=(pt=Be(ye,4))&&11>=pt)){V.a=3;break e}var ps;if(ps=de)t:{var ns,qn,qa,Ac=V,$a=me,uc=ve,qr=pt,Nc=L,Hc=Ac.m,Uo=Ac.s,Xo=[null],Hl=1,wh=0,XA=w7[qr];i:for(;;){if(Nc&&Be(Hc,1)){var Qo=Be(Hc,3)+2,$u=vt($a,Qo),fm=vt(uc,Qo),r0=$u*fm;if(!ct($u,fm,0,Ac,Xo))break i;for(Xo=Xo[0],Uo.xc=Qo,ns=0;ns<r0;++ns){var Cf=Xo[ns]>>8&65535;Xo[ns]=Cf,Cf>=Hl&&(Hl=Cf+1)}}if(Hc.h)break i;for(qn=0;5>qn;++qn){var da=AP[qn];!qn&&0<qr&&(da+=1<<qr),wh<da&&(wh=da)}var G2=a(Hl*XA,K),yP=Hl,xP=a(yP,Q);if(null==xP)var J1=null;else e(65536>=yP),J1=xP;var Ww=s(wh);if(null==J1||null==Ww||null==G2){Ac.a=1;break i}var K1=G2;for(ns=qa=0;ns<Hl;++ns){var rA=J1[ns],s0=rA.G,a0=rA.H,BP=0,Z1=1,CP=0;for(qn=0;5>qn;++qn){da=AP[qn],s0[qn]=K1,a0[qn]=qa,!qn&&0<qr&&(da+=1<<qr);r:{var X1,Y2=da,q1=Ac,Vw=Ww,H7=K1,z7=qa,W2=0,Ef=q1.m,G7=Be(Ef,1);if(n(Vw,0,0,Y2),G7){var Y7=Be(Ef,1)+1,W7=Be(Ef,1),EP=Be(Ef,0==W7?1:8);Vw[EP]=1,2==Y7&&(Vw[EP=Be(Ef,8)]=1);var $1=1}else{var MP=s(19),TP=Be(Ef,4)+4;if(19<TP){q1.a=3;var eB=0;break r}for(X1=0;X1<TP;++X1)MP[_7[X1]]=Be(Ef,3);var V2=void 0,jw=void 0,DP=q1,V7=MP,tB=Y2,SP=Vw,j2=0,Mf=DP.m,IP=8,FP=a(128,K);n:for(;Y(FP,0,7,V7,19);){if(Be(Mf,1)){var j7=2+2*Be(Mf,3);if((V2=2+Be(Mf,j7))>tB)break n}else V2=tB;for(jw=0;jw<tB&&V2--;){De(Mf);var kP=FP[0+(127&te(Mf))];be(Mf,Mf.u+kP.g);var o0=kP.value;if(16>o0)SP[jw++]=o0,0!=o0&&(IP=o0);else{var J7=16==o0,LP=o0-16,K7=m7[LP],PP=Be(Mf,p7[LP])+K7;if(jw+PP>tB)break n;for(var Z7=J7?IP:0;0<PP--;)SP[jw++]=Z7}}j2=1;break n}j2||(DP.a=3),$1=j2}($1=$1&&!Ef.h)&&(W2=Y(H7,z7,8,Vw,Y2)),$1&&0!=W2?eB=W2:(q1.a=3,eB=0)}if(0==eB)break i;if(Z1&&1==g7[qn]&&(Z1=0==K1[qa].g),BP+=K1[qa].g,qa+=eB,3>=qn){var Jw,J2=Ww[0];for(Jw=1;Jw<da;++Jw)Ww[Jw]>J2&&(J2=Ww[Jw]);CP+=J2}}if(rA.nd=Z1,rA.Qb=0,Z1&&(rA.qb=(s0[3][a0[3]+0].value<<24|s0[1][a0[1]+0].value<<16|s0[2][a0[2]+0].value)>>>0,0==BP&&256>s0[0][a0[0]+0].value&&(rA.Qb=1,rA.qb+=s0[0][a0[0]+0].value<<8)),rA.jc=!rA.Qb&&6>CP,rA.jc){var iB,ed=rA;for(iB=0;iB<cc;++iB){var Tf=iB,Df=ed.pd[Tf],nB=ed.G[0][ed.H[0]+Tf];256<=nB.value?(Df.g=nB.g+256,Df.value=nB.value):(Df.g=0,Df.value=0,Tf>>=Da(nB,8,Df),Tf>>=Da(ed.G[1][ed.H[1]+Tf],16,Df),Tf>>=Da(ed.G[2][ed.H[2]+Tf],0,Df),Da(ed.G[3][ed.H[3]+Tf],24,Df))}}}Uo.vc=Xo,Uo.Wb=Hl,Uo.Ya=J1,Uo.yc=G2,ps=1;break t}ps=0}if(!(de=ps)){V.a=3;break e}if(0<pt){if(Ie.ua=1<<pt,!lt(Ie.Wa,pt)){V.a=1,de=0;break e}}else Ie.ua=0;var K2=V,RP=me,X7=ve,Z2=K2.s,X2=Z2.xc;if(K2.c=RP,K2.i=X7,Z2.md=vt(RP,X2),Z2.wc=0==X2?-1:(1<<X2)-1,L){V.xb=T7;break e}if(null==(Ke=s(me*ve))){V.a=1,de=0;break e}de=(de=Uc(V,Ke,0,me,ve,ve,null))&&!ye.h;break e}return de?(null!=re?re[0]=Ke:(e(null==Ke),e(L)),V.$=0,L||fh(Ie)):fh(Ie),de}function Bt(v,T){var L=v.c*v.i,V=L+T+16*T;return e(v.c<=T),v.V=s(V),null==v.V?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+L+T,1)}function Mt(v,T){var L=v.C,V=T-L,re=v.V,de=v.Ba+v.c*L;for(e(T<=v.l.o);0<V;){var me=16<V?16:V,ve=v.l.ma,ye=v.l.width,Ie=ye*me,Ke=ve.ca,pt=ve.tb+ye*L,mt=v.Ta,nt=v.Ua;xl(v,me,re,de),nP(mt,nt,Ke,pt,Ie),oc(ve,L,L+me,Ke,pt,ye),V-=me,re+=me*v.c,L+=me}e(L==T),v.C=v.Ma=T}function xt(){this.ub=this.yd=this.td=this.Rb=0}function Pi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $i(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function dn(){var v;this.Yb=(function T(L,V,re){for(var de=re[V],me=0;me<de&&(L.push(re.length>V+1?[]:0),!(re.length<V+1));me++)T(L[me],V+1,re)}(v=[],0,[3,11]),v)}function En(){this.jb=s(3),this.Wc=o([4,8],dn),this.Xc=o([4,17],dn)}function Vn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Mn(){this.ld=this.La=this.dd=this.tc=0}function Rn(){this.Na=this.la=0}function Ps(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Aa(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mn),this.Y=0,this.ya=Array(new mo),this.aa=0,this.l=new Un}function lc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ds(){this.cb=this.a=0,this.sc="",this.m=new Le,this.Od=new xt,this.Kc=new Pi,this.ed=new Vn,this.Qa=new $i,this.Ic=this.$c=this.Aa=0,this.D=new Aa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Le),this.ia=0,this.pb=a(4,Ps),this.Pa=new En,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new lc),this.Hd=0,this.rb=Array(new Rn),this.sb=0,this.wa=Array(new Mn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mo),this.L=this.aa=0,this.gd=o([4,2],Mn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Un(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function am(){var v=new ds;return null!=v&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Gw||(Gw=jA)),v}function Gn(v,T,L){return 0==v.a&&(v.a=T,v.sc=L,v.cb=0),0}function ph(v,T,L){return 3<=L&&157==v[T+0]&&1==v[T+1]&&42==v[T+2]}function om(v,T){if(null==v)return 0;if(v.a=0,v.sc="OK",null==T)return Gn(v,2,"null VP8Io passed to VP8GetHeaders()");var L=T.data,V=T.w,re=T.ha;if(4>re)return Gn(v,7,"Truncated header.");var de=L[V+0]|L[V+1]<<8|L[V+2]<<16,me=v.Od;if(me.Rb=!(1&de),me.td=de>>1&7,me.yd=de>>4&1,me.ub=de>>5,3<me.td)return Gn(v,3,"Incorrect keyframe parameters.");if(!me.yd)return Gn(v,4,"Frame not displayable.");V+=3,re-=3;var ve=v.Kc;if(me.Rb){if(7>re)return Gn(v,7,"cannot parse picture header");if(!ph(L,V,re))return Gn(v,3,"Bad code word");ve.c=16383&(L[V+4]<<8|L[V+3]),ve.Td=L[V+4]>>6,ve.i=16383&(L[V+6]<<8|L[V+5]),ve.Ud=L[V+6]>>6,V+=7,re-=7,v.za=ve.c+15>>4,v.Ub=ve.i+15>>4,T.width=ve.c,T.height=ve.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,n((de=v.Pa).jb,0,255,de.jb.length),e(null!=(de=v.Qa)),de.Cb=0,de.Bb=0,de.Fb=1,n(de.Zb,0,0,de.Zb.length),n(de.Lb,0,0,de.Lb)}if(me.ub>re)return Gn(v,7,"bad partition length");ie(de=v.m,L,V,me.ub),V+=me.ub,re-=me.ub,me.Rb&&(ve.Ld=He(de),ve.Kd=He(de)),ve=v.Qa;var ye,Ie=v.Pa;if(e(null!=de),e(null!=ve),ve.Cb=He(de),ve.Cb){if(ve.Bb=He(de),He(de)){for(ve.Fb=He(de),ye=0;4>ye;++ye)ve.Zb[ye]=He(de)?he(de,7):0;for(ye=0;4>ye;++ye)ve.Lb[ye]=He(de)?he(de,6):0}if(ve.Bb)for(ye=0;3>ye;++ye)Ie.jb[ye]=He(de)?ee(de,8):255}else ve.Bb=0;if(de.Ka)return Gn(v,3,"cannot parse segment header");if((ve=v.ed).zd=He(de),ve.Tb=ee(de,6),ve.wb=ee(de,3),ve.Pc=He(de),ve.Pc&&He(de)){for(Ie=0;4>Ie;++Ie)He(de)&&(ve.vd[Ie]=he(de,6));for(Ie=0;4>Ie;++Ie)He(de)&&(ve.od[Ie]=he(de,6))}if(v.L=0==ve.Tb?0:ve.zd?1:2,de.Ka)return Gn(v,3,"cannot parse filter header");var Ke=re;if(re=ye=V,V=ye+Ke,ve=Ke,v.Xb=(1<<ee(v.m,2))-1,Ke<3*(Ie=v.Xb))L=7;else{for(ye+=3*Ie,ve-=3*Ie,Ke=0;Ke<Ie;++Ke){var pt=L[re+0]|L[re+1]<<8|L[re+2]<<16;pt>ve&&(pt=ve),ie(v.Jc[+Ke],L,ye,pt),ye+=pt,ve-=pt,re+=3}ie(v.Jc[+Ie],L,ye,ve),L=ye<V?0:5}if(0!=L)return Gn(v,L,"cannot parse partitions");for(L=ee(ye=v.m,7),re=He(ye)?he(ye,4):0,V=He(ye)?he(ye,4):0,ve=He(ye)?he(ye,4):0,Ie=He(ye)?he(ye,4):0,ye=He(ye)?he(ye,4):0,Ke=v.Qa,pt=0;4>pt;++pt){if(Ke.Cb){var mt=Ke.Zb[pt];Ke.Fb||(mt+=L)}else{if(0<pt){v.pb[pt]=v.pb[0];continue}mt=L}var nt=v.pb[pt];nt.Sc[0]=N2[Qc(mt+re,127)],nt.Sc[1]=H2[Qc(mt+0,127)],nt.Eb[0]=2*N2[Qc(mt+V,127)],nt.Eb[1]=101581*H2[Qc(mt+ve,127)]>>16,8>nt.Eb[1]&&(nt.Eb[1]=8),nt.Qc[0]=N2[Qc(mt+Ie,117)],nt.Qc[1]=H2[Qc(mt+ye,127)],nt.lc=mt+ye}if(!me.Rb)return Gn(v,4,"Not a key frame.");for(He(de),me=v.Pa,L=0;4>L;++L){for(re=0;8>re;++re)for(V=0;3>V;++V)for(ve=0;11>ve;++ve)Ie=Je(de,E7[L][re][V][ve])?ee(de,8):B7[L][re][V][ve],me.Wc[L][re].Yb[V][ve]=Ie;for(re=0;17>re;++re)me.Xc[L][re]=me.Wc[L][M7[re]]}return v.kc=He(de),v.kc&&(v.Bd=ee(de,8)),v.cb=1}function jA(v,T,L,V,re,de,me){var ve=T[re].Yb[L];for(L=0;16>re;++re){if(!Je(v,ve[L+0]))return re;for(;!Je(v,ve[L+1]);)if(ve=T[++re].Yb[0],L=0,16==re)return 16;var ye=T[re+1].Yb;if(Je(v,ve[L+2])){var Ie=v,Ke=0;if(Je(Ie,(mt=ve)[(pt=L)+3]))if(Je(Ie,mt[pt+6])){for(ve=0,pt=2*(Ke=Je(Ie,mt[pt+8]))+(mt=Je(Ie,mt[pt+9+Ke])),Ke=0,mt=y7[pt];mt[ve];++ve)Ke+=Ke+Je(Ie,mt[ve]);Ke+=3+(8<<pt)}else Je(Ie,mt[pt+7])?(Ke=7+2*Je(Ie,165),Ke+=Je(Ie,145)):Ke=5+Je(Ie,159);else Ke=Je(Ie,mt[pt+4])?3+Je(Ie,mt[pt+5]):2;ve=ye[2]}else Ke=1,ve=ye[1];ye=me+x7[re],0>(Ie=v).b&&Fe(Ie);var pt,mt=Ie.b,nt=(pt=Ie.Ca>>1)-(Ie.I>>mt)>>31;--Ie.b,Ie.Ca+=nt,Ie.Ca|=1,Ie.I-=(pt+1&nt)<<mt,de[ye]=((Ke^nt)-nt)*V[(0<re)+0]}return 16}function Gu(v){var T=v.rb[v.sb-1];T.la=0,T.Na=0,n(v.zc,0,0,v.zc.length),v.ja=0}function go(v,T,L,V,re){v[T+L+32*V]=-256&(re=v[T+L+32*V]+(re>>3))?0>re?0:255:re}function JA(v,T,L,V,re,de){go(v,T,0,L,V+re),go(v,T,1,L,V+de),go(v,T,2,L,V-de),go(v,T,3,L,V-re)}function fs(v){return(20091*v>>16)+v}function Yu(v,T,L,V){var re,de=0,me=s(16);for(re=0;4>re;++re){var ve=v[T+0]+v[T+8],ye=v[T+0]-v[T+8],Ie=(35468*v[T+4]>>16)-fs(v[T+12]),Ke=fs(v[T+4])+(35468*v[T+12]>>16);me[de+0]=ve+Ke,me[de+1]=ye+Ie,me[de+2]=ye-Ie,me[de+3]=ve-Ke,de+=4,T++}for(re=de=0;4>re;++re)ve=(v=me[de+0]+4)+me[de+8],ye=v-me[de+8],Ie=(35468*me[de+4]>>16)-fs(me[de+12]),go(L,V,0,0,ve+(Ke=fs(me[de+4])+(35468*me[de+12]>>16))),go(L,V,1,0,ye+Ie),go(L,V,2,0,ye-Ie),go(L,V,3,0,ve-Ke),de++,V+=32}function O_(v,T,L,V){var re=v[T+0]+4,de=35468*v[T+4]>>16,me=fs(v[T+4]),ve=35468*v[T+1]>>16;JA(L,V,0,re+me,v=fs(v[T+1]),ve),JA(L,V,1,re+de,v,ve),JA(L,V,2,re-de,v,ve),JA(L,V,3,re-me,v,ve)}function N_(v,T,L,V,re){Yu(v,T,L,V),re&&Yu(v,T+16,L,V+4)}function B1(v,T,L,V){e0(v,T+0,L,V,1),e0(v,T+32,L,V+128,1)}function m2(v,T,L,V){var re;for(v=v[T+0]+4,re=0;4>re;++re)for(T=0;4>T;++T)go(L,V,T,re,v)}function C1(v,T,L,V){v[T+0]&&iA(v,T+0,L,V),v[T+16]&&iA(v,T+16,L,V+4),v[T+32]&&iA(v,T+32,L,V+128),v[T+48]&&iA(v,T+48,L,V+128+4)}function g2(v,T,L,V){var re,de=s(16);for(re=0;4>re;++re){var me=v[T+0+re]+v[T+12+re],ve=v[T+4+re]+v[T+8+re],ye=v[T+4+re]-v[T+8+re],Ie=v[T+0+re]-v[T+12+re];de[0+re]=me+ve,de[8+re]=me-ve,de[4+re]=Ie+ye,de[12+re]=Ie-ye}for(re=0;4>re;++re)me=(v=de[0+4*re]+3)+de[3+4*re],ye=de[1+4*re]-de[2+4*re],Ie=v-de[3+4*re],L[V+0]=me+(ve=de[1+4*re]+de[2+4*re])>>3,L[V+16]=Ie+ye>>3,L[V+32]=me-ve>>3,L[V+48]=Ie-ye>>3,V+=64}function xw(v,T,L){var V,re=T-32,de=Oc,me=255-v[re-1];for(V=0;V<L;++V){var ve,ye=de,Ie=me+v[T-1];for(ve=0;ve<L;++ve)v[T+ve]=ye[Ie+v[re+ve]];T+=32}}function _2(v,T){xw(v,T,4)}function v2(v,T){xw(v,T,8)}function w2(v,T){xw(v,T,16)}function Wu(v,T){var L;for(L=0;16>L;++L)i(v,T+32*L,v,T-32,16)}function H_(v,T){var L;for(L=16;0<L;--L)n(v,T,v[T-1],16),T+=32}function z_(v,T,L){var V;for(V=0;16>V;++V)n(T,L+32*V,v,16)}function E1(v,T){var L,V=16;for(L=0;16>L;++L)V+=v[T-1+32*L]+v[T+L-32];z_(V>>5,v,T)}function Bl(v,T){var L,V=8;for(L=0;16>L;++L)V+=v[T-1+32*L];z_(V>>4,v,T)}function b2(v,T){var L,V=8;for(L=0;16>L;++L)V+=v[T+L-32];z_(V>>4,v,T)}function M1(v,T){z_(128,v,T)}function Qn(v,T,L){return v+2*T+L+2>>2}function y2(v,T){var L,V=T-32;for(V=new Uint8Array([Qn(v[V-1],v[V+0],v[V+1]),Qn(v[V+0],v[V+1],v[V+2]),Qn(v[V+1],v[V+2],v[V+3]),Qn(v[V+2],v[V+3],v[V+4])]),L=0;4>L;++L)i(v,T+32*L,V,0,V.length)}function x2(v,T){var L=v[T-1],V=v[T-1+32],re=v[T-1+64],de=v[T-1+96];ut(v,T+0,16843009*Qn(v[T-1-32],L,V)),ut(v,T+32,16843009*Qn(L,V,re)),ut(v,T+64,16843009*Qn(V,re,de)),ut(v,T+96,16843009*Qn(re,de,de))}function KA(v,T){var L,V=4;for(L=0;4>L;++L)V+=v[T+L-32]+v[T-1+32*L];for(V>>=3,L=0;4>L;++L)n(v,T+32*L,V,4)}function T1(v,T){var L=v[T-1+0],V=v[T-1+32],re=v[T-1+64],de=v[T-1-32],me=v[T+0-32],ve=v[T+1-32],ye=v[T+2-32],Ie=v[T+3-32];v[T+0+96]=Qn(V,re,v[T-1+96]),v[T+1+96]=v[T+0+64]=Qn(L,V,re),v[T+2+96]=v[T+1+64]=v[T+0+32]=Qn(de,L,V),v[T+3+96]=v[T+2+64]=v[T+1+32]=v[T+0+0]=Qn(me,de,L),v[T+3+64]=v[T+2+32]=v[T+1+0]=Qn(ve,me,de),v[T+3+32]=v[T+2+0]=Qn(ye,ve,me),v[T+3+0]=Qn(Ie,ye,ve)}function D1(v,T){var L=v[T+1-32],V=v[T+2-32],re=v[T+3-32],de=v[T+4-32],me=v[T+5-32],ve=v[T+6-32],ye=v[T+7-32];v[T+0+0]=Qn(v[T+0-32],L,V),v[T+1+0]=v[T+0+32]=Qn(L,V,re),v[T+2+0]=v[T+1+32]=v[T+0+64]=Qn(V,re,de),v[T+3+0]=v[T+2+32]=v[T+1+64]=v[T+0+96]=Qn(re,de,me),v[T+3+32]=v[T+2+64]=v[T+1+96]=Qn(de,me,ve),v[T+3+64]=v[T+2+96]=Qn(me,ve,ye),v[T+3+96]=Qn(ve,ye,ye)}function G_(v,T){var L=v[T-1+0],V=v[T-1+32],re=v[T-1+64],de=v[T-1-32],me=v[T+0-32],ve=v[T+1-32],ye=v[T+2-32],Ie=v[T+3-32];v[T+0+0]=v[T+1+64]=de+me+1>>1,v[T+1+0]=v[T+2+64]=me+ve+1>>1,v[T+2+0]=v[T+3+64]=ve+ye+1>>1,v[T+3+0]=ye+Ie+1>>1,v[T+0+96]=Qn(re,V,L),v[T+0+64]=Qn(V,L,de),v[T+0+32]=v[T+1+96]=Qn(L,de,me),v[T+1+32]=v[T+2+96]=Qn(de,me,ve),v[T+2+32]=v[T+3+96]=Qn(me,ve,ye),v[T+3+32]=Qn(ve,ye,Ie)}function Bw(v,T){var L=v[T+0-32],V=v[T+1-32],re=v[T+2-32],de=v[T+3-32],me=v[T+4-32],ve=v[T+5-32],ye=v[T+6-32],Ie=v[T+7-32];v[T+0+0]=L+V+1>>1,v[T+1+0]=v[T+0+64]=V+re+1>>1,v[T+2+0]=v[T+1+64]=re+de+1>>1,v[T+3+0]=v[T+2+64]=de+me+1>>1,v[T+0+32]=Qn(L,V,re),v[T+1+32]=v[T+0+96]=Qn(V,re,de),v[T+2+32]=v[T+1+96]=Qn(re,de,me),v[T+3+32]=v[T+2+96]=Qn(de,me,ve),v[T+3+64]=Qn(me,ve,ye),v[T+3+96]=Qn(ve,ye,Ie)}function B2(v,T){var L=v[T-1+0],V=v[T-1+32],re=v[T-1+64],de=v[T-1+96];v[T+0+0]=L+V+1>>1,v[T+2+0]=v[T+0+32]=V+re+1>>1,v[T+2+32]=v[T+0+64]=re+de+1>>1,v[T+1+0]=Qn(L,V,re),v[T+3+0]=v[T+1+32]=Qn(V,re,de),v[T+3+32]=v[T+1+64]=Qn(re,de,de),v[T+3+64]=v[T+2+64]=v[T+0+96]=v[T+1+96]=v[T+2+96]=v[T+3+96]=de}function C2(v,T){var L=v[T-1+0],V=v[T-1+32],re=v[T-1+64],de=v[T-1+96],me=v[T-1-32],ve=v[T+0-32],ye=v[T+1-32],Ie=v[T+2-32];v[T+0+0]=v[T+2+32]=L+me+1>>1,v[T+0+32]=v[T+2+64]=V+L+1>>1,v[T+0+64]=v[T+2+96]=re+V+1>>1,v[T+0+96]=de+re+1>>1,v[T+3+0]=Qn(ve,ye,Ie),v[T+2+0]=Qn(me,ve,ye),v[T+1+0]=v[T+3+32]=Qn(L,me,ve),v[T+1+32]=v[T+3+64]=Qn(V,L,me),v[T+1+64]=v[T+3+96]=Qn(re,V,L),v[T+1+96]=Qn(de,re,V)}function E2(v,T){var L;for(L=0;8>L;++L)i(v,T+32*L,v,T-32,8)}function Cw(v,T){var L;for(L=0;8>L;++L)n(v,T,v[T-1],8),T+=32}function lm(v,T,L){var V;for(V=0;8>V;++V)n(T,L+32*V,v,8)}function ff(v,T){var L,V=8;for(L=0;8>L;++L)V+=v[T+L-32]+v[T-1+32*L];lm(V>>4,v,T)}function M2(v,T){var L,V=4;for(L=0;8>L;++L)V+=v[T+L-32];lm(V>>3,v,T)}function cm(v,T){var L,V=4;for(L=0;8>L;++L)V+=v[T-1+32*L];lm(V>>3,v,T)}function Ew(v,T){lm(128,v,T)}function Y_(v,T,L){var V=v[T-L],re=v[T+0],de=3*(re-V)+P2[1020+v[T-2*L]-v[T+L]],me=O1[112+(de+4>>3)];v[T-L]=Oc[255+V+O1[112+(de+3>>3)]],v[T+0]=Oc[255+re-me]}function S1(v,T,L,V){return _h[255+v[T-2*L]-v[T-L]]>V||_h[255+v[T+L]-v[T+0]]>V}function I1(v,T,L,V){return 4*_h[255+v[T-L]-v[T+0]]+_h[255+v[T-2*L]-v[T+L]]<=V}function F1(v,T,L,V,re){var de=v[T-3*L],me=v[T-2*L],ve=v[T-L],ye=v[T+0],Ie=v[T+L],Ke=v[T+2*L];return 4*_h[255+ve-ye]+_h[255+me-Ie]>V?0:_h[255+v[T-4*L]-de]<=re&&_h[255+de-me]<=re&&_h[255+me-ve]<=re&&_h[255+v[T+3*L]-Ke]<=re&&_h[255+Ke-Ie]<=re&&_h[255+Ie-ye]<=re}function k1(v,T,L,V){var re=2*V+1;for(V=0;16>V;++V)I1(v,T+V,L,re)&&Y_(v,T+V,L)}function Vu(v,T,L,V){var re=2*V+1;for(V=0;16>V;++V)I1(v,T+V*L,1,re)&&Y_(v,T+V*L,1)}function pf(v,T,L,V){var re;for(re=3;0<re;--re)k1(v,T+=4*L,L,V)}function T2(v,T,L,V){var re;for(re=3;0<re;--re)Vu(v,T+=4,L,V)}function mf(v,T,L,V,re,de,me,ve){for(de=2*de+1;0<re--;){if(F1(v,T,L,de,me))if(S1(v,T,L,ve))Y_(v,T,L);else{var ye=v,Ie=T,Ke=L,pt=ye[Ie-2*Ke],mt=ye[Ie-Ke],nt=ye[Ie+0],Gt=ye[Ie+Ke],It=ye[Ie+2*Ke],Ze=27*(Nt=P2[1020+3*(nt-mt)+P2[1020+pt-Gt]])+63>>7,et=18*Nt+63>>7,Nt=9*Nt+63>>7;ye[Ie-3*Ke]=Oc[255+ye[Ie-3*Ke]+Nt],ye[Ie-2*Ke]=Oc[255+pt+et],ye[Ie-Ke]=Oc[255+mt+Ze],ye[Ie+0]=Oc[255+nt-Ze],ye[Ie+Ke]=Oc[255+Gt-et],ye[Ie+2*Ke]=Oc[255+It-Nt]}T+=V}}function Xh(v,T,L,V,re,de,me,ve){for(de=2*de+1;0<re--;){if(F1(v,T,L,de,me))if(S1(v,T,L,ve))Y_(v,T,L);else{var ye=v,Ie=T,Ke=L,pt=ye[Ie-Ke],mt=ye[Ie+0],nt=ye[Ie+Ke],Gt=O1[112+(4+(It=3*(mt-pt))>>3)],It=O1[112+(It+3>>3)],Ze=Gt+1>>1;ye[Ie-2*Ke]=Oc[255+ye[Ie-2*Ke]+Ze],ye[Ie-Ke]=Oc[255+pt+It],ye[Ie+0]=Oc[255+mt-Gt],ye[Ie+Ke]=Oc[255+nt-Ze]}T+=V}}function Mw(v,T,L,V,re,de){mf(v,T,L,1,16,V,re,de)}function hm(v,T,L,V,re,de){mf(v,T,1,L,16,V,re,de)}function D2(v,T,L,V,re,de){var me;for(me=3;0<me;--me)Xh(v,T+=4*L,L,1,16,V,re,de)}function W_(v,T,L,V,re,de){var me;for(me=3;0<me;--me)Xh(v,T+=4,1,L,16,V,re,de)}function S2(v,T,L,V,re,de,me,ve){mf(v,T,re,1,8,de,me,ve),mf(L,V,re,1,8,de,me,ve)}function Tw(v,T,L,V,re,de,me,ve){mf(v,T,1,re,8,de,me,ve),mf(L,V,1,re,8,de,me,ve)}function Dw(v,T,L,V,re,de,me,ve){Xh(v,T+4*re,re,1,8,de,me,ve),Xh(L,V+4*re,re,1,8,de,me,ve)}function L1(v,T,L,V,re,de,me,ve){Xh(v,T+4,1,re,8,de,me,ve),Xh(L,V+4,1,re,8,de,me,ve)}function V_(){this.ba=new Ve,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Sw(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Iw(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function P1(){this.ua=0,this.Wa=new _e,this.vb=new _e,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new K}function I2(){this.xb=this.a=0,this.l=new Un,this.ca=new Ve,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new P1,this.ab=0,this.gc=a(4,Iw),this.Oc=0}function j_(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Un,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Am(v,T,L,V,re,de,me){for(v=null==v?0:v[T+0],T=0;T<me;++T)re[de+T]=v+L[V+T]&255,v=re[de+T]}function Fw(v,T,L,V,re,de,me){var ve;if(null==v)Am(null,null,L,V,re,de,me);else for(ve=0;ve<me;++ve)re[de+ve]=v[T+ve]+L[V+ve]&255}function gf(v,T,L,V,re,de,me){if(null==v)Am(null,null,L,V,re,de,me);else{var ve,ye=v[T+0],Ie=ye,Ke=ye;for(ve=0;ve<me;++ve)Ie=Ke+(ye=v[T+ve])-Ie,Ke=L[V+ve]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=ye,re[de+ve]=Ke}}function kw(v,T,L,V){var re=T.width,de=T.o;if(e(null!=v&&null!=T),0>L||0>=V||L+V>de)return null;if(!v.Cc){if(null==v.ga){var me;if(v.ga=new j_,(me=null==v.ga)||(me=T.width*T.o,e(0==v.Gb.length),v.Gb=s(me),v.Uc=0,null==v.Gb?me=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,me=1),me=!me),!me){var ve=v.Fa,ye=v.P,Ie=v.qc,Ke=v.mb,pt=v.nb,mt=ye+1,nt=Ie-1,Gt=(me=v.ga).l;if(e(null!=ve&&null!=Ke&&null!=T),Bf[0]=null,Bf[1]=Am,Bf[2]=Fw,Bf[3]=gf,me.ca=Ke,me.tb=pt,me.c=T.width,me.i=T.height,e(0<me.c&&0<me.i),1>=Ie)T=0;else if(me.$a=ve[ye+0]>>0&3,me.Z=ve[ye+0]>>2&3,me.Lc=ve[ye+0]>>4&3,ye=ve[ye+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||ye)T=0;else if(Gt.put=Zr,Gt.ac=Cn,Gt.bc=bs,Gt.ma=me,Gt.width=T.width,Gt.height=T.height,Gt.Da=T.Da,Gt.v=T.v,Gt.va=T.va,Gt.j=T.j,Gt.o=T.o,me.$a)e:{e(1==me.$a),T=Te();t:for(;;){if(null==T){T=0;break e}if(e(null!=me),me.mc=T,T.c=me.c,T.i=me.i,T.l=me.l,T.l.ma=me,T.l.width=me.c,T.l.height=me.i,T.a=0,pe(T.m,ve,mt,nt),!ct(me.c,me.i,1,T,null)||(1==T.ab&&3==T.gc[0].hc&&dh(T.s)?(me.ic=1,ve=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(ve),T.Ba=0,null==T.V?(T.a=1,T=0):T=1):(me.ic=0,T=Bt(T,me.c)),!T))break t;T=1;break e}me.mc=null,T=0}else T=nt>=me.c*me.i;me=!T}if(me)return null;1!=v.ga.Lc?v.Ga=0:V=de-L}e(null!=v.ga),e(L+V<=de);e:{if(T=(ve=v.ga).c,de=ve.l.o,0==ve.$a){if(mt=v.rc,nt=v.Vc,Gt=v.Fa,Ie=v.mb,Ke=v.nb+L*T,e((ye=v.P+1+L*T)<=v.P+v.qc),0!=ve.Z)for(e(null!=Bf[ve.Z]),me=0;me<V;++me)Bf[ve.Z](mt,nt,Gt,ye,Ie,Ke,T),mt=Ie,nt=Ke,Ke+=T,ye+=T;else for(me=0;me<V;++me)i(Ie,Ke,Gt,ye,T),mt=Ie,nt=Ke,Ke+=T,ye+=T;v.rc=mt,v.Vc=nt}else{if(e(null!=ve.mc),T=L+V,e(null!=(me=ve.mc)),e(T<=me.i),me.C>=T)T=1;else if(ve.ic||ht(),ve.ic){ve=me.V,mt=me.Ba;var It=me.i,Ze=(Gt=1,ye=me.$/(nt=me.c),Ie=me.$%nt,Ke=me.m,pt=me.s,me.$),et=nt*It,Nt=nt*T,Kt=pt.wc,zt=Ze<Nt?Ls(pt,Ie,ye):null;e(Ze<=et),e(T<=It),e(dh(pt));t:for(;;){for(;!Ke.h&&Ze<Nt;){if(Ie&Kt||(zt=Ls(pt,Ie,ye)),e(null!=zt),De(Ke),256>(It=Zo(zt.G[0],zt.H[0],Ke)))ve[mt+Ze]=It,++Ze,++Ie>=nt&&(Ie=0,++ye<=T&&!(ye%16)&&Rc(me,ye));else{if(!(280>It)){Gt=0;break t}It=us(It-256,Ke);var Ni,Ei=Zo(zt.G[4],zt.H[4],Ke);if(De(Ke),!(Ze>=(Ei=Ta(nt,Ei=us(Ei,Ke)))&&et-Ze>=It)){Gt=0;break t}for(Ni=0;Ni<It;++Ni)ve[mt+Ze+Ni]=ve[mt+Ze+Ni-Ei];for(Ze+=It,Ie+=It;Ie>=nt;)Ie-=nt,++ye<=T&&!(ye%16)&&Rc(me,ye);Ze<Nt&&Ie&Kt&&(zt=Ls(pt,Ie,ye))}e(Ke.h==le(Ke))}Rc(me,ye>T?T:ye);break t}!Gt||Ke.h&&Ze<et?(Gt=0,me.a=Ke.h?5:3):me.$=Ze,T=Gt}else T=Uc(me,me.V,me.Ba,me.c,me.i,T,Mt);if(!T){V=0;break e}}L+V>=de&&(v.Cc=1),V=1}if(!V)return null;if(v.Cc&&(null!=(V=v.ga)&&(V.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+L*re}function F(v,T,L,V,re,de){for(;0<re--;){var me,ve=v,ye=T+(L?1:0),Ie=v,Ke=T+(L?0:3);for(me=0;me<V;++me){var pt=Ie[Ke+4*me];255!=pt&&(ve[ye+4*me+0]=ve[ye+4*me+0]*(pt*=32897)>>23,ve[ye+4*me+1]=ve[ye+4*me+1]*pt>>23,ve[ye+4*me+2]=ve[ye+4*me+2]*pt>>23)}T+=de}}function se(v,T,L,V,re){for(;0<V--;){var de;for(de=0;de<L;++de){var me=v[T+2*de+0],ve=15&(Ie=v[T+2*de+1]),ye=4369*ve,Ie=(240&Ie|Ie>>4)*ye>>16;v[T+2*de+0]=(240&me|me>>4)*ye>>16&240|(15&me|me<<4)*ye>>16>>4&15,v[T+2*de+1]=240&Ie|ve}T+=re}}function ke(v,T,L,V,re,de,me,ve){var ye,Ie,Ke=255;for(Ie=0;Ie<re;++Ie){for(ye=0;ye<V;++ye){var pt=v[T+ye];de[me+4*ye]=pt,Ke&=pt}T+=L,me+=ve}return 255!=Ke}function je(v,T,L,V,re){var de;for(de=0;de<re;++de)L[V+de]=v[T+de]>>8}function ht(){yf=F,n0=se,Q1=ke,nP=je}function Pt(v,T,L){P[v]=function(V,re,de,me,ve,ye,Ie,Ke,pt,mt,nt,Gt,It,Ze,et,Nt,Kt){var zt,Ni=Kt-1>>1,Ei=ve[ye+0]|Ie[Ke+0]<<16,mn=pt[mt+0]|nt[Gt+0]<<16;e(null!=V);var ki=3*Ei+mn+131074>>2;for(T(V[re+0],255&ki,ki>>16,It,Ze),null!=de&&T(de[me+0],255&(ki=3*mn+Ei+131074>>2),ki>>16,et,Nt),zt=1;zt<=Ni;++zt){var Nr=ve[ye+zt]|Ie[Ke+zt]<<16,Xr=pt[mt+zt]|nt[Gt+zt]<<16,Ir=Ei+Nr+mn+Xr+524296,pr=Ir+2*(Nr+mn)>>3;ki=pr+Ei>>1,Ei=(Ir=Ir+2*(Ei+Xr)>>3)+Nr>>1,T(V[re+2*zt-1],255&ki,ki>>16,It,Ze+(2*zt-1)*L),T(V[re+2*zt-0],255&Ei,Ei>>16,It,Ze+(2*zt-0)*L),null!=de&&(Ei=pr+Xr>>1,T(de[me+2*zt-1],255&(ki=Ir+mn>>1),ki>>16,et,Nt+(2*zt-1)*L),T(de[me+2*zt+0],255&Ei,Ei>>16,et,Nt+(2*zt+0)*L)),Ei=Nr,mn=Xr}1&Kt||(T(V[re+Kt-1],255&(ki=3*Ei+mn+131074>>2),ki>>16,It,Ze+(Kt-1)*L),null!=de&&T(de[me+Kt-1],255&(ki=3*mn+Ei+131074>>2),ki>>16,et,Nt+(Kt-1)*L))}}function ii(){vh[N1]=D7,vh[H1]=fP,vh[cP]=S7,vh[z1]=pP,vh[G1]=mP,vh[R2]=gP,vh[hP]=I7,vh[U2]=fP,vh[Q2]=pP,vh[Y1]=mP,vh[O2]=gP}function Oi(v){return v&~F7?0>v?0:255:v>>_P}function cn(v,T){return Oi((19077*v>>8)+(26149*T>>8)-14234)}function jn(v,T,L){return Oi((19077*v>>8)-(6419*T>>8)-(13320*L>>8)+8708)}function ar(v,T){return Oi((19077*v>>8)+(33050*T>>8)-17685)}function Er(v,T,L,V,re){V[re+0]=cn(v,L),V[re+1]=jn(v,T,L),V[re+2]=ar(v,T)}function $s(v,T,L,V,re){V[re+0]=ar(v,T),V[re+1]=jn(v,T,L),V[re+2]=cn(v,L)}function ua(v,T,L,V,re){var de=jn(v,T,L);T=de<<3&224|ar(v,T)>>3,V[re+0]=248&cn(v,L)|de>>5,V[re+1]=T}function Xa(v,T,L,V,re){var de=240&ar(v,T)|15;V[re+0]=240&cn(v,L)|jn(v,T,L)>>4,V[re+1]=de}function Cl(v,T,L,V,re){V[re+0]=255,Er(v,T,L,V,re+1)}function Ro(v,T,L,V,re){$s(v,T,L,V,re),V[re+3]=255}function qh(v,T,L,V,re){Er(v,T,L,V,re),V[re+3]=255}function Qc(v,T){return 0>v?0:v>T?T:v}function ju(v,T,L){P[v]=function(V,re,de,me,ve,ye,Ie,Ke,pt){for(var mt=Ke+(-2&pt)*L;Ke!=mt;)T(V[re+0],de[me+0],ve[ye+0],Ie,Ke),T(V[re+1],de[me+0],ve[ye+0],Ie,Ke+L),re+=2,++me,++ye,Ke+=2*L;1&pt&&T(V[re+0],de[me+0],ve[ye+0],Ie,Ke)}}function R1(v,T,L){return 0==L?0==v?0==T?6:5:0==T?4:0:L}function Lw(v,T,L,V,re){switch(v>>>30){case 3:e0(T,L,V,re,0);break;case 2:Hw(T,L,V,re);break;case 1:iA(T,L,V,re)}}function Pw(v,T){var L,V,re=T.M,de=T.Nb,me=v.oc,ve=v.pc+40,ye=v.oc,Ie=v.pc+584,Ke=v.oc,pt=v.pc+600;for(L=0;16>L;++L)me[ve+32*L-1]=129;for(L=0;8>L;++L)ye[Ie+32*L-1]=129,Ke[pt+32*L-1]=129;for(0<re?me[ve-1-32]=ye[Ie-1-32]=Ke[pt-1-32]=129:(n(me,ve-32-1,127,21),n(ye,Ie-32-1,127,9),n(Ke,pt-32-1,127,9)),V=0;V<v.za;++V){var mt=T.ya[T.aa+V];if(0<V){for(L=-1;16>L;++L)i(me,ve+32*L-4,me,ve+32*L+12,4);for(L=-1;8>L;++L)i(ye,Ie+32*L-4,ye,Ie+32*L+4,4),i(Ke,pt+32*L-4,Ke,pt+32*L+4,4)}var nt=v.Gd,Gt=v.Hd+V,It=mt.ad,Ze=mt.Hc;if(0<re&&(i(me,ve-32,nt[Gt].y,0,16),i(ye,Ie-32,nt[Gt].f,0,8),i(Ke,pt-32,nt[Gt].ea,0,8)),mt.Za){var et=me,Nt=ve-32+16;for(0<re&&(V>=v.za-1?n(et,Nt,nt[Gt].y[15],4):i(et,Nt,nt[Gt+1].y,0,4)),L=0;4>L;L++)et[Nt+128+L]=et[Nt+256+L]=et[Nt+384+L]=et[Nt+0+L];for(L=0;16>L;++L,Ze<<=2)nA[mt.Ob[L]](et=me,Nt=ve+wP[L]),Lw(Ze,It,16*+L,et,Nt)}else if(et=R1(V,re,mt.Ob[0]),xf[et](me,ve),0!=Ze)for(L=0;16>L;++L,Ze<<=2)Lw(Ze,It,16*+L,me,ve+wP[L]);for(L=mt.Gc,et=R1(V,re,mt.Dd),qu[et](ye,Ie),qu[et](Ke,pt),Ze=It,et=ye,Nt=Ie,255&(mt=L>>0)&&(170&mt?wf(Ze,256,et,Nt):Ku(Ze,256,et,Nt)),mt=Ke,Ze=pt,255&(L>>=8)&&(170&L?wf(It,320,mt,Ze):Ku(It,320,mt,Ze)),re<v.Ub-1&&(i(nt[Gt].y,0,me,ve+480,16),i(nt[Gt].f,0,ye,Ie+224,8),i(nt[Gt].ea,0,Ke,pt+224,8)),nt=v.sa,Gt=v.ta+16*V+16*de*v.R,It=v.qa,mt=v.ra+8*V+(L=8*de*v.B),Ze=v.Ha,et=v.Ia+8*V+L,L=0;16>L;++L)i(nt,Gt+L*v.R,me,ve+32*L,16);for(L=0;8>L;++L)i(It,mt+L*v.B,ye,Ie+32*L,8),i(Ze,et+L*v.B,Ke,pt+32*L,8)}}function J_(v,T,L,V,re,de,me,ve,ye){var Ie=[0],Ke=[0],pt=0,mt=null!=ye?ye.kd:0,nt=ye??new Sw;if(null==v||12>L)return 7;nt.data=v,nt.w=T,nt.ha=L,T=[T],L=[L],nt.gb=[nt.gb];e:{var Gt=T,It=L,Ze=nt.gb;if(e(null!=v),e(null!=It),e(null!=Ze),Ze[0]=0,12<=It[0]&&!t(v,Gt[0],"RIFF")){if(t(v,Gt[0]+8,"WEBP")){Ze=3;break e}var et=ft(v,Gt[0]+4);if(12>et||4294967286<et){Ze=3;break e}if(mt&&et>It[0]-8){Ze=7;break e}Ze[0]=et,Gt[0]+=12,It[0]-=12}Ze=0}if(0!=Ze)return Ze;for(et=0<nt.gb[0],L=L[0];;){e:{var Nt=v;It=T,Ze=L;var Kt=Ie,zt=Ke,Ni=Gt=[0];if((ki=pt=[pt])[0]=0,8>Ze[0])Ze=7;else{if(!t(Nt,It[0],"VP8X")){if(10!=ft(Nt,It[0]+4)){Ze=3;break e}if(18>Ze[0]){Ze=7;break e}var Ei=ft(Nt,It[0]+8),mn=1+Se(Nt,It[0]+12);if(2147483648<=mn*(Nt=1+Se(Nt,It[0]+15))){Ze=3;break e}null!=Ni&&(Ni[0]=Ei),null!=Kt&&(Kt[0]=mn),null!=zt&&(zt[0]=Nt),It[0]+=18,Ze[0]-=18,ki[0]=1}Ze=0}}if(pt=pt[0],0!=Ze)return Ze;if(It=!!(2&(Gt=Gt[0])),!et&&pt)return 3;if(null!=de&&(de[0]=!!(16&Gt)),null!=me&&(me[0]=It),null!=ve&&(ve[0]=0),me=Ie[0],Gt=Ke[0],pt&&It&&null==ye){Ze=0;break}if(4>L){Ze=7;break}if(et&&pt||!et&&!pt&&!t(v,T[0],"ALPH")){L=[L],nt.na=[nt.na],nt.P=[nt.P],nt.Sa=[nt.Sa];e:{Ze=T,et=L;var ki=nt.gb;Kt=nt.na,zt=nt.P,Ni=nt.Sa,mn=22,e(null!=(Ei=v)),e(null!=et),Nt=Ze[0];var Nr=et[0];for(e(null!=Kt),e(null!=Ni),Kt[0]=null,zt[0]=null,Ni[0]=0;;){if(Ze[0]=Nt,et[0]=Nr,8>Nr){Ze=7;break e}var Xr=ft(Ei,Nt+4);if(4294967286<Xr){Ze=3;break e}var Ir=8+Xr+1&-2;if(mn+=Ir,0<ki&&mn>ki){Ze=3;break e}if(!t(Ei,Nt,"VP8 ")||!t(Ei,Nt,"VP8L")){Ze=0;break e}if(Nr[0]<Ir){Ze=7;break e}t(Ei,Nt,"ALPH")||(Kt[0]=Ei,zt[0]=Nt+8,Ni[0]=Xr),Nt+=Ir,Nr-=Ir}}if(L=L[0],nt.na=nt.na[0],nt.P=nt.P[0],nt.Sa=nt.Sa[0],0!=Ze)break}L=[L],nt.Ja=[nt.Ja],nt.xa=[nt.xa];e:if(ki=v,Ze=T,et=L,Kt=nt.gb[0],zt=nt.Ja,Ni=nt.xa,Ei=Ze[0],Nt=!t(ki,Ei,"VP8 "),mn=!t(ki,Ei,"VP8L"),e(null!=ki),e(null!=et),e(null!=zt),e(null!=Ni),8>et[0])Ze=7;else{if(Nt||mn){if(ki=ft(ki,Ei+4),12<=Kt&&ki>Kt-12){Ze=3;break e}if(mt&&ki>et[0]-8){Ze=7;break e}zt[0]=ki,Ze[0]+=8,et[0]-=8,Ni[0]=mn}else Ni[0]=5<=et[0]&&47==ki[Ei+0]&&!(ki[Ei+4]>>5),zt[0]=et[0];Ze=0}if(L=L[0],nt.Ja=nt.Ja[0],nt.xa=nt.xa[0],T=T[0],0!=Ze)break;if(4294967286<nt.Ja)return 3;if(null==ve||It||(ve[0]=nt.xa?2:1),me=[me],Gt=[Gt],nt.xa){if(5>L){Ze=7;break}ve=me,mt=Gt,It=de,null==v||5>L?v=0:5<=L&&47==v[T+0]&&!(v[T+4]>>5)?(et=[0],ki=[0],Kt=[0],pe(zt=new J,v,T,L),Ii(zt,et,ki,Kt)?(null!=ve&&(ve[0]=et[0]),null!=mt&&(mt[0]=ki[0]),null!=It&&(It[0]=Kt[0]),v=1):v=0):v=0}else{if(10>L){Ze=7;break}ve=Gt,null==v||10>L||!ph(v,T+3,L-3)?v=0:(mt=v[T+0]|v[T+1]<<8|v[T+2]<<16,It=16383&(v[T+7]<<8|v[T+6]),v=16383&(v[T+9]<<8|v[T+8]),1&mt||3<(mt>>1&7)||!(mt>>4&1)||mt>>5>=nt.Ja||!It||!v?v=0:(me&&(me[0]=It),ve&&(ve[0]=v),v=1))}if(!v||(me=me[0],Gt=Gt[0],pt&&(Ie[0]!=me||Ke[0]!=Gt)))return 3;null!=ye&&(ye[0]=nt,ye.offset=T-ye.w,e(4294967286>T-ye.w),e(ye.offset==ye.ha-L));break}return 0==Ze||7==Ze&&pt&&null==ye?(null!=de&&(de[0]|=null!=nt.na&&0<nt.na.length),null!=V&&(V[0]=me),null!=re&&(re[0]=Gt),0):Ze}function Rw(v,T,L){var V=T.width,re=T.height,de=0,me=0,ve=V,ye=re;if(T.Da=null!=v&&0<v.Da,T.Da&&(ve=v.cd,ye=v.bd,de=v.v,me=v.j,11>L||(de&=-2,me&=-2),0>de||0>me||0>=ve||0>=ye||de+ve>V||me+ye>re))return 0;if(T.v=de,T.j=me,T.va=de+ve,T.o=me+ye,T.U=ve,T.T=ye,T.da=null!=v&&0<v.da,T.da){if(!Ct(ve,ye,L=[v.ib],de=[v.hb]))return 0;T.ib=L[0],T.hb=de[0]}return T.ob=null!=v&&v.ob,T.Kb=null==v||!v.Sd,T.da&&(T.ob=T.ib<3*V/4&&T.hb<3*re/4,T.Kb=0),1}function Uw(v){if(null==v)return 2;if(11>v.S){var T=v.f.RGBA;T.fb+=(v.height-1)*T.A,T.A=-T.A}else(T=v.f.kb).O+=((v=v.height)-1)*T.fa,T.fa=-T.fa,T.N+=(v-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(v-1>>1)*T.Db,T.Db=-T.Db,null!=T.F&&(T.J+=(v-1)*T.lb,T.lb=-T.lb);return 0}function K_(v,T,L,V){if(null==V||0>=v||0>=T)return 2;if(null!=L){if(L.Da){var re=L.cd,de=L.bd,me=-2&L.v,ve=-2&L.j;if(0>me||0>ve||0>=re||0>=de||me+re>v||ve+de>T)return 2;v=re,T=de}if(L.da){if(!Ct(v,T,re=[L.ib],de=[L.hb]))return 2;v=re[0],T=de[0]}}V.width=v,V.height=T;e:{var ye=V.width,Ie=V.height;if(v=V.S,0>=ye||0>=Ie||!(v>=N1&&13>v))v=2;else{if(0>=V.Rd&&null==V.sd){me=de=re=T=0;var Ke=(ve=ye*bP[v])*Ie;if(11>v||(de=(Ie+1)/2*(T=(ye+1)/2),12==v&&(me=(re=ye)*Ie)),null==(Ie=s(Ke+2*de+me))){v=1;break e}V.sd=Ie,11>v?((ye=V.f.RGBA).eb=Ie,ye.fb=0,ye.A=ve,ye.size=Ke):((ye=V.f.kb).y=Ie,ye.O=0,ye.fa=ve,ye.Fd=Ke,ye.f=Ie,ye.N=0+Ke,ye.Ab=T,ye.Cd=de,ye.ea=Ie,ye.W=0+Ke+de,ye.Db=T,ye.Ed=de,12==v&&(ye.F=Ie,ye.J=0+Ke+2*de),ye.Tc=me,ye.lb=re)}if(T=1,de=V.width,me=V.height,(re=V.S)>=N1&&13>re)if(11>re)v=V.f.RGBA,T&=(ve=Math.abs(v.A))*(me-1)+de<=v.size,T&=ve>=de*bP[re],T&=null!=v.eb;else{v=V.f.kb,ve=(de+1)/2,Ke=(me+1)/2,ye=Math.abs(v.fa),Ie=Math.abs(v.Ab);var pt=Math.abs(v.Db),mt=Math.abs(v.lb);T&=ye*(me-1)+de<=v.Fd,T&=Ie*(Ke-1)+ve<=v.Cd,T=(T&=pt*(Ke-1)+ve<=v.Ed)&ye>=de&Ie>=ve&pt>=ve,T&=null!=v.y,T&=null!=v.f,T&=null!=v.ea,12==re&&(T&=mt>=de,T&=mt*(me-1)+de<=v.Tc,T&=null!=v.F)}else T=0;v=T?0:2}}return 0!=v||null!=L&&L.fd&&(v=Uw(V)),v}var cc=64,Z_=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],X_=24,q_=32,Qw=8,hc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ne("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(v){return v},P.Predictor2=function(v,T,L){return T[L+0]},P.Predictor3=function(v,T,L){return T[L+1]},P.Predictor4=function(v,T,L){return T[L-1]},P.Predictor5=function(v,T,L){return ot(ot(v,T[L+1]),T[L+0])},P.Predictor6=function(v,T,L){return ot(v,T[L-1])},P.Predictor7=function(v,T,L){return ot(v,T[L+0])},P.Predictor8=function(v,T,L){return ot(T[L-1],T[L+0])},P.Predictor9=function(v,T,L){return ot(T[L+0],T[L+1])},P.Predictor10=function(v,T,L){return ot(ot(v,T[L-1]),ot(T[L+0],T[L+1]))},P.Predictor11=function(v,T,L){var V=T[L+0];return 0>=$t(V>>24&255,v>>24&255,(T=T[L-1])>>24&255)+$t(V>>16&255,v>>16&255,T>>16&255)+$t(V>>8&255,v>>8&255,T>>8&255)+$t(255&V,255&v,255&T)?V:v},P.Predictor12=function(v,T,L){var V=T[L+0];return(gt((v>>24&255)+(V>>24&255)-((T=T[L-1])>>24&255))<<24|gt((v>>16&255)+(V>>16&255)-(T>>16&255))<<16|gt((v>>8&255)+(V>>8&255)-(T>>8&255))<<8|gt((255&v)+(255&V)-(255&T)))>>>0},P.Predictor13=function(v,T,L){var V=T[L-1];return(yt((v=ot(v,T[L+0]))>>24&255,V>>24&255)<<24|yt(v>>16&255,V>>16&255)<<16|yt(v>>8&255,V>>8&255)<<8|yt(v>>0&255,V>>0&255))>>>0};var F2=P.PredictorAdd0;P.PredictorAdd1=Ht,ne("Predictor2","PredictorAdd2"),ne("Predictor3","PredictorAdd3"),ne("Predictor4","PredictorAdd4"),ne("Predictor5","PredictorAdd5"),ne("Predictor6","PredictorAdd6"),ne("Predictor7","PredictorAdd7"),ne("Predictor8","PredictorAdd8"),ne("Predictor9","PredictorAdd9"),ne("Predictor10","PredictorAdd10"),ne("Predictor11","PredictorAdd11"),ne("Predictor12","PredictorAdd12"),ne("Predictor13","PredictorAdd13");var Ow=P.PredictorAdd2;Tt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var U1,$h=P.ColorIndexInverseTransform,Nw=P.MapARGB,k2=P.VP8LColorIndexInverseTransformAlpha,L2=P.MapAlpha,_f=P.VP8LPredictorsAdd=[];_f.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var mh,eA,vf,ZA,Ju,$_,tA,e0,Hw,wf,iA,Ku,um,t0,dm,bf,zw,gh,Zu,ys,xs,Sa,_o,Xu,yf,n0,Q1,nP,rP=s(511),sP=s(2041),aP=s(225),oP=s(767),lP=0,P2=sP,O1=aP,Oc=oP,_h=rP,N1=0,H1=1,cP=2,z1=3,G1=4,R2=5,hP=6,U2=7,Q2=8,Y1=9,O2=10,p7=[2,3,7],m7=[3,3,11],AP=[280,256,256,256,40],g7=[0,1,1,1,0],_7=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],v7=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],w7=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],b7=8,N2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],H2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Gw=null,y7=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],x7=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],uP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],B7=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],C7=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],E7=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],M7=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xf=[],nA=[],qu=[],T7=1,dP=2,Bf=[],vh=[];Pt("UpsampleRgbLinePair",Er,3),Pt("UpsampleBgrLinePair",$s,3),Pt("UpsampleRgbaLinePair",qh,4),Pt("UpsampleBgraLinePair",Ro,4),Pt("UpsampleArgbLinePair",Cl,4),Pt("UpsampleRgba4444LinePair",Xa,2),Pt("UpsampleRgb565LinePair",ua,2);var D7=P.UpsampleRgbLinePair,S7=P.UpsampleBgrLinePair,fP=P.UpsampleRgbaLinePair,pP=P.UpsampleBgraLinePair,mP=P.UpsampleArgbLinePair,gP=P.UpsampleRgba4444LinePair,I7=P.UpsampleRgb565LinePair,W1=16,V1=1<<W1-1,Yw=-227,z2=482,_P=6,F7=(256<<_P)-1,vP=0,k7=s(256),L7=s(256),P7=s(256),R7=s(256),U7=s(z2-Yw),Q7=s(z2-Yw);ju("YuvToRgbRow",Er,3),ju("YuvToBgrRow",$s,3),ju("YuvToRgbaRow",qh,4),ju("YuvToBgraRow",Ro,4),ju("YuvToArgbRow",Cl,4),ju("YuvToRgba4444Row",Xa,2),ju("YuvToRgb565Row",ua,2);var wP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],j1=[0,2,8],O7=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(v,T,L,V,re){var de=H1,me=new V_,ve=new Ve;me.ba=ve,ve.S=de,ve.width=[ve.width],ve.height=[ve.height];var ye=ve.width,Ie=ve.height,Ke=new si;if(null==Ke||null==v)var pt=2;else e(null!=Ke),pt=J_(v,T,L,Ke.width,Ke.height,Ke.Pd,Ke.Qd,Ke.format,null);if(0!=pt?ye=0:(null!=ye&&(ye[0]=Ke.width[0]),null!=Ie&&(Ie[0]=Ke.height[0]),ye=1),ye){ve.width=ve.width[0],ve.height=ve.height[0],null!=V&&(V[0]=ve.width),null!=re&&(re[0]=ve.height);e:{if(V=new Un,(re=new Sw).data=v,re.w=T,re.ha=L,re.kd=1,T=[0],e(null!=re),(0==(v=J_(re.data,re.w,re.ha,null,null,null,T,null,re))||7==v)&&T[0]&&(v=4),0==(T=v)){if(e(null!=me),V.data=re.data,V.w=re.w+re.offset,V.ha=re.ha-re.offset,V.put=Zr,V.ac=Cn,V.bc=bs,V.ma=me,re.xa){if(null==(v=Te())){me=1;break e}if(function(mt,nt){var Gt=[0],It=[0],Ze=[0];t:for(;;){if(null==mt)return 0;if(null==nt)return mt.a=2,0;if(mt.l=nt,mt.a=0,pe(mt.m,nt.data,nt.w,nt.ha),!Ii(mt.m,Gt,It,Ze)){mt.a=3;break t}if(mt.xb=dP,nt.width=Gt[0],nt.height=It[0],!ct(Gt[0],It[0],1,mt,null))break t;return 1}return e(0!=mt.a),0}(v,V)){if(V=0==(T=K_(V.width,V.height,me.Oa,me.ba))){t:{V=v;i:for(;;){if(null==V){V=0;break t}if(e(null!=V.s.yc),e(null!=V.s.Ya),e(0<V.s.Wb),e(null!=(L=V.l)),e(null!=(re=L.ma)),0!=V.xb){if(V.ca=re.ba,V.tb=re.tb,e(null!=V.ca),!Rw(re.Oa,L,z1)){V.a=2;break i}if(!Bt(V,L.width)||L.da)break i;if((L.da||ji(V.ca.S))&&ht(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=V.ca.f.kb.F&&ht()),V.Pb&&0<V.s.ua&&null==V.s.vb.X&&!lt(V.s.vb,V.s.Wa.Xa)){V.a=1;break i}V.xb=0}if(!Uc(V,V.V,V.Ba,V.c,V.i,L.o,Zh))break i;re.Dc=V.Ma,V=1;break t}e(0!=V.a),V=0}V=!V}V&&(T=v.a)}else T=v.a}else{if(null==(v=new am)){me=1;break e}if(v.Fa=re.na,v.P=re.P,v.qc=re.Sa,om(v,V)){if(0==(T=K_(V.width,V.height,me.Oa,me.ba))){if(v.Aa=0,L=me.Oa,e(null!=(re=v)),null!=L){if(0<(ye=0>(ye=L.Md)?0:100<ye?255:255*ye/100)){for(Ie=Ke=0;4>Ie;++Ie)12>(pt=re.pb[Ie]).lc&&(pt.ia=ye*O7[0>pt.lc?0:pt.lc]>>3),Ke|=pt.ia;Ke&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=L.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}(function Za(v,T){if(null==v)return 0;if(null==T)return Gn(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!om(v,T))return 0;if(e(v.cb),null==T.ac||T.ac(T)){T.ob&&(v.L=0);var L=j1[v.L];if(2==v.L?(v.yb=0,v.zb=0):(v.yb=T.v-L>>4,v.zb=T.j-L>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=T.o+15+L>>4,v.Hb=T.va+15+L>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var V=v.ed;for(L=0;4>L;++L){var re;if(v.Qa.Cb){var de=v.Qa.Lb[L];v.Qa.Fb||(de+=V.Tb)}else de=V.Tb;for(re=0;1>=re;++re){var me=v.gd[L][re],ve=de;if(V.Pc&&(ve+=V.vd[0],re&&(ve+=V.od[0])),0<(ve=0>ve?0:63<ve?63:ve)){var ye=ve;0<V.wb&&(ye=4<V.wb?ye>>2:ye>>1)>9-V.wb&&(ye=9-V.wb),1>ye&&(ye=1),me.dd=ye,me.tc=2*ve+ye,me.ld=40<=ve?2:15<=ve?1:0}else me.tc=0;me.La=re}}}L=0}else Gn(v,6,"Frame setup failed"),L=v.a;if(L=0==L){if(L){v.$c=0,0<v.Aa||(v.Ic=1);e:{V=4*(ye=v.za);var Ie=32*ye,Ke=ye+1,pt=0<v.L?ye*(0<v.Aa?2:1):0,mt=(2==v.Aa?2:1)*ye;if((me=V+832+(re=3*(16*(L=v.Ic)+j1[v.L])/2*Ie)+(de=null!=v.Fa&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=me)L=0;else{if(me>v.Vb){if(v.Vb=0,v.Ec=s(me),v.Fc=0,null==v.Ec){L=Gn(v,1,"no memory during frame initialization.");break e}v.Vb=me}ve=v.Fc,v.Ac=me=v.Ec,v.Bc=ve,ve+=V,v.Gd=a(Ie,lc),v.Hd=0,v.rb=a(Ke+1,Rn),v.sb=1,v.wa=pt?a(pt,Mn):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=ye),e(!0),v.oc=me,v.pc=ve,ve+=832,v.ya=a(mt,mo),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,2==v.Aa&&(v.D.aa+=ye),v.R=16*ye,v.B=8*ye,ye=(Ie=j1[v.L])*v.R,Ie=Ie/2*v.B,v.sa=me,v.ta=ve+ye,v.qa=v.sa,v.ra=v.ta+16*L*v.R+Ie,v.Ha=v.qa,v.Ia=v.ra+8*L*v.B+Ie,v.$c=0,ve+=re,v.mb=de?me:null,v.nb=de?ve:null,e(ve+de<=v.Fc+v.Vb),Gu(v),n(v.Ac,v.Bc,0,V),L=1}}if(L){if(T.ka=0,T.y=v.sa,T.O=v.ta,T.f=v.qa,T.N=v.ra,T.ea=v.Ha,T.Vd=v.Ia,T.fa=v.R,T.Rc=v.B,T.F=null,T.J=0,!lP){for(L=-255;255>=L;++L)rP[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)sP[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)aP[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)oP[255+L]=0>L?0:255<L?255:L;lP=1}tA=g2,e0=N_,wf=B1,iA=m2,Ku=C1,Hw=O_,um=Mw,t0=hm,dm=S2,bf=Tw,zw=D2,gh=W_,Zu=Dw,ys=L1,xs=k1,Sa=Vu,_o=pf,Xu=T2,nA[0]=KA,nA[1]=_2,nA[2]=y2,nA[3]=x2,nA[4]=T1,nA[5]=G_,nA[6]=D1,nA[7]=Bw,nA[8]=C2,nA[9]=B2,xf[0]=E1,xf[1]=w2,xf[2]=Wu,xf[3]=H_,xf[4]=Bl,xf[5]=b2,xf[6]=M1,qu[0]=ff,qu[1]=v2,qu[2]=E2,qu[3]=Cw,qu[4]=cm,qu[5]=M2,qu[6]=Ew,L=1}else L=0}L&&(L=function(nt,Gt){for(nt.M=0;nt.M<nt.Va;++nt.M){var It,Ze=nt.Jc[nt.M&nt.Xb],et=nt.m,Nt=nt;for(It=0;It<Nt.za;++It){var Kt=et,zt=Nt,Ni=zt.Ac,Ei=zt.Bc+4*It,mn=zt.zc,ki=zt.ya[zt.aa+It];if(ki.$b=zt.Qa.Bb?Je(Kt,zt.Pa.jb[0])?2+Je(Kt,zt.Pa.jb[2]):Je(Kt,zt.Pa.jb[1]):0,zt.kc&&(ki.Ad=Je(Kt,zt.Bd)),ki.Za=!Je(Kt,145)+0,ki.Za){var Nr=ki.Ob,Xr=0;for(zt=0;4>zt;++zt){var Ir,pr=mn[0+zt];for(Ir=0;4>Ir;++Ir){for(var ps=uP[Je(Kt,(pr=C7[Ni[Ei+Ir]][pr])[0])];0<ps;)ps=uP[2*ps+Je(Kt,pr[ps])];Ni[Ei+Ir]=pr=-ps}i(Nr,Xr,Ni,Ei,4),Xr+=4,mn[0+zt]=pr}}else pr=Je(Kt,156)?Je(Kt,128)?1:3:Je(Kt,163)?2:0,ki.Ob[0]=pr,n(Ni,Ei,pr,4),n(mn,0,pr,4);ki.Dd=Je(Kt,142)?Je(Kt,114)?Je(Kt,183)?1:3:2:0}if(Nt.m.Ka)return Gn(nt,7,"Premature end-of-partition0 encountered.");for(;nt.ja<nt.za;++nt.ja){if(Nt=Ze,Kt=(et=nt).rb[et.sb-1],Ni=et.rb[et.sb+et.ja],It=et.ya[et.aa+et.ja],Ei=et.kc?It.Ad:0)Kt.la=Ni.la=0,It.Za||(Kt.Na=Ni.Na=0),It.Hc=0,It.Gc=0,It.ia=0;else{var ns,qn;if(Kt=Ni,Ni=Nt,Ei=et.Pa.Xc,ki=et.pb[(mn=et.ya[et.aa+et.ja]).$b],Xr=et.rb[et.sb-1],pr=Ir=0,n(zt=mn.ad,Nr=0,0,384),mn.Za)var qa=0,Ac=Ei[3];else{ps=s(16);var $a=Kt.Na+Xr.Na;if($a=Gw(Ni,Ei[1],$a,ki.Eb,0,ps,0),Kt.Na=Xr.Na=(0<$a)+0,1<$a)tA(ps,0,zt,Nr);else{var uc=ps[0]+3>>3;for(ps=0;256>ps;ps+=16)zt[Nr+ps]=uc}qa=1,Ac=Ei[0]}var qr=15&Kt.la,Nc=15&Xr.la;for(ps=0;4>ps;++ps){var Hc=1&Nc;for(uc=qn=0;4>uc;++uc)qr=qr>>1|(Hc=($a=Gw(Ni,Ac,$a=Hc+(1&qr),ki.Sc,qa,zt,Nr))>qa)<<7,qn=qn<<2|(3<$a?3:1<$a?2:0!=zt[Nr+0]),Nr+=16;qr>>=4,Nc=Nc>>1|Hc<<7,Ir=(Ir<<8|qn)>>>0}for(Ac=qr,qa=Nc>>4,ns=0;4>ns;ns+=2){for(qn=0,qr=Kt.la>>4+ns,Nc=Xr.la>>4+ns,ps=0;2>ps;++ps){for(Hc=1&Nc,uc=0;2>uc;++uc)qr=qr>>1|(Hc=0<($a=Gw(Ni,Ei[2],$a=Hc+(1&qr),ki.Qc,0,zt,Nr)))<<3,qn=qn<<2|(3<$a?3:1<$a?2:0!=zt[Nr+0]),Nr+=16;qr>>=2,Nc=Nc>>1|Hc<<5}pr|=qn<<4*ns,Ac|=qr<<4<<ns,qa|=(240&Nc)<<ns}Kt.la=Ac,Xr.la=qa,mn.Hc=Ir,mn.Gc=pr,mn.ia=43690&pr?0:ki.ia,Ei=!(Ir|pr)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[It.$b][It.Za],et.wa[et.Y+et.ja].La|=!Ei),Nt.Ka)return Gn(nt,7,"Premature end-of-file encountered.")}if(Gu(nt),et=Gt,Nt=1,It=(Ze=nt).D,Kt=0<Ze.L&&Ze.M>=Ze.zb&&Ze.M<=Ze.Va,0==Ze.Aa)e:{if(It.M=Ze.M,It.uc=Kt,Pw(Ze,It),Nt=1,It=(qn=Ze.D).Nb,Kt=(pr=j1[Ze.L])*Ze.R,Ei=Ze.sa,mn=Ze.ta-Kt+(ps=16*It*Ze.R),ki=Ze.qa,zt=Ze.ra-(Ni=pr/2*Ze.B)+(uc=8*It*Ze.B),Nr=Ze.Ha,Xr=Ze.Ia-Ni+uc,Nc=0==(qr=qn.M),Ir=qr>=Ze.Va-1,2==Ze.Aa&&Pw(Ze,qn),qn.uc)for(Hc=($a=Ze).D.M,e($a.D.uc),qn=$a.yb;qn<$a.Hb;++qn){Ac=Hc;var Uo=(Xo=(da=$a).D).Nb,Xo=Xo.wa[Xo.Y+(qa=qn)],Hl=da.sa,wh=da.ta+16*Uo*(ns=da.R)+16*qa,XA=Xo.dd,Qo=Xo.tc;if(0!=Qo)if(e(3<=Qo),1==da.L)0<qa&&Sa(Hl,wh,ns,Qo+4),Xo.La&&Xu(Hl,wh,ns,Qo),0<Ac&&xs(Hl,wh,ns,Qo+4),Xo.La&&_o(Hl,wh,ns,Qo);else{var $u=da.B,fm=da.qa,r0=da.ra+8*Uo*$u+8*qa,Cf=da.Ha,da=da.Ia+8*Uo*$u+8*qa;Uo=Xo.ld,0<qa&&(t0(Hl,wh,ns,Qo+4,XA,Uo),bf(fm,r0,Cf,da,$u,Qo+4,XA,Uo)),Xo.La&&(gh(Hl,wh,ns,Qo,XA,Uo),ys(fm,r0,Cf,da,$u,Qo,XA,Uo)),0<Ac&&(um(Hl,wh,ns,Qo+4,XA,Uo),dm(fm,r0,Cf,da,$u,Qo+4,XA,Uo)),Xo.La&&(zw(Hl,wh,ns,Qo,XA,Uo),Zu(fm,r0,Cf,da,$u,Qo,XA,Uo))}}if(Ze.ia&&alert("todo:DitherRow"),null!=et.put){if(qn=16*qr,qr=16*(qr+1),Nc?(et.y=Ze.sa,et.O=Ze.ta+ps,et.f=Ze.qa,et.N=Ze.ra+uc,et.ea=Ze.Ha,et.W=Ze.Ia+uc):(qn-=pr,et.y=Ei,et.O=mn,et.f=ki,et.N=zt,et.ea=Nr,et.W=Xr),Ir||(qr-=pr),qr>et.o&&(qr=et.o),et.F=null,et.J=null,null!=Ze.Fa&&0<Ze.Fa.length&&qn<qr&&(et.J=kw(Ze,et,qn,qr-qn),et.F=Ze.mb,null==et.F&&0==et.F.length)){Nt=Gn(Ze,3,"Could not decode alpha data.");break e}qn<et.j&&(pr=et.j-qn,qn=et.j,e(!(1&pr)),et.O+=Ze.R*pr,et.N+=Ze.B*(pr>>1),et.W+=Ze.B*(pr>>1),null!=et.F&&(et.J+=et.width*pr)),qn<qr&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,null!=et.F&&(et.J+=et.v),et.ka=qn-et.j,et.U=et.va-et.v,et.T=qr-qn,Nt=et.put(et))}It+1!=Ze.Ic||Ir||(i(Ze.sa,Ze.ta-Kt,Ei,mn+16*Ze.R,Kt),i(Ze.qa,Ze.ra-Ni,ki,zt+8*Ze.B,Ni),i(Ze.Ha,Ze.Ia-Ni,Nr,Xr+8*Ze.B,Ni))}if(!Nt)return Gn(nt,6,"Output aborted.")}return 1}(v,T)),null!=T.bc&&T.bc(T),L&=1}return L?(v.cb=0,L):0})(v,V)||(T=v.a)}}else T=v.a}0==T&&null!=me.Oa&&me.Oa.fd&&(T=Uw(me.ba))}me=T}de=0!=me?null:11>de?ve.f.RGBA.eb:ve.f.kb.y}else de=null;return de};var bP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,z){for(var W="",Y=0;Y<4;Y++)W+=String.fromCharCode(P[z++]);return W}function A(P,z){return(P[z+0]<<0|P[z+1]<<8|P[z+2]<<16)>>>0}function u(P,z){return(P[z+0]<<0|P[z+1]<<8|P[z+2]<<16|P[z+3]<<24)>>>0}new l;var f=[0],d=[0],_=[],p=new l,g=r,m=function(P,z){var W={},Y=0,K=!1,q=0,Q=0;if(W.frames=[],!
/** @license
             * Copyright (c) 2017 Dominik Homberger
            Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
            The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
            THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
            https://webpjs.appspot.com
            WebPRiffParser dominikhlbg@gmail.com
            */
function(te,le,be,De){for(var Fe=0;Fe<4;Fe++)if(te[le+Fe]!="RIFF".charCodeAt(Fe))return!0;return!1}(P,z)){var ie,ee;for(u(P,z+=4),z+=8;z<P.length;){var he=c(P,z),pe=u(P,z+=4);z+=4;var ue=pe+(1&pe);switch(he){case"VP8 ":case"VP8L":void 0===W.frames[Y]&&(W.frames[Y]={}),(J=W.frames[Y]).src_off=K?Q:z-8,J.src_size=q+pe+8,Y++,K&&(K=!1,q=0,Q=0);break;case"VP8X":(J=W.header={}).feature_flags=P[z];var Be=z+4;J.canvas_width=1+A(P,Be),J.canvas_height=1+A(P,Be+=3),Be+=3;break;case"ALPH":K=!0,q=ue+8,Q=z-8;break;case"ANIM":(J=W.header).bgcolor=u(P,z),J.loop_count=(ie=P)[(ee=Be=z+4)+0]<<0|ie[ee+1]<<8,Be+=2;break;case"ANMF":var Le,J;(J=W.frames[Y]={}).offset_x=2*A(P,z),J.offset_y=2*A(P,z+=3),J.width=1+A(P,z+=3),J.height=1+A(P,z+=3),J.duration=A(P,z+=3),z+=3,Le=P[z++],J.dispose=1&Le,J.blend=Le>>1&1}"ANMF"!=he&&(z+=ue)}return W}}(g,0);m.response=g,m.rgbaoutput=!0,m.dataurl=!1;var C=m.header?m.header:null,B=m.frames?m.frames:null;if(C){C.loop_counter=C.loop_count,f=[C.canvas_height],d=[C.canvas_width];for(var S=0;S<B.length&&0!=B[S].blend;S++);}var U=B[0],H=p.WebPDecodeRGBA(g,U.src_off,U.src_size,d,f);U.rgba=H,U.imgwidth=d[0],U.imgheight=f[0];for(var N=0;N<d[0]*f[0]*4;N++)_[N]=H[N];return this.width=d,this.height=f,this.data=_,this}(function(r){var t=function(f,d,_,p){var g=4,m=a;switch(p){case r.image_compression.FAST:g=1,m=s;break;case r.image_compression.MEDIUM:g=6,m=o;break;case r.image_compression.SLOW:g=9,m=l}var C=bw(f=i(f,d,_,m),{level:g});return r.__addimage__.arrayBufferToBinaryString(C)},i=function(f,d,_,p){for(var g,m,C,B=f.length/d,S=new Uint8Array(f.length+B),U=A(),H=0;H<B;H+=1){if(g=f.subarray(C=H*d,C+d),p)S.set(p(g,_,m),C+H);else{for(var N,P=U.length,z=[];N<P;N+=1)z[N]=U[N](g,_,m);var W=u(z.concat());S.set(z[W],C+H)}m=g}return S},n=function(f){var d=Array.apply([],f);return d.unshift(0),d},s=function(f,d){var p=[],g=f.length;p[0]=1;for(var m=0;m<g;m+=1)p[m+1]=f[m]-(f[m-d]||0)+256&255;return p},a=function(f,d,_){var g=[],m=f.length;g[0]=2;for(var C=0;C<m;C+=1)g[C+1]=f[C]-(_&&_[C]||0)+256&255;return g},o=function(f,d,_){var m=[],C=f.length;m[0]=3;for(var B=0;B<C;B+=1)m[B+1]=f[B]+256-((f[B-d]||0)+(_&&_[B]||0)>>>1)&255;return m},l=function(f,d,_){var C,B=[],S=f.length;B[0]=4;for(var U=0;U<S;U+=1)C=c(f[U-d]||0,_&&_[U]||0,_&&_[U-d]||0),B[U+1]=f[U]-C+256&255;return B},c=function(f,d,_){if(f===d&&d===_)return f;var p=Math.abs(d-_),g=Math.abs(f-_),m=Math.abs(f+d-_-_);return p<=g&&p<=m?f:g<=m?d:_},A=function(){return[n,s,a,o,l]},u=function(f){var d=f.map(function(_){return _.reduce(function(p,g){return p+Math.abs(g)},0)});return d.indexOf(Math.min.apply(null,d))};r.processPNG=function(f,d,_,p){var g,m,C,B,S,U,H,N,P,z,W,Y,K,q,Q,ie=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(C=new mV(f)).imgData,m=C.bits,g=C.colorSpace,S=C.colors,-1!==[4,6].indexOf(C.colorType)){if(8===C.bits){P=(N=32==C.pixelBitlength?new Uint32Array(C.decodePixels().buffer):16==C.pixelBitlength?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,W=new Uint8Array(P*C.colors),z=new Uint8Array(P);var he,pe=C.pixelBitlength-C.bits;for(q=0,Q=0;q<P;q++){for(K=N[q],he=0;he<pe;)W[Q++]=K>>>he&255,he+=C.bits;z[q]=K>>>he&255}}if(16===C.bits){P=(N=new Uint32Array(C.decodePixels().buffer)).length,W=new Uint8Array(P*(32/C.pixelBitlength)*C.colors),z=new Uint8Array(P*(32/C.pixelBitlength)),Y=C.colors>1,q=0,Q=0;for(var ue=0;q<P;)K=N[q++],W[Q++]=K>>>0&255,Y&&(W[Q++]=K>>>16&255,K=N[q++],W[Q++]=K>>>0&255),z[ue++]=K>>>16&255;m=8}p!==r.image_compression.NONE?(f=t(W,C.width*C.colors,C.colors,p),H=t(z,C.width,1,p)):(f=W,H=z,ie=void 0)}if(3===C.colorType&&(g=this.color_spaces.INDEXED,U=C.palette,C.transparency.indexed)){var Be=C.transparency.indexed,Le=0;for(q=0,P=Be.length;q<P;++q)Le+=Be[q];if((Le/=255)==P-1&&-1!==Be.indexOf(0))B=[Be.indexOf(0)];else if(Le!==P){for(N=C.decodePixels(),z=new Uint8Array(N.length),q=0,P=N.length;q<P;q++)z[q]=Be[N[q]];H=t(z,C.width,1)}}var J=function(te){var le;switch(te){case r.image_compression.FAST:le=11;break;case r.image_compression.MEDIUM:le=13;break;case r.image_compression.SLOW:le=14;break;default:le=12}return le}(p);return ie===this.decode.FLATE_DECODE&&(ee="/Predictor "+J+" "),ee+="/Colors "+S+" /BitsPerComponent "+m+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:_,data:f,index:d,filter:ie,decodeParameters:ee,transparency:B,palette:U,sMask:H,predictor:J,width:C.width,height:C.height,bitsPerComponent:m,colorSpace:g}}}})(bn.API),function(r){r.processGIF89A=function(e,t,i,n){var s=new gV(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},A=new d2(100).encode(c,100);return r.processJPEG.call(this,A,t,i,n)},r.processGIF87A=r.processGIF89A}(bn.API),Jh.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:n,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Jh.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[r]()}catch(t){As.log("bit decode error:"+t)}},Jh.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<e;n++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}0!==t&&(this.pos+=4-t)}},Jh.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,n=0;n<r;n++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*n*4,l=15&s,c=this.palette[s>>4];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*n+1>=this.width)break;this.data[a+4]=(c=this.palette[l]).blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==e&&(this.pos+=4-e)}},Jh.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(n<this.palette.length){var a=this.palette[n];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==r&&(this.pos+=4-r)}},Jh.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=s>>15?255:0,A=i*this.width*4+4*n;this.data[A]=(s>>10&e)/e*255|0,this.data[A+1]=o,this.data[A+2]=a,this.data[A+3]=c}this.pos+=r}},Jh.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,A=n*this.width*4+4*s;this.data[A]=(a>>11)/e*255|0,this.data[A+1]=l,this.data[A+2]=o,this.data[A+3]=255}this.pos+=r}},Jh.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=n,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},Jh.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=n,this.data[o+2]=i,this.data[o+3]=a}},Jh.prototype.getData=function(){return this.data},
/**
       * @license
       * Copyright (c) 2018 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){r.processBMP=function(e,t,i,n){var s=new Jh(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new d2(100).encode(l,100);return r.processJPEG.call(this,c,t,i,n)}}(bn.API),KL.prototype.getData=function(){return this.data},
/**
       * @license
       * Copyright (c) 2019 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){r.processWEBP=function(e,t,i,n){var s=new KL(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new d2(100).encode(l,100);return r.processJPEG.call(this,c,t,i,n)}}(bn.API),bn.API.processRGBA=function(r,e,t){for(var i=r.data,n=i.length,s=new Uint8Array(n/4*3),a=new Uint8Array(n/4),o=0,l=0,c=0;c<n;c+=4){var u=i[c+1],f=i[c+2],d=i[c+3];s[o++]=i[c],s[o++]=u,s[o++]=f,a[l++]=d}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},bn.API.setLanguage=function(r){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]&&(this.internal.languageSettings.languageCode=r,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},w1=(U_=bn.API).getCharWidthsArray=function(r,e){var t,i,n=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:n.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:n.metadata.Unicode.kerning,A=c.fof?c.fof:1,u=!1!==e.doKerning,f=0,d=r.length,_=0,p=o[0]||l,g=[];for(t=0;t<d;t++)i=r.charCodeAt(t),"function"==typeof n.metadata.widthOfString?g.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(f=u&&"object"===(0,hs.Z)(c[i])&&!isNaN(parseInt(c[i][_],10))?c[i][_]/A:0,g.push((o[i]||p)/l+f)),_=i;return g},WL=U_.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),n=e.charSpace||this.internal.getCharSpace();return U_.processArabic&&(r=U_.processArabic(r)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(r,t,n)/t:w1.apply(this,arguments).reduce(function(s,a){return s+a},0)},VL=function(r,e,t,i){for(var n=[],s=0,a=r.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;n.push(r.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>i&&(n.push(r.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&n.push(r.slice(l,s)),n},jL=function(r,e,t){t||(t={});var i,n,s,a,o,l,A=[],u=[A],f=t.textIndent||0,d=0,_=0,p=r.split(" "),g=w1.apply(this,[" ",t])[0];if(l=-1===t.lineIndent?p[0].length+2:t.lineIndent||0){var m=Array(l).join(" "),C=[];p.map(function(S){(S=S.split(/\s*\n/)).length>1?C=C.concat(S.map(function(U,H){return(H&&U.length?"\n":"")+U})):C.push(S[0])}),p=C,l=WL.apply(this,[m,t])}for(s=0,a=p.length;s<a;s++){var B=0;if(i=p[s],l&&"\n"==i[0]&&(i=i.substr(1),B=1),f+d+(_=(n=w1.apply(this,[i,t])).reduce(function(S,U){return S+U},0))>e||B){if(_>e){for(o=VL.apply(this,[i,n,e-(f+d),e]),A.push(o.shift()),A=[o.pop()];o.length;)u.push([o.shift()]);_=n.slice(i.length-(A[0]?A[0].length:0)).reduce(function(S,U){return S+U},0)}else A=[i];u.push(A),f=_+l,d=g}else A.push(i),f+=d+_,d=g}return u.map(l?function(S,U){return(U?m:"")+S.join(" ")}:function(S){return S.join(" ")})},U_.splitTextToSize=function(r,e,t){var i,n=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var u=this.internal.getFont(A.fontName,A.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/n;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/n:0,s.lineIndent=t.lineIndent;var o,l,c=[];for(o=0,l=i.length;o<l;o++)c=c.concat(jL.apply(this,[i[o],a,s]));return c},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},n=0;n<16;n++)t[e[n]]="0123456789abcdef"[n],i["0123456789abcdef"[n]]=e[n];var s=function(u){return"0x"+parseInt(u,10).toString(16)},a=r.__fontmetrics__.compress=function(u){var f,d,_,p,g=["{"];for(var m in u){if(f=u[m],isNaN(parseInt(m,10))?d="'"+m+"'":(m=parseInt(m,10),d=(d=s(m).slice(2)).slice(0,-1)+i[d.slice(-1)]),"number"==typeof f)f<0?(_=s(f).slice(3),p="-"):(_=s(f).slice(2),p=""),_=p+_.slice(0,-1)+i[_.slice(-1)];else{if("object"!==(0,hs.Z)(f))throw new Error("Don't know what to do with value type "+(0,hs.Z)(f)+".");_=a(f)}g.push(d+_)}return g.push("}"),g.join("")},o=r.__fontmetrics__.uncompress=function(u){if("string"!=typeof u)throw new Error("Invalid argument passed to uncompress.");for(var f,d,_,p,g={},m=1,C=g,B=[],S="",U="",H=u.length-1,N=1;N<H;N+=1)"'"==(p=u[N])?f?(_=f.join(""),f=void 0):f=[]:f?f.push(p):"{"==p?(B.push([C,_]),C={},_=void 0):"}"==p?((d=B.pop())[0][d[1]]=C,_=void 0,C=d[0]):"-"==p?m=-1:void 0===_?t.hasOwnProperty(p)?(S+=t[p],_=parseInt(S,16)*m,m=1,S=""):S+=p:t.hasOwnProperty(p)?(U+=t[p],C[_]=parseInt(U,16)*m,m=1,_=void 0,U=""):U+=p;return g},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},A={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(u){var f=u.font,d=A.Unicode[f.postScriptName];d&&(f.metadata.Unicode={},f.metadata.Unicode.widths=d.widths,f.metadata.Unicode.kerning=d.kerning);var _=c.Unicode[f.postScriptName];_&&(f.metadata.Unicode.encoding=_,f.encoding=_.codePages[0])}])}(bn.API),
/**
       * @license
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var e=function(t){for(var i=t.length,n=new Uint8Array(i),s=0;s<i;s++)n[s]=t.charCodeAt(s);return n};r.API.events.push(["addFont",function(t){var a,o,i=void 0,n=t.font,s=t.instance;if(!n.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if("string"!=typeof(i=!1===s.existsFileInVFS(n.postScriptName)?s.loadFile(n.postScriptName):s.getFileFromVFS(n.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");a=n,o=/^\x00\x01\x00\x00/.test(o=i)?e(o):e(yw(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]}}])}(bn),bn.API.addSvgAsImage=function(t,i,n,s,a,o,l,c){if(isNaN(i)||isNaN(n))throw As.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw As.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=s,A.height=a;var u=A.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,A.width,A.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return function e(){return(xn.canvg?Promise.resolve(xn.canvg):ge.e(507).then(ge.bind(ge,6507))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}().then(function(_){return _.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(f)}).then(function(){d.addImage(A.toDataURL("image/jpeg",1),i,n,s,a,l,c)})},bn.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var n=0;n<this.internal.pages[i].length;n++)this.internal.pages[i][n]=this.internal.pages[i][n].replace(e,t);return this},bn.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var i,n,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,A=0,u=0;function f(_,p){var g,m=!1;for(g=0;g<_.length;g+=1)_[g]===p&&(m=!0);return m}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===r||!0===e){var d=o.length;for(u=0;u<d;u+=1)t[o[u]].value=t[o[u]].defaultValue,t[o[u]].explicitSet=!1}if("object"===(0,hs.Z)(r))for(n in r)if(s=r[n],f(o,n)&&void 0!==s){if("boolean"===t[n].type&&"boolean"==typeof s)t[n].value=s;else if("name"===t[n].type&&f(t[n].valueSet,s))t[n].value=s;else if("integer"===t[n].type&&Number.isInteger(s))t[n].value=s;else if("array"===t[n].type){for(c=0;c<s.length;c+=1)if(i=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(A=0;A<s[c].length;A+=1)"number"!=typeof s[c][A]&&(i=!1);!0===i&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[n].value="["+l.join(" ")+"]"}else t[n].value=t[n].defaultValue;t[n].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var _,p=[];for(_ in t)!0===t[_].explicitSet&&p.push("name"===t[_].type?"/"+_+" /"+t[_].value:"/"+_+" "+t[_].value);0!==p.length&&this.internal.write("/ViewerPreferences\n<<\n"+p.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
       * @license
       * jsPDF XMP metadata plugin
       * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
       *
       * Permission is hereby granted, free of charge, to any person obtaining
       * a copy of this software and associated documentation files (the
       * "Software"), to deal in the Software without restriction, including
       * without limitation the rights to use, copy, modify, merge, publish,
       * distribute, sublicense, and/or sell copies of the Software, and to
       * permit persons to whom the Software is furnished to do so, subject to
       * the following conditions:
       *
       * The above copyright notice and this permission notice shall be
       * included in all copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
       * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
       * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
       * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
       * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
       * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
       * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
       * ====================================================================
       */
function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:i,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(bn.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],A=[""],u=0,f=s.length;u<f;++u){if(o=a.metadata.characterToGlyph(s.charCodeAt(u)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(u),-1==l.indexOf(o)&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),"0"==o)return A.join("");o=o.toString(16),A.push(c[4-o.length],o)}return A.join("")},i=function(s){var a,o,l,c,A,u,f;for(A="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],u=0,f=(o=Object.keys(s).sort(function(d,_){return d-_})).length;u<f;u++)a=o[u],l.length>=100&&(A+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=s[a]&&"function"==typeof s[a].toString&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(A+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),A+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){!function(a){var o=a.font,l=a.out,c=a.newObject,A=a.putStream;if(o.metadata instanceof r.API.TTFFont&&"Identity-H"===o.encoding){for(var u=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",_=0;_<f.length;_++)d+=String.fromCharCode(f[_]);var p=c();A({data:d,addLength1:!0,objectId:p}),l("endobj");var g=c();A({data:i(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+S_(o.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var C=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+S_(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+r.API.PDFObject.convert(u)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+S_(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+C+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}}(s)}]),e.events.push(["putFont",function(s){!function(a){var o=a.font,l=a.out,c=a.newObject,A=a.putStream;if(o.metadata instanceof r.API.TTFFont&&"WinAnsiEncoding"===o.encoding){for(var u=o.metadata.rawData,f="",d=0;d<u.length;d++)f+=String.fromCharCode(u[d]);var _=c();A({data:f,addLength1:!0,objectId:_}),l("endobj");var p=c();A({data:i(o.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var g=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+S_(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+S_(o.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}}(s)}]);var n=function(s){var a,o=s.text||"",l=s.x,c=s.y,A=s.options||{},u=s.mutex||{},f=u.pdfEscape,d=u.activeFontKey,_=u.fonts,p=d,g="",m=0,C="",B=_[p].encoding;if("Identity-H"!==_[p].encoding)return{text:o,x:l,y:c,options:A,mutex:u};for(C=o,p=d,Array.isArray(o)&&(C=o[0]),m=0;m<C.length;m+=1)_[p].metadata.hasOwnProperty("cmap")&&(a=_[p].metadata.cmap.unicode.codeMap[C[m].charCodeAt(0)]),a||C[m].charCodeAt(0)<256&&_[p].metadata.hasOwnProperty("Unicode")?g+=C[m]:g+="";var S="";return parseInt(p.slice(1))<14||"WinAnsiEncoding"===B?S=f(g,p).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):"Identity-H"===B&&(S=t(g,_[p])),u.isHex=!0,{text:S,x:l,y:c,options:A,mutex:u}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&3===a[c].length?o.push([n(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(n(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=n(Object.assign({},l,{text:a})).text}])}(bn),
/**
       * @license
       * jsPDF virtual FileSystem functionality
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},r.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},r.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(bn.API),
/**
       * @license
       * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
       * MIT License
       */
function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var n,s,a,o,l,c,A,u=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,B=0;this.__bidiEngine__={};var S=function(Y){var K=Y.charCodeAt(),q=K>>8,Q=p[q];return void 0!==Q?u[256*Q+(255&K)]:252===q||253===q?"AL":m.test(q)?"L":8===q?"R":"N"},U=function(Y){for(var K,q=0;q<Y.length;q++){if("L"===(K=S(Y.charAt(q))))return!1;if("R"===K)return!0}return!1},H=function(Y,K,q,Q){var ie,ee,he,pe,ue=K[Q];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(ue="AN");break;case"AL":C=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":Q<1||Q+1>=K.length||"EN"!==(ie=q[Q-1])&&"AN"!==ie||"EN"!==(ee=K[Q+1])&&"AN"!==ee?ue="N":C&&(ee="AN"),ue=ee===ie?ee:"N";break;case"ES":ue="EN"===(ie=Q>0?q[Q-1]:"B")&&Q+1<K.length&&"EN"===K[Q+1]?"EN":"N";break;case"ET":if(Q>0&&"EN"===q[Q-1]){ue="EN";break}if(C){ue="N";break}for(he=Q+1,pe=K.length;he<pe&&"ET"===K[he];)he++;ue=he<pe&&"EN"===K[he]?"EN":"N";break;case"NSM":if(a&&!o){for(pe=K.length,he=Q+1;he<pe&&"NSM"===K[he];)he++;if(he<pe){var Be=Y[Q];if(ie=K[he],(Be>=1425&&Be<=2303||64286===Be)&&("R"===ie||"AL"===ie)){ue="R";break}}}ue=Q<1||"B"===(ie=K[Q-1])?"N":q[Q-1];break;case"B":C=!1,n=!0,ue=B;break;case"S":s=!0,ue="N"}return ue},N=function(Y,K,q){var Q=Y.split("");return q&&P(Q,q,{hiLevel:B}),Q.reverse(),K&&K.reverse(),Q.join("")},P=function(Y,K,q){var Q,ie,ee,he,pe,ue=-1,Be=Y.length,Le=0,J=[],te=B?d:f,le=[];for(C=!1,n=!1,s=!1,ie=0;ie<Be;ie++)le[ie]=S(Y[ie]);for(ee=0;ee<Be;ee++){if(pe=Le,J[ee]=H(Y,le,J,ee),Q=240&(Le=te[pe][_[J[ee]]]),K[ee]=he=te[Le&=15][5],Q>0)if(16===Q){for(ie=ue;ie<ee;ie++)K[ie]=1;ue=-1}else ue=-1;if(te[Le][6])-1===ue&&(ue=ee);else if(ue>-1){for(ie=ue;ie<ee;ie++)K[ie]=he;ue=-1}"B"===le[ee]&&(K[ee]=0),q.hiLevel|=he}s&&function(be,De,Fe){for(var He=0;He<Fe;He++)if("S"===be[He]){De[He]=B;for(var Je=He-1;Je>=0&&"WS"===be[Je];Je--)De[Je]=B}}(le,K,Be)},z=function(Y,K,q,Q,ie){if(!(ie.hiLevel<Y)){if(1===Y&&1===B&&!n)return K.reverse(),void(q&&q.reverse());for(var ee,he,pe,ue,Be=K.length,Le=0;Le<Be;){if(Q[Le]>=Y){for(pe=Le+1;pe<Be&&Q[pe]>=Y;)pe++;for(ue=Le,he=pe-1;ue<he;ue++,he--)ee=K[ue],K[ue]=K[he],K[he]=ee,q&&(ee=q[ue],q[ue]=q[he],q[he]=ee);Le=pe}Le++}}},W=function(Y,K,q){var Q=Y.split(""),ie={hiLevel:B};return q||(q=[]),P(Q,q,ie),function(ee,he,pe){if(0!==pe.hiLevel&&A)for(var ue,Be=0;Be<ee.length;Be++)1===he[Be]&&(ue=g.indexOf(ee[Be]))>=0&&(ee[Be]=g[ue+1])}(Q,q,ie),z(2,Q,K,q,ie),z(1,Q,K,q,ie),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(Y,K,q){if(function(ie,ee){if(ee)for(var he=0;he<ie.length;he++)ee[he]=he;void 0===o&&(o=U(ie)),void 0===c&&(c=U(ie))}(Y,K),a||!l||c)if(a&&l&&o^c)B=o?1:0,Y=N(Y,K,q);else if(!a&&l&&c)B=o?1:0,Y=W(Y,K,q),Y=N(Y,K);else if(!a||o||l||c){if(a&&!l&&o^c)Y=N(Y,K),o?(B=0,Y=W(Y,K,q)):(B=1,Y=W(Y,K,q),Y=N(Y,K));else if(a&&o&&!l&&c)B=1,Y=W(Y,K,q),Y=N(Y,K);else if(!a&&!l&&o^c){var Q=A;o?(B=1,Y=W(Y,K,q),B=0,A=!1,Y=W(Y,K,q),A=Q):(B=0,Y=W(Y,K,q),Y=N(Y,K),B=1,A=!1,Y=W(Y,K,q),A=Q,Y=N(Y,K))}}else B=0,Y=W(Y,K,q);else B=o?1:0,Y=W(Y,K,q);return Y},this.__bidiEngine__.setOptions=function(Y){Y&&(a=Y.isInputVisual,l=Y.isOutputVisual,o=Y.isInputRtl,c=Y.isOutputRtl,A=Y.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var n=i.text,s=i.options||{},a=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,t.setOptions(s),"[object Array]"===Object.prototype.toString.call(n)){var o=0;for(a=[],o=0;o<n.length;o+=1)"[object Array]"===Object.prototype.toString.call(n[o])?a.push([t.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):a.push([t.doBidiReorder(n[o])]);i.text=a}else i.text=t.doBidiReorder(n);t.setOptions({isInputVisual:!0})}])}(bn),bn.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new df(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new FV(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new _V(this.contents),this.head=new wV(this),this.name=new CV(this),this.cmap=new XL(this),this.toUnicode={},this.hhea=new bV(this),this.maxp=new EV(this),this.hmtx=new MV(this),this.post=new xV(this),this.os2=new yV(this),this.loca=new IV(this),this.glyf=new TV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,i,n,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)c.push(Math.round(l[a]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(i=255&(n=this.post.italic_angle),32768&(t=n>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,i){var n,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)n=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},r}();var Kh,df=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var t,i,n;for(n=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,i,n,s,a,o,l;return e=this.readByte(),t=this.readByte(),i=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*n+16777216*s+65536*a+256*o+l},r.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},r.prototype.write=function(e){var i,n,s;for(s=[],i=0,n=e.length;i<n;i++)s.push(this.writeByte(e[i]));return s},r}(),_V=function(){var r;function e(t){var i,n,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,s=this.tableCount;0<=s?n<s:n>s;n=0<=s?++n:--n)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,n,a,o,l,c,A,u,f,d,_,p;for(p in d=Object.keys(t).length,l=Math.log(2),u=16*Math.floor(Math.log(d)/l),a=Math.floor(u/l),A=16*d-u,(n=new df).writeInt(this.scalarType),n.writeShort(d),n.writeShort(u),n.writeShort(a),n.writeShort(A),c=n.pos+16*d,o=null,_=[],t)for(f=t[p],n.writeString(p),n.writeInt(r(f)),n.writeInt(c),n.writeInt(f.length),_=_.concat(f),"head"===p&&(o=c),c+=f.length;c%4;)_.push(0),c++;return n.write(_),i=2981146554-r(n.data),n.pos=o+8,n.writeUInt32(i),n.data},r=function(t){var i,n,s,a;for(t=qL.call(t);t.length%4;)t.push(0);for(s=new df(t),n=0,i=0,a=t.length;i<a;i=i+=4)n+=s.readUInt32();return 4294967295&n},e}(),vV={}.hasOwnProperty,VA=function(r,e){for(var t in e)vV.call(e,t)&&(r[t]=e[t]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};Kh=function(){function r(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var wV=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return VA(e,Kh),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new df).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),ZL=function(){function r(e,t){var i,n,s,a,o,l,c,A,u,f,d,_,p,g,m,C,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),f=d/2,e.pos+=6,s=function(){var S,U;for(U=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)U.push(e.readUInt16());return U}(),e.pos+=2,p=function(){var S,U;for(U=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)U.push(e.readUInt16());return U}(),c=function(){var S,U;for(U=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)U.push(e.readUInt16());return U}(),A=function(){var S,U;for(U=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)U.push(e.readUInt16());return U}(),n=(this.length-e.pos+this.offset)/2,o=function(){var S,U;for(U=[],l=S=0;0<=n?S<n:S>n;l=0<=n?++S:--S)U.push(e.readUInt16());return U}(),l=m=0,B=s.length;m<B;l=++m)for(g=s[l],i=C=_=p[l];_<=g?C<=g:C>=g;i=_<=g?++C:--C)0===A[l]?a=i+c[l]:0!==(a=o[A[l]/2+(i-_)-(f-l)]||0)&&(a+=c[l]),this.codeMap[i]=65535&a}e.pos=u}return r.encode=function(e,t){var i,n,s,a,o,l,c,A,u,f,d,_,p,g,m,C,B,U,H,N,P,z,W,Y,K,q,Q,ie,ee,he,pe,ue,Be,Le,J,te,le,be,De,Fe,He,Je,ut,bt,Se;switch(Q=new df,a=Object.keys(e).sort(function(ft,lt){return ft-lt}),t){case"macroman":for(p=0,g=function(){var ft=[];for(_=0;_<256;++_)ft.push(0);return ft}(),C={0:0},s={},ie=0,ue=a.length;ie<ue;ie++)null==C[Je=e[n=a[ie]]]&&(C[Je]=++p),s[n]={old:e[n],new:C[e[n]]},g[n]=C[e[n]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(g),{charMap:s,subtable:Q.data,maxGlyphID:p+1};case"unicode":for(K=[],u=[],B=0,C={},i={},m=c=null,ee=0,Be=a.length;ee<Be;ee++)null==C[U=e[n=a[ee]]]&&(C[U]=++B),i[n]={old:U,new:C[U]},o=C[U]-n,null!=m&&o===c||(m&&u.push(m),K.push(n),c=o),m=n;for(m&&u.push(m),u.push(65535),K.push(65535),W=2*(z=K.length),P=2*Math.pow(Math.log(z)/Math.LN2,2),f=Math.log(P/2)/Math.LN2,N=2*z-P,l=[],H=[],d=[],_=he=0,Le=K.length;he<Le;_=++he){if(A=u[_],65535===(Y=K[_])){l.push(0),H.push(0);break}if(Y-(q=i[Y].new)>=32768)for(l.push(0),H.push(2*(d.length+z-_)),n=pe=Y;Y<=A?pe<=A:pe>=A;n=Y<=A?++pe:--pe)d.push(i[n].new);else l.push(q-Y),H.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*z+2*d.length),Q.writeUInt16(0),Q.writeUInt16(W),Q.writeUInt16(P),Q.writeUInt16(f),Q.writeUInt16(N),Fe=0,J=u.length;Fe<J;Fe++)Q.writeUInt16(n=u[Fe]);for(Q.writeUInt16(0),He=0,te=K.length;He<te;He++)Q.writeUInt16(n=K[He]);for(ut=0,le=l.length;ut<le;ut++)Q.writeUInt16(o=l[ut]);for(bt=0,be=H.length;bt<be;bt++)Q.writeUInt16(H[bt]);for(Se=0,De=d.length;Se<De;Se++)Q.writeUInt16(p=d[Se]);return{charMap:i,subtable:Q.data,maxGlyphID:B+1}}},r}(),XL=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return VA(e,Kh),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)i=new ZL(t,this.offset),this.tables.push(i),i.isUnicode&&null==this.unicode&&(this.unicode=i);return!0},e.encode=function(t,i){var n,s;return null==i&&(i="macroman"),n=ZL.encode(t,i),(s=new df).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),bV=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return VA(e,Kh),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),yV=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return VA(e,Kh),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,n;for(n=[],i=0;i<10;++i)n.push(t.readByte());return n}(),this.charRange=function(){var i,n;for(n=[],i=0;i<4;++i)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,n;for(n=[],i=0;i<2;i=++i)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),xV=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return VA(e,Kh),e.prototype.tag="post",e.prototype.parse=function(t){var i,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)i=t.readByte(),s.push(this.names.push(t.readString(i)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}.call(this)}},e}(),BV=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},CV=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return VA(e,Kh),e.prototype.tag="name",e.prototype.parse=function(t){var i,n,s,a,o,l,c,A,u,f,d;for(t.pos=this.offset,t.readShort(),i=t.readShort(),l=t.readShort(),n=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=u=0,f=n.length;u<f;a=++u)t.pos=(s=n[a]).offset,A=t.readString(s.length),o=new BV(A,s),null==c[d=s.nameID]&&(c[d]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),EV=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return VA(e,Kh),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),MV=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return VA(e,Kh),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,n,s,o,l,c;for(t.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var A,u;for(u=[],i=A=0;0<=s?A<s:A>s;i=0<=s?++A:--A)u.push(t.readInt16());return u}(),this.widths=function(){var A,u,f,d;for(d=[],A=0,u=(f=this.metrics).length;A<u;A++)d.push(f[A].advance);return d}.call(this),n=this.widths[this.widths.length-1],c=[],i=o=0;0<=s?o<s:o>s;i=0<=s?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),qL=[].slice,TV=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return VA(e,Kh),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,n,s,a,o,l,c,A,u,f;return t in this.cache?this.cache[t]:(i=this.file.contents,n=(a=this.file.loca).indexOf(t),0===(s=a.lengthOf(t))?this.cache[t]=null:(i.pos=this.offset+n,o=(l=new df(i.read(s))).readShort(),A=l.readShort(),f=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=-1===o?new SV(l,A,f,c,u):new DV(l,o,A,f,c,u),this.cache[t]))},e.prototype.encode=function(t,i,n){var s,a,o,l,c;for(o=[],a=[],l=0,c=i.length;l<c;l++)s=t[i[l]],a.push(o.length),s&&(o=o.concat(s.encode(n)));return a.push(o.length),{table:o,offsets:a}},e}(),DV=function(){function r(e,t,i,n,s,a){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),SV=function(){function r(e,t,i,n,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=n,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,i;for(t=new df(qL.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),IV=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return VA(e,Kh),e.prototype.tag="loca",e.prototype.parse=function(t){var n;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,a;for(a=[],n=0,s=this.length;n<s;n+=2)a.push(2*t.readUInt16());return a}.call(this):function(){var s,a;for(a=[],n=0,s=this.length;n<s;n+=4)a.push(t.readUInt32());return a}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var n=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<n.length;++o)if(n[o]=s,a<i.length&&i[a]==o){++a,n[o]=s;var c=this.offsets[o+1]-this.offsets[o];c>0&&(s+=c)}for(var A=new Array(4*n.length),u=0;u<n.length;++u)A[4*u+3]=255&n[u],A[4*u+2]=(65280&n[u])>>8,A[4*u+1]=(16711680&n[u])>>16,A[4*u]=(4278190080&n[u])>>24;return A},e}(),FV=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,s;for(t in n=this.font.cmap.tables[0].codeMap,e={},s=this.subset)e[t]=n[s[t]];return e},r.prototype.glyphsFor=function(e){var t,i,n,s,a,o,l;for(n={},a=0,o=e.length;a<o;a++)n[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],n)null!=(i=n[s])&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))n[s]=i=l[s];return n},r.prototype.encode=function(e,t){var i,n,s,a,l,c,A,u,f,d,_,p,g,m;for(n in i=XL.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},m=i.charMap)d[(l=m[n]).old]=l.new;for(_ in f=i.maxGlyphID,a)_ in d||(d[_]=f++);return A=function(C){var B,S;for(B in S={},C)S[C[B]]=B;return S}(d),u=Object.keys(A).sort(function(C,B){return C-B}),p=function(){var C,B,S;for(S=[],C=0,B=u.length;C<B;C++)S.push(A[u[C]]);return S}(),s=this.font.glyf.encode(a,p,d),c=this.font.loca.encode(s.offsets,p),g={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},r}();bn.API.PDFObject=function(){var r;function e(){}return r=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var n,s;if(Array.isArray(t))return"["+function(){var o,l,c;for(c=[],o=0,l=t.length;o<l;o++)c.push(e.convert(t[o]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(n in s=["<<"],t)s.push("/"+n+" "+e.convert(t[n]));return s.push(">>"),s.join("\n")}return""+t},e}();var PV=ge(2571),RV=ge.n(PV);function UV(r,e){if(1&r&&h._UZ(0,"img",10),2&r){const t=h.oxw(3);h.Q6J("src",t.form._meta.logo,h.LSH)}}function QV(r,e){1&r&&h.GkF(0)}const b1=function(){return{}};function OV(r,e){if(1&r&&(h.TgZ(0,"div",11),h.YNc(1,QV,1,0,"ng-container",12),h.qZA()),2&r){h.oxw(3);const t=h.MAs(10);h.xp6(1),h.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",h.DdM(2,b1))}}function NV(r,e){if(1&r&&(h.ynx(0),h.YNc(1,UV,1,1,"img",8),h.TgZ(2,"h1"),h._uU(3),h.qZA(),h.YNc(4,OV,2,3,"div",9),h.BQk()),2&r){const t=h.oxw(2);let i,n;h.xp6(1),h.Q6J("ngIf",t.form._meta.logo),h.xp6(1),h.Udp("font-size",null!==(i=t.form._meta.header.fontSize)&&void 0!==i?i:1.2,"em")("margin",null!==(n=t.form._meta.header.fontMargin)&&void 0!==n?n:.67,"em"),h.xp6(1),h.Oqu(t.form._meta.title),h.xp6(1),h.Q6J("ngIf",t.form._meta.header.properties)}}function HV(r,e){1&r&&h.GkF(0)}function zV(r,e){if(1&r&&(h.TgZ(0,"div",11),h.YNc(1,HV,1,0,"ng-container",12),h.qZA()),2&r){h.oxw(3);const t=h.MAs(10);h.xp6(1),h.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",h.DdM(2,b1))}}function GV(r,e){if(1&r&&(h.ynx(0),h.TgZ(1,"div",13),h._UZ(2,"img",10),h.TgZ(3,"h1"),h._uU(4),h.qZA()(),h.YNc(5,zV,2,3,"div",9),h.BQk()),2&r){const t=h.oxw(2);let i,n;h.xp6(2),h.Q6J("src",t.form._meta.logo,h.LSH),h.xp6(1),h.Udp("font-size",null!==(i=t.form._meta.header.fontSize)&&void 0!==i?i:1.2,"em")("margin",null!==(n=t.form._meta.header.fontMargin)&&void 0!==n?n:.67,"em"),h.xp6(1),h.Oqu(t.form._meta.title),h.xp6(1),h.Q6J("ngIf",t.form._meta.header.properties)}}function YV(r,e){1&r&&h.GkF(0)}function WV(r,e){if(1&r&&(h.TgZ(0,"div",11),h.YNc(1,YV,1,0,"ng-container",12),h.qZA()),2&r){h.oxw(3);const t=h.MAs(10);h.xp6(1),h.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",h.DdM(2,b1))}}function VV(r,e){if(1&r&&h._UZ(0,"img",10),2&r){const t=h.oxw(3);h.Q6J("src",t.form._meta.secondLogo,h.LSH)}}function jV(r,e){if(1&r&&(h.ynx(0),h._UZ(1,"img",10),h.TgZ(2,"div",14)(3,"h1"),h._uU(4),h.qZA(),h.YNc(5,WV,2,3,"div",9),h.qZA(),h.YNc(6,VV,1,1,"img",8),h.BQk()),2&r){const t=h.oxw(2);let i,n;h.xp6(1),h.Q6J("src",t.form._meta.logo,h.LSH),h.xp6(2),h.Udp("font-size",null!==(i=t.form._meta.header.fontSize)&&void 0!==i?i:1.2,"em")("margin",null!==(n=t.form._meta.header.fontMargin)&&void 0!==n?n:.67,"em"),h.xp6(1),h.Oqu(t.form._meta.title),h.xp6(1),h.Q6J("ngIf",t.form._meta.header.properties),h.xp6(1),h.Q6J("ngIf",t.form._meta.secondLogo)}}function JV(r,e){1&r&&h._UZ(0,"img",10),2&r&&h.Q6J("src",e.$implicit,h.LSH)}function KV(r,e){1&r&&h.GkF(0)}function ZV(r,e){if(1&r&&(h.TgZ(0,"div",11),h.YNc(1,KV,1,0,"ng-container",12),h.qZA()),2&r){h.oxw(3);const t=h.MAs(10);h.xp6(1),h.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",h.DdM(2,b1))}}function XV(r,e){1&r&&h._UZ(0,"img",10),2&r&&h.Q6J("src",e.$implicit,h.LSH)}function qV(r,e){if(1&r&&(h.ynx(0),h.TgZ(1,"div",15),h.YNc(2,JV,1,1,"img",16),h.qZA(),h.TgZ(3,"h1"),h._uU(4),h.qZA(),h.YNc(5,ZV,2,3,"div",9),h.TgZ(6,"div",15),h.YNc(7,XV,1,1,"img",16),h.qZA(),h.BQk()),2&r){const t=h.oxw(2);let i,n;h.xp6(2),h.Q6J("ngForOf",null==t.form._meta.header?null:t.form._meta.header.settings.rightLogos),h.xp6(1),h.Udp("font-size",null!==(i=t.form._meta.header.fontSize)&&void 0!==i?i:1.2,"em")("margin",null!==(n=t.form._meta.header.fontMargin)&&void 0!==n?n:.67,"em"),h.xp6(1),h.Oqu(t.form._meta.title),h.xp6(1),h.Q6J("ngIf",t.form._meta.header.properties),h.xp6(2),h.Q6J("ngForOf",null==t.form._meta.header?null:t.form._meta.header.settings.leftLogos)}}function $V(r,e){if(1&r&&(h.ynx(0),h.TgZ(1,"table")(2,"tbody")(3,"tr")(4,"td",17)(5,"div",18),h._UZ(6,"img",10),h.TgZ(7,"div"),h._uU(8),h.qZA()()(),h.TgZ(9,"td",19),h._uU(10),h.qZA(),h.TgZ(11,"td",20)(12,"div",21)(13,"div",22),h._uU(14),h.qZA(),h.TgZ(15,"div",23),h._uU(16),h.qZA()()(),h.TgZ(17,"td",20)(18,"div",21)(19,"div",22),h._uU(20),h.qZA(),h.TgZ(21,"div",23),h._uU(22),h.qZA()()()(),h.TgZ(23,"tr")(24,"td",20)(25,"div",21)(26,"div",22),h._uU(27),h.qZA(),h.TgZ(28,"div",23),h._uU(29),h.qZA()()(),h.TgZ(30,"td",20)(31,"div",21)(32,"div",22),h._uU(33),h.qZA(),h.TgZ(34,"div",23),h._uU(35),h.qZA()()()(),h.TgZ(36,"tr")(37,"td",24),h._uU(38),h.qZA(),h.TgZ(39,"td",20)(40,"div",21)(41,"div",25)(42,"div",22),h._uU(43),h.qZA(),h.TgZ(44,"div",23),h._uU(45),h.qZA()(),h.TgZ(46,"div",25)(47,"div",22),h._uU(48),h.qZA(),h.TgZ(49,"div",23),h._uU(50),h.qZA()()()(),h.TgZ(51,"td",20)(52,"div",21)(53,"div",22),h._uU(54),h.qZA(),h.TgZ(55,"div",23),h._uU(56),h.qZA()()()()()(),h.BQk()),2&r){const t=h.oxw(2);h.xp6(6),h.Q6J("src",t.form._meta.logo,h.LSH),h.xp6(2),h.Oqu(t.headerSettings.logoTitle),h.xp6(2),h.hij(" ",t.headerSettings.englishTitle," "),h.xp6(4),h.hij(" ",t.headerSettings.col31Name," "),h.xp6(2),h.hij(" ",t.headerSettings.col31Value," "),h.xp6(4),h.hij(" ",t.headerSettings.col41Name," "),h.xp6(2),h.hij(" ",t.headerSettings.col41Value," "),h.xp6(5),h.hij(" ",t.headerSettings.col32Name," "),h.xp6(2),h.hij(" ",t.headerSettings.col32Value," "),h.xp6(4),h.hij(" ",t.headerSettings.col42Name," "),h.xp6(2),h.hij(" ",t.headerSettings.col42Value," "),h.xp6(3),h.hij(" ",t.form._meta.title," "),h.xp6(5),h.hij(" ",t.headerSettings.col331Name," "),h.xp6(2),h.hij(" ",t.headerSettings.col331Value," "),h.xp6(3),h.hij(" ",t.headerSettings.col332Name," "),h.xp6(2),h.hij(" ",t.headerSettings.col332Value," "),h.xp6(4),h.hij(" ",t.headerSettings.col43Name," "),h.xp6(2),h.hij(" ",t.headerSettings.col43Value," ")}}const $L=function(r){return[r]};function ej(r,e){if(1&r&&(h.TgZ(0,"header",7),h.YNc(1,NV,5,7,"ng-container",2),h.YNc(2,GV,6,7,"ng-container",2),h.YNc(3,jV,7,8,"ng-container",2),h.YNc(4,qV,8,8,"ng-container",2),h.YNc(5,$V,57,18,"ng-container",2),h.qZA()),2&r){const t=h.oxw();let i,n,s,a;h.Udp("border-radius",null!==(i=t.form._meta.header.borderRadius)&&void 0!==i?i:0,"px")("border-width",null!==(n=t.form._meta.header.borderWidth)&&void 0!==n?n:0,"px")("margin-bottom",null!==(s=t.form._meta.header.marginBottom)&&void 0!==s?s:0,"px")("direction",null!==(a=t.form._meta.header.direction)&&void 0!==a?a:"rtl"),h.ekj("withBorder",(null==t.form._meta.header?null:t.form._meta.header.borderWidth)&&t.form._meta.header.borderWidth>0),h.Q6J("ngClass",h.VKq(16,$L,null==t.form._meta.header?null:t.form._meta.header.style)),h.xp6(1),h.Q6J("ngIf","logo-title-props-v1"===(null==t.form._meta.header?null:t.form._meta.header.style)),h.xp6(1),h.Q6J("ngIf","logo-title-props-v2"===(null==t.form._meta.header?null:t.form._meta.header.style)),h.xp6(1),h.Q6J("ngIf","logo-title-props-v3"===(null==t.form._meta.header?null:t.form._meta.header.style)),h.xp6(1),h.Q6J("ngIf","logo-title-props-v4"===(null==t.form._meta.header?null:t.form._meta.header.style)),h.xp6(1),h.Q6J("ngIf","header-v2"===(null==t.form._meta.header?null:t.form._meta.header.style))}}function tj(r,e){1&r&&h.GkF(0)}function ij(r,e){1&r&&h.GkF(0)}const y1=function(r){return{table:r}};function nj(r,e){if(1&r&&(h.TgZ(0,"table",27),h.YNc(1,tj,1,0,"ng-container",12),h.YNc(2,ij,1,0,"ng-container",12),h.qZA()),2&r){const t=e.$implicit,i=h.oxw(2),n=h.MAs(6),s=h.MAs(8);h.Udp("margin-top",t.marginTop,"px")("direction",t.direction)("font-family",i.form._meta.font),h.Q6J("id","form_table_"+t.name),h.xp6(1),h.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",h.VKq(11,y1,t)),h.xp6(1),h.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",h.VKq(13,y1,t))}}function rj(r,e){if(1&r&&(h.ynx(0),h.YNc(1,nj,3,15,"table",26),h.BQk()),2&r){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.tables)}}function sj(r,e){1&r&&h.GkF(0)}function aj(r,e){1&r&&h.GkF(0)}function oj(r,e){if(1&r&&(h.ynx(0),h.YNc(1,sj,1,0,"ng-container",12),h.YNc(2,aj,1,0,"ng-container",12),h.BQk()),2&r){const t=e.$implicit;h.oxw(2);const i=h.MAs(6),n=h.MAs(8);h.xp6(1),h.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",h.VKq(4,y1,t)),h.xp6(1),h.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",h.VKq(6,y1,t))}}function lj(r,e){if(1&r&&(h.ynx(0),h.TgZ(1,"table",27),h.YNc(2,oj,3,8,"ng-container",28),h.qZA(),h.BQk()),2&r){const t=h.oxw();h.xp6(1),h.Udp("direction",t.form._meta.direction)("font-family",t.form._meta.tableFont),h.Q6J("id","form_table"),h.xp6(1),h.Q6J("ngForOf",t.tables)}}function cj(r,e){if(1&r&&(h.TgZ(0,"div",31),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t)}}function hj(r,e){if(1&r&&(h.ynx(0),h.TgZ(1,"div",29),h._uU(2),h.qZA(),h.YNc(3,cj,2,1,"div",30),h.BQk()),2&r){const t=h.oxw(2);h.xp6(2),h.Oqu(t.form._meta.footer.isoNumber),h.xp6(1),h.Q6J("ngForOf",t.form._meta.footer.signatures)}}function Aj(r,e){if(1&r&&(h.TgZ(0,"div",31),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t)}}function uj(r,e){if(1&r&&(h.TgZ(0,"div",29),h._uU(1),h.qZA()),2&r){const t=h.oxw(3);h.xp6(1),h.Oqu(t.form._meta.footer.isoNumber)}}function dj(r,e){if(1&r&&(h.ynx(0),h.TgZ(1,"div",32),h.YNc(2,Aj,2,1,"div",30),h.qZA(),h.YNc(3,uj,2,1,"div",33),h.BQk()),2&r){const t=h.oxw(2);h.xp6(2),h.Q6J("ngForOf",t.form._meta.footer.signatures),h.xp6(1),h.Q6J("ngIf",t.form._meta.footer.isoNumber)}}function fj(r,e){if(1&r&&(h.TgZ(0,"div",31),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t)}}function pj(r,e){if(1&r&&(h.ynx(0),h.TgZ(1,"div",29),h._uU(2),h.qZA(),h.YNc(3,fj,2,1,"div",30),h.BQk()),2&r){const t=h.oxw(2);h.xp6(2),h.Oqu(t.form._meta.footer.isoNumber),h.xp6(1),h.Q6J("ngForOf",t.form._meta.footer.signatures)}}function mj(r,e){if(1&r&&(h.TgZ(0,"div",31),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t)}}function gj(r,e){if(1&r&&(h.ynx(0),h.YNc(1,mj,2,1,"div",30),h.BQk()),2&r){const t=h.oxw(2);h.xp6(1),h.Q6J("ngForOf",t.form._meta.footer.signatures)}}function _j(r,e){if(1&r&&(h.TgZ(0,"div",31),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t)}}function vj(r,e){if(1&r&&(h.ynx(0),h.YNc(1,_j,2,1,"div",30),h.TgZ(2,"div",29),h._uU(3),h.qZA(),h.BQk()),2&r){const t=h.oxw(2);h.xp6(1),h.Q6J("ngForOf",t.form._meta.footer.signatures),h.xp6(2),h.Oqu(t.form._meta.footer.isoNumber)}}function wj(r,e){if(1&r&&(h.TgZ(0,"div",31)(1,"p"),h._uU(2),h.qZA(),h.TgZ(3,"p"),h._uU(4),h.qZA()()),2&r){const t=e.$implicit;h.xp6(2),h.Oqu(t.position),h.xp6(2),h.Oqu(t.name)}}function bj(r,e){if(1&r&&(h.ynx(0),h.YNc(1,wj,5,2,"div",30),h.TgZ(2,"div",29),h._uU(3),h.qZA(),h.BQk()),2&r){const t=h.oxw(2);h.xp6(1),h.Q6J("ngForOf",t.form._meta.footer.settings.signatures),h.xp6(2),h.Oqu(t.form._meta.footer.isoNumber)}}function yj(r,e){if(1&r&&(h.TgZ(0,"div",31),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.hij("",t," : ................ ")}}function xj(r,e){if(1&r&&(h.ynx(0),h.TgZ(1,"div",32),h.YNc(2,yj,2,1,"div",30),h.qZA(),h.BQk()),2&r){const t=h.oxw(2);h.xp6(2),h.Q6J("ngForOf",t.form._meta.footer.signatures)}}function Bj(r,e){if(1&r&&(h.TgZ(0,"footer",7),h.YNc(1,hj,4,2,"ng-container",2),h.YNc(2,dj,4,2,"ng-container",2),h.YNc(3,pj,4,2,"ng-container",2),h.YNc(4,gj,2,1,"ng-container",2),h.YNc(5,vj,4,2,"ng-container",2),h.YNc(6,bj,4,2,"ng-container",2),h.YNc(7,xj,3,1,"ng-container",2),h.qZA()),2&r){const t=h.oxw();let i,n;h.Udp("margin-top",null!==(i=t.form._meta.footer.marginTop)&&void 0!==i?i:0,"px")("direction",null!==(n=t.form._meta.footer.direction)&&void 0!==n?n:"rtl"),h.Q6J("ngClass",h.VKq(12,$L,null==t.form._meta.footer?null:t.form._meta.footer.style)),h.xp6(1),h.Q6J("ngIf","iso-signatures-v1"===(null==t.form._meta.footer?null:t.form._meta.footer.style)),h.xp6(1),h.Q6J("ngIf","iso-signatures-v2"===(null==t.form._meta.footer?null:t.form._meta.footer.style)),h.xp6(1),h.Q6J("ngIf","iso-signatures-v3"===(null==t.form._meta.footer?null:t.form._meta.footer.style)),h.xp6(1),h.Q6J("ngIf","iso-signatures-v4"===(null==t.form._meta.footer?null:t.form._meta.footer.style)),h.xp6(1),h.Q6J("ngIf","iso-signatures-v5"===(null==t.form._meta.footer?null:t.form._meta.footer.style)),h.xp6(1),h.Q6J("ngIf","iso-signatures-v6"===(null==t.form._meta.footer?null:t.form._meta.footer.style)),h.xp6(1),h.Q6J("ngIf","footer-signatures-v2"===(null==t.form._meta.footer?null:t.form._meta.footer.style))}}function Cj(r,e){if(1&r&&h._UZ(0,"th",35),2&r){const t=e.$implicit,i=h.oxw(2).table,n=h.oxw();let s;h.Udp("height",n.form._meta.cellHeight)("background-color",null!==(s=t.backgroundColor)&&void 0!==s?s:n.form._meta.tableHeaderBackground)("width",n.calcCellWidth(t,i.name))("min-width",i.exactWidth?n.calcCellWidth(t,i.name):"unset")("max-width",i.exactWidth?n.calcCellWidth(t,i.name):"unset")("border-left-width",t.borderLeft,"px")("border-right-width",t.borderRight,"px")("border-top-width",t.borderTop,"px")("border-bottom-width",t.borderBottom,"px"),h.ekj("bold","bold"==t.style)("h1","h1"==t.style)("small","small"==t.style)("extra-small","extra-small"==t.style)("vertically","vertically"==t.style),h.Q6J("innerHtml",t.text,h.oJD),h.uIk("colspan",t.colSpan)("rowspan",t.rowSpan)}}function Ej(r,e){if(1&r&&(h.TgZ(0,"tr"),h.YNc(1,Cj,1,31,"th",34),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Q6J("ngForOf",t)}}function Mj(r,e){if(1&r&&(h.TgZ(0,"thead"),h.YNc(1,Ej,2,1,"tr",28),h.qZA()),2&r){const t=e.table;h.Udp("direction",t.direction),h.xp6(1),h.Q6J("ngForOf",t.headerRows)}}function Tj(r,e){if(1&r&&h._UZ(0,"td",35),2&r){const t=e.$implicit,i=h.oxw(2).table,n=h.oxw();h.Udp("background-color",t.backgroundColor)("height",n.form._meta.cellHeight)("min-width",i.exactWidth?n.calcCellWidth(t,i.name):"unset")("width",n.calcCellWidth(t,i.name))("max-width",i.exactWidth?n.calcCellWidth(t,i.name):"unset")("border-left-width",t.borderLeft,"px")("border-right-width",t.borderRight,"px")("border-top-width",t.borderTop,"px")("border-bottom-width",t.borderBottom,"px"),h.ekj("small","small"==t.style)("bold","bold"==t.style)("extra-small","extra-small"==t.style),h.Q6J("innerHtml",t.text,h.oJD),h.uIk("colspan",t.colSpan)("rowspan",t.rowSpan)}}function Dj(r,e){if(1&r&&(h.TgZ(0,"tr"),h.YNc(1,Tj,1,27,"td",36),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Q6J("ngForOf",t)}}function Sj(r,e){if(1&r&&(h.TgZ(0,"tbody"),h.YNc(1,Dj,2,1,"tr",28),h.qZA()),2&r){const t=e.table;h.xp6(1),h.Q6J("ngForOf",t.dataRows)}}function Ij(r,e){if(1&r&&(h.TgZ(0,"div",23),h._uU(1),h.qZA()),2&r){const t=h.oxw().index,i=h.oxw(2);h.xp6(1),h.Oqu(i.form._meta.header.values[t])}}function Fj(r,e){if(1&r&&(h.TgZ(0,"div",38)(1,"div",22),h._uU(2),h.qZA(),h.YNc(3,Ij,2,1,"div",39),h.qZA()),2&r){const t=e.$implicit,i=h.oxw(2);h.xp6(2),h.Oqu(t),h.xp6(1),h.Q6J("ngIf",i.form._meta.header.values)}}function kj(r,e){if(1&r&&h.YNc(0,Fj,4,2,"div",37),2&r){const t=h.oxw();h.Q6J("ngForOf",t.form._meta.header.properties)}}let Lj=(()=>{class r{constructor(t){this.cdr=t,this.data=[],this.id="form-container",this.debugLog=!1,this.containerDirection="ltr",this.rowData=[],this.version="1.2.3",this.tables=[]}ngOnInit(){}get headerSettings(){return this.form?._meta?.header?this.form._meta.header.settings??{}:{}}ngOnChanges(t){t.form&&this.updateForm(this.form),t.data&&this.renderTableData()}updateForm(t){this.form=t,this.tables=[],this.normalizeSchema(),this.generateTableHeaders(),this.renderTableRows(),this.fixedTableSize(),this.debugLog&&console.log(this.tables)}fixedTableSize(){setTimeout(()=>{const t=this.contentId?document.getElementById(this.contentId):document.getElementsByTagName("body")[0];if(!t)return void this.fixedTableSize();let i=t.offsetWidth+"px";"custom"===this.form._meta.print.paperSize?i=this.form._meta.width+"mm":"A4"===this.form._meta.print.paperSize&&(i=this.form._meta.print.isLandscape?"292mm":"205mm");const n=document.getElementById("form-container");if(n){n.style.width=i;for(const s of this.form.tables){const a=this.getTableElement(s.name);if(!a)return void this.fixedTableSize();a.style.width=i}}else this.fixedTableSize()},100)}normalizeSchema(){this.form._meta||(this.form._meta={title:"",name:""}),this.form._meta.tableMode||(this.form._meta.tableMode="one-table"),this.form._meta.properties||(this.form._meta.properties=[]),this.form._meta.style||(this.form._meta.style="form-container"),this.form._meta.direction||(this.form._meta.direction="rtl"),this.form._meta.font||(this.form._meta.font="Bnazanin"),this.form._meta.tableFont||(this.form._meta.tableFont=this.form._meta.font),this.form._meta.tableHeaderBackground||(this.form._meta.tableHeaderBackground="#f0e6cc"),this.form._meta.cellHeight||(this.form._meta.cellHeight="4mm"),this.form._meta.print||(this.form._meta.print={}),void 0===this.form._meta.print.isLandscape&&(this.form._meta.print.isLandscape=!1),this.form._meta.print.paperSize||(this.form._meta.print.paperSize="A4");for(const t of this.form.tables){t.type||(t.type="static"),t.direction||(t.direction="ltr"),t.marginTop||(t.marginTop=0);const i=s=>{for(const a of s){if(a.height||(a.height=1),a.width||(a.width=1),a.style||(a.style="normal"),a.__beforeSet=void 0,a.subCells&&"string"==typeof a.subCells[0]){const o=a.subCells;a.subCells=[];for(const l of o)a.subCells.push({title:l})}a.subCells&&i(a.subCells)}};t?.columns.rowCells||(t.columns.rowCells=1),i(t.columns.cells);const n=s=>{for(const a of s){if(a.width||(a.width=1),a.height||(a.height=1),a.text||(a.text=""),a.backgroundColor||(a.backgroundColor="transparent"),a.__beforeSet=void 0,a.childCells&&"string"==typeof a.childCells[0]){const o=a.childCells;a.childCells=[];for(const l of o)a.childCells.push({text:l})}a.childCells&&n(a.childCells)}};t.rowSchema||(t.rowSchema={}),void 0===t.rowSchema?.height&&(t.rowSchema.height=1),t.rowSchema.reservedCols&&n(t.rowSchema.reservedCols)}this.cdr.detectChanges()}generateTableHeaders(){this.tables=[],this.debugLog&&console.log(this.form.tables);for(const t of this.form.tables){const i=(s,a,o,l)=>{if(s.__beforeSet){if(s.__beforeSet&&s.subCells)for(const c of s.subCells)i(c,a,o,s)}else{if(l&&o+1<=l.height)return;a.push({rowSpan:s.height,colSpan:s.width,text:s.title,style:s.style,backgroundColor:s.backgroundColor,borderLeft:s.borderLeft??1,borderRight:s.borderRight??1,borderTop:s.borderTop??1,borderBottom:s.borderBottom??1}),s.__beforeSet=!0}};let n=[];for(let s=0;s<t.columns.rowCells;s++){let a=[];for(const o of t.columns.cells)i(o,a,s);n.push(a)}this.tables.push({headerRows:n,direction:t.direction,dataRows:[],name:t.name,marginTop:t.marginTop,exactWidth:t.exactWidth??!1})}}renderTableRows(){for(let t=0;t<this.form.tables.length;t++){const i=this.form.tables[t];let n=[];"static"===i.type&&(i.rowSchema?.reservedCols?n=this.renderReservedTableRows(i):void 0!==i.rowSchema?.height&&i.rowSchema?.height>0&&(n=this.renderFixedTableRows(i))),this.tables[t].dataRows=n}}renderTableData(){}calcCellWidth(t,i){const n=this.form.tables.find(o=>o.name===i),s=this.getTableElement(i);return n&&s?s.offsetWidth/n.columns.colCells*(t.colSpan??1)+"px":"auto"}exportAsImage(t={autoDownload:!0}){var i=this;return(0,hr.Z)(function*(){return new Promise(n=>{const s=document.getElementById(i.id);if(!s)return n({success:!1,message:"not found root element"});OW()(s,{}).then(a=>{if(n({success:!0,canvas:a}),t.autoDownload){const o=document.createElement("a");o.download=(i.form._meta?.title??"export")+".png",o.href=a.toDataURL(),o.click()}},a=>{console.error(a),n({success:!1,message:a})})})})()}exportAsPdf(t={autoDownload:!0}){var i=this;return(0,hr.Z)(function*(){return new Promise(function(){var n=(0,hr.Z)(function*(s){const a=new bn({orientation:i.form._meta?.print?.isLandscape?"landscape":"portrait",format:"a4",unit:"pt"}),o=a.getPageWidth(),l=a.getPageHeight(),u=document.getElementById(i.id);if(!u)return s({success:!1,message:"not found root element"});const f=u.cloneNode(!0),d="Yas";f.style.setProperty("font-family",d),f.dir="ltr",f.querySelectorAll("h1").forEach(B=>B.style.setProperty("font-family",d,"important")),function LV(r){r.addFileToVFS("Yas-normal.ttf","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AcMBwwACAcQB0gADAdkB2gACAAEABAACAAEAAQABAAcAAQAEAAIAAQABAAEACAACAB4ADAFQAVIBVAFWAVoBXAEiAUMBRAFFAUYBRwABAAwAxQDGAMgAyQDLAMwBIgFDAUQBRQFGAUcAAgAeAAwBGAEZARUBFgEaARcBHwEgASMBHQEeASEAAQAMAMUAxgDIAMkAywDMASIBQwFEAUUBRgFHAAIAEAAsAAQAAAAAAQgBFgACAAQBKwFCAAABYQGRABgBkwHSAEkB2QHaAIkAAgAkASsBLgACAS8BMgADATMBOAACATkBQAADAUEBQgACAWEBYgADAWMBZwACAWgBbAADAW0BcAACAXEBegADAXsBgAACAYEBggADAYMBhAACAYUBigADAYsBkAACAZEBkQADAZMBlAACAZUBlgADAZcBmAACAZkBmgADAZsBnAACAZ0BpgADAacBqAACAakBqgADAasBrAACAa0BsgADAbMBtAACAbUBugADAbsBvAACAb0BvgADAb8BwAACAcEBwwADAcQBxgACAccByQADAcoB0gACAdkB2gADAAEABAACAAEAAQABAAoAAQAEAAIAAQABAAEACwACAAoAAgFTAVgAAQACAMcAygACAAoAAgEcARsAAQACAMcAygAAAAEDSQAFAAUABAWaBTMAAAElBZoFMwAAA6AAZgISAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAAAEdseWYAAAAN/v8GZv5mAAAI1wOHAAAAQAAAAAAAAAAAAAMAAAADAAAAHAABAAAAAAJUAAMAAQAAABwABAI4AAAAigCAAAYACgANAH4AwADXAOAA4gDrAO8A9AD3APkA/AD/ATEBUwFhAXgBkgLHBgwGGwYfBjoGUgZqBm0GcQZ0Bn4GhgaYBqQGqQavBswG1QbkBvkgCiAUIBogHiAiICYgMCA6IF8hIiQh4ADoGOgt6Db7UftZ+237ffuL+5X7/fxi/PT9P/3y/nL+dP78/v///wAAAA0AIACgANcA4ADiAOcA7gD0APcA+QD7AP8BMQFSAWABeAGSAsYGDAYbBh8GIQZABmAGbQZwBnQGfgaGBpgGpAapBq8GzAbVBuQG8CAAIAwgGCAcICAgJiAvIDkgXyEiJCHgAOgY6CDoMvtQ+1b7avt6+4r7jvv8/F788v08/fL+cP50/nb+////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AAAAAAAAAAAAAAAAAAAAAAHcAAAAAQACAQIAAwAEAAUABgAHAAgACQAKAAsADAANAA4ADwEDABEAEgATABQAFQAWABcAGAAZABoAGwAcAB0AHgAfACAAIQAiACMAJAAlACYAJwAoACkAKgArACwALQAuAC8AMAAxADIAMwA0ADUANgA3ADgAOQA6ADsAPAA9AD4APwBAAEEAQgBDAEQARQBGAEcASABJAEoASwBMAE0ATgBPAFAAUQBSAFMAVABVAFYAVwBYAFkAWgBbAFwAXQBeAF8AYABhAKwAowCEAIUAvQCWAOgAhgCOAIsAnQCpAKQBBACKANoAgwCTAPIA8wCNAQUAiADDAN4A8QCeAKoA9QD0APYAogCtAPAAagBrAG8AcQBwAHIAcwB2AHcAewC4AH8AgACBALoA1wCwALEA5ADlALsApgDYAOEBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQCyAWoAtgC3AMQAtAC1AMUAggDCAIcAqwFrAMYAvgC/AWwAjAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYCFwIYAhkCGgIbAhwCHQIeAh8CIAIhAiICIwIkAiUCJgInAigCKQIqAisCLAItAi4CLwIwAjECMgIzAjQCNQd1bmkwMDBEC2h5cGhlbm1pbnVzCXNmdGh5cGhlbgVtaWNybwthcmFiaWNjb21tYQ9hcmFiaWNzZW1pY29sb24SYXJhYmljcXVlc3Rpb25tYXJrBWhhbXphEmFsZWZ3aXRobWFkZGFhYm92ZRJhbGVmd2l0aGhhbXphYWJvdmURd2F3d2l0aGhhbXphYWJvdmUSYWxlZndpdGhoYW16YWJlbG93EXllaHdpdGhoYW16YWFib3ZlCmFyYWJpY2FsZWYDYmVoCnRlaG1hcmJ1dGEDdGVoBHRoZWgEamVlbQNoYWgEa2hhaANkYWwEdGhhbANyZWgEemFpbgRzZWVuBXNoZWVuA3NhZANkYWQDdGFoA3phaANhaW4FZ2hhaW4HdGF0d2VlbANmZWgDcWFmCWFyYWJpY2thZgNsYW0EbWVlbQRub29uA2hlaAN3YXcLYWxlZm1ha3N1cmEDeWVoCGZhdGhhdGFuCGRhbW1hdGFuCGthc3JhdGFuBWZhdGhhBWRhbW1hBWthc3JhBnNoYWRkYQVzdWt1bhRhcmFiaWNpbmRpY2RpZ2l0emVybxNhcmFiaWNpbmRpY2RpZ2l0b25lE2FyYWJpY2luZGljZGlnaXR0d28VYXJhYmljaW5kaWNkaWdpdHRocmVlFGFyYWJpY2luZGljZGlnaXRmb3VyFGFyYWJpY2luZGljZGlnaXRmaXZlE2FyYWJpY2luZGljZGlnaXRzaXgVYXJhYmljaW5kaWNkaWdpdHNldmVuFWFyYWJpY2luZGljZGlnaXRlaWdodBRhcmFiaWNpbmRpY2RpZ2l0bmluZRFhcmFiaWNwZXJjZW50c2lnbhVhcmFiaWNmaXZlcG9pbnRlZHN0YXIPc3VwZXJzY3JpcHRhbGVmCWFsZWZ3YXNsYQloaWdoaGFtemEDcGVoBXRjaGVoA2plaAN2ZWgFa2VoZWgDZ2FmCGZhcnNpeWVoCGFyYWJpY2FlDnNtYWxsaGlnaG1hZGRhHGV4dGVuZGVkYXJhYmljaW5kaWNkaWdpdHplcm8bZXh0ZW5kZWRhcmFiaWNpbmRpY2RpZ2l0b25lG2V4dGVuZGVkYXJhYmljaW5kaWNkaWdpdHR3bx1leHRlbmRlZGFyYWJpY2luZGljZGlnaXR0aHJlZRxleHRlbmRlZGFyYWJpY2luZGljZGlnaXRmb3VyHGV4dGVuZGVkYXJhYmljaW5kaWNkaWdpdGZpdmUbZXh0ZW5kZWRhcmFiaWNpbmRpY2RpZ2l0c2l4HWV4dGVuZGVkYXJhYmljaW5kaWNkaWdpdHNldmVuHWV4dGVuZGVkYXJhYmljaW5kaWNkaWdpdGVpZ2h0HGV4dGVuZGVkYXJhYmljaW5kaWNkaWdpdG5pbmUHdW5pMjAwMAd1bmkyMDAxB3VuaTIwMDIHdW5pMjAwMwd1bmkyMDA0B3VuaTIwMDUHdW5pMjAwNgd1bmkyMDA3B3VuaTIwMDgHdW5pMjAwOQd1bmkyMDBBCnplcm9ub2pvaW4IemVyb2pvaW4LbGVmdHRvcmlnaHQLcmlnaHR0b2xlZnQHdW5pMjAxMAd1bmkyMDExCmZpZ3VyZWRhc2gJcXVvdGVkYXNoB3VuaTIwMkYHdW5pMjA1RgZkZWxldGUHdW5pRTAwMBpzaGFkZGF3aXRoZmF0aGF0YW5pc29sYXRlZAhmYXRoYWxvdwhkYW1tYWxvdwhzdWt1bmxvdwtmYXRoYXRhbmxvdwtkYW1tYXRhbmxvdwlzaGFkZGFsb3cIa2FzcmFsb3cLa2FzcmF0YW5sb3cac2hhZGRhd2l0aGZhdGhhaXNvbGF0ZWRsb3cac2hhZGRhd2l0aGRhbW1haXNvbGF0ZWRsb3cdc2hhZGRhd2l0aGZhdGhhdGFuaXNvbGF0ZWRsb3cdc2hhZGRhd2l0aGRhbW1hdGFuaXNvbGF0ZWRsb3cac2hhZGRhd2l0aGthc3JhaXNvbGF0ZWRsb3cdc2hhZGRhd2l0aGthc3JhdGFuaXNvbGF0ZWRsb3cMZmF0aGFvbmhhbXphD2ZhdGhhdGFub25oYW16YQxzdWt1bm9uaGFtemEMZGFtbWFvbmhhbXphD2RhbW1hdGFub25oYW16YRFhbGVmd2FzbGFpc29sYXRlZA5hbGVmd2FzbGFmaW5hbAtwZWhpc29sYXRlZAhwZWhmaW5hbApwZWhpbml0aWFsCXBlaG1lZGlhbAt2ZWhpc29sYXRlZAh2ZWhmaW5hbAp2ZWhpbml0aWFsCXZlaG1lZGlhbA10Y2hlaGlzb2xhdGVkCnRjaGVoZmluYWwMdGNoZWhpbml0aWFsC3RjaGVobWVkaWFsC2plaGlzb2xhdGVkCGplaGZpbmFsDWtlaGVoaXNvbGF0ZWQKa2VoZWhmaW5hbAxrZWhlaGluaXRpYWwLa2VoZWhtZWRpYWwLZ2FmaXNvbGF0ZWQIZ2FmZmluYWwKZ2FmaW5pdGlhbAlnYWZtZWRpYWwQZmFyc2l5ZWhpc29sYXRlZA1mYXJzaXllaGZpbmFsGnNoYWRkYXdpdGhkYW1tYXRhbmlzb2xhdGVkGnNoYWRkYXdpdGhrYXNyYXRhbmlzb2xhdGVkF3NoYWRkYXdpdGhmYXRoYWlzb2xhdGVkF3NoYWRkYXdpdGhkYW1tYWlzb2xhdGVkF3NoYWRkYXdpdGhrYXNyYWlzb2xhdGVkFXNoYWRkYXdpdGhmYXRoYW1lZGlhbBVzaGFkZGF3aXRoZGFtbWFtZWRpYWwVc2hhZGRhd2l0aGthc3JhbWVkaWFsFWFsZWZ3aXRoZmF0aGF0YW5maW5hbBhhbGVmd2l0aGZhdGhhdGFuaXNvbGF0ZWQVb3JuYXRlbGVmdHBhcmVudGhlc2lzFm9ybmF0ZXJpZ2h0cGFyZW50aGVzaXMNYWxsYWhpc29sYXRlZBBmYXRoYXRhbmlzb2xhdGVkGHRhdHdlZWx3aXRoZmF0aGF0YW5hYm92ZRBkYW1tYXRhbmlzb2xhdGVkEGthc3JhdGFuaXNvbGF0ZWQNZmF0aGFpc29sYXRlZAtmYXRoYW1lZGlhbA1kYW1tYWlzb2xhdGVkC2RhbW1hbWVkaWFsDWthc3JhaXNvbGF0ZWQLa2FzcmFtZWRpYWwOc2hhZGRhaXNvbGF0ZWQMc2hhZGRhbWVkaWFsDXN1a3VuaXNvbGF0ZWQLc3VrdW5tZWRpYWwNaGFtemFpc29sYXRlZBphbGVmd2l0aG1hZGRhYWJvdmVpc29sYXRlZBdhbGVmd2l0aG1hZGRhYWJvdmVmaW5hbBphbGVmd2l0aGhhbXphYWJvdmVpc29sYXRlZBdhbGVmd2l0aGhhbXphYWJvdmVmaW5hbBl3YXd3aXRoaGFtemFhYm92ZWlzb2xhdGVkFndhd3dpdGhoYW16YWFib3ZlZmluYWwaYWxlZndpdGhoYW16YWJlbG93aXNvbGF0ZWQXYWxlZndpdGhoYW16YWJlbG93ZmluYWwZeWVod2l0aGhhbXphYWJvdmVpc29sYXRlZBZ5ZWh3aXRoaGFtemFhYm92ZWZpbmFsGHllaHdpdGhoYW16YWFib3ZlaW5pdGlhbBd5ZWh3aXRoaGFtemFhYm92ZW1lZGlhbAxhbGVmaXNvbGF0ZWQJYWxlZmZpbmFsC2JlaGlzb2xhdGVkCGJlaGZpbmFsCmJlaGluaXRpYWwJYmVobWVkaWFsEnRlaG1hcmJ1dGFpc29sYXRlZA90ZWhtYXJidXRhZmluYWwLdGVoaXNvbGF0ZWQIdGVoZmluYWwKdGVoaW5pdGlhbAl0ZWhtZWRpYWwMdGhlaGlzb2xhdGVkCXRoZWhmaW5hbAt0aGVoaW5pdGlhbAp0aGVobWVkaWFsDGplZW1pc29sYXRlZAlqZWVtZmluYWwLamVlbWluaXRpYWwKamVlbW1lZGlhbAtoYWhpc29sYXRlZAhoYWhmaW5hbApoYWhpbml0aWFsCWhhaG1lZGlhbAxraGFoaXNvbGF0ZWQJa2hhaGZpbmFsC2toYWhpbml0aWFsCmtoYWhtZWRpYWwLZGFsaXNvbGF0ZWQIZGFsZmluYWwMdGhhbGlzb2xhdGVkCXRoYWxmaW5hbAtyZWhpc29sYXRlZAhyZWhmaW5hbAx6YWluaXNvbGF0ZWQJemFpbmZpbmFsDHNlZW5pc29sYXRlZAlzZWVuZmluYWwLc2VlbmluaXRpYWwKc2Vlbm1lZGlhbA1zaGVlbmlzb2xhdGVkCnNoZWVuZmluYWwMc2hlZW5pbml0aWFsC3NoZWVubWVkaWFsC3NhZGlzb2xhdGVkCHNhZGZpbmFsCnNhZGluaXRpYWwJc2FkbWVkaWFsC2RhZGlzb2xhdGVkCGRhZGZpbmFsCmRhZGluaXRpYWwJZGFkbWVkaWFsC3RhaGlzb2xhdGVkCHRhaGZpbmFsCnRhaGluaXRpYWwJdGFobWVkaWFsC3phaGlzb2xhdGVkCHphaGZpbmFsCnphaGluaXRpYWwJemFobWVkaWFsC2Fpbmlzb2xhdGVkCGFpbmZpbmFsCmFpbmluaXRpYWwJYWlubWVkaWFsDWdoYWluaXNvbGF0ZWQKZ2hhaW5maW5hbAxnaGFpbmluaXRpYWwLZ2hhaW5tZWRpYWwLZmVoaXNvbGF0ZWQIZmVoZmluYWwKZmVoaW5pdGlhbAlmZWhtZWRpYWwLcWFmaXNvbGF0ZWQIcWFmZmluYWwKcWFmaW5pdGlhbAlxYWZtZWRpYWwLa2FmaXNvbGF0ZWQOYXJhYmlja2FmZmluYWwKa2FmaW5pdGlhbAlrYWZtZWRpYWwLbGFtaXNvbGF0ZWQIbGFtZmluYWwKbGFtaW5pdGlhbAlsYW1tZWRpYWwMbWVlbWlzb2xhdGVkCW1lZW1maW5hbAttZWVtaW5pdGlhbAptZWVtbWVkaWFsDG5vb25pc29sYXRlZAlub29uZmluYWwLbm9vbmluaXRpYWwKbm9vbm1lZGlhbAtoZWhpc29sYXRlZAhoZWhmaW5hbApoZWhpbml0aWFsCWhlaG1lZGlhbAt3YXdpc29sYXRlZAh3YXdmaW5hbBNhbGVmbWFrc3VyYWlzb2xhdGVkEGFsZWZtYWtzdXJhZmluYWwLeWVoaXNvbGF0ZWQIeWVoZmluYWwKeWVoaW5pdGlhbAl5ZWhtZWRpYWwebGFtd2l0aGFsZWZtYWRkYWFib3ZlaXNvbGF0ZWRkGmxhbXdpdGhhbGVmbWFkZGFhYm92ZWZpbmFsHmxhbXdpdGhhbGVmaGFtemFhYm92ZWlzb2xhdGVkZBpsYW13aXRoYWxlZmhhbXphYWJvdmVmaW5hbB1sYW13aXRoYWxlZmhhbXphYmVsb3dpc29sYXRlZBpsYW13aXRoYWxlZmhhbXphYmVsb3dmaW5hbBNsYW13aXRoYWxlZmlzb2xhdGVkEGxhbXdpdGhhbGVmZmluYWwVemVyb3dpZHRobm9icmVha3NwYWNlAEArGBgXFxYWFRUUFBMTEhIRERAQDw8ODg0NDAwLCwoKCQkEBAMDAgIBAQAAAY24Af+FRWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhERWhEswYFRgArswgHRgArsQUFRWhEsQcHRWhEAAAAAAFQ5AUSAAA="),r.addFont("Yas-normal.ttf","Yas","normal")}(a),a.setFont(d,"normal");const p=.7*u.clientWidth,g=.7*u.clientHeight;f.style.position="absolute";let m=Math.round((l-g)/2);f.style.top=m+"px";let C=0;C=Math.round((o-p)/2),f.style.left=C+"px",i.debugLog&&(console.log("rootCloned:",{top:m,left:C,rootClonedWidth:p,rootClonedHeight:g,pageWidth:o,pageHeight:l}),console.log(f)),a.html(f,{html2canvas:{svgRendering:!0,scale:.7,removeContainer:!0,logging:i.debugLog},autoPaging:!1,callback:B=>{f.remove(),s({success:!0,blobUrl:String(B.output("bloburl"))}),t.autoDownload&&(i.debugLog?window.open(B.output("bloburl")):B.save((i.form._meta?.title??"export")+".pdf"))}})});return function(s){return n.apply(this,arguments)}}())})()}exportAsPrint(){var t=this;return(0,hr.Z)(function*(){return new Promise(function(){var i=(0,hr.Z)(function*(n){const s=yield t.exportAsPdf({autoDownload:!1});RV()({type:"pdf",printable:s.blobUrl,showModal:!0,onPrintDialogClose:()=>{n({success:!0})},onError:a=>{n({success:!1,message:String(a)})}})});return function(n){return i.apply(this,arguments)}}())})()}loadVariableValues(t){var i=this;return(0,hr.Z)(function*(){for(const n of i.tables){const s=t.filter(o=>!o.tableName||"*"===o.tableName||o.tableName==n.name);if(0===s.length)continue;let a={};for(const o of s)a={...a,...o.data};if(i.form._meta?.header?.values)for(let o=0;o<i.form._meta.header.values.length;o++)i.form._meta.header.values[o]=i.replaceTextVariableValues(i.form._meta.header.values[o],a);if(n.dataRows&&n.dataRows.length>0)for(const o of n.dataRows)for(const l of o)l.text=i.replaceTextVariableValues(l.text,a);if(n.headerRows&&n.headerRows.length>0)for(const o of n.headerRows)for(const l of o)l.text=i.replaceTextVariableValues(l.text,a)}})()}replaceTextVariableValues(t,i){if(t.indexOf("%")<0)return t;const n=t.match(/\%[\w\d\s]+\%/g);if(!n)return t;for(const s of n){const a=s.substring(1,s.length-1);let o=i[a];o=o?String(o):"",this.debugLog&&console.log("match variable:",s,a,o),t=t.replace(s,o)}return t}renderFixedTableRows(t){let i=[];const n=t.rowSchema?.height??1;for(let s=0;s<n;s++){let a=[];for(let o=0;o<t.columns.colCells;o++)a.push({text:""});i.push(a)}return i}renderReservedTableRows(t){let i=[];for(let n=0;n<t.rowSchema.reservedCols.length;n++){let s=[],a=t.rowSchema.reservedColsWidth??0;for(let o=0;o<t.rowSchema.reservedCols.length&&!(this.getCellTd(t.rowSchema.reservedCols[o],s,n,a)>0);o++);i.push(s)}return i}getTableElement(t){return"split-tables"===this.form._meta.tableMode?document.getElementById("form_table_"+t):document.getElementById("form_table")}renderEachTableRow(t,i){let n=[];if(this.form.tables[i].rowSchema?.reservedCols){const s=(o,l,c,A,u)=>{if(u||(u=0),o.__beforeSet||(l.push({rowSpan:o.height,colSpan:o.width,text:o.text}),u+=o.width,o.__beforeSet=!0),o.childCells)for(const f of o.childCells){if(u===A)break;u=s(f,l,c,A,u)}return u},a=o=>{for(const l of o)l.__beforeSet=!1,l.childCells&&a(l.childCells)};a(this.form.tables[i].rowSchema.reservedCols);for(let o=0;o<this.form.tables[i].rowSchema.height;o++){let l=[],c=this.form.tables[i].rowSchema.reservedColsWidth;for(let A=0;A<this.form.tables[i].rowSchema.reservedCols.length&&!(s(this.form.tables[i].rowSchema.reservedCols[A],l,o,c)>0);A++);for(let A=0;A<this.form.tables[i].columns.colCells-this.form.tables[i].rowSchema.reservedColsWidth;A++){let u="";try{u=String(t[o][A])}catch(f){console.warn(f)}l.push({text:u})}n.push(l)}}return n}getCellTd(t,i,n,s,a){if(a||(a=0),t.__beforeSet||(i.push({rowSpan:t.height,colSpan:t.width,text:t.text,name:t.name,style:t.style,backgroundColor:t.backgroundColor??"transparent",borderLeft:t.borderLeft??1,borderRight:t.borderRight??1,borderTop:t.borderTop??1,borderBottom:t.borderBottom??1}),a+=t.width,t.__beforeSet=!0),t.childCells)for(const o of t.childCells){if(a===s)break;a=this.getCellTd(o,i,n,s,a)}return a}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(h.sBO))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["form-engine"]],inputs:{form:"form",data:"data",id:"id",debugLog:"debugLog",containerDirection:"containerDirection",rowData:"rowData",contentId:"contentId"},features:[h.TTD],decls:11,vars:6,consts:[[1,"form-container",3,"ngClass","id"],[3,"ngClass","border-radius","withBorder","border-width","margin-bottom","direction",4,"ngIf"],[4,"ngIf"],[3,"ngClass","margin-top","direction",4,"ngIf"],["tableThead",""],["tableTbody",""],["headerProperties",""],[3,"ngClass"],[3,"src",4,"ngIf"],["class","properties",4,"ngIf"],[3,"src"],[1,"properties"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-description"],[1,"description-section"],[1,"logos"],[3,"src",4,"ngFor","ngForOf"],["rowspan","3"],[1,"img"],["colspan","3","rowspan","2"],["colspan","2"],[1,"td"],[1,"name"],[1,"value"],["colspan","3","rowspan","1"],[1,"xcol"],[3,"margin-top","id","direction","font-family",4,"ngFor","ngForOf"],[3,"id"],[4,"ngFor","ngForOf"],[1,"iso"],["class","signature",4,"ngFor","ngForOf"],[1,"signature"],[1,"signature-container"],["class","iso",4,"ngIf"],[3,"height","background-color","bold","width","min-width","max-width","h1","small","extra-small","vertically","border-left-width","border-right-width","border-top-width","border-bottom-width","innerHtml",4,"ngFor","ngForOf"],[3,"innerHtml"],[3,"background-color","height","min-width","width","max-width","small","bold","extra-small","border-left-width","border-right-width","border-top-width","border-bottom-width","innerHtml",4,"ngFor","ngForOf"],["class","property",4,"ngFor","ngForOf"],[1,"property"],["class","value",4,"ngIf"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0),h.YNc(1,ej,6,18,"header",1),h.YNc(2,rj,2,1,"ng-container",2),h.YNc(3,lj,3,6,"ng-container",2),h.YNc(4,Bj,8,14,"footer",3),h.qZA(),h.YNc(5,Mj,2,3,"ng-template",null,4,h.W1O),h.YNc(7,Sj,2,1,"ng-template",null,5,h.W1O),h.YNc(9,kj,1,1,"ng-template",null,6,h.W1O)),2&i&&(h.Q6J("ngClass",n.form._meta.properties)("id",n.id),h.xp6(1),h.Q6J("ngIf",null==n.form?null:n.form._meta.header),h.xp6(1),h.Q6J("ngIf","split-tables"===n.form._meta.tableMode),h.xp6(1),h.Q6J("ngIf","one-table"===n.form._meta.tableMode),h.xp6(1),h.Q6J("ngIf",null==n.form?null:n.form._meta.footer))},dependencies:[G.mk,G.sg,G.O5,G.tP],styles:["@font-face{font-family:Bnazanin;src:url(/assets/fonts/Bnazanin.ttf)}@font-face{font-family:BYekanPlus;src:url(/assets/fonts/Yekan.ttf)}.form-container[_ngcontent-%COMP%]{border:solid 1px #1d1d1d}.form-container.no-border[_ngcontent-%COMP%]{border:none}table[_ngcontent-%COMP%]{width:100%;display:block;text-align:center;table-layout:fixed;word-break:normal}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #595959;border-collapse:collapse;font-size:.7rem}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden}td.h1[_ngcontent-%COMP%], th.h1[_ngcontent-%COMP%]{font-size:1.4em;font-weight:800}td.small[_ngcontent-%COMP%], th.small[_ngcontent-%COMP%]{font-size:.6rem}td.bold[_ngcontent-%COMP%], th.bold[_ngcontent-%COMP%]{font-weight:700}td.extra-small[_ngcontent-%COMP%], th.extra-small[_ngcontent-%COMP%]{font-size:.4rem}td.vertically[_ngcontent-%COMP%], th.vertically[_ngcontent-%COMP%]{writing-mode:tb-rl;white-space:nowrap}.even[_ngcontent-%COMP%]{background:#fbf8f0}.odd[_ngcontent-%COMP%]{background:#fefcf9}header.logo-title-props-v1[_ngcontent-%COMP%]{display:flex;direction:rtl;align-items:center;justify-content:center;padding:5px 0}header.logo-title-props-v1.withBorder[_ngcontent-%COMP%]{border-color:#1d1d1d;border-style:solid}header.logo-title-props-v1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px}header.logo-title-props-v1[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1 1 0;text-align:center;font-size:1.2em}header.logo-title-props-v1[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]{width:150px;display:flex;flex-direction:column}header.logo-title-props-v1[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]{margin-bottom:.7em;display:flex;align-items:center}header.logo-title-props-v1[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1 1 0}header.logo-title-props-v2[_ngcontent-%COMP%]{display:flex;flex-direction:column}header.logo-title-props-v2[_ngcontent-%COMP%]   .form-description[_ngcontent-%COMP%]{display:flex;flex:1 1 0;direction:rtl;align-items:center;justify-content:center;border:2px solid #000}header.logo-title-props-v2.withBorder[_ngcontent-%COMP%]{border-color:#1d1d1d;border-style:solid}header.logo-title-props-v2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px}header.logo-title-props-v2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1 1 0;text-align:center;font-size:1.2em}header.logo-title-props-v2[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:2px solid #000;margin:5px 0;width:auto;direction:ltr}header.logo-title-props-v2[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]{margin:.7em 0;padding-left:3px;font-size:12px;display:flex;align-items:center}header.logo-title-props-v2[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1 1 0}header.logo-title-props-v3[_ngcontent-%COMP%]{display:flex;direction:rtl;align-items:center;justify-content:space-between;padding:5px 0}header.logo-title-props-v3[_ngcontent-%COMP%]   .description-section[_ngcontent-%COMP%]{display:flex;flex:1 1 0;flex-direction:column;margin:0 4px}header.logo-title-props-v3[_ngcontent-%COMP%]   .description-section[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}header.logo-title-props-v3.withBorder[_ngcontent-%COMP%]{border-color:#1d1d1d;border-style:solid}header.logo-title-props-v3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;border-radius:15px}header.logo-title-props-v3[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1 1 0;text-align:center;font-size:1.2em}header.logo-title-props-v3[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]{display:flex;flex-direction:row}header.logo-title-props-v3[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]{font-size:11px;display:flex;align-items:center}header.logo-title-props-v3[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1 1 0}header.logo-title-props-v4[_ngcontent-%COMP%]{display:flex;direction:rtl;align-items:center;justify-content:center;padding:5px 0}header.logo-title-props-v4.withBorder[_ngcontent-%COMP%]{border-color:#1d1d1d;border-style:solid}header.logo-title-props-v4[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]{display:flex;align-items:center}header.logo-title-props-v4[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 5px;height:60px}header.logo-title-props-v4[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1 1 0;text-align:center;font-size:1.2em}header.logo-title-props-v4[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]{width:150px;display:flex;flex-direction:column}header.logo-title-props-v4[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]{margin-bottom:.7em;display:flex;align-items:center}header.logo-title-props-v4[_ngcontent-%COMP%]   .properties[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1 1 0}.header-v2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;table-layout:auto!important;display:inline-table!important}.header-v2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:5px}.header-v2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.header-v2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{padding:5px;display:flex;align-items:center;justify-content:center}.header-v2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1 1 0}.header-v2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .xcol[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1 1 0}.header-v2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .xcol[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.3em}footer.iso-signatures-v1[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-top:10px;direction:rtl}footer.iso-signatures-v1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1 1 0;height:70px;border:1px solid #000000;padding:.8em}footer.iso-signatures-v1[_ngcontent-%COMP%]   .iso[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:Times New Roman,Times,serif}footer.iso-signatures-v1[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{display:flex;justify-content:center}footer.iso-signatures-v2[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-top:10px;border:1px solid #000000}footer.iso-signatures-v2[_ngcontent-%COMP%]   .iso[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;font-size:12px;padding:0 10px 10px;border:1px solid #000000}footer.iso-signatures-v2[_ngcontent-%COMP%]   .signature-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;direction:rtl}footer.iso-signatures-v2[_ngcontent-%COMP%]   .signature-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1 1 0;height:130px;border:1px solid #000000;padding:.8em}footer.iso-signatures-v2[_ngcontent-%COMP%]   .signature-container[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1 1 0;height:60px;border:1px solid #000000;padding:.8em;font-size:11px}footer.iso-signatures-v3[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-top:10px;direction:rtl}footer.iso-signatures-v3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:calc((100% - 80.59px)/2);height:55px;border:1px solid #000000;padding:.8em;font-size:12px}footer.iso-signatures-v3[_ngcontent-%COMP%]   .iso[_ngcontent-%COMP%]{width:80.59px;display:flex}footer.iso-signatures-v3[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{display:flex;justify-content:center}footer.iso-signatures-v4[_ngcontent-%COMP%]{width:100%;direction:rtl}footer.iso-signatures-v5[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-top:10px;direction:rtl;border:1px solid #000000}footer.iso-signatures-v5[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1 1 0;height:60px;padding:.8em}footer.iso-signatures-v5[_ngcontent-%COMP%]   .iso[_ngcontent-%COMP%]{position:absolute;font-size:11px}footer.iso-signatures-v5[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:11px;border:1px solid #000000}footer.iso-signatures-v6[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-top:10px;direction:rtl;border:1px solid #000000}footer.iso-signatures-v6[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.7rem}footer.iso-signatures-v6[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1 1 0;height:60px;padding:2px}footer.iso-signatures-v6[_ngcontent-%COMP%]   .iso[_ngcontent-%COMP%]{position:absolute;font-size:11px}footer.iso-signatures-v6[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:11px;border:1px solid #000000}.footer-signatures-v2[_ngcontent-%COMP%]   .signature-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:10px}.footer-signatures-v2[_ngcontent-%COMP%]   .signature-container[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{border:1px solid #000000;padding:4px;margin:0 5px;flex:1 1 0}"]})}return r})();const Pj=["formEngine"];function Rj(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"button",23),h.NdJ("click",function(){h.CHM(t);const n=h.oxw();return h.KtG(n.loadFormValues())}),h.TgZ(1,"mat-icon"),h._uU(2,"play_circle_outline"),h.qZA()()}}function Uj(r,e){1&r&&h._UZ(0,"mat-spinner",24)}function Qj(r,e){1&r&&h._UZ(0,"mat-icon",25)}function Oj(r,e){1&r&&h._UZ(0,"mat-spinner",24)}function Nj(r,e){1&r&&h._UZ(0,"mat-icon",26)}function Hj(r,e){if(1&r&&h._UZ(0,"form-engine",27,28),2&r){const t=h.oxw();h.Q6J("debugLog",!0)("form",t.form)("contentId","content")}}let zj=(()=>{class r{constructor(t,i){this._ticketService=t,this.notify=i,this.isLoading=!1,this.formValues=[]}ngOnChanges(t){if(t.formName){if(this.form=YM.ry.find(n=>n._meta.name===this.formName),!this.form)return;const i=YM.YC[this.form._meta.name];i?(this.formValues=i,setTimeout(()=>{this.loadFormValues()},400)):this.formValues=[]}}requestReapeat(){this._ticketService.openRepeatRequestDialog("RequestToLaboratory")}export(t){var i=this;return(0,hr.Z)(function*(){if(!i.isLoading){if(!i.formEngine)return void i.notify.errorSnack("failed engine");"image"===t?(i.isLoading=!0,yield i.formEngine.exportAsImage(),i.isLoading=!1):"pdf"===t&&(i.isLoading=!0,yield i.formEngine.exportAsPdf(),i.isLoading=!1)}})()}loadFormValues(){this.formEngine&&this.formEngine.loadVariableValues(this.formValues)}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(Jk.w),h.Y36(lC.d))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-preview-report-form"]],viewQuery:function(i,n){if(1&i&&h.Gf(Pj,5),2&i){let s;h.iGM(s=h.CRH())&&(n.formEngine=s.first)}},inputs:{formName:"formName"},features:[h.TTD],decls:31,vars:11,consts:[[1,"main"],["color","primary","mat-icon-button","",3,"click",4,"ngIf"],[1,"date-picker","no-bottom",2,"margin-right","5px"],["matInput","",3,"matDatepicker"],["matIconSuffix","",2,"margin-top","-5px",3,"for"],["matDatepickerToggleIcon","",2,"font-size","20px"],[2,"font-size","14px"],["picker",""],[2,"display","flex"],["mat-mini-fab","","color","primary","matTooltip","repeat",2,"margin-right","5px",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","repeat"],["mat-mini-fab","","color","primary","matTooltip","Excel",2,"margin-right","5px",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","28","height","28","viewBox","0 0 24 24"],["d","M 12 3 L 2 5 L 2 19 L 12 21 L 12 3 z M 14 5 L 14 7 L 16 7 L 16 9 L 14 9 L 14 11 L 16 11 L 16 13 L 14 13 L 14 15 L 16 15 L 16 17 L 14 17 L 14 19 L 21 19 C 21.552 19 22 18.552 22 18 L 22 6 C 22 5.448 21.552 5 21 5 L 14 5 z M 18 7 L 20 7 L 20 9 L 18 9 L 18 7 z M 4.1757812 8.296875 L 5.953125 8.296875 L 6.8769531 10.511719 C 6.9519531 10.692719 7.0084063 10.902625 7.0664062 11.140625 L 7.0917969 11.140625 C 7.1247969 10.997625 7.1919688 10.779141 7.2929688 10.494141 L 8.3222656 8.296875 L 9.9433594 8.296875 L 8.0078125 11.966797 L 10 15.703125 L 8.2714844 15.703125 L 7.1582031 13.289062 C 7.1162031 13.204062 7.0663906 13.032922 7.0253906 12.794922 L 7.0097656 12.794922 C 6.9847656 12.908922 6.934375 13.079594 6.859375 13.308594 L 5.7363281 15.703125 L 4 15.703125 L 6.0605469 11.996094 L 4.1757812 8.296875 z M 18 11 L 20 11 L 20 13 L 18 13 L 18 11 z M 18 15 L 20 15 L 20 17 L 18 17 L 18 15 z"],["mat-mini-fab","","color","primary","matTooltip","PDF",2,"margin-right","5px",3,"click"],["diameter","20","color","warn",4,"ngIf"],["aria-hidden","false","fontIcon","picture_as_pdf",4,"ngIf"],["mat-mini-fab","","color","primary","matTooltip","Print",2,"margin-right","5px",3,"disabled"],["aria-hidden","false","aria-label","Example home icon","fontIcon","print"],["mat-mini-fab","","color","primary","matTooltip","Photo",3,"click"],["aria-hidden","false","fontIcon","photo",4,"ngIf"],["id","content",1,"content"],[3,"debugLog","form","contentId",4,"ngIf"],["color","primary","mat-icon-button","",3,"click"],["diameter","20","color","warn"],["aria-hidden","false","fontIcon","picture_as_pdf"],["aria-hidden","false","fontIcon","photo"],[3,"debugLog","form","contentId"],["formEngine",""]],template:function(i,n){if(1&i&&(h.TgZ(0,"div",0)(1,"header")(2,"h1"),h._uU(3),h.YNc(4,Rj,3,0,"button",1),h.qZA(),h.TgZ(5,"div",2)(6,"mat-form-field")(7,"mat-label"),h._uU(8,"Choose a date"),h.qZA(),h._UZ(9,"input",3),h.TgZ(10,"mat-datepicker-toggle",4)(11,"mat-icon",5),h._uU(12,"today"),h.qZA()(),h._UZ(13,"mat-datepicker",6,7),h.qZA()(),h.TgZ(15,"div",8)(16,"button",9),h.NdJ("click",function(){return n.requestReapeat()}),h._UZ(17,"mat-icon",10),h.qZA(),h.TgZ(18,"button",11),h.O4$(),h.TgZ(19,"svg",12),h._UZ(20,"path",13),h.qZA()(),h.kcU(),h.TgZ(21,"button",14),h.NdJ("click",function(){return n.export("pdf")}),h.YNc(22,Uj,1,0,"mat-spinner",15),h.YNc(23,Qj,1,0,"mat-icon",16),h.qZA(),h.TgZ(24,"button",17),h._UZ(25,"mat-icon",18),h.qZA(),h.TgZ(26,"button",19),h.NdJ("click",function(){return n.export("image")}),h.YNc(27,Oj,1,0,"mat-spinner",15),h.YNc(28,Nj,1,0,"mat-icon",20),h.qZA()()(),h.TgZ(29,"div",21),h.YNc(30,Hj,2,3,"form-engine",22),h.qZA()()),2&i){const s=h.MAs(14);h.xp6(3),h.hij(" ",null==n.form||null==n.form._meta?null:n.form._meta.abbreviation," "),h.xp6(1),h.Q6J("ngIf",n.formValues.length>0),h.xp6(5),h.Q6J("matDatepicker",s),h.xp6(1),h.Q6J("for",s),h.xp6(8),h.Q6J("disabled",!0),h.xp6(4),h.Q6J("ngIf",n.isLoading),h.xp6(1),h.Q6J("ngIf",!n.isLoading),h.xp6(1),h.Q6J("disabled",!0),h.xp6(3),h.Q6J("ngIf",n.isLoading),h.xp6(1),h.Q6J("ngIf",!n.isLoading),h.xp6(2),h.Q6J("ngIf",n.form)}},dependencies:[G.O5,ms.RK,ms.nh,rs.Hw,GM.gM,tc.KE,tc.hX,tc.R9,Ld.Nt,Hu.Mq,Hu.hl,Hu.nW,Hu.Q0,Gk,Lj],styles:[".date-picker mat-form-field{height:38px}  .date-picker .mat-mdc-form-field-infix{padding:10px 0 0!important}  .date-picker label{overflow:visible}  .date-picker mat-label{top:-8px;font-size:12px!important}  .date-picker input{margin-top:8px;font-size:12px!important}  .date-picker .mat-datepicker-toggle button{margin-top:-10px!important}  .no-bottom .mat-mdc-form-field-subscript-wrapper{display:none}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;align-items:center}.main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 1 0}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;width:100%;align-items:center}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;margin:0;display:flex;align-items:center}"]})}return r})();var Gj=ge(399),Cr=ge(72),Q_=ge(4424);function Yj(r,e){if(1&r&&h._UZ(0,"img",8),2&r){const t=h.oxw();h.Q6J("src",t.imagePath,h.LSH)}}function Wj(r,e){1&r&&h._UZ(0,"mat-icon",15)}function Vj(r,e){if(1&r&&(h.TgZ(0,"th",12)(1,"div",13),h._uU(2),h.YNc(3,Wj,1,0,"mat-icon",14),h.qZA()()),2&r){const t=h.oxw().$implicit;h.xp6(2),h.hij(" ",t," "),h.xp6(1),h.Q6J("ngIf","Date"==t)}}function jj(r,e){if(1&r&&(h.TgZ(0,"td",16),h._uU(1),h.qZA()),2&r){const t=e.$implicit,i=h.oxw().$implicit,n=h.oxw();h.Udp("background-color",t.color),h.xp6(1),h.hij(" ",n.getColumnName(t,i)," ")}}function Jj(r,e){if(1&r&&(h.ynx(0)(1,9),h.YNc(2,Vj,4,2,"th",10),h.YNc(3,jj,2,3,"td",11),h.BQk()()),2&r){const t=e.$implicit;h.xp6(1),h.Q6J("matColumnDef",t)}}function Kj(r,e){1&r&&h._UZ(0,"tr",17)}function Zj(r,e){1&r&&h._UZ(0,"tr",18)}const Xj=function(){return[5,10,25,100]};let qj=(()=>{class r{constructor(){this.logs=[{Date:"29/04/24",Time:"10:30",Priority:"0",TagName:"150BW03",Event:"H Limit 950.00 t/h",Type:"Warning",Area:"Area_850",color:"yellow"},{Date:"29/04/25",Time:"10:20",Priority:"0",TagName:"850BW03",Event:"H Limit 950.00 t/h",Type:"Warning",Area:"Area_850",color:"#5eba5e"},{Date:"29/04/25",Time:"11:30",Priority:"0",TagName:"150BW03",Event:"H Limit 950.00 t/h",Type:"Warning",Area:"Area_850",color:"#5eba5e"},{Date:"29/04/25",Time:"14:00",Priority:"0",TagName:"150BW03",Event:"H Limit 950.00 t/h",Type:"Warning",Area:"Area_850",color:"yellow"},{Date:"29/04/25",Time:"15:00",Priority:"0",TagName:"150BW03",Event:"H Limit 950.00 t/h",Type:"Warning",Area:"Blain_Increasing",color:"#5eba5e"},{Date:"29/04/25",Time:"16:00",Priority:"0",TagName:"150BW03",Event:"H Limit 950.00 t/h",Type:"Warning",Area:"Area_850",color:"yellow"}],this.displayedColumns=Object.keys(this.logs[0]).filter(t=>"color"!==t)}ngOnChanges(t){t.name&&(this.imagePath=Gj.M.find(i=>i.name===this.name)?.image)}getColumnName(t,i){return t[i]}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-preview-hmi-dashboard"]],inputs:{name:"name"},features:[h.TTD],decls:8,vars:9,consts:[[1,"main"],[3,"src",4,"ngIf"],[1,"mat-elevation-z8","logs"],["mat-table","",3,"dataSource"],[4,"ngFor","ngForOf"],["style","height: 25px !important","mat-header-row","",4,"matHeaderRowDef"],["style","height: 20px !important","mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],[3,"src"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"background-color",4,"matCellDef"],["mat-header-cell",""],[2,"display","flex","align-items","center","font-size","11px"],["style","font-size: 15px","fontIcon","south",4,"ngIf"],["fontIcon","south",2,"font-size","15px"],["mat-cell",""],["mat-header-row","",2,"height","25px !important"],["mat-row","",2,"height","20px !important"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0),h.YNc(1,Yj,1,1,"img",1),h.TgZ(2,"div",2)(3,"table",3),h.YNc(4,Jj,4,1,"ng-container",4),h.YNc(5,Kj,1,0,"tr",5),h.YNc(6,Zj,1,0,"tr",6),h.qZA(),h._UZ(7,"mat-paginator",7),h.qZA()()),2&i&&(h.xp6(1),h.Q6J("ngIf",n.imagePath),h.xp6(2),h.Q6J("dataSource",n.logs),h.xp6(1),h.Q6J("ngForOf",n.displayedColumns),h.xp6(1),h.Q6J("matHeaderRowDef",n.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",n.displayedColumns),h.xp6(1),h.Q6J("length",100)("pageSize",10)("pageSizeOptions",h.DdM(8,Xj)))},dependencies:[G.sg,G.O5,rs.Hw,Cr.BZ,Cr.fO,Cr.as,Cr.w1,Cr.Dz,Cr.nj,Cr.ge,Cr.ev,Cr.XQ,Cr.Gk,Q_.NW],styles:[".main[_ngcontent-%COMP%]{background-color:silver;height:100%;display:flex;flex-direction:column}img[_ngcontent-%COMP%]{max-height:70%;max-width:100%}.logs[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto}"]})}return r})(),$j=(()=>{class r{ngOnChanges(t){this.title=YM.EM.find(i=>i.name===this.name)?.title}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-preview-report-excel"]],inputs:{name:"name"},features:[h.TTD],decls:19,vars:3,consts:[[1,"main"],[2,"font-size","20px"],[1,"date-picker","no-bottom",2,"margin-right","5px"],["matInput","",3,"matDatepicker"],["matIconSuffix","",2,"margin-top","-5px",3,"for"],["matDatepickerToggleIcon","",2,"font-size","20px"],[2,"font-size","14px"],["picker",""],[2,"display","flex"],["mat-mini-fab","","color","primary",2,"margin-right","5px"],["aria-hidden","false","aria-label","Example home icon","fontIcon","file_download"],[1,"content"],["src","./assets/icons/excel.png"]],template:function(i,n){if(1&i&&(h.TgZ(0,"div",0)(1,"header")(2,"h1",1),h._uU(3),h.qZA(),h.TgZ(4,"div",2)(5,"mat-form-field")(6,"mat-label"),h._uU(7,"Choose a date"),h.qZA(),h._UZ(8,"input",3),h.TgZ(9,"mat-datepicker-toggle",4)(10,"mat-icon",5),h._uU(11,"today"),h.qZA()(),h._UZ(12,"mat-datepicker",6,7),h.qZA()(),h.TgZ(14,"div",8)(15,"button",9),h._UZ(16,"mat-icon",10),h.qZA()()(),h.TgZ(17,"div",11),h._UZ(18,"img",12),h.qZA()()),2&i){const s=h.MAs(13);h.xp6(3),h.Oqu(n.title),h.xp6(5),h.Q6J("matDatepicker",s),h.xp6(1),h.Q6J("for",s)}},dependencies:[ms.nh,rs.Hw,tc.KE,tc.hX,tc.R9,Ld.Nt,Hu.Mq,Hu.hl,Hu.nW,Hu.Q0],styles:[".date-picker mat-form-field{height:38px}  .date-picker .mat-mdc-form-field-infix{padding:10px 0 0!important}  .date-picker label{overflow:visible}  .date-picker mat-label{top:-8px;font-size:12px!important}  .date-picker input{margin-top:8px;font-size:12px!important}  .date-picker .mat-datepicker-toggle button{margin-top:-10px!important}  .no-bottom .mat-mdc-form-field-subscript-wrapper{display:none}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 1 0;display:flex;align-items:center;justify-content:center;padding:20px}.main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}"]})}return r})();function eJ(r,e){1&r&&(h.TgZ(0,"th",14),h._uU(1,"No."),h.qZA())}function tJ(r,e){if(1&r&&(h.TgZ(0,"td",15),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.no)}}function iJ(r,e){1&r&&(h.TgZ(0,"th",14),h._uU(1,"Sampling No"),h.qZA())}function nJ(r,e){if(1&r&&(h.TgZ(0,"td",15),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.sampling_no)}}function rJ(r,e){1&r&&(h.TgZ(0,"th",14),h._uU(1,"Description"),h.qZA())}function sJ(r,e){if(1&r&&(h.TgZ(0,"td",15),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.description)}}function aJ(r,e){1&r&&(h.TgZ(0,"th",14),h._uU(1,"Sampling Person"),h.qZA())}function oJ(r,e){if(1&r&&(h.TgZ(0,"td",15),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.sampling_person)}}function lJ(r,e){1&r&&(h.TgZ(0,"th",14),h._uU(1,"Sampling Time"),h.qZA())}function cJ(r,e){if(1&r&&(h.TgZ(0,"td",15),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.sampling_time)}}function hJ(r,e){1&r&&(h.TgZ(0,"th",14),h._uU(1,"Entry Time"),h.qZA())}function AJ(r,e){if(1&r&&(h.TgZ(0,"td",15),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.entry_time)}}function uJ(r,e){1&r&&(h.TgZ(0,"th",14),h._uU(1,"Action"),h.qZA())}function dJ(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"td",15)(1,"button",16)(2,"span",17),h._uU(3,"more_vert"),h.qZA()(),h.TgZ(4,"mat-menu",null,18)(6,"a",19),h.NdJ("click",function(n){h.CHM(t);const s=h.oxw();return n.preventDefault(),h.KtG(s.openDialog())}),h._uU(7," Detail "),h.qZA(),h.TgZ(8,"button",20),h.NdJ("click",function(){h.CHM(t);const n=h.oxw();return h.KtG(n.requestReapeat())}),h._uU(9,"Repeat"),h.qZA()()()}if(2&r){const t=h.MAs(5);h.xp6(1),h.Q6J("matMenuTriggerFor",t)}}function fJ(r,e){1&r&&h._UZ(0,"tr",21)}function pJ(r,e){1&r&&h._UZ(0,"tr",22)}const eP=function(){return[5,10,20]};function mJ(r,e){1&r&&(h.TgZ(0,"th",12),h._uU(1,"No."),h.qZA())}function gJ(r,e){if(1&r&&(h.TgZ(0,"td",13),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.no)}}function _J(r,e){1&r&&(h.TgZ(0,"th",12),h._uU(1,"Sampling No"),h.qZA())}function vJ(r,e){if(1&r&&(h.TgZ(0,"td",13),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.sampling_no)}}function wJ(r,e){1&r&&(h.TgZ(0,"th",12),h._uU(1,"Test"),h.qZA())}function bJ(r,e){if(1&r&&(h.TgZ(0,"td",13),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.test)}}function yJ(r,e){1&r&&(h.TgZ(0,"th",12),h._uU(1,"User"),h.qZA())}function xJ(r,e){if(1&r&&(h.TgZ(0,"td",13),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.user)}}function BJ(r,e){1&r&&(h.TgZ(0,"th",12),h._uU(1,"Time"),h.qZA())}function CJ(r,e){if(1&r&&(h.TgZ(0,"td",13),h._uU(1),h.qZA()),2&r){const t=e.$implicit;h.xp6(1),h.Oqu(t.time)}}function EJ(r,e){1&r&&h._UZ(0,"tr",14)}function MJ(r,e){1&r&&h._UZ(0,"tr",15)}let TJ=(()=>{class r{constructor(t){this._ticketService=t,this.dialog=(0,h.f3M)(Qh.uw),this.displayedColumns=["no","sampling_no","description","sampling_person","sampling_time","entry_time","action"],this.dataSource=new Cr.by(Array(10).fill(null).map((i,n)=>({no:n+1,sampling_no:1012030,description:"test 123",sampling_person:"User 1",sampling_time:(new Date).toISOString(),entry_time:(new Date).toISOString()})))}openDialog(){this.dialog.open(DJ,{width:"1200px"})}requestReapeat(){this._ticketService.openRepeatRequestDialog("RequestToLaboratory")}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(Jk.w))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-certificate"]],decls:26,vars:5,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","no"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sampling_no"],["matColumnDef","description"],["matColumnDef","sampling_person"],["matColumnDef","sampling_time"],["matColumnDef","entry_time"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",1,"flex-row-reverse",3,"matMenuTriggerFor"],[1,"material-icons"],["rowActionMenu","matMenu"],["href","#","mat-menu-item","",3,"click"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"table",1),h.ynx(2,2),h.YNc(3,eJ,2,0,"th",3),h.YNc(4,tJ,2,1,"td",4),h.BQk(),h.ynx(5,5),h.YNc(6,iJ,2,0,"th",3),h.YNc(7,nJ,2,1,"td",4),h.BQk(),h.ynx(8,6),h.YNc(9,rJ,2,0,"th",3),h.YNc(10,sJ,2,1,"td",4),h.BQk(),h.ynx(11,7),h.YNc(12,aJ,2,0,"th",3),h.YNc(13,oJ,2,1,"td",4),h.BQk(),h.ynx(14,8),h.YNc(15,lJ,2,0,"th",3),h.YNc(16,cJ,2,1,"td",4),h.BQk(),h.ynx(17,9),h.YNc(18,hJ,2,0,"th",3),h.YNc(19,AJ,2,1,"td",4),h.BQk(),h.ynx(20,10),h.YNc(21,uJ,2,0,"th",3),h.YNc(22,dJ,10,1,"td",4),h.BQk(),h.YNc(23,fJ,1,0,"tr",11),h.YNc(24,pJ,1,0,"tr",12),h.qZA(),h._UZ(25,"mat-paginator",13),h.qZA()),2&i&&(h.xp6(1),h.Q6J("dataSource",n.dataSource),h.xp6(22),h.Q6J("matHeaderRowDef",n.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",n.displayedColumns),h.xp6(1),h.Q6J("pageSizeOptions",h.DdM(4,eP)))},dependencies:[ms.RK,Rs.VK,Rs.OP,Rs.p6,Cr.BZ,Cr.fO,Cr.as,Cr.w1,Cr.Dz,Cr.nj,Cr.ge,Cr.ev,Cr.XQ,Cr.Gk,Q_.NW]})}return r})(),DJ=(()=>{class r{constructor(){this.dialogRef=(0,h.f3M)(Qh.so),this.displayedColumns=["no","sampling_no","test","user","time"],this.dataSource=new Cr.by(Array(5).fill(null).map((t,i)=>({no:i+1,sampling_no:1012030,test:["Blain","Moisture","NaOH","Bentonite","LimeStone"][i],user:"User "+(i+1),time:(new Date).toISOString()})))}onNoClick(){}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["dialog-overview-example-dialog"]],standalone:!0,features:[h.jDz],decls:20,vars:5,consts:[[1,"mat-elevation-z8",2,"padding","5px"],["mat-table","",3,"dataSource"],["matColumnDef","no"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sampling_no"],["matColumnDef","test"],["matColumnDef","user"],["matColumnDef","time"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"table",1),h.ynx(2,2),h.YNc(3,mJ,2,0,"th",3),h.YNc(4,gJ,2,1,"td",4),h.BQk(),h.ynx(5,5),h.YNc(6,_J,2,0,"th",3),h.YNc(7,vJ,2,1,"td",4),h.BQk(),h.ynx(8,6),h.YNc(9,wJ,2,0,"th",3),h.YNc(10,bJ,2,1,"td",4),h.BQk(),h.ynx(11,7),h.YNc(12,yJ,2,0,"th",3),h.YNc(13,xJ,2,1,"td",4),h.BQk(),h.ynx(14,8),h.YNc(15,BJ,2,0,"th",3),h.YNc(16,CJ,2,1,"td",4),h.BQk(),h.YNc(17,EJ,1,0,"tr",9),h.YNc(18,MJ,1,0,"tr",10),h.qZA(),h._UZ(19,"mat-paginator",11),h.qZA()),2&i&&(h.xp6(1),h.Q6J("dataSource",n.dataSource),h.xp6(16),h.Q6J("matHeaderRowDef",n.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",n.displayedColumns),h.xp6(1),h.Q6J("pageSizeOptions",h.DdM(4,eP)))},dependencies:[tc.lN,Ld.c,Dt.u5,ms.ot,Cr.p0,Cr.BZ,Cr.fO,Cr.as,Cr.w1,Cr.Dz,Cr.nj,Cr.ge,Cr.ev,Cr.XQ,Cr.Gk,Q_.TU,Q_.NW,Qh.Is],encapsulation:2})}return r})();function SJ(r,e){if(1&r&&(h.TgZ(0,"div",6),h._UZ(1,"app-menu-side",2),h.qZA()),2&r){const t=h.oxw();h.xp6(1),h.Q6J("skeletonConfig",t.skeletonConfig)}}function IJ(r,e){1&r&&h._UZ(0,"app-menu-static")}function FJ(r,e){if(1&r&&h._UZ(0,"app-data-entry-temp",13),2&r){const t=h.oxw(2);h.Q6J("label",t.activeMenu.label)}}function kJ(r,e){if(1&r&&h._UZ(0,"app-preview-report-form",14),2&r){const t=h.oxw(2);h.Q6J("formName",t.activeMenu.id)}}function LJ(r,e){if(1&r&&h._UZ(0,"app-preview-hmi-dashboard",15),2&r){const t=h.oxw(2);h.Q6J("name",t.activeMenu.id)}}function PJ(r,e){if(1&r&&h._UZ(0,"app-preview-report-excel",15),2&r){const t=h.oxw(2);h.Q6J("name",t.activeMenu.id)}}function RJ(r,e){1&r&&h._UZ(0,"app-ticket-chat")}function UJ(r,e){if(1&r){const t=h.EpF();h.TgZ(0,"app-ticket-list",16),h.NdJ("onChangeTab",function(n){h.CHM(t);const s=h.oxw(2);return h.KtG(s.changeTab(n))}),h.qZA()}if(2&r){const t=h.oxw(2);h.Q6J("label",t.activeMenu.label)}}function QJ(r,e){1&r&&(h.TgZ(0,"div",17),h._UZ(1,"iframe",18),h.qZA())}function OJ(r,e){1&r&&(h.TgZ(0,"div"),h._UZ(1,"app-certificate"),h.qZA())}function NJ(r,e){if(1&r&&(h.TgZ(0,"main",7),h.YNc(1,FJ,1,1,"app-data-entry-temp",8),h.YNc(2,kJ,1,1,"app-preview-report-form",9),h.YNc(3,LJ,1,1,"app-preview-hmi-dashboard",10),h.YNc(4,PJ,1,1,"app-preview-report-excel",10),h.YNc(5,RJ,1,0,"app-ticket-chat",3),h.YNc(6,UJ,1,1,"app-ticket-list",11),h.YNc(7,QJ,2,0,"div",12),h.YNc(8,OJ,2,0,"div",3),h.qZA()),2&r){const t=h.oxw();h.Udp("padding","dashboard"==t.activeMenu.type||"trend"==t.activeMenu.type?"0px":"10px"),h.xp6(1),h.Q6J("ngIf","dataEntry"==t.activeMenu.type),h.xp6(1),h.Q6J("ngIf","report"==t.activeMenu.type),h.xp6(1),h.Q6J("ngIf","dashboard"==t.activeMenu.type),h.xp6(1),h.Q6J("ngIf","excel"==t.activeMenu.type),h.xp6(1),h.Q6J("ngIf","ticket-chat"===t.activeMenu.type),h.xp6(1),h.Q6J("ngIf","ticket"===t.activeMenu.type),h.xp6(1),h.Q6J("ngIf","trend"===t.activeMenu.type),h.xp6(1),h.Q6J("ngIf","certificate"===t.activeMenu.type)}}const HJ=function(r){return{fontFamily:r}},zJ=[{path:"",component:(()=>{class r{constructor(t,i,n){this.panelService=t,this.store=i,this.transmit=n,this.menuType="full",this.menuShow=!0}ngOnInit(){this.panelService.menuType.subscribe(t=>{this.menuType=t}),this.panelService.menuShow.subscribe(t=>{this.menuShow=t}),this.transmit.listen("menu-item-clicked").subscribe(t=>{this.activeMenu=t,console.log("active menu item",t),"trend"===this.activeMenu?.type&&this.fixedTrendIframe()}),this.panelService.getNotifications(),this.store.select(Yi.iE).subscribe(t=>this.skeletonConfig=t)}fixedTrendIframe(){if(!document.getElementById("main-content")||!document.getElementById("trned_iframe"))return void setTimeout(()=>{this.fixedTrendIframe()},50);const t=document.getElementById("main-content").offsetWidth,i=document.getElementById("main-content").offsetHeight;document.getElementById("trned_iframe").setAttribute("width",t-3+"px"),document.getElementById("trned_iframe").setAttribute("height",i-9+"px")}changeTab(t){this.activeMenu="chat"===t?{id:"ticket",type:"ticket-chat",left:10,label:"Task",sub:[]}:{id:"Form1",type:"report",label:"Shift Analysis",target:{id:"__DASHBOARDASSET__728291113400159",name:"test application"}}}static#e=this.\u0275fac=function(i){return new(i||r)(h.Y36(Wl),h.Y36(er.yh),h.Y36(Dl.U))};static#t=this.\u0275cmp=h.Xpm({type:r,selectors:[["app-skeleton"]],decls:8,vars:17,consts:[["id","panel"],["class","menu-wrapper sidebar-bg sidebar-text",4,"ngIf"],[3,"skeletonConfig"],[4,"ngIf"],[1,"main-wrapper"],["id","main-content","style","overflow: auto",3,"padding",4,"ngIf"],[1,"menu-wrapper","sidebar-bg","sidebar-text"],["id","main-content",2,"overflow","auto"],[3,"label",4,"ngIf"],[3,"formName",4,"ngIf"],[3,"name",4,"ngIf"],[3,"label","onChangeTab",4,"ngIf"],["style","position: relative; width: 100%; height: 100%",4,"ngIf"],[3,"label"],[3,"formName"],[3,"name"],[3,"label","onChangeTab"],[2,"position","relative","width","100%","height","100%"],["id","trned_iframe","src","https://danatadbir.github.io/demo-trend/","frameborder","0"]],template:function(i,n){1&i&&(h.TgZ(0,"div",0)(1,"div"),h.YNc(2,SJ,2,1,"div",1),h.TgZ(3,"div"),h._UZ(4,"app-top-bar",2),h.YNc(5,IJ,1,0,"app-menu-static",3),h.TgZ(6,"div",4),h.YNc(7,NJ,9,10,"main",5),h.qZA()()()()),2&i&&(h.Akn(h.VKq(15,HJ,n.panelService.language_data["preferred-font"])),h.Tol(n.panelService.language_data.direction),h.xp6(1),h.Gre("panel-body ",n.panelService.language_data.direction,""),h.xp6(1),h.Q6J("ngIf","static"!==n.menuType),h.xp6(1),h.Gre("main dashboard-bg ",n.panelService.language_data.direction,""),h.xp6(1),h.Q6J("skeletonConfig",n.skeletonConfig),h.xp6(1),h.Q6J("ngIf","static"===n.menuType&&n.menuShow),h.xp6(2),h.Q6J("ngIf",n.activeMenu))},dependencies:[G.O5,td.D,xh.o,vc,u0,RW,UW.X,zj,qj,$j,TJ],styles:["#panel[_ngcontent-%COMP%]{height:100vh;overflow:hidden;position:relative}#panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:hidden}#panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]{height:100vh}#panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{flex-grow:1;position:relative;min-width:340px;overflow:hidden}#panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .main-wrapper[_ngcontent-%COMP%]{height:95vh;box-shadow:inset 0 7px 9px -7px #999,inset 7px 0 9px -7px #999}#panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .main-wrapper[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{height:100%}#panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   #page-content[_ngcontent-%COMP%]{padding:30px;min-height:100%}"]})}return r})()}];let GJ=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[$o.Bz.forChild(zJ),$o.Bz]})}return r})(),iP=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({})}return r})(),x1=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[iP,Qt.BQ,Qt.si,G.ez,iP,Qt.BQ]})}return r})(),f2=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({})}return r})();var p2=ge(6489);const t7=[Lt,pa,ms.ot,Rs.Tx,rs.Ps,No,Qh.Is,tc.lN,Cv.LD,Ld.c,x1,jt.xu,f2,p2.Nh,sy.p9,Q_.TU,Yk];let i7=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[G.ez,Dt.u5,Dt.UX,t7]})}return r})();var n7=ge(1426);const r7=[Lt,pa,ms.ot,Rs.Tx,rs.Ps,No,Qh.Is,tc.lN,Cv.LD,Ld.c,x1,jt.xu,f2,p2.Nh,sy.p9];let s7=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[G.ez,Dt.u5,Dt.UX,i7,rl,er.Aw.forFeature(Yi._O,n7.l),r7]})}return r})();h.B6R(Em,function(){return[G.sg,Dt.JL,Dt.sg,ad,Hf,jx]},[]);var a7=ge(5931),o7=ge(371);let l7=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[G.ez]})}return r})(),c7=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[G.ez,Dt.UX]})}return r})();var h7=ge(5770),A7=ge(3941),u7=ge(7132);const d7=[Lt,pa,ms.ot,Rs.Tx,rs.Ps,jt.xu,Os,GM.AV,Lt,pa,ms.ot,Rs.Tx,rs.Ps,Qh.Is,tc.lN,Cv.LD,Ld.c,x1,jt.xu,f2,p2.Nh,sy.p9,Qt.XK,a7.QW,tc.lN,Ld.c,Hu.FA,Dt.UX,Cv.LD,u7.Hi,ms.ot,rs.Ps,Cr.p0,Dt.u5,x1,o7.rK,Q_.TU,No,h7.Bb,Yk];let f7=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({providers:[Wl],imports:[G.ez,Dt.u5,GJ,s7,d7,c7,l7,A7.u]})}return r})()},509:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>DataEntryTempComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(755),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3226),_dataEntry_mock__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2200),_angular_material_button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(393),_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3005),_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6125),_angular_material_input__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5735),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6733),_angular_material_menu__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5863),_angular_material_icon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9984),_angular_material_select__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8675),_angular_material_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4220),_angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9742),_angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7812),_angular_material_chips__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(7132),_angular_material_table__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(72),ngx_material_timepicker__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(371),_angular_material_paginator__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(4424),_angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(5770);function DataEntryTempComponent_ng_container_0_div_19_ng_container_1_mat_option_5_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"mat-option",33),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ti){const ge=_i.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",ge),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(ge)}}function DataEntryTempComponent_ng_container_0_div_19_ng_container_1_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(1,"mat-form-field")(2,"mat-label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(4,"mat-select",32),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(5,DataEntryTempComponent_ng_container_0_div_19_ng_container_1_mat_option_5_Template,2,2,"mat-option",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()),2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(ge.label),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("formControlName",ge.id),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",ge.config.items)}}function DataEntryTempComponent_ng_container_0_div_19_ng_container_2_mat_option_7_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"mat-option",33),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ti){const ge=_i.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",ge),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(ge)}}function DataEntryTempComponent_ng_container_0_div_19_ng_container_2_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(1,"mat-form-field")(2,"mat-label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(4,"input",34),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(5,"mat-autocomplete",null,35),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(7,DataEntryTempComponent_ng_container_0_div_19_ng_container_2_mat_option_7_Template,2,2,"mat-option",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()),2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.MAs(6),R=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.label),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("formControlName",R.id)("matAutocomplete",ge),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",R.config.items)}}function DataEntryTempComponent_ng_container_0_div_19_ng_container_3_mat_hint_5_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"mat-hint"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2).$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.AsE("",(null==ge.config?null:ge.config.min)+"<"," x ","<"+(null==ge.config?null:ge.config.max),"")}}function DataEntryTempComponent_ng_container_0_div_19_ng_container_3_ng_container_7_mat_hint_1_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"mat-hint"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(3).$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.AsE("",(null==ge.config?null:ge.config.min)+"<"," x ","<"+(null==ge.config?null:ge.config.max),"")}}function DataEntryTempComponent_ng_container_0_div_19_ng_container_3_ng_container_7_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(1,DataEntryTempComponent_ng_container_0_div_19_ng_container_3_ng_container_7_mat_hint_1_Template,2,2,"mat-hint",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()),2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2).$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf",(null==ge.config?null:ge.config.max)||(null==ge.config?null:ge.config.min))}}function DataEntryTempComponent_ng_container_0_div_19_ng_container_3_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(1,"mat-form-field")(2,"mat-label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(4,"input",36),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(5,DataEntryTempComponent_ng_container_0_div_19_ng_container_3_mat_hint_5_Template,2,2,"mat-hint",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(6,"mat-error",37),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(7,DataEntryTempComponent_ng_container_0_div_19_ng_container_3_ng_container_7_Template,2,1,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()),2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw().$implicit,R=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(ge.label),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("readonly",ge.readonly)("type",ge.type)("min",ge.config.min)("max",ge.config.max)("formControlName",ge.id),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf",(null==ge.config?null:ge.config.max)||(null==ge.config?null:ge.config.min)),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf",R.form.controls[ge.id].errors)}}function DataEntryTempComponent_ng_container_0_div_19_ng_container_4_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(1,"mat-form-field")(2,"mat-label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(4,"input",38)(5,"ngx-material-timepicker",null,39),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()),2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.MAs(6),R=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.label),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngxTimepicker",ge)("format",24)("formControlName",R.id)}}function DataEntryTempComponent_ng_container_0_div_19_ng_container_5_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(1,"mat-checkbox",40),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()),2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("formControlName",ge.id),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(ge.label)}}function DataEntryTempComponent_ng_container_0_div_19_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",31),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(1,DataEntryTempComponent_ng_container_0_div_19_ng_container_1_Template,6,3,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(2,DataEntryTempComponent_ng_container_0_div_19_ng_container_2_Template,8,4,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(3,DataEntryTempComponent_ng_container_0_div_19_ng_container_3_Template,8,8,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(4,DataEntryTempComponent_ng_container_0_div_19_ng_container_4_Template,7,4,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(5,DataEntryTempComponent_ng_container_0_div_19_ng_container_5_Template,3,2,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ti){const ge=_i.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","select"===ge.type),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","autocomplete"===ge.type),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","text"===ge.type||"number"===ge.type),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","date"===ge.type),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf","checkbox"===ge.type)}}function DataEntryTempComponent_ng_container_0_mat_option_31_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"mat-option",33),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ti){const ge=_i.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("value",ge.label),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(ge.label)}}function DataEntryTempComponent_ng_container_0_ng_container_46_th_2_mat_icon_3_Template(ti,_i){1&ti&&_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(0,"mat-icon",46)}function DataEntryTempComponent_ng_container_0_ng_container_46_th_2_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"th",43)(1,"div",44),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(3,DataEntryTempComponent_ng_container_0_ng_container_46_th_2_mat_icon_3_Template,1,0,"mat-icon",45),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()),2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(),R=ge.$implicit,G=ge.index;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.hij(" ",R.label," "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf",0===G)}}function DataEntryTempComponent_ng_container_0_ng_container_46_td_3_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"td",47),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&ti){const ge=_i.$implicit,R=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.hij(" ",ge[R.id]," ")}}function DataEntryTempComponent_ng_container_0_ng_container_46_Template(ti,_i){if(1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0)(1,41),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(2,DataEntryTempComponent_ng_container_0_ng_container_46_th_2_Template,4,2,"th",25),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(3,DataEntryTempComponent_ng_container_0_ng_container_46_td_3_Template,2,1,"td",42),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()()),2&ti){const ge=_i.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("matColumnDef",ge.label)}}function DataEntryTempComponent_ng_container_0_th_48_Template(ti,_i){1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"th",43),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1,"status"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA())}function DataEntryTempComponent_ng_container_0_td_49_Template(ti,_i){1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"td",48)(1,"mat-chip",49),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(2," Awaiting confirmation "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()())}function DataEntryTempComponent_ng_container_0_th_51_Template(ti,_i){1&ti&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"th",43),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1,"Action"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA())}function DataEntryTempComponent_ng_container_0_td_52_Template(ti,_i){if(1&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"td",48)(1,"button",50)(2,"span",51),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(3,"more_vert"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(4,"mat-menu",null,52)(6,"button",53),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(7,"Confirm"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(8,"a",54),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(G){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(ge);const Dt=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2);return G.preventDefault(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(Dt.openDialog())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(9," Repeat "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(10,"button",53),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11,"Detail"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()}if(2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.MAs(5);_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("matMenuTriggerFor",ge)}}function DataEntryTempComponent_ng_container_0_tr_53_Template(ti,_i){1&ti&&_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(0,"tr",55)}function DataEntryTempComponent_ng_container_0_tr_54_Template(ti,_i){1&ti&&_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(0,"tr",56)}const _c0=function(){return[5,10,25,100]};function DataEntryTempComponent_ng_container_0_Template(ti,_i){if(1&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(1,"div")(2,"div",1)(3,"h1",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(5,"div",3)(6,"mat-form-field")(7,"mat-label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(8,"Choose a date"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(9,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(10,"mat-datepicker-toggle",5)(11,"mat-icon",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(12,"today"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(13,"mat-datepicker",7,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(15,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(16,"div",9)(17,"div",10)(18,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(19,DataEntryTempComponent_ng_container_0_div_19_Template,6,5,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(20,"div")(21,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(ge);const G=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_1__.KtG(G.addItem())}),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(22,"div",14)(23,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(24,"Save"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(25,"div",15)(26,"div",16)(27,"mat-form-field",17)(28,"mat-label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(29,"Column Filter"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(30,"mat-select"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(31,DataEntryTempComponent_ng_container_0_mat_option_31_Template,2,2,"mat-option",18),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(32,"mat-form-field",19)(33,"mat-label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(34,"Search"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(35,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(36,"div",16)(37,"mat-form-field",17)(38,"mat-label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(39,"Group Action"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(40,"mat-select")(41,"mat-option"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(42,"Confirm All"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(43,"div",20)(44,"div",21)(45,"table",22),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(46,DataEntryTempComponent_ng_container_0_ng_container_46_Template,4,1,"ng-container",23),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(47,24),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(48,DataEntryTempComponent_ng_container_0_th_48_Template,2,0,"th",25),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(49,DataEntryTempComponent_ng_container_0_td_49_Template,3,0,"td",26),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(50,27),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(51,DataEntryTempComponent_ng_container_0_th_51_Template,2,0,"th",25),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(52,DataEntryTempComponent_ng_container_0_td_52_Template,12,1,"td",26),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(53,DataEntryTempComponent_ng_container_0_tr_53_Template,1,0,"tr",28),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(54,DataEntryTempComponent_ng_container_0_tr_54_Template,1,0,"tr",29),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(55,"mat-paginator",30),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()}if(2&ti){const ge=_angular_core__WEBPACK_IMPORTED_MODULE_1__.MAs(14),R=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(R.label),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("matDatepicker",ge),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("for",ge),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("formGroup",R.form),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",R.formStructure.items),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("disabled",R.form.invalid),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",R.formStructure.items),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(14),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("dataSource",R.items),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",R.formStructure.items),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("matHeaderRowDef",R.displayedColumns),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("matRowDefColumns",R.displayedColumns),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("length",100)("pageSize",10)("pageSizeOptions",_angular_core__WEBPACK_IMPORTED_MODULE_1__.DdM(14,_c0))}}let DataEntryTempComponent=(()=>{class DataEntryTempComponent{constructor(){this.label="",this.dialog=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.f3M)(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.uw),this.formStructure=null,this.fb=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.f3M)(_angular_forms__WEBPACK_IMPORTED_MODULE_3__.qu),this.form=null,this.displayedColumns=[],this.items=[]}ngOnChanges(ti){this.formStructure=_dataEntry_mock__WEBPACK_IMPORTED_MODULE_0__.R[this.label],this.items=[],this.initFormObject()}ngOnInit(){}initFormObject(){this.form=this.fb.group(this.formStructure.items.reduce((ti,_i)=>({...ti,[_i.id]:["",[..._i.isRequired?[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.kI.required]:[],..."number"===_i.type?[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.kI.min(_i.config.min),_angular_forms__WEBPACK_IMPORTED_MODULE_3__.kI.max(_i.config.max)]:[]]]}),{})),this.displayedColumns=this.formStructure?[...this.formStructure.items.map(ti=>ti.label),"status","action"]:[],this.form.valueChanges.subscribe(res=>{Object.keys(this.formStructure?.rules??{}).forEach(id=>{let selectedRule=this.formStructure.rules[id];const fv=this.form?.value??{};Object.keys(fv).forEach(ti=>{selectedRule=selectedRule.replaceAll(ti,fv[ti])});const value=eval(selectedRule);value&&this.form?.controls[id].setValue(value,{emitEvent:!1})}),(res["Loc-qtiasdfdsfsdfa0J"]||res["Sam-qtidsfsdfa0J"])&&(res["Sam-qtidsfsdfa0J"]&&this.form?.patchValue({"Loc-qtiasdfdsfsdfa0J":_dataEntry_mock__WEBPACK_IMPORTED_MODULE_0__.J.find(ti=>ti.sample===res["Sam-qtidsfsdfa0J"])?.location??""},{emitEvent:!1,onlySelf:!0}),res["Loc-qtiasdfdsfsdfa0J"]&&this.form?.patchValue({"Sam-qtidsfsdfa0J":_dataEntry_mock__WEBPACK_IMPORTED_MODULE_0__.J.find(ti=>ti.location===res["Loc-qtiasdfdsfsdfa0J"])?.sample??""},{emitEvent:!1,onlySelf:!0}))});const loc=this.form.controls["Loc-qtiasdfdsfsdfa0J"],sam=this.form.controls["Sam-qtidsfsdfa0J"];sam&&loc&&(loc.valueChanges.subscribe(ti=>{sam.setValue(_dataEntry_mock__WEBPACK_IMPORTED_MODULE_0__.J.find(_i=>_i.location===ti)?.sample??"",{emitEvent:!1,onlySelf:!0})}),sam.valueChanges.subscribe(ti=>{loc.setValue(_dataEntry_mock__WEBPACK_IMPORTED_MODULE_0__.J.find(_i=>_i.sample===ti)?.location??"",{emitEvent:!1,onlySelf:!0})}))}addItem(){this.items=[...this.items,this.form.value],this.form?.reset()}openDialog(){this.dialog.open(DialogOverviewExampleDialog,{width:"400px"})}static#_=this.\u0275fac=function ti(_i){return new(_i||DataEntryTempComponent)};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:DataEntryTempComponent,selectors:[["app-data-entry-temp"]],inputs:{label:"label"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[2,"display","flex","justify-content","space-between","margin-bottom","10px"],[2,"font-size","20px"],[1,"date-picker","no-bottom",2,"display","flex","align-items","center"],["matInput","",3,"matDatepicker"],["matIconSuffix","",2,"margin-top","-5px",3,"for"],["matDatepickerToggleIcon","",2,"font-size","20px"],[2,"font-size","14px"],["picker",""],[2,"margin-bottom","5px"],[2,"display","flex","justify-content","space-between",3,"formGroup"],[2,"display","flex","flex-wrap","wrap","column-gap","10px"],["class","custom-field","style","max-width: 150px; font-size: 10px",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","submit",2,"font-size","11px","height","34px",3,"disabled","click"],[2,"margin-bottom","-5px","display","flex","align-items","center","justify-content","center"],[2,"display","flex","align-items","center","justify-content","space-between"],[1,"mat-form-field","custom-field","no-bottom"],[2,"margin-right","5px"],[3,"value",4,"ngFor","ngForOf"],["matInput",""],[1,"mat-elevation-z8"],[2,"height","60vh","overflow-y","auto"],["mat-table","",3,"dataSource"],[4,"ngFor","ngForOf"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],[1,"custom-field",2,"max-width","150px","font-size","10px"],[3,"formControlName"],[3,"value"],["type","text","placeholder","Select","matInput","",3,"formControlName","matAutocomplete"],["auto","matAutocomplete"],["matInput","",3,"readonly","type","min","max","formControlName"],[2,"font-size","13px"],["matInput","",3,"ngxTimepicker","format","formControlName"],["defaultValue",""],["color","primary",1,"example-margin",3,"formControlName"],[3,"matColumnDef"],["mat-cell","","style","font-size: 10px",4,"matCellDef"],["mat-header-cell",""],[2,"display","flex","align-items","center","font-size","11px"],["style","font-size: 15px","fontIcon","south",4,"ngIf"],["fontIcon","south",2,"font-size","15px"],["mat-cell","",2,"font-size","10px"],["mat-cell",""],["color","warn",2,"background-color","#FFC107"],["mat-icon-button","","color","primary",1,"flex-row-reverse",3,"matMenuTriggerFor"],[1,"material-icons"],["rowActionMenu","matMenu"],["mat-menu-item",""],["href","#","mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function ti(_i,ge){1&_i&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,DataEntryTempComponent_ng_container_0_Template,56,15,"ng-container",0),2&_i&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf",ge.formStructure&&ge.form)},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_material_button__WEBPACK_IMPORTED_MODULE_5__.lW,_angular_material_button__WEBPACK_IMPORTED_MODULE_5__.RK,_angular_material_menu__WEBPACK_IMPORTED_MODULE_6__.VK,_angular_material_menu__WEBPACK_IMPORTED_MODULE_6__.OP,_angular_material_menu__WEBPACK_IMPORTED_MODULE_6__.p6,_angular_material_icon__WEBPACK_IMPORTED_MODULE_7__.Hw,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__.KE,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__.hX,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__.bx,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__.TO,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__.R9,_angular_material_select__WEBPACK_IMPORTED_MODULE_9__.gD,_angular_material_core__WEBPACK_IMPORTED_MODULE_10__.ey,_angular_material_input__WEBPACK_IMPORTED_MODULE_11__.Nt,_angular_material_checkbox__WEBPACK_IMPORTED_MODULE_12__.oG,_angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__.Mq,_angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__.hl,_angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__.nW,_angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__.Q0,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_material_chips__WEBPACK_IMPORTED_MODULE_14__.HS,_angular_material_table__WEBPACK_IMPORTED_MODULE_15__.BZ,_angular_material_table__WEBPACK_IMPORTED_MODULE_15__.fO,_angular_material_table__WEBPACK_IMPORTED_MODULE_15__.as,_angular_material_table__WEBPACK_IMPORTED_MODULE_15__.w1,_angular_material_table__WEBPACK_IMPORTED_MODULE_15__.Dz,_angular_material_table__WEBPACK_IMPORTED_MODULE_15__.nj,_angular_material_table__WEBPACK_IMPORTED_MODULE_15__.ge,_angular_material_table__WEBPACK_IMPORTED_MODULE_15__.ev,_angular_material_table__WEBPACK_IMPORTED_MODULE_15__.XQ,_angular_material_table__WEBPACK_IMPORTED_MODULE_15__.Gk,ngx_material_timepicker__WEBPACK_IMPORTED_MODULE_16__.ro,ngx_material_timepicker__WEBPACK_IMPORTED_MODULE_16__.I2,_angular_material_paginator__WEBPACK_IMPORTED_MODULE_17__.NW,_angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_18__.XC,_angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_18__.ZL],styles:[".custom-field .mat-mdc-text-field-wrapper{max-width:110px}  .custom-field label{overflow:visible!important}  .custom-field mat-label{top:-11px;font-size:10px!important}  .custom-field input{font-size:10px!important;margin-top:5px}  .custom-field .mat-mdc-form-field-infix{padding:8px 0 0!important;min-height:38px}  .custom-field mat-select .mat-mdc-select-trigger{display:flex;align-items:center;margin-top:5px}  .custom-field mat-select .mat-mdc-select-min-line{font-size:11px}  .custom-field mat-option{min-height:35px!important}  .custom-field mat-option span{font-size:10px!important}  .no-bottom .mat-mdc-form-field-subscript-wrapper{display:none}  .date-picker mat-form-field{height:42px}  .date-picker .mat-mdc-form-field-infix{padding:10px 0 0!important}  .date-picker label{overflow:visible}  .date-picker mat-label{top:-8px;font-size:12px!important}  .date-picker input{margin-top:8px;font-size:12px!important}  .date-picker .mat-datepicker-toggle button{margin-top:-10px!important}  .mdc-data-table__table tr{height:40px!important}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{appearance:none;margin:0}mat-hint[_ngcontent-%COMP%]{font-size:10px}"]})}return DataEntryTempComponent})(),DialogOverviewExampleDialog=(()=>{class ti{constructor(){this.dialogRef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.f3M)(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.so)}onNoClick(){}static#e=this.\u0275fac=function(R){return new(R||ti)};static#t=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ti,selectors:[["dialog-overview-example-dialog"]],standalone:!0,features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.jDz],decls:14,vars:2,consts:[["mat-dialog-title",""],[1,"example-full-width",2,"width","100%"],["matInput","",2,"width","100%"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(R,G){1&R&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"h2",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(1,"Repeat"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(2,"mat-dialog-content")(3,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(4,"Reason for Repeat"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(5,"mat-form-field",1)(6,"mat-label"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(7,"Leave a comment"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(8,"textarea",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(9,"mat-dialog-actions")(10,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(11," Close "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(12,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(13," Submit "),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()()),2&R&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(10),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("mat-dialog-close",G.onNoClick()),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("mat-dialog-close",G.onNoClick()))},dependencies:[_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__.lN,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__.KE,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__.hX,_angular_material_input__WEBPACK_IMPORTED_MODULE_11__.c,_angular_material_input__WEBPACK_IMPORTED_MODULE_11__.Nt,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u5,_angular_material_button__WEBPACK_IMPORTED_MODULE_5__.ot,_angular_material_button__WEBPACK_IMPORTED_MODULE_5__.lW,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.Is,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.ZT,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.uh,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.xY,_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__.H8],encapsulation:2})}return ti})()},2200:(ti,_i,ge)=>{"use strict";ge.d(_i,{J:()=>G,R:()=>Dt});const R=[{id:"pHI5o",label:"Sampling Time",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{type:"time"}},{id:"CGtR5",label:"Sampling Person",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"W4xsk",label:"Entry Time",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{type:"time"}},{id:"Y7oZr",label:"Description",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tOA0C",label:"Sampling Count",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"SBXZu",label:"Shift",type:"select",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{items:["Shift 1","Shift 2","Shift 3"]}},{id:"JKbNy",label:"Time",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{type:"time"}}],G=[{sample:"Chiler",location:"\u0628\u0644\u0648\u062f\u0627\u0646 \u06a9\u0648\u0644\u06cc\u0646\u06af \u062a\u0627\u0648\u0631\u0647\u0627\u06cc \u0686\u06cc\u0644\u0631 Chiler"},{sample:"Make Up",location:"\u0622\u0628 \u062c\u0628\u0631\u0627\u0646\u06cc \u0627\u0632 3/4WP031 \u0628\u0647 \u0645\u062e\u0632\u0646Wa rm Wa te r"},{sample:"Raw",location:"\u0622\u0628 \u062e\u0627\u0645 \u0648\u0631\u0648\u0631\u062f\u06cc \u0628\u0647 \u0648\u0627\u062d\u062f \u067e\u06cc\u0634 \u062a\u0635\u0641\u06cc\u0647 \u0627\u0632\u0645\u062e\u0632\u0646 2WT031"},{sample:"O-HPGR",location:"\u06a9\u0648\u0644\u06cc\u0646\u06af \u062a\u0627\u0648\u0631 HPGR \u0627\u0632 \u067e\u0645\u067e\u0647\u0627\u06cc 3/4WP150"},{sample:"CT1",location:"\u0622\u0628 \u0645\u062e\u0632\u0646 \u06a9\u0648\u0644\u06cc\u0646\u06af \u0627\u0632 \u067e\u0645\u067e\u0647\u0627\u06cc CW03"},{sample:"C-HPGR",location:"\u0633\u06cc\u06a9\u0644 \u0645\u062f\u0627\u0631 \u0628\u0633\u062a\u0647 HPGR( \u0622\u0628 \u062f\u0627\u062e\u0644 \u06a9\u0648\u06cc\u0644\u0647\u0627("},{sample:"FW-RO1",location:"\u062e\u0648\u0631\u0627\u06a9 \u0648\u0631\u0648\u0631\u062f\u06cc \u0628\u0647 1RO( \u0628\u0639\u062f \u0627\u0632 \u067e\u0645\u067e\u0647\u0627\u06cc)HP"},{sample:"P-RO1",location:"\u0622\u0628 \u062a\u0648\u0644\u06cc\u062f\u06cc 1RO \u0628\u0647 \u0633\u0645\u062a \u0645\u062e\u0632\u0646 3WT031"},{sample:"FW-RO2",location:"\u062e\u0648\u0631\u0627\u06a9 \u0648\u0631\u0648\u062f\u06cc \u0628\u0647 2RO \u0627\u0632 \u0645\u062e\u0632\u0646 Brine \u06cc\u0627-06TK( \u0622\u0628 \u062f\u0648\u0631 \u0631\u06cc\u0632 1RO)"},{sample:"P-RO2",location:"\u0622\u0628 \u062a\u0648\u0644\u06cc\u062f\u06cc 2RO \u0628\u0647 \u0633\u0645\u062a \u0645\u062e\u0632\u0646 3WT031"},{sample:"Potable",location:"\u0622\u0628 \u0645\u0635\u0631\u0641\u06cc \u06cc\u0627 Water Potable \u0627\u0632033WP1/2"},{sample:"Process",location:"\u0628 \u067e\u0631\u0648\u0633\u0633 \u0627\u0632 \u067e\u0645\u067e\u0647\u0627\u06cc 7/8WP031"},{sample:"Chiler C",location:"\u0628\u0644\u0648\u062f\u0627\u0646 \u06a9\u0648\u0644\u06cc\u0646\u06af \u062a\u0627\u0648\u0631\u0647\u0627\u06cc \u0686\u06cc\u0644\u0631 \u0628\u0633\u062a\u0647"}],Dt={"100BC04":{items:[...R,{id:"tOA0Ca",label:"Fe.t (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"60",max:"69"}},{id:"tOA0Caa",label:"FeO (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"10",max:"29"}},{id:"tOA0Cas",label:"P (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.010",max:"2.2"}},{id:"tOA0Cae",label:"S (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.008",max:"2"}},{id:"tOA0Cdfa",label:"AI2O3 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.010",max:"5"}},{id:"tOA0dsfCa",label:"SiO2 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.9",max:"7"}},{id:"tOA0Csdfa",label:"CaO (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"3"}},{id:"tOA0sdfCa",label:"MgO (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"3"}},{id:"tOA0sdfCa",label:"W (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"15"}},{id:"tOA0Casdf",label:"TiO2 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"4"}},{id:"tOA0Cadsf",label:"K80 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"100"}},{id:"tOA0Cadsdff",label:"<45",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"100"}},{id:"tOA0Cadsdffdsdf",label:"Blain",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"400",max:"1400"}},{id:"tOdsssadfdddsadsdf",label:"LOI",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"20"}},{id:"tOdddfsddsdsfasadsdaaa",label:"B2",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOdsadfddddsadsdf",label:"B4",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}}],rules:{}},"510BC01&02":{items:[...R,{id:"tOA0Cfda",label:"Fe.t (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"60",max:"69"}},{id:"tOAdsf0Ca",label:"FeO (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"10",max:"29"}},{id:"tOA0sdfCa",label:"S (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.008",max:"2"}},{id:"tOA0sdfCa",label:"P (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"2.2"}},{id:"tsdfOA0Ca",label:"AI2O3 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"5"}},{id:"tsdfOA0Ca",label:"SiO2 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.3",max:"7"}},{id:"tdfsdfOA0Ca",label:"CaO (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"5"}},{id:"tffssfdsOA0Ca",label:"MgO (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"5"}},{id:"tOzxcvA0Ca",label:"TiO2 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"2"}},{id:"tOasdfsA0Ca",label:"K80 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"100"}},{id:"tOasdfsA0Caaas",label:"<45",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOasdfsA0Cassdsd",label:"Blain",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"700",max:"2500"}},{id:"tOasdfsAas0Cavgrfgd",label:"LOI",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"10"}},{id:"tOasdfsA0fsdafCa",label:"B2",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOasasdfdfsA0dCa",label:"B4",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"aaasdfsdtOasdfsA0Ca",label:"Before Mixer",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"15"}},{id:"tesasdfdtOasdfsA0Ca",label:"After Mixer",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"15"}}],rules:{}},"150BC02&05&11":{items:[...R,{id:"tOA0sdfCa",label:"W (%) - (02)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"15"}},{id:"sdfsdadggga",label:"Fe (%) - (02)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"60",max:"69"}},{id:"tOA0sdgCaa",label:"FeO (%) - (02)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"10",max:"29"}},{id:"tOA0Cadsdff",label:"<45 - (02)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"100"}},{id:"tOA0Cadsdffdsdf",label:"Blain - (02)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"400",max:"1800"}},{id:"tOA0sdfCa",label:"W (%) - (05)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"15"}},{id:"tOA0Cadsdffdsdf",label:"Blain - (05)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"400",max:"1800"}},{id:"tOA0Ca",label:"Fe (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"60",max:"69"}},{id:"tOA0Caa",label:"FeO (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"10",max:"29"}},{id:"tOA0Cas",label:"P (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.010",max:"2.2"}},{id:"tOA0Cdfa",label:"AI2O3 (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.008",max:"5"}},{id:"tOA0Cae",label:"S (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.010",max:"2"}},{id:"tOA0dsfCa",label:"SiO2 (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.9",max:"7"}},{id:"tOA0Csdfa",label:"CaO (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"3"}},{id:"tOA0sdfCa",label:"MgO (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"3"}},{id:"tOA0sdfCa",label:"W (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"15"}},{id:"tOA0Casdf",label:"TiO2 (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"4"}},{id:"tOA0Cadsf",label:"K80 (%) - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"20",max:"200"}},{id:"tOA0Cadsdff",label:"<45 - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"100"}},{id:"tOA0Cadsdffdsdf",label:"Blain - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"400",max:"2500"}},{id:"tOdsssadfdddsadsdf",label:"LOI - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"100"}},{id:"tOdddfsddsdsfasadsdaaa",label:"B2 - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOdsadfddddsadsdf",label:"B4 - (11)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}}]},Blain:{items:[...R,{id:"tOA0dfCAV",label:"B HPGR",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOA0aaCAVV",label:"510BC01&02",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOAdfsd0CAAV",label:"A HPGR",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}}],rules:{}},Moisture:{items:[...R,{id:"fsadfffjfjfsdj;",label:"100BC04",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"15"}},{id:"fsadfffjfjfsasdj;",label:"B Dryer",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"15"}},{id:"fsadfffjfjfsasdjaa;",label:"A Dryer",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"fsadfffjfjfsasdjddaa;",label:"B Mixer",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"sdjaa;",label:"A Mixer",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}}],rules:{}},"Size Distribution & Porosity":{items:[...R,{id:"fsadfffjfjfsdj;",label:"<5mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"fsdfsadfffjfjfsdj;",label:"5-6.3mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"fjfjfsdj;",label:"6.3-9mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"fsdj;",label:"9-12.5mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"dfffjfjfsdj;",label:"12.5-16mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"fffjfjfsdj;",label:">16mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"jfjsadffsdj;",label:"9-16mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"jfjfasdfsdj;",label:"16-20 mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"jfjfsdasdfaj;",label:">20 mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"jfdasfjfsdasdfaj;",label:"<6.3 mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"fsadfjfsdj;",label:"SR 9-12.5/12.5-16",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"fsadfffjfjfsdj;",label:"Porosity",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"fsadffffsdjfjfsdj;",label:"Emergency Pile",type:"checkbox",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}}],rules:{}},CCS:{items:[...R,{id:"fsadffsdj;",label:"AVE",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"100",max:"600"}},{id:"dffsdj;",label:"STD",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"20",max:"250"}},{id:"fdffsd",label:"<100",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"60"}},{id:"fsadffsfdsadfdj;",label:"<150",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"80"}},{id:"dsadfzadfdj;",label:"<250",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"100"}},{id:"fsadffsfdsadfdj;",label:">320",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"100"}},{id:"fsadffsfdsadfdj;",label:">500",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"100"}},{id:"asdfadfdj;",label:"Min",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"20",max:"400"}},{id:"fskkkfsfdsadfdj;",label:"Max",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"200",max:"990"}},{id:"fsadffsfdsadfdj;",label:"Ave Size",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"6.5",max:"16"}},{id:"fsdfadffffsdjfjfsdj;",label:"Emergency Pile",type:"checkbox",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}}],rules:{}},"Chemical Analysis":{items:[...R,{id:"tOA0Cfda",label:"Fe.t (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"60",max:"68"}},{id:"tOAdsf0Ca",label:"FeO (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"3"}},{id:"tOA0sdfCa",label:"S (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.0005",max:"0.09"}},{id:"tOA0sdfCa",label:"P (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"2"}},{id:"tsdfOA0Ca",label:"SiO2 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.9",max:"8"}},{id:"tdfsdfOA0Ca",label:"CaO (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"6"}},{id:"tffssfdsOA0Ca",label:"MgO (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"6"}},{id:"tsdfOA0Ca",label:"AI2O3 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"5"}},{id:"tOzxcvA0Ca",label:"TiO2 (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"6"}},{id:"tOasdfsA0Cdda",label:"B2",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOasdfsA0Cssa",label:"B4",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"fsadfdffffsdjfjfsdj;",label:"Emergency Pile",type:"checkbox",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}}],rules:{}},Bentonite:{items:[...R,{id:"qti0J",label:"No",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"SBXZu",label:"Shift",type:"select",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{items:["Shift 1","Shift 2","Shift 3"]}},{id:"JKbNy",label:"Time",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{type:"time"}},{id:"tHURP",label:"Company",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHUsdfRP",label:"Number Plates",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"2Lk3n",label:"Moisture (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"15"}},{id:"lbOL9",label:"Water Ab (%)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"50",max:"990"}},{id:"tOfdsaA0Ca",label:"Fe",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"60"}},{id:"sdftOA0Caasdaf",label:"SiO2",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"10",max:"80"}},{id:"tOA0Cazvcxvaaaas",label:"CaO",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"25"}},{id:"tOAfsdfasdfasd0Ca",label:"Na2O",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"15"}},{id:"tOA0sadfCa",label:"<45",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"20",max:"100"}},{id:"ddsaftOA0asCa",label:"LOI",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"80"}},{id:"tHUsdfRPsa",label:"Considerations",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}}],rules:{}},NaOH:{items:[...R,{id:"tHURP",label:"Company",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHUsdfRP",label:"Number Plates",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHUsdfRasdfP",label:"Bome",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"35",max:"60"}},{id:"tHUsdfRPsa",label:"Considerations",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}}]},Limestone:{items:[...R,{id:"qti0J",label:"No.",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"tHUdfsRP",label:"Company",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHUsdfRP",label:"Number Plates",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"sdgdsfgfddfdsaRP",label:"CaO",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"10",max:"85"}},{id:"sdgdsfgfddfRP",label:"SiO2",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"sdgdsfgfddfRP",label:"MgO",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"60"}},{id:"sdgdsfgfddfRP",label:"AI2O3",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"35"}},{id:"sdgdsfgfddfRP",label:"P",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"10"}},{id:"sdgdsfgfddfRP",label:"MnO",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"15"}},{id:"sdgdsfgfddfRP",label:"TiO2",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"60"}},{id:"sdgdsfgfddfRP",label:"LOI",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"60"}},{id:"sdgdsfgfddfRP",label:"<45",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0",max:"100"}},{id:"tHUsdfRPsa",label:"Considerations",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}}],rules:{}},"Green Pellet":{items:[...R,{id:"SBdsfsdXZu",label:"Disk",type:"select",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{items:["All Disk","Disk 1","Disk 2","Disk 3","Disk 4","Disk 5","Disk 6","Disk 7","Disk 8","Disk 9"]}},{id:"qtsdfi0J",label:"Drop",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"0",max:"12"}},{id:"qtsdfsdfi0J",label:"Moisture (%)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"0.01",max:"15"}},{id:"qtsdfsdfi0dsdfJ",label:"WCS",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"150",max:"2000"}},{id:"fsadfffjfjfsdj;",label:"<5 mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"fsdfsadfffjfjfsdj;",label:"5-6.3 mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"fjfjsdffsdj;",label:"6.3-9 mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"fdfssdj;",label:"9-11.2 mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"dfffjfjsdffsdj;",label:"11.2-16 mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"fffjfjsdffsdj;",label:"16-20 mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}},{id:"fffjfsdfjfsdj;",label:">20 mm",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"0.01",max:"50"}}],rules:{}},Tumble:{items:[...R,{id:"qsdfti0J",label:"Ti (%)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"90",max:"99"}},{id:"qsdsdffti0J",label:"Ai (%)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"0.1",max:"6.99"}},{id:"fsadffffsdjdffjfsdj;",label:"Emergency Pile",type:"checkboxs",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}}],rules:{}},"Water Analysis":{items:[...R,{id:"Sam-qtidsfsdfa0J",label:"Sample",type:"autocomplete",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{items:G.map(jt=>jt.sample)}},{id:"Loc-qtiasdfdsfsdfa0J",label:"Location",type:"autocomplete",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{items:G.map(jt=>jt.location)}},{id:"fsdfsd",label:"PH",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"EdsfdCfsd",label:"EC (\xb5s/cm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsdfsdsdfsd",label:"TDS (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfsdfsddfdfsd",label:"TSS (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"sdffs",label:"TH (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfsfdsdfsddfsd",label:"CT (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfsdfsdffsddfsd",label:"P_Alk (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfssdfsdfdsfdfsd",label:"M_Alk (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"ffdsfsfsdfsddfsd",label:"Ca_H (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfdsdfsddfsd",label:"Mg_H (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfdssdfdddsffsddfsd",label:"TUR (NTU)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfddfsdffdsdfssddfsd",label:"T_Fe (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfdsdfsdsafddfsd",label:"O-PO4-3 (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfdsdfdfsddfsd",label:"NO2- (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfdsdsdfsddfsd",label:"SRB (cfu/ml)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsfsdfsdsdfdfsddfsd",label:"TBC (cfu/ml)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"fsdfsfdsdffsdsddfsd",label:"SO4-2  (ppm)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}}],rules:{}},"Reduction Test":{items:[...R,{id:"qtdi0sdfJ",label:"Weight (gr) B",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"qtdi0\u06cc\u0633\u0628sdfJ",label:"CCS (AVG kg/p) (B)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"tOA0dfsCfda",label:"Fe.t (%) (B)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOAdssddsfff0Ca",label:"FeO (B)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tsdfOA0Ca",label:"AI2O3 (B)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tsddfOA0Ca",label:"SiO2 (B)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tdfsdfOA0Ca",label:"CaO (B)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tffssfdsOA0Ca",label:"MgO (B)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tffssfdsOA0sdfCa",label:"MnO (B)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOzxcvA0Ca",label:"TiO2 (B)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"sdfsdf",label:"P (B)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOA0sdffdssdfsdfCa",label:"C (B)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"qtdi0sdfJ1",label:"Weight (gr) (A)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"qtdi0\u06cc\u0633\u0628sdfJ1",label:"CCS (AVG kg/p) (A)",type:"number",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{min:"",max:""}},{id:"tOA0dfsCfda1",label:"Fe.t (%) (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tfdOAdssdf1f0Ca",label:"FeM(%) (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tsdfOA0Ca1",label:"AI2O3 (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tsddfOA01Ca",label:"SiO2 (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tdfsdfO1A0Ca",label:"CaO (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tffssfd1sOA0Ca",label:"MgO (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tffssfd1sOA0sdfCa",label:"MnO (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOzxcvA01Ca",label:"TiO2 (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"sdfsd1f",label:"P (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOA0s1dffdssdfsdfCa",label:"C (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOA0dffddf1dsdfsdfCa",label:"Me (%) (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tOA0ddffsdfsdfCa1",label:"Reduction (%) (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tdfsOA0dfsdfdfsdf1Cdfa",label:"Fragmentation (A)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tdfsOA0sdfdfs1Cdfa",label:"Wight (gr) 2 min",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tdsdffsOA0dfs1Cdfa",label:"Wight (gr) 5 min",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tsdfsddfsOA0dfs1Cdfa",label:"% 2 min",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"tdfdsfsdsOA0dfs1Cdfa",label:"% 5 min",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}}],rules:{}},"Analysis Result":{items:[...R,{id:"tdfsdfsdOA0dfsdfdfsdf1Cdfa",label:"Test Item",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"sdfdfsdf1Cdfa",label:"Unit",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"OA0dfsdfdfsdf1Cdfa",label:"Result",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"OA0dfsdfdfsdf1Cdfa",label:"Uncertainty",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"sdfdfsdf1Cdfa",label:"Stand Method",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}},{id:"sdfdfsdf1Cdfa",label:"Test Type",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{min:"",max:""}}],rules:{}},"Annual Plan":{items:[{id:"tOA0Cfda",label:"Month",type:"select",hasDuplicate:!0,readonly:null,isRequired:null,config:{items:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},{id:"tfHURP",label:"Day Count",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHURPf",label:"Warm Stop",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"fsdfadf",label:"Cold Stop",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"ghgfdfdffd",label:"Emergency Stop",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHUdfdfdRfdP",label:"Working Day",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHUddffdfdRP",label:"Total Hour",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tfdffdfdHUfdfRP",label:"Working Hour",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHUdRsdfdfsfP",label:"Prod Rate",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHURPd",label:"Co Usage (T)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHdfdfsssadURP",label:"Ben Usage (T)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHURdsfP",label:"Lime Usage (T)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHfdsafURP",label:"Accessibility",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHURPsdfs",label:"Prod Monthly (T)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHURPsdfs",label:"Prod Daily (T)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHURPsdfs",label:"Cumulative Prod (T)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}}]},"Daily Plan":{items:[{id:"dfsdddfsdasdf1Cdfa",label:"Date",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"SBXZsdfudsf",label:"Shift",type:"select",hasDuplicate:!0,readonly:!1,isRequired:!1,config:{items:["Shift 1","Shift 2","Shift 3"]}},{id:"tHUsdfRPdff",label:"Daily Product",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tHaURPddsafff",label:"OP Time",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}}]},"Block List":{items:[{id:"fsdfdfsdf1Cdfa",label:"Equipment Tag",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"tdfsOA0dfsdfdfsdf1Cdfa",label:"Item Block",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"sdfdfsdf1Cdfa",label:"Desc",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"OA0dfsdfdfsdf1a",label:"Job",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}}],rules:{}},"Factory Stop":{items:[{id:"dfsdddfsdf1Cdfa",label:"Start",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dfdfssdfdfsdf1Cdfa",label:"End",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dfsdsafdfsdf1Cdfa",label:"Duration",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dsfdf",label:"Desc",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}}],rules:{}},"Pille Table":{items:[{id:"dfsdddffsdfasdf1Cdfa",label:"Start",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dfdfsadfssdfdfsdf1Cdfa",label:"End",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dfsdsafdfsdsfdf1Cdfa",label:"Exit Rate (T)",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"fsddfsdf1Cdfa",label:"Amount",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dsfdf",label:"Desc",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}}],rules:{}},"Prod Decrease":{items:[{id:"dfsdddfsdf1Cdfa",label:"Start",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dfdfssdfdfsdf1Cdfa",label:"End",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dfsdsafdfsdf1Cdfa",label:"Duration",type:"date",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dfsdsafdfsdf1sdfCdfa",label:"Tonnage Reduction",type:"number",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dsfdf",label:"Desc",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}}],rules:{}},"Reason for stopping":{items:[{id:"dfdfssdfdfsdf1Cdfa",label:"pellet",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}},{id:"dfdfssdfdfsdf1Cdfa",label:"rah",type:"text",hasDuplicate:!0,readonly:null,isRequired:null,config:{}}]}}},5770:(ti,_i,ge)=>{"use strict";ge.d(_i,{Bb:()=>Ws,XC:()=>pa,ZL:()=>Us});var R=ge(755),G=ge(4220),Dt=ge(6733),jt=ge(3753),h=ge(8146),Qt=ge(7583),Bi=ge(2561),Wt=ge(8491),_t=ge(2405),qi=ge(902),kn=ge(8748),Et=ge(3562),Lt=ge(5047),Si=ge(1209),sn=ge(409),an=ge(5262),Fr=ge(6785),Ys=ge(3226),Jn=ge(6125),Kn=ge(3843),ni=ge(4787),Hr=ge(1813),Vr=ge(5333),Oo=ge(2425),fa=ge(1570),zl=ge(9286),on=ge(5667);const Ia=["panel"];function li(rn,ss){if(1&rn){const st=R.EpF();R.TgZ(0,"div",0,1),R.NdJ("@panelAnimation.done",function(Rt){R.CHM(st);const gn=R.oxw();return R.KtG(gn._animationDone.next(Rt))}),R.Hsn(2),R.qZA()}if(2&rn){const st=ss.id,Xt=R.oxw();R.Q6J("id",Xt.id)("ngClass",Xt._classList)("@panelAnimation",Xt.isOpen?"visible":"hidden"),R.uIk("aria-label",Xt.ariaLabel||null)("aria-labelledby",Xt._getPanelAriaLabelledby(st))}}const Zn=["*"],nn=(0,_t.X$)("panelAnimation",[(0,_t.SB)("void, hidden",(0,_t.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,_t.eR)(":enter, hidden => visible",[(0,_t.ru)([(0,_t.jt)("0.03s linear",(0,_t.oB)({opacity:1})),(0,_t.jt)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,_t.oB)({transform:"scaleY(1)"}))])]),(0,_t.eR)(":leave, visible => hidden",[(0,_t.jt)("0.075s linear",(0,_t.oB)({opacity:0}))])]);let wr=0;class eo{constructor(ss,st){this.source=ss,this.option=st}}const Fa=(0,G.Kr)(class{}),to=new R.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function El(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let Ml=(()=>{class rn extends Fa{get isOpen(){return this._isOpen&&this.showPanel}_setColor(st){this._color=st,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(st){this._autoActiveFirstOption=(0,Bi.Ig)(st)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(st){this._autoSelectActiveOption=(0,Bi.Ig)(st)}get requireSelection(){return this._requireSelection}set requireSelection(st){this._requireSelection=(0,Bi.Ig)(st)}set classList(st){this._classList=st&&st.length?(0,Bi.du)(st).reduce((Xt,Rt)=>(Xt[Rt]=!0,Xt),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(st,Xt,Rt,gn){super(),this._changeDetectorRef=st,this._elementRef=Xt,this._defaults=Rt,this._activeOptionChanges=qi.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new R.vpe,this.opened=new R.vpe,this.closed=new R.vpe,this.optionActivated=new R.vpe,this._classList={},this.id="mat-autocomplete-"+wr++,this.inertGroups=gn?.SAFARI||!1,this._autoActiveFirstOption=!!Rt.autoActiveFirstOption,this._autoSelectActiveOption=!!Rt.autoSelectActiveOption,this._requireSelection=!!Rt.requireSelection}ngAfterContentInit(){this._keyManager=new Qt.s1(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(st=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[st]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(st){this.panel&&(this.panel.nativeElement.scrollTop=st)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(st){const Xt=new eo(this,st);this.optionSelected.emit(Xt)}_getPanelAriaLabelledby(st){return this.ariaLabel?null:this.ariaLabelledby?(st?st+" ":"")+this.ariaLabelledby:st}_setVisibilityClasses(st){st[this._visibleClass]=this.showPanel,st[this._hiddenClass]=!this.showPanel}_setThemeClasses(st){st["mat-primary"]="primary"===this._color,st["mat-warn"]="warn"===this._color,st["mat-accent"]="accent"===this._color}_skipPredicate(st){return st.disabled}static#e=this.\u0275fac=function(Xt){return new(Xt||rn)(R.Y36(R.sBO),R.Y36(R.SBq),R.Y36(to),R.Y36(Wt.t4))};static#t=this.\u0275dir=R.lG2({type:rn,viewQuery:function(Xt,Rt){if(1&Xt&&(R.Gf(R.Rgc,7),R.Gf(Ia,5)),2&Xt){let gn;R.iGM(gn=R.CRH())&&(Rt.template=gn.first),R.iGM(gn=R.CRH())&&(Rt.panel=gn.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",requireSelection:"requireSelection",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[R.qOj]})}return rn})(),pa=(()=>{class rn extends Ml{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new R.vpe,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(st){this._hideSingleSelectionIndicator=(0,Bi.Ig)(st),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const st of this.options)st._changeDetectorRef.markForCheck()}ngOnDestroy(){super.ngOnDestroy(),this._animationDone.complete()}_skipPredicate(st){return!1}static#e=this.\u0275fac=function(){let st;return function(Rt){return(st||(st=R.n5z(rn)))(Rt||rn)}}();static#t=this.\u0275cmp=R.Xpm({type:rn,selectors:[["mat-autocomplete"]],contentQueries:function(Xt,Rt,gn){if(1&Xt&&(R.Suo(gn,G.K7,5),R.Suo(gn,G.ey,5)),2&Xt){let On;R.iGM(On=R.CRH())&&(Rt.optionGroups=On),R.iGM(On=R.CRH())&&(Rt.options=On)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[R._Bn([{provide:G.HF,useExisting:rn}]),R.qOj],ngContentSelectors:Zn,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(Xt,Rt){1&Xt&&(R.F$t(),R.YNc(0,li,3,5,"ng-template"))},dependencies:[Dt.mk],styles:["div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[nn]},changeDetection:0})}return rn})();const rs={provide:Ys.JU,useExisting:(0,R.Gpc)(()=>Us),multi:!0},qo=new R.OlP("mat-autocomplete-scroll-strategy"),vo={provide:qo,deps:[h.aV],useFactory:function ka(rn){return()=>rn.scrollStrategies.reposition()}};let Yn=(()=>{class rn{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(st){this._autocompleteDisabled=(0,Bi.Ig)(st)}constructor(st,Xt,Rt,gn,On,ma,zr,Qs,io,Tl,Qe){this._element=st,this._overlay=Xt,this._viewContainerRef=Rt,this._zone=gn,this._changeDetectorRef=On,this._dir=zr,this._formField=Qs,this._document=io,this._viewportRuler=Tl,this._defaults=Qe,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=qi.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new kn.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,Et.P)(()=>{const fe=this.autocomplete?this.autocomplete.options:null;return fe?fe.changes.pipe((0,Kn.O)(fe),(0,ni.w)(()=>(0,Lt.T)(...fe.map(qt=>qt.onSelectionChange)))):this._zone.onStable.pipe((0,Hr.q)(1),(0,ni.w)(()=>this.optionSelections))}),this._handlePanelKeydown=fe=>{(fe.keyCode===an.hY&&!(0,an.Vb)(fe)||fe.keyCode===an.LH&&(0,an.Vb)(fe,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),fe.stopPropagation(),fe.preventDefault())},this._trackedModal=null,this._scrollStrategy=ma}ngAfterViewInit(){const st=this._getWindow();typeof st<"u"&&this._zone.runOutsideAngular(()=>st.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(st){st.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const st=this._getWindow();typeof st<"u"&&st.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel(),this._trackedModal&&(0,Qt.Zf)(this._trackedModal,"aria-owns",this.autocomplete.id)}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&(0,Qt.iD)(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,Lt.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,Vr.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,Vr.h)(()=>this._overlayAttached)):(0,Si.of)()).pipe((0,Oo.U)(st=>st instanceof G.rN?st:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,Lt.T)((0,sn.R)(this._document,"click"),(0,sn.R)(this._document,"auxclick"),(0,sn.R)(this._document,"touchend")).pipe((0,Vr.h)(st=>{const Xt=(0,Wt.sA)(st),Rt=this._formField?this._formField._elementRef.nativeElement:null,gn=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&Xt!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!Rt||!Rt.contains(Xt))&&(!gn||!gn.contains(Xt))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(Xt)}))}writeValue(st){Promise.resolve(null).then(()=>this._assignOptionValue(st))}registerOnChange(st){this._onChange=st}registerOnTouched(st){this._onTouched=st}setDisabledState(st){this._element.nativeElement.disabled=st}_handleKeydown(st){const Xt=st.keyCode,Rt=(0,an.Vb)(st);if(Xt===an.hY&&!Rt&&st.preventDefault(),this.activeOption&&Xt===an.K5&&this.panelOpen&&!Rt)this.activeOption._selectViaInteraction(),this._resetActiveItem(),st.preventDefault();else if(this.autocomplete){const gn=this.autocomplete._keyManager.activeItem,On=Xt===an.LH||Xt===an.JH;Xt===an.Mf||On&&!Rt&&this.panelOpen?this.autocomplete._keyManager.onKeydown(st):On&&this._canOpen()&&this.openPanel(),(On||this.autocomplete._keyManager.activeItem!==gn)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(st){let Xt=st.target,Rt=Xt.value;"number"===Xt.type&&(Rt=""==Rt?null:parseFloat(Rt)),this._previousValue!==Rt&&(this._previousValue=Rt,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(Rt),Rt||this._clearPreviousSelectedOption(null,!1),this._canOpen()&&this._document.activeElement===st.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(st=!1){this._formField&&"auto"===this._formField.floatLabel&&(st?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const st=this._zone.onStable.pipe((0,Hr.q)(1)),Xt=this.autocomplete.options.changes.pipe((0,fa.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,zl.g)(0));return(0,Lt.T)(st,Xt).pipe((0,ni.w)(()=>(this._zone.run(()=>{const Rt=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),Rt!==this.panelOpen&&(this.panelOpen?(this._captureValueOnAttach(),this._emitOpened()):this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,Hr.q)(1)).subscribe(Rt=>this._setValueAndClose(Rt))}_emitOpened(){this.autocomplete.opened.emit()}_captureValueOnAttach(){this._valueOnAttach=this._element.nativeElement.value}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(st){const Xt=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(st):st;this._updateNativeInputValue(Xt??"")}_updateNativeInputValue(st){this._formField?this._formField._control.value=st:this._element.nativeElement.value=st,this._previousValue=st}_setValueAndClose(st){const Xt=this.autocomplete,Rt=st?st.source:this._pendingAutoselectedOption;Rt?(this._clearPreviousSelectedOption(Rt),this._assignOptionValue(Rt.value),this._onChange(Rt.value),Xt._emitSelectEvent(Rt),this._element.nativeElement.focus()):Xt.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),Xt._animationDone?Xt._animationDone.pipe((0,Hr.q)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(st,Xt){this.autocomplete?.options?.forEach(Rt=>{Rt!==st&&Rt.selected&&Rt.deselect(Xt)})}_attachOverlay(){let st=this._overlayRef;st?(this._positionStrategy.setOrigin(this._getConnectedElement()),st.updateSize({width:this._getPanelWidth()})):(this._portal=new Fr.UE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),st=this._overlay.create(this._getOverlayConfig()),this._overlayRef=st,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&st&&st.updateSize({width:this._getPanelWidth()})})),st&&!st.hasAttached()&&(st.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const Xt=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this._captureValueOnAttach(),this.panelOpen&&Xt!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const st=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=st.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=st.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new h.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const st=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(st),this._positionStrategy=st,st}_setStrategyPositions(st){const Xt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Rt=this._aboveClass,gn=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:Rt},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:Rt}];let On;On="above"===this.position?gn:"below"===this.position?Xt:[...Xt,...gn],st.withPositions(On)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const st=this.autocomplete;if(st.autoActiveFirstOption){let Xt=-1;for(let Rt=0;Rt<st.options.length;Rt++)if(!st.options.get(Rt).disabled){Xt=Rt;break}st._keyManager.setActiveItem(Xt)}else st._keyManager.setActiveItem(-1)}_canOpen(){const st=this._element.nativeElement;return!st.readOnly&&!st.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(st){const Xt=this.autocomplete,Rt=(0,G.CB)(st,Xt.options,Xt.optionGroups);if(0===st&&1===Rt)Xt._setScrollTop(0);else if(Xt.panel){const gn=Xt.options.toArray()[st];if(gn){const On=gn._getHostElement(),ma=(0,G.jH)(On.offsetTop,On.offsetHeight,Xt._getScrollTop(),Xt.panel.nativeElement.offsetHeight);Xt._setScrollTop(ma)}}}_applyModalPanelOwnership(){const st=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!st)return;const Xt=this.autocomplete.id;this._trackedModal&&(0,Qt.iD)(this._trackedModal,"aria-owns",Xt),(0,Qt.Zf)(st,"aria-owns",Xt),this._trackedModal=st}_clearFromModal(){this._trackedModal&&((0,Qt.iD)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(Xt){return new(Xt||rn)(R.Y36(R.SBq),R.Y36(h.aV),R.Y36(R.s_b),R.Y36(R.R0b),R.Y36(R.sBO),R.Y36(qo),R.Y36(on.Is,8),R.Y36(Jn.G_,9),R.Y36(Dt.K0,8),R.Y36(jt.rL),R.Y36(to,8))};static#t=this.\u0275dir=R.lG2({type:rn,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[R.TTD]})}return rn})(),Us=(()=>{class rn extends Yn{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}static#e=this.\u0275fac=function(){let st;return function(Rt){return(st||(st=R.n5z(rn)))(Rt||rn)}}();static#t=this.\u0275dir=R.lG2({type:rn,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(Xt,Rt){1&Xt&&R.NdJ("focusin",function(){return Rt._handleFocus()})("blur",function(){return Rt._onTouched()})("input",function(On){return Rt._handleInput(On)})("keydown",function(On){return Rt._handleKeydown(On)})("click",function(){return Rt._handleClick()}),2&Xt&&R.uIk("autocomplete",Rt.autocompleteAttribute)("role",Rt.autocompleteDisabled?null:"combobox")("aria-autocomplete",Rt.autocompleteDisabled?null:"list")("aria-activedescendant",Rt.panelOpen&&Rt.activeOption?Rt.activeOption.id:null)("aria-expanded",Rt.autocompleteDisabled?null:Rt.panelOpen.toString())("aria-controls",Rt.autocompleteDisabled||!Rt.panelOpen||null==Rt.autocomplete?null:Rt.autocomplete.id)("aria-haspopup",Rt.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[R._Bn([rs]),R.qOj]})}return rn})(),Ws=(()=>{class rn{static#e=this.\u0275fac=function(Xt){return new(Xt||rn)};static#t=this.\u0275mod=R.oAB({type:rn});static#i=this.\u0275inj=R.cJS({providers:[vo],imports:[h.U8,G.Ng,G.BQ,Dt.ez,jt.ZD,G.Ng,G.BQ]})}return rn})()},7132:(ti,_i,ge)=>{"use strict";ge.d(_i,{HS:()=>Us,Hi:()=>pi});var R=ge(2561),G=ge(755),Dt=ge(6733),jt=ge(4220),h=ge(7583),Qt=ge(8748),Bi=ge(5047),Wt=ge(1813),Et=(ge(1749),ge(3843),ge(4787),ge(5262));function an(At,Ri){1&At&&(G.TgZ(0,"span",7),G.Hsn(1,1),G.qZA())}function Fr(At,Ri){1&At&&(G.TgZ(0,"span",8),G.Hsn(1,2),G.qZA())}ge(5667),ge(3226),ge(6125);const Ys=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Jn=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"],Fa=new G.OlP("mat-chips-default-options"),to=new G.OlP("MatChipAvatar"),El=new G.OlP("MatChipTrailingIcon"),Ml=new G.OlP("MatChipRemove"),pa=new G.OlP("MatChip");class ms{}const Rs=(0,jt.sb)(ms,-1);let rs=(()=>{class At extends Rs{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(we){this._disabled=(0,R.Ig)(we)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(we,We){super(),this._elementRef=we,this._parentChip=We,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===we.nativeElement.nodeName&&we.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(we){!this.disabled&&this.isInteractive&&this._isPrimary&&(we.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(we){(we.keyCode===Et.K5||we.keyCode===Et.L_)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(we.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(We){return new(We||At)(G.Y36(G.SBq),G.Y36(pa))};static#t=this.\u0275dir=G.lG2({type:At,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(We,Ge){1&We&&G.NdJ("click",function(wi){return Ge._handleClick(wi)})("keydown",function(wi){return Ge._handleKeydown(wi)}),2&We&&(G.uIk("tabindex",Ge._getTabindex())("disabled",Ge._getDisabledAttribute())("aria-disabled",Ge.disabled),G.ekj("mdc-evolution-chip__action--primary",Ge._isPrimary)("mdc-evolution-chip__action--presentational",!Ge.isInteractive)("mdc-evolution-chip__action--trailing",!Ge._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[G.qOj]})}return At})(),vo=0;const Yn=(0,jt.sb)((0,jt.pj)((0,jt.Kr)((0,jt.Id)(class{constructor(At){this._elementRef=At}})),"primary"),-1);let Us=(()=>{class At extends Yn{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(we){this._value=we}get removable(){return this._removable}set removable(we){this._removable=(0,R.Ig)(we)}get highlighted(){return this._highlighted}set highlighted(we){this._highlighted=(0,R.Ig)(we)}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(we){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,we)}constructor(we,We,Ge,fi,wi,fn,as,$n){super(We),this._changeDetectorRef=we,this._ngZone=Ge,this._focusMonitor=fi,this._globalRippleOptions=as,this._onFocus=new Qt.x,this._onBlur=new Qt.x,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+vo++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new G.vpe,this.destroyed=new G.vpe,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,G.f3M)(jt.Fq),this._document=wi,this._animationsDisabled="NoopAnimations"===fn,null!=$n&&(this.tabIndex=parseInt($n)??this.defaultTabIndex),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const we=this._elementRef.nativeElement;this._isBasicChip=we.hasAttribute(this.basicChipAttrName)||we.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,Bi.T)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(we){(we.keyCode===Et.ZH||we.keyCode===Et.yY)&&(we.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(we){return this._getActions().find(We=>{const Ge=We._elementRef.nativeElement;return Ge===we||Ge.contains(we)})}_getActions(){const we=[];return this.primaryAction&&we.push(this.primaryAction),this.removeIcon&&we.push(this.removeIcon),this.trailingIcon&&we.push(this.trailingIcon),we}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(we=>{const We=null!==we;We!==this._hasFocusInternal&&(this._hasFocusInternal=We,We?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe((0,Wt.q)(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static#e=this.\u0275fac=function(We){return new(We||At)(G.Y36(G.sBO),G.Y36(G.SBq),G.Y36(G.R0b),G.Y36(h.tE),G.Y36(Dt.K0),G.Y36(G.QbO,8),G.Y36(jt.Y2,8),G.$8M("tabindex"))};static#t=this.\u0275cmp=G.Xpm({type:At,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(We,Ge,fi){if(1&We&&(G.Suo(fi,to,5),G.Suo(fi,El,5),G.Suo(fi,Ml,5),G.Suo(fi,to,5),G.Suo(fi,El,5),G.Suo(fi,Ml,5)),2&We){let wi;G.iGM(wi=G.CRH())&&(Ge.leadingIcon=wi.first),G.iGM(wi=G.CRH())&&(Ge.trailingIcon=wi.first),G.iGM(wi=G.CRH())&&(Ge.removeIcon=wi.first),G.iGM(wi=G.CRH())&&(Ge._allLeadingIcons=wi),G.iGM(wi=G.CRH())&&(Ge._allTrailingIcons=wi),G.iGM(wi=G.CRH())&&(Ge._allRemoveIcons=wi)}},viewQuery:function(We,Ge){if(1&We&&G.Gf(rs,5),2&We){let fi;G.iGM(fi=G.CRH())&&(Ge.primaryAction=fi.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(We,Ge){1&We&&G.NdJ("keydown",function(wi){return Ge._handleKeydown(wi)}),2&We&&(G.Ikx("id",Ge.id),G.uIk("role",Ge.role)("tabindex",Ge.role?Ge.tabIndex:null)("aria-label",Ge.ariaLabel),G.ekj("mdc-evolution-chip",!Ge._isBasicChip)("mdc-evolution-chip--disabled",Ge.disabled)("mdc-evolution-chip--with-trailing-action",Ge._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",Ge.leadingIcon)("mdc-evolution-chip--with-primary-icon",Ge.leadingIcon)("mdc-evolution-chip--with-avatar",Ge.leadingIcon)("mat-mdc-chip-with-avatar",Ge.leadingIcon)("mat-mdc-chip-highlighted",Ge.highlighted)("mat-mdc-chip-disabled",Ge.disabled)("mat-mdc-basic-chip",Ge._isBasicChip)("mat-mdc-standard-chip",!Ge._isBasicChip)("mat-mdc-chip-with-trailing-icon",Ge._hasTrailingIcon())("_mat-animation-noopable",Ge._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[G._Bn([{provide:pa,useExisting:At}]),G.qOj],ngContentSelectors:Jn,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(We,Ge){1&We&&(G.F$t(Ys),G._UZ(0,"span",0),G.TgZ(1,"span",1)(2,"span",2),G.YNc(3,an,2,0,"span",3),G.TgZ(4,"span",4),G.Hsn(5),G._UZ(6,"span",5),G.qZA()()(),G.YNc(7,Fr,2,0,"span",6)),2&We&&(G.xp6(2),G.Q6J("isInteractive",!1),G.xp6(1),G.Q6J("ngIf",Ge.leadingIcon),G.xp6(4),G.Q6J("ngIf",Ge._hasTrailingIcon()))},dependencies:[Dt.O5,rs],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return At})(),pi=(()=>{class At{static#e=this.\u0275fac=function(We){return new(We||At)};static#t=this.\u0275mod=G.oAB({type:At});static#i=this.\u0275inj=G.cJS({providers:[jt.rD,{provide:Fa,useValue:{separatorKeyCodes:[Et.K5]}}],imports:[jt.BQ,Dt.ez,jt.si,jt.BQ]})}return At})()},7812:(ti,_i,ge)=>{"use strict";ge.d(_i,{FA:()=>Dn,Mq:()=>so,Q0:()=>Wc,hl:()=>Yc,nW:()=>Vc});var R=ge(7583),G=ge(8146),Dt=ge(6785),jt=ge(6733),h=ge(755),Qt=ge(393),Bi=ge(3753),Wt=ge(4220),_t=ge(8748),qi=ge(902),kn=ge(5047),Et=ge(1209),Lt=ge(5262),Si=ge(5667),sn=ge(8491),an=ge(1813),Fr=ge(3843),Ys=ge(5333),Jn=ge(2561),Kn=ge(2405),ni=ge(3226),Hr=ge(6125),Vr=ge(5735);const Oo=["mat-calendar-body",""];function fa(Oe,ci){if(1&Oe&&(h.TgZ(0,"tr",3)(1,"td",4),h._uU(2),h.qZA()()),2&Oe){const k=h.oxw();h.xp6(1),h.Udp("padding-top",k._cellPadding)("padding-bottom",k._cellPadding),h.uIk("colspan",k.numCols),h.xp6(1),h.hij(" ",k.label," ")}}function zl(Oe,ci){if(1&Oe&&(h.TgZ(0,"td",4),h._uU(1),h.qZA()),2&Oe){const k=h.oxw(2);h.Udp("padding-top",k._cellPadding)("padding-bottom",k._cellPadding),h.uIk("colspan",k._firstRowOffset),h.xp6(1),h.hij(" ",k._firstRowOffset>=k.labelMinRequiredCells?k.label:""," ")}}function on(Oe,ci){if(1&Oe){const k=h.EpF();h.TgZ(0,"td",8)(1,"button",9),h.NdJ("click",function(X){const tt=h.CHM(k).$implicit,Mi=h.oxw(2);return h.KtG(Mi._cellClicked(tt,X))})("focus",function(X){const tt=h.CHM(k).$implicit,Mi=h.oxw(2);return h.KtG(Mi._emitActiveDateChange(tt,X))}),h.TgZ(2,"span",10),h._uU(3),h.qZA(),h._UZ(4,"span",11),h.qZA()()}if(2&Oe){const k=ci.$implicit,ae=ci.index,X=h.oxw().index,xe=h.oxw();h.Udp("width",xe._cellWidth)("padding-top",xe._cellPadding)("padding-bottom",xe._cellPadding),h.uIk("data-mat-row",X)("data-mat-col",ae),h.xp6(1),h.ekj("mat-calendar-body-disabled",!k.enabled)("mat-calendar-body-active",xe._isActiveCell(X,ae))("mat-calendar-body-range-start",xe._isRangeStart(k.compareValue))("mat-calendar-body-range-end",xe._isRangeEnd(k.compareValue))("mat-calendar-body-in-range",xe._isInRange(k.compareValue))("mat-calendar-body-comparison-bridge-start",xe._isComparisonBridgeStart(k.compareValue,X,ae))("mat-calendar-body-comparison-bridge-end",xe._isComparisonBridgeEnd(k.compareValue,X,ae))("mat-calendar-body-comparison-start",xe._isComparisonStart(k.compareValue))("mat-calendar-body-comparison-end",xe._isComparisonEnd(k.compareValue))("mat-calendar-body-in-comparison-range",xe._isInComparisonRange(k.compareValue))("mat-calendar-body-preview-start",xe._isPreviewStart(k.compareValue))("mat-calendar-body-preview-end",xe._isPreviewEnd(k.compareValue))("mat-calendar-body-in-preview",xe._isInPreview(k.compareValue)),h.Q6J("ngClass",k.cssClasses)("tabindex",xe._isActiveCell(X,ae)?0:-1),h.uIk("aria-label",k.ariaLabel)("aria-disabled",!k.enabled||null)("aria-pressed",xe._isSelected(k.compareValue))("aria-current",xe.todayValue===k.compareValue?"date":null)("aria-describedby",xe._getDescribedby(k.compareValue)),h.xp6(1),h.ekj("mat-calendar-body-selected",xe._isSelected(k.compareValue))("mat-calendar-body-comparison-identical",xe._isComparisonIdentical(k.compareValue))("mat-calendar-body-today",xe.todayValue===k.compareValue),h.xp6(1),h.hij(" ",k.displayValue," ")}}function Ia(Oe,ci){if(1&Oe&&(h.TgZ(0,"tr",5),h.YNc(1,zl,2,6,"td",6),h.YNc(2,on,5,48,"td",7),h.qZA()),2&Oe){const k=ci.$implicit,ae=ci.index,X=h.oxw();h.xp6(1),h.Q6J("ngIf",0===ae&&X._firstRowOffset),h.xp6(1),h.Q6J("ngForOf",k)}}function li(Oe,ci){if(1&Oe&&(h.TgZ(0,"th",5)(1,"span",6),h._uU(2),h.qZA(),h.TgZ(3,"span",7),h._uU(4),h.qZA()()),2&Oe){const k=ci.$implicit;h.xp6(2),h.Oqu(k.long),h.xp6(2),h.Oqu(k.narrow)}}const Zn=["*"];function nn(Oe,ci){}function wr(Oe,ci){if(1&Oe){const k=h.EpF();h.TgZ(0,"mat-month-view",5),h.NdJ("activeDateChange",function(X){h.CHM(k);const xe=h.oxw();return h.KtG(xe.activeDate=X)})("_userSelection",function(X){h.CHM(k);const xe=h.oxw();return h.KtG(xe._dateSelected(X))})("dragStarted",function(X){h.CHM(k);const xe=h.oxw();return h.KtG(xe._dragStarted(X))})("dragEnded",function(X){h.CHM(k);const xe=h.oxw();return h.KtG(xe._dragEnded(X))}),h.qZA()}if(2&Oe){const k=h.oxw();h.Q6J("activeDate",k.activeDate)("selected",k.selected)("dateFilter",k.dateFilter)("maxDate",k.maxDate)("minDate",k.minDate)("dateClass",k.dateClass)("comparisonStart",k.comparisonStart)("comparisonEnd",k.comparisonEnd)("startDateAccessibleName",k.startDateAccessibleName)("endDateAccessibleName",k.endDateAccessibleName)("activeDrag",k._activeDrag)}}function eo(Oe,ci){if(1&Oe){const k=h.EpF();h.TgZ(0,"mat-year-view",6),h.NdJ("activeDateChange",function(X){h.CHM(k);const xe=h.oxw();return h.KtG(xe.activeDate=X)})("monthSelected",function(X){h.CHM(k);const xe=h.oxw();return h.KtG(xe._monthSelectedInYearView(X))})("selectedChange",function(X){h.CHM(k);const xe=h.oxw();return h.KtG(xe._goToDateInView(X,"month"))}),h.qZA()}if(2&Oe){const k=h.oxw();h.Q6J("activeDate",k.activeDate)("selected",k.selected)("dateFilter",k.dateFilter)("maxDate",k.maxDate)("minDate",k.minDate)("dateClass",k.dateClass)}}function Fa(Oe,ci){if(1&Oe){const k=h.EpF();h.TgZ(0,"mat-multi-year-view",7),h.NdJ("activeDateChange",function(X){h.CHM(k);const xe=h.oxw();return h.KtG(xe.activeDate=X)})("yearSelected",function(X){h.CHM(k);const xe=h.oxw();return h.KtG(xe._yearSelectedInMultiYearView(X))})("selectedChange",function(X){h.CHM(k);const xe=h.oxw();return h.KtG(xe._goToDateInView(X,"year"))}),h.qZA()}if(2&Oe){const k=h.oxw();h.Q6J("activeDate",k.activeDate)("selected",k.selected)("dateFilter",k.dateFilter)("maxDate",k.maxDate)("minDate",k.minDate)("dateClass",k.dateClass)}}function to(Oe,ci){}const El=["button"];function Ml(Oe,ci){1&Oe&&(h.O4$(),h.TgZ(0,"svg",3),h._UZ(1,"path",4),h.qZA())}const pa=[[["","matDatepickerToggleIcon",""]]],ms=["[matDatepickerToggleIcon]"];let ka=(()=>{class Oe{constructor(){this.changes=new _t.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(k,ae){return`${k} \u2013 ${ae}`}formatYearRangeLabel(k,ae){return`${k} to ${ae}`}static#e=this.\u0275fac=function(ae){return new(ae||Oe)};static#t=this.\u0275prov=h.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})();class vo{constructor(ci,k,ae,X,xe={},tt=ci,Mi){this.value=ci,this.displayValue=k,this.ariaLabel=ae,this.enabled=X,this.cssClasses=xe,this.compareValue=tt,this.rawValue=Mi}}let Yn=1;const Us=(0,sn.i$)({passive:!1,capture:!0}),Ws=(0,sn.i$)({passive:!0,capture:!0}),rn=(0,sn.i$)({passive:!0});let ss=(()=>{class Oe{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(k,ae){this._elementRef=k,this._ngZone=ae,this._platform=(0,h.f3M)(sn.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new h.vpe,this.previewChange=new h.vpe,this.activeDateChange=new h.vpe,this.dragStarted=new h.vpe,this.dragEnded=new h.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=X=>{if(this._skipNextFocus&&"focus"===X.type)this._skipNextFocus=!1;else if(X.target&&this.isRange){const xe=this._getCellFromElement(X.target);xe&&this._ngZone.run(()=>this.previewChange.emit({value:xe.enabled?xe:null,event:X}))}},this._touchmoveHandler=X=>{if(!this.isRange)return;const xe=ma(X),tt=xe?this._getCellFromElement(xe):null;xe!==X.target&&(this._didDragSinceMouseDown=!0),Xt(X.target)&&X.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:tt?.enabled?tt:null,event:X}))},this._leaveHandler=X=>{null!==this.previewEnd&&this.isRange&&("blur"!==X.type&&(this._didDragSinceMouseDown=!0),X.target&&this._getCellFromElement(X.target)&&(!X.relatedTarget||!this._getCellFromElement(X.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:X})))},this._mousedownHandler=X=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const xe=X.target&&this._getCellFromElement(X.target);!xe||!this._isInRange(xe.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:xe.rawValue,event:X})})},this._mouseupHandler=X=>{if(!this.isRange)return;const xe=Xt(X.target);xe?xe.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const tt=this._getCellFromElement(xe);this.dragEnded.emit({value:tt?.rawValue??null,event:X})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:X})})},this._touchendHandler=X=>{const xe=ma(X);xe&&this._mouseupHandler({target:xe})},this._id="mat-calendar-body-"+Yn++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,ae.runOutsideAngular(()=>{const X=k.nativeElement;X.addEventListener("touchmove",this._touchmoveHandler,Us),X.addEventListener("mouseenter",this._enterHandler,Ws),X.addEventListener("focus",this._enterHandler,Ws),X.addEventListener("mouseleave",this._leaveHandler,Ws),X.addEventListener("blur",this._leaveHandler,Ws),X.addEventListener("mousedown",this._mousedownHandler,rn),X.addEventListener("touchstart",this._mousedownHandler,rn),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(k,ae){this._didDragSinceMouseDown||k.enabled&&this.selectedValueChange.emit({value:k.value,event:ae})}_emitActiveDateChange(k,ae){k.enabled&&this.activeDateChange.emit({value:k.value,event:ae})}_isSelected(k){return this.startValue===k||this.endValue===k}ngOnChanges(k){const ae=k.numCols,{rows:X,numCols:xe}=this;(k.rows||ae)&&(this._firstRowOffset=X&&X.length&&X[0].length?xe-X[0].length:0),(k.cellAspectRatio||ae||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/xe+"%"),(ae||!this._cellWidth)&&(this._cellWidth=100/xe+"%")}ngOnDestroy(){const k=this._elementRef.nativeElement;k.removeEventListener("touchmove",this._touchmoveHandler,Us),k.removeEventListener("mouseenter",this._enterHandler,Ws),k.removeEventListener("focus",this._enterHandler,Ws),k.removeEventListener("mouseleave",this._leaveHandler,Ws),k.removeEventListener("blur",this._leaveHandler,Ws),k.removeEventListener("mousedown",this._mousedownHandler,rn),k.removeEventListener("touchstart",this._mousedownHandler,rn),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(k,ae){let X=k*this.numCols+ae;return k&&(X-=this._firstRowOffset),X==this.activeCell}_focusActiveCell(k=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,an.q)(1)).subscribe(()=>{setTimeout(()=>{const ae=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");ae&&(k||(this._skipNextFocus=!0),ae.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(k){return Rt(k,this.startValue,this.endValue)}_isRangeEnd(k){return gn(k,this.startValue,this.endValue)}_isInRange(k){return On(k,this.startValue,this.endValue,this.isRange)}_isComparisonStart(k){return Rt(k,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(k,ae,X){if(!this._isComparisonStart(k)||this._isRangeStart(k)||!this._isInRange(k))return!1;let xe=this.rows[ae][X-1];if(!xe){const tt=this.rows[ae-1];xe=tt&&tt[tt.length-1]}return xe&&!this._isRangeEnd(xe.compareValue)}_isComparisonBridgeEnd(k,ae,X){if(!this._isComparisonEnd(k)||this._isRangeEnd(k)||!this._isInRange(k))return!1;let xe=this.rows[ae][X+1];if(!xe){const tt=this.rows[ae+1];xe=tt&&tt[0]}return xe&&!this._isRangeStart(xe.compareValue)}_isComparisonEnd(k){return gn(k,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(k){return On(k,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(k){return this.comparisonStart===this.comparisonEnd&&k===this.comparisonStart}_isPreviewStart(k){return Rt(k,this.previewStart,this.previewEnd)}_isPreviewEnd(k){return gn(k,this.previewStart,this.previewEnd)}_isInPreview(k){return On(k,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(k){return this.isRange?this.startValue===k&&this.endValue===k?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===k?this._startDateLabelId:this.endValue===k?this._endDateLabelId:null:null}_getCellFromElement(k){const ae=Xt(k);if(ae){const X=ae.getAttribute("data-mat-row"),xe=ae.getAttribute("data-mat-col");if(X&&xe)return this.rows[parseInt(X)][parseInt(xe)]}return null}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(h.SBq),h.Y36(h.R0b))};static#t=this.\u0275cmp=h.Xpm({type:Oe,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[h.TTD],attrs:Oo,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(ae,X){1&ae&&(h.YNc(0,fa,3,6,"tr",0),h.YNc(1,Ia,3,2,"tr",1),h.TgZ(2,"label",2),h._uU(3),h.qZA(),h.TgZ(4,"label",2),h._uU(5),h.qZA()),2&ae&&(h.Q6J("ngIf",X._firstRowOffset<X.labelMinRequiredCells),h.xp6(1),h.Q6J("ngForOf",X.rows),h.xp6(1),h.Q6J("id",X._startDateLabelId),h.xp6(1),h.hij(" ",X.startDateAccessibleName,"\n"),h.xp6(1),h.Q6J("id",X._endDateLabelId),h.xp6(1),h.hij(" ",X.endDateAccessibleName,"\n"))},dependencies:[jt.mk,jt.sg,jt.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return Oe})();function st(Oe){return"TD"===Oe?.nodeName}function Xt(Oe){let ci;return st(Oe)?ci=Oe:st(Oe.parentNode)?ci=Oe.parentNode:st(Oe.parentNode?.parentNode)&&(ci=Oe.parentNode.parentNode),null!=ci?.getAttribute("data-mat-row")?ci:null}function Rt(Oe,ci,k){return null!==k&&ci!==k&&Oe<k&&Oe===ci}function gn(Oe,ci,k){return null!==ci&&ci!==k&&Oe>=ci&&Oe===k}function On(Oe,ci,k,ae){return ae&&null!==ci&&null!==k&&ci!==k&&Oe>=ci&&Oe<=k}function ma(Oe){const ci=Oe.changedTouches[0];return document.elementFromPoint(ci.clientX,ci.clientY)}class zr{constructor(ci,k){this.start=ci,this.end=k}}let Qs=(()=>{class Oe{constructor(k,ae){this.selection=k,this._adapter=ae,this._selectionChanged=new _t.x,this.selectionChanged=this._selectionChanged,this.selection=k}updateSelection(k,ae){const X=this.selection;this.selection=k,this._selectionChanged.next({selection:k,source:ae,oldValue:X})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(k){return this._adapter.isDateInstance(k)&&this._adapter.isValid(k)}static#e=this.\u0275fac=function(ae){h.$Z()};static#t=this.\u0275prov=h.Yz7({token:Oe,factory:Oe.\u0275fac})}return Oe})(),io=(()=>{class Oe extends Qs{constructor(k){super(null,k)}add(k){super.updateSelection(k,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const k=new Oe(this._adapter);return k.updateSelection(this.selection,this),k}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.LFG(Wt._A))};static#t=this.\u0275prov=h.Yz7({token:Oe,factory:Oe.\u0275fac})}return Oe})();const fe={provide:Qs,deps:[[new h.FiY,new h.tp0,Qs],Wt._A],useFactory:function Qe(Oe,ci){return Oe||new io(ci)}},pi=new h.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Ge=(()=>{class Oe{get activeDate(){return this._activeDate}set activeDate(k){const ae=this._activeDate,X=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(X,this.minDate,this.maxDate),this._hasSameMonthAndYear(ae,this._activeDate)||this._init()}get selected(){return this._selected}set selected(k){this._selected=k instanceof zr?k:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(k){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}get maxDate(){return this._maxDate}set maxDate(k){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}constructor(k,ae,X,xe,tt){this._changeDetectorRef=k,this._dateFormats=ae,this._dateAdapter=X,this._dir=xe,this._rangeStrategy=tt,this._rerenderSubscription=qi.w0.EMPTY,this.activeDrag=null,this.selectedChange=new h.vpe,this._userSelection=new h.vpe,this.dragStarted=new h.vpe,this.dragEnded=new h.vpe,this.activeDateChange=new h.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Fr.O)(null)).subscribe(()=>this._init())}ngOnChanges(k){const ae=k.comparisonStart||k.comparisonEnd;ae&&!ae.firstChange&&this._setRanges(this.selected),k.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(k){const ae=k.value,X=this._getDateFromDayOfMonth(ae);let xe,tt;this._selected instanceof zr?(xe=this._getDateInCurrentMonth(this._selected.start),tt=this._getDateInCurrentMonth(this._selected.end)):xe=tt=this._getDateInCurrentMonth(this._selected),(xe!==ae||tt!==ae)&&this.selectedChange.emit(X),this._userSelection.emit({value:X,event:k.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(k){const X=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(k.value),this._dateAdapter.compareDate(X,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(k){const ae=this._activeDate,X=this._isRtl();switch(k.keyCode){case Lt.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,X?1:-1);break;case Lt.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,X?-1:1);break;case Lt.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Lt.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Lt.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Lt.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Lt.Ku:this.activeDate=k.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Lt.VM:this.activeDate=k.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Lt.K5:case Lt.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&k.preventDefault());case Lt.hY:return void(null!=this._previewEnd&&!(0,Lt.Vb)(k)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:k}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:k})),k.preventDefault(),k.stopPropagation()));default:return}this._dateAdapter.compareDate(ae,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),k.preventDefault()}_handleCalendarBodyKeyup(k){(k.keyCode===Lt.L_||k.keyCode===Lt.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:k}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let k=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(k)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(k){this._matCalendarBody._focusActiveCell(k)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:k,value:ae}){if(this._rangeStrategy){const X=ae?ae.rawValue:null,xe=this._rangeStrategy.createPreview(X,this.selected,k);if(this._previewStart=this._getCellCompareValue(xe.start),this._previewEnd=this._getCellCompareValue(xe.end),this.activeDrag&&X){const tt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,X,k);tt&&(this._previewStart=this._getCellCompareValue(tt.start),this._previewEnd=this._getCellCompareValue(tt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(k){if(this.activeDrag)if(k.value){const ae=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,k.value,k.event);this.dragEnded.emit({value:ae??null,event:k.event})}else this.dragEnded.emit({value:null,event:k.event})}_getDateFromDayOfMonth(k){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),k)}_initWeekdays(){const k=this._dateAdapter.getFirstDayOfWeek(),ae=this._dateAdapter.getDayOfWeekNames("narrow");let xe=this._dateAdapter.getDayOfWeekNames("long").map((tt,Mi)=>({long:tt,narrow:ae[Mi]}));this._weekdays=xe.slice(k).concat(xe.slice(0,k))}_createWeekCells(){const k=this._dateAdapter.getNumDaysInMonth(this.activeDate),ae=this._dateAdapter.getDateNames();this._weeks=[[]];for(let X=0,xe=this._firstWeekOffset;X<k;X++,xe++){7==xe&&(this._weeks.push([]),xe=0);const tt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),X+1),Mi=this._shouldEnableDate(tt),gs=this._dateAdapter.format(tt,this._dateFormats.display.dateA11yLabel),es=this.dateClass?this.dateClass(tt,"month"):void 0;this._weeks[this._weeks.length-1].push(new vo(X+1,ae[X],gs,Mi,es,this._getCellCompareValue(tt),tt))}}_shouldEnableDate(k){return!!k&&(!this.minDate||this._dateAdapter.compareDate(k,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(k,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(k))}_getDateInCurrentMonth(k){return k&&this._hasSameMonthAndYear(k,this.activeDate)?this._dateAdapter.getDate(k):null}_hasSameMonthAndYear(k,ae){return!(!k||!ae||this._dateAdapter.getMonth(k)!=this._dateAdapter.getMonth(ae)||this._dateAdapter.getYear(k)!=this._dateAdapter.getYear(ae))}_getCellCompareValue(k){if(k){const ae=this._dateAdapter.getYear(k),X=this._dateAdapter.getMonth(k),xe=this._dateAdapter.getDate(k);return new Date(ae,X,xe).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(k){k instanceof zr?(this._rangeStart=this._getCellCompareValue(k.start),this._rangeEnd=this._getCellCompareValue(k.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(k),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(k){return!this.dateFilter||this.dateFilter(k)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(h.sBO),h.Y36(Wt.sG,8),h.Y36(Wt._A,8),h.Y36(Si.Is,8),h.Y36(pi,8))};static#t=this.\u0275cmp=h.Xpm({type:Oe,selectors:[["mat-month-view"]],viewQuery:function(ae,X){if(1&ae&&h.Gf(ss,5),2&ae){let xe;h.iGM(xe=h.CRH())&&(X._matCalendarBody=xe.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[h.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(ae,X){1&ae&&(h.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),h.YNc(3,li,5,2,"th",2),h.qZA(),h.TgZ(4,"tr"),h._UZ(5,"th",3),h.qZA()(),h.TgZ(6,"tbody",4),h.NdJ("selectedValueChange",function(tt){return X._dateSelected(tt)})("activeDateChange",function(tt){return X._updateActiveDate(tt)})("previewChange",function(tt){return X._previewChanged(tt)})("dragStarted",function(tt){return X.dragStarted.emit(tt)})("dragEnded",function(tt){return X._dragEnded(tt)})("keyup",function(tt){return X._handleCalendarBodyKeyup(tt)})("keydown",function(tt){return X._handleCalendarBodyKeydown(tt)}),h.qZA()()),2&ae&&(h.xp6(3),h.Q6J("ngForOf",X._weekdays),h.xp6(3),h.Q6J("label",X._monthLabel)("rows",X._weeks)("todayValue",X._todayDate)("startValue",X._rangeStart)("endValue",X._rangeEnd)("comparisonStart",X._comparisonRangeStart)("comparisonEnd",X._comparisonRangeEnd)("previewStart",X._previewStart)("previewEnd",X._previewEnd)("isRange",X._isRange)("labelMinRequiredCells",3)("activeCell",X._dateAdapter.getDate(X.activeDate)-1)("startDateAccessibleName",X.startDateAccessibleName)("endDateAccessibleName",X.endDateAccessibleName))},dependencies:[jt.sg,ss],encapsulation:2,changeDetection:0})}return Oe})();const fi=24;let fn=(()=>{class Oe{get activeDate(){return this._activeDate}set activeDate(k){let ae=this._activeDate;const X=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(X,this.minDate,this.maxDate),as(this._dateAdapter,ae,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(k){this._selected=k instanceof zr?k:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k)),this._setSelectedYear(k)}get minDate(){return this._minDate}set minDate(k){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}get maxDate(){return this._maxDate}set maxDate(k){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}constructor(k,ae,X){this._changeDetectorRef=k,this._dateAdapter=ae,this._dir=X,this._rerenderSubscription=qi.w0.EMPTY,this.selectedChange=new h.vpe,this.yearSelected=new h.vpe,this.activeDateChange=new h.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Fr.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const ae=this._dateAdapter.getYear(this._activeDate)-$n(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let X=0,xe=[];X<fi;X++)xe.push(ae+X),4==xe.length&&(this._years.push(xe.map(tt=>this._createCellForYear(tt))),xe=[]);this._changeDetectorRef.markForCheck()}_yearSelected(k){const ae=k.value,X=this._dateAdapter.createDate(ae,0,1),xe=this._getDateFromYear(ae);this.yearSelected.emit(X),this.selectedChange.emit(xe)}_updateActiveDate(k){const X=this._activeDate;this.activeDate=this._getDateFromYear(k.value),this._dateAdapter.compareDate(X,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(k){const ae=this._activeDate,X=this._isRtl();switch(k.keyCode){case Lt.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,X?1:-1);break;case Lt.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,X?-1:1);break;case Lt.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Lt.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Lt.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-$n(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Lt.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,fi-$n(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Lt.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,k.altKey?10*-fi:-fi);break;case Lt.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,k.altKey?10*fi:fi);break;case Lt.K5:case Lt.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(ae,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),k.preventDefault()}_handleCalendarBodyKeyup(k){(k.keyCode===Lt.L_||k.keyCode===Lt.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:k}),this._selectionKeyPressed=!1)}_getActiveCell(){return $n(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(k){const ae=this._dateAdapter.getMonth(this.activeDate),X=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(k,ae,1));return this._dateAdapter.createDate(k,ae,Math.min(this._dateAdapter.getDate(this.activeDate),X))}_createCellForYear(k){const ae=this._dateAdapter.createDate(k,0,1),X=this._dateAdapter.getYearName(ae),xe=this.dateClass?this.dateClass(ae,"multi-year"):void 0;return new vo(k,X,X,this._shouldEnableYear(k),xe)}_shouldEnableYear(k){if(null==k||this.maxDate&&k>this._dateAdapter.getYear(this.maxDate)||this.minDate&&k<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let X=this._dateAdapter.createDate(k,0,1);this._dateAdapter.getYear(X)==k;X=this._dateAdapter.addCalendarDays(X,1))if(this.dateFilter(X))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(k){if(this._selectedYear=null,k instanceof zr){const ae=k.start||k.end;ae&&(this._selectedYear=this._dateAdapter.getYear(ae))}else k&&(this._selectedYear=this._dateAdapter.getYear(k))}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(h.sBO),h.Y36(Wt._A,8),h.Y36(Si.Is,8))};static#t=this.\u0275cmp=h.Xpm({type:Oe,selectors:[["mat-multi-year-view"]],viewQuery:function(ae,X){if(1&ae&&h.Gf(ss,5),2&ae){let xe;h.iGM(xe=h.CRH())&&(X._matCalendarBody=xe.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(ae,X){1&ae&&(h.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),h._UZ(3,"th",2),h.qZA()(),h.TgZ(4,"tbody",3),h.NdJ("selectedValueChange",function(tt){return X._yearSelected(tt)})("activeDateChange",function(tt){return X._updateActiveDate(tt)})("keyup",function(tt){return X._handleCalendarBodyKeyup(tt)})("keydown",function(tt){return X._handleCalendarBodyKeydown(tt)}),h.qZA()()),2&ae&&(h.xp6(4),h.Q6J("rows",X._years)("todayValue",X._todayYear)("startValue",X._selectedYear)("endValue",X._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",X._getActiveCell()))},dependencies:[ss],encapsulation:2,changeDetection:0})}return Oe})();function as(Oe,ci,k,ae,X){const xe=Oe.getYear(ci),tt=Oe.getYear(k),Mi=Bs(Oe,ae,X);return Math.floor((xe-Mi)/fi)===Math.floor((tt-Mi)/fi)}function $n(Oe,ci,k,ae){return function Gl(Oe,ci){return(Oe%ci+ci)%ci}(Oe.getYear(ci)-Bs(Oe,k,ae),fi)}function Bs(Oe,ci,k){let ae=0;return k?ae=Oe.getYear(k)-fi+1:ci&&(ae=Oe.getYear(ci)),ae}let yn=(()=>{class Oe{get activeDate(){return this._activeDate}set activeDate(k){let ae=this._activeDate;const X=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(X,this.minDate,this.maxDate),this._dateAdapter.getYear(ae)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(k){this._selected=k instanceof zr?k:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k)),this._setSelectedMonth(k)}get minDate(){return this._minDate}set minDate(k){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}get maxDate(){return this._maxDate}set maxDate(k){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}constructor(k,ae,X,xe){this._changeDetectorRef=k,this._dateFormats=ae,this._dateAdapter=X,this._dir=xe,this._rerenderSubscription=qi.w0.EMPTY,this.selectedChange=new h.vpe,this.monthSelected=new h.vpe,this.activeDateChange=new h.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Fr.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(k){const ae=k.value,X=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ae,1);this.monthSelected.emit(X);const xe=this._getDateFromMonth(ae);this.selectedChange.emit(xe)}_updateActiveDate(k){const X=this._activeDate;this.activeDate=this._getDateFromMonth(k.value),this._dateAdapter.compareDate(X,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(k){const ae=this._activeDate,X=this._isRtl();switch(k.keyCode){case Lt.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,X?1:-1);break;case Lt.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,X?-1:1);break;case Lt.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Lt.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Lt.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Lt.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Lt.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,k.altKey?-10:-1);break;case Lt.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,k.altKey?10:1);break;case Lt.K5:case Lt.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(ae,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),k.preventDefault()}_handleCalendarBodyKeyup(k){(k.keyCode===Lt.L_||k.keyCode===Lt.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:k}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let k=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(ae=>ae.map(X=>this._createCellForMonth(X,k[X]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(k){return k&&this._dateAdapter.getYear(k)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(k):null}_getDateFromMonth(k){const ae=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),k,1),X=this._dateAdapter.getNumDaysInMonth(ae);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),k,Math.min(this._dateAdapter.getDate(this.activeDate),X))}_createCellForMonth(k,ae){const X=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),k,1),xe=this._dateAdapter.format(X,this._dateFormats.display.monthYearA11yLabel),tt=this.dateClass?this.dateClass(X,"year"):void 0;return new vo(k,ae.toLocaleUpperCase(),xe,this._shouldEnableMonth(k),tt)}_shouldEnableMonth(k){const ae=this._dateAdapter.getYear(this.activeDate);if(null==k||this._isYearAndMonthAfterMaxDate(ae,k)||this._isYearAndMonthBeforeMinDate(ae,k))return!1;if(!this.dateFilter)return!0;for(let xe=this._dateAdapter.createDate(ae,k,1);this._dateAdapter.getMonth(xe)==k;xe=this._dateAdapter.addCalendarDays(xe,1))if(this.dateFilter(xe))return!0;return!1}_isYearAndMonthAfterMaxDate(k,ae){if(this.maxDate){const X=this._dateAdapter.getYear(this.maxDate),xe=this._dateAdapter.getMonth(this.maxDate);return k>X||k===X&&ae>xe}return!1}_isYearAndMonthBeforeMinDate(k,ae){if(this.minDate){const X=this._dateAdapter.getYear(this.minDate),xe=this._dateAdapter.getMonth(this.minDate);return k<X||k===X&&ae<xe}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(k){this._selectedMonth=k instanceof zr?this._getMonthInCurrentYear(k.start)||this._getMonthInCurrentYear(k.end):this._getMonthInCurrentYear(k)}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(h.sBO),h.Y36(Wt.sG,8),h.Y36(Wt._A,8),h.Y36(Si.Is,8))};static#t=this.\u0275cmp=h.Xpm({type:Oe,selectors:[["mat-year-view"]],viewQuery:function(ae,X){if(1&ae&&h.Gf(ss,5),2&ae){let xe;h.iGM(xe=h.CRH())&&(X._matCalendarBody=xe.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(ae,X){1&ae&&(h.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),h._UZ(3,"th",2),h.qZA()(),h.TgZ(4,"tbody",3),h.NdJ("selectedValueChange",function(tt){return X._monthSelected(tt)})("activeDateChange",function(tt){return X._updateActiveDate(tt)})("keyup",function(tt){return X._handleCalendarBodyKeyup(tt)})("keydown",function(tt){return X._handleCalendarBodyKeydown(tt)}),h.qZA()()),2&ae&&(h.xp6(4),h.Q6J("label",X._yearLabel)("rows",X._months)("todayValue",X._todayMonth)("startValue",X._selectedMonth)("endValue",X._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",X._dateAdapter.getMonth(X.activeDate)))},dependencies:[ss],encapsulation:2,changeDetection:0})}return Oe})(),wo=1,$r=(()=>{class Oe{constructor(k,ae,X,xe,tt){this._intl=k,this.calendar=ae,this._dateAdapter=X,this._dateFormats=xe,this._id="mat-calendar-header-"+wo++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>tt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-fi)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:fi)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(k,ae){return"month"==this.calendar.currentView?this._dateAdapter.getYear(k)==this._dateAdapter.getYear(ae)&&this._dateAdapter.getMonth(k)==this._dateAdapter.getMonth(ae):"year"==this.calendar.currentView?this._dateAdapter.getYear(k)==this._dateAdapter.getYear(ae):as(this._dateAdapter,k,ae,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const ae=this._dateAdapter.getYear(this.calendar.activeDate)-$n(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),X=ae+fi-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(ae,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(X,0,1))]}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(ka),h.Y36((0,h.Gpc)(()=>bo)),h.Y36(Wt._A,8),h.Y36(Wt.sG,8),h.Y36(h.sBO))};static#t=this.\u0275cmp=h.Xpm({type:Oe,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Zn,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(ae,X){1&ae&&(h.F$t(),h.TgZ(0,"div",0)(1,"div",1)(2,"button",2),h.NdJ("click",function(){return X.currentPeriodClicked()}),h.TgZ(3,"span",3),h._uU(4),h.qZA(),h.O4$(),h.TgZ(5,"svg",4),h._UZ(6,"polygon",5),h.qZA()(),h.kcU(),h._UZ(7,"div",6),h.Hsn(8),h.TgZ(9,"button",7),h.NdJ("click",function(){return X.previousClicked()}),h.qZA(),h.TgZ(10,"button",8),h.NdJ("click",function(){return X.nextClicked()}),h.qZA()()(),h.TgZ(11,"label",9),h._uU(12),h.qZA()),2&ae&&(h.xp6(2),h.uIk("aria-label",X.periodButtonLabel)("aria-describedby",X._periodButtonLabelId),h.xp6(2),h.Oqu(X.periodButtonText),h.xp6(1),h.ekj("mat-calendar-invert","month"!==X.calendar.currentView),h.xp6(4),h.Q6J("disabled",!X.previousEnabled()),h.uIk("aria-label",X.prevButtonLabel),h.xp6(1),h.Q6J("disabled",!X.nextEnabled()),h.uIk("aria-label",X.nextButtonLabel),h.xp6(1),h.Q6J("id",X._periodButtonLabelId),h.xp6(1),h.Oqu(X.periodButtonDescription))},dependencies:[Qt.lW,Qt.RK],encapsulation:2,changeDetection:0})}return Oe})(),bo=(()=>{class Oe{get startAt(){return this._startAt}set startAt(k){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}get selected(){return this._selected}set selected(k){this._selected=k instanceof zr?k:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}get minDate(){return this._minDate}set minDate(k){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}get maxDate(){return this._maxDate}set maxDate(k){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}get activeDate(){return this._clampedActiveDate}set activeDate(k){this._clampedActiveDate=this._dateAdapter.clampDate(k,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(k){const ae=this._currentView!==k?k:null;this._currentView=k,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),ae&&this.viewChanged.emit(ae)}constructor(k,ae,X,xe){this._dateAdapter=ae,this._dateFormats=X,this._changeDetectorRef=xe,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new h.vpe,this.yearSelected=new h.vpe,this.monthSelected=new h.vpe,this.viewChanged=new h.vpe(!0),this._userSelection=new h.vpe,this._userDragDrop=new h.vpe,this._activeDrag=null,this.stateChanges=new _t.x,this._intlChanges=k.changes.subscribe(()=>{xe.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Dt.C5(this.headerComponent||$r),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(k){const ae=k.minDate&&!this._dateAdapter.sameDate(k.minDate.previousValue,k.minDate.currentValue)?k.minDate:void 0,X=k.maxDate&&!this._dateAdapter.sameDate(k.maxDate.previousValue,k.maxDate.currentValue)?k.maxDate:void 0,xe=ae||X||k.dateFilter;if(xe&&!xe.firstChange){const tt=this._getCurrentViewComponent();tt&&(this._changeDetectorRef.detectChanges(),tt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(k){const ae=k.value;(this.selected instanceof zr||ae&&!this._dateAdapter.sameDate(ae,this.selected))&&this.selectedChange.emit(ae),this._userSelection.emit(k)}_yearSelectedInMultiYearView(k){this.yearSelected.emit(k)}_monthSelectedInYearView(k){this.monthSelected.emit(k)}_goToDateInView(k,ae){this.activeDate=k,this.currentView=ae}_dragStarted(k){this._activeDrag=k}_dragEnded(k){this._activeDrag&&(k.value&&this._userDragDrop.emit(k),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(ka),h.Y36(Wt._A,8),h.Y36(Wt.sG,8),h.Y36(h.sBO))};static#t=this.\u0275cmp=h.Xpm({type:Oe,selectors:[["mat-calendar"]],viewQuery:function(ae,X){if(1&ae&&(h.Gf(Ge,5),h.Gf(yn,5),h.Gf(fn,5)),2&ae){let xe;h.iGM(xe=h.CRH())&&(X.monthView=xe.first),h.iGM(xe=h.CRH())&&(X.yearView=xe.first),h.iGM(xe=h.CRH())&&(X.multiYearView=xe.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[h._Bn([fe]),h.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(ae,X){1&ae&&(h.YNc(0,nn,0,0,"ng-template",0),h.TgZ(1,"div",1),h.YNc(2,wr,1,11,"mat-month-view",2),h.YNc(3,eo,1,6,"mat-year-view",3),h.YNc(4,Fa,1,6,"mat-multi-year-view",4),h.qZA()),2&ae&&(h.Q6J("cdkPortalOutlet",X._calendarHeaderPortal),h.xp6(1),h.Q6J("ngSwitch",X.currentView),h.xp6(1),h.Q6J("ngSwitchCase","month"),h.xp6(1),h.Q6J("ngSwitchCase","year"),h.xp6(1),h.Q6J("ngSwitchCase","multi-year"))},dependencies:[jt.RF,jt.n9,R.kH,Dt.Pl,Ge,yn,fn],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return Oe})();const no={transformPanel:(0,Kn.X$)("transformPanel",[(0,Kn.eR)("void => enter-dropdown",(0,Kn.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Kn.F4)([(0,Kn.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,Kn.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,Kn.eR)("void => enter-dialog",(0,Kn.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Kn.F4)([(0,Kn.oB)({opacity:0,transform:"scale(0.7)"}),(0,Kn.oB)({transform:"none",opacity:1})]))),(0,Kn.eR)("* => void",(0,Kn.jt)("100ms linear",(0,Kn.oB)({opacity:0})))]),fadeInCalendar:(0,Kn.X$)("fadeInCalendar",[(0,Kn.SB)("void",(0,Kn.oB)({opacity:0})),(0,Kn.SB)("enter",(0,Kn.oB)({opacity:1})),(0,Kn.eR)("void => *",(0,Kn.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let ro=0;const bh=new h.OlP("mat-datepicker-scroll-strategy"),zc={provide:bh,deps:[G.aV],useFactory:function dc(Oe){return()=>Oe.scrollStrategies.reposition()}},Nn=(0,Wt.pj)(class{constructor(Oe){this._elementRef=Oe}});let Gc=(()=>{class Oe extends Nn{constructor(k,ae,X,xe,tt,Mi){super(k),this._changeDetectorRef=ae,this._globalModel=X,this._dateAdapter=xe,this._rangeSelectionStrategy=tt,this._subscriptions=new qi.w0,this._animationDone=new _t.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=Mi.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(k){const ae=this._model.selection,X=k.value,xe=ae instanceof zr;if(xe&&this._rangeSelectionStrategy){const tt=this._rangeSelectionStrategy.selectionFinished(X,ae,k.event);this._model.updateSelection(tt,this)}else X&&(xe||!this._dateAdapter.sameDate(X,ae))&&this._model.add(X);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(k){this._model.updateSelection(k.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(k){this._isAnimating="start"===k.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(k,ae){this._model=k?this._globalModel.clone():this._globalModel,this._actionsPortal=k,ae&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(Qs),h.Y36(Wt._A),h.Y36(pi,8),h.Y36(ka))};static#t=this.\u0275cmp=h.Xpm({type:Oe,selectors:[["mat-datepicker-content"]],viewQuery:function(ae,X){if(1&ae&&h.Gf(bo,5),2&ae){let xe;h.iGM(xe=h.CRH())&&(X._calendar=xe.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(ae,X){1&ae&&h.WFA("@transformPanel.start",function(tt){return X._handleAnimationEvent(tt)})("@transformPanel.done",function(tt){return X._handleAnimationEvent(tt)}),2&ae&&(h.d8E("@transformPanel",X._animationState),h.ekj("mat-datepicker-content-touch",X.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[h.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(ae,X){if(1&ae&&(h.TgZ(0,"div",0)(1,"mat-calendar",1),h.NdJ("yearSelected",function(tt){return X.datepicker._selectYear(tt)})("monthSelected",function(tt){return X.datepicker._selectMonth(tt)})("viewChanged",function(tt){return X.datepicker._viewChanged(tt)})("_userSelection",function(tt){return X._handleUserSelection(tt)})("_userDragDrop",function(tt){return X._handleUserDragDrop(tt)}),h.qZA(),h.YNc(2,to,0,0,"ng-template",2),h.TgZ(3,"button",3),h.NdJ("focus",function(){return X._closeButtonFocused=!0})("blur",function(){return X._closeButtonFocused=!1})("click",function(){return X.datepicker.close()}),h._uU(4),h.qZA()()),2&ae){let xe;h.ekj("mat-datepicker-content-container-with-custom-header",X.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",X._actionsPortal),h.uIk("aria-modal",!0)("aria-labelledby",null!==(xe=X._dialogLabelId)&&void 0!==xe?xe:void 0),h.xp6(1),h.Q6J("id",X.datepicker.id)("ngClass",X.datepicker.panelClass)("startAt",X.datepicker.startAt)("startView",X.datepicker.startView)("minDate",X.datepicker._getMinDate())("maxDate",X.datepicker._getMaxDate())("dateFilter",X.datepicker._getDateFilter())("headerComponent",X.datepicker.calendarHeaderComponent)("selected",X._getSelected())("dateClass",X.datepicker.dateClass)("comparisonStart",X.comparisonStart)("comparisonEnd",X.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",X.startDateAccessibleName)("endDateAccessibleName",X.endDateAccessibleName),h.xp6(1),h.Q6J("cdkPortalOutlet",X._actionsPortal),h.xp6(1),h.ekj("cdk-visually-hidden",!X._closeButtonFocused),h.Q6J("color",X.color||"primary"),h.xp6(1),h.Oqu(X._closeButtonText)}},dependencies:[jt.mk,Qt.lW,R.mK,Dt.Pl,bo],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[no.transformPanel,no.fadeInCalendar]},changeDetection:0})}return Oe})(),fc=(()=>{class Oe{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(k){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(k){this._color=k}get touchUi(){return this._touchUi}set touchUi(k){this._touchUi=(0,Jn.Ig)(k)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(k){const ae=(0,Jn.Ig)(k);ae!==this._disabled&&(this._disabled=ae,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(k){this._restoreFocus=(0,Jn.Ig)(k)}get panelClass(){return this._panelClass}set panelClass(k){this._panelClass=(0,Jn.du)(k)}get opened(){return this._opened}set opened(k){(0,Jn.Ig)(k)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(k,ae,X,xe,tt,Mi,gs){this._overlay=k,this._ngZone=ae,this._viewContainerRef=X,this._dateAdapter=tt,this._dir=Mi,this._model=gs,this._inputStateChanges=qi.w0.EMPTY,this._document=(0,h.f3M)(jt.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new h.vpe,this.monthSelected=new h.vpe,this.viewChanged=new h.vpe(!0),this.openedStream=new h.vpe,this.closedStream=new h.vpe,this._opened=!1,this.id="mat-datepicker-"+ro++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new _t.x,this._scrollStrategy=xe}ngOnChanges(k){const ae=k.xPosition||k.yPosition;if(ae&&!ae.firstChange&&this._overlayRef){const X=this._overlayRef.getConfig().positionStrategy;X instanceof G._G&&(this._setConnectedPositions(X),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(k){this._model.add(k)}_selectYear(k){this.yearSelected.emit(k)}_selectMonth(k){this.monthSelected.emit(k)}_viewChanged(k){this.viewChanged.emit(k)}registerInput(k){return this._inputStateChanges.unsubscribe(),this.datepickerInput=k,this._inputStateChanges=k.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(k){this._actionsPortal=k,this._componentRef?.instance._assignActions(k,!0)}removeActions(k){k===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,sn.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const k=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,ae=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:X,location:xe}=this._componentRef;X._startExitAnimation(),X._animationDone.pipe((0,an.q)(1)).subscribe(()=>{const tt=this._document.activeElement;k&&(!tt||tt===this._document.activeElement||xe.nativeElement.contains(tt))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}k?setTimeout(ae):ae()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(k){k.datepicker=this,k.color=this.color,k._dialogLabelId=this.datepickerInput.getOverlayLabelId(),k._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const k=this.touchUi,ae=new Dt.C5(Gc,this._viewContainerRef),X=this._overlayRef=this._overlay.create(new G.X_({positionStrategy:k?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[k?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:k?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(k?"dialog":"popup")}));this._getCloseStream(X).subscribe(xe=>{xe&&xe.preventDefault(),this.close()}),X.keydownEvents().subscribe(xe=>{const tt=xe.keyCode;(tt===Lt.LH||tt===Lt.JH||tt===Lt.oh||tt===Lt.SV||tt===Lt.Ku||tt===Lt.VM)&&xe.preventDefault()}),this._componentRef=X.attach(ae),this._forwardContentValues(this._componentRef.instance),k||this._ngZone.onStable.pipe((0,an.q)(1)).subscribe(()=>X.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const k=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(k)}_setConnectedPositions(k){const ae="end"===this.xPosition?"end":"start",X="start"===ae?"end":"start",xe="above"===this.yPosition?"bottom":"top",tt="top"===xe?"bottom":"top";return k.withPositions([{originX:ae,originY:tt,overlayX:ae,overlayY:xe},{originX:ae,originY:xe,overlayX:ae,overlayY:tt},{originX:X,originY:tt,overlayX:X,overlayY:xe},{originX:X,originY:xe,overlayX:X,overlayY:tt}])}_getCloseStream(k){const ae=["ctrlKey","shiftKey","metaKey"];return(0,kn.T)(k.backdropClick(),k.detachments(),k.keydownEvents().pipe((0,Ys.h)(X=>X.keyCode===Lt.hY&&!(0,Lt.Vb)(X)||this.datepickerInput&&(0,Lt.Vb)(X,"altKey")&&X.keyCode===Lt.LH&&ae.every(xe=>!(0,Lt.Vb)(X,xe)))))}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(G.aV),h.Y36(h.R0b),h.Y36(h.s_b),h.Y36(bh),h.Y36(Wt._A,8),h.Y36(Si.Is,8),h.Y36(Qs))};static#t=this.\u0275dir=h.lG2({type:Oe,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[h.TTD]})}return Oe})(),so=(()=>{class Oe extends fc{static#e=this.\u0275fac=function(){let k;return function(X){return(k||(k=h.n5z(Oe)))(X||Oe)}}();static#t=this.\u0275cmp=h.Xpm({type:Oe,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[h._Bn([fe,{provide:fc,useExisting:Oe}]),h.qOj],decls:0,vars:0,template:function(ae,X){},encapsulation:2,changeDetection:0})}return Oe})();class Mr{constructor(ci,k){this.target=ci,this.targetElement=k,this.value=this.target.value}}let ga=(()=>{class Oe{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(k){this._assignValueProgrammatically(k)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(k){const ae=(0,Jn.Ig)(k),X=this._elementRef.nativeElement;this._disabled!==ae&&(this._disabled=ae,this.stateChanges.next(void 0)),ae&&this._isInitialized&&X.blur&&X.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(k){this._model=k,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(ae=>{if(this._shouldHandleChangeEvent(ae)){const X=this._getValueFromModel(ae.selection);this._lastValueValid=this._isValidValue(X),this._cvaOnChange(X),this._onTouched(),this._formatValue(X),this.dateInput.emit(new Mr(this,this._elementRef.nativeElement)),this.dateChange.emit(new Mr(this,this._elementRef.nativeElement))}})}constructor(k,ae,X){this._elementRef=k,this._dateAdapter=ae,this._dateFormats=X,this.dateChange=new h.vpe,this.dateInput=new h.vpe,this.stateChanges=new _t.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=qi.w0.EMPTY,this._localeSubscription=qi.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=xe=>{const tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(xe.value));return!tt||this._matchesFilter(tt)?null:{matDatepickerFilter:!0}},this._minValidator=xe=>{const tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(xe.value)),Mi=this._getMinDate();return!Mi||!tt||this._dateAdapter.compareDate(Mi,tt)<=0?null:{matDatepickerMin:{min:Mi,actual:tt}}},this._maxValidator=xe=>{const tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(xe.value)),Mi=this._getMaxDate();return!Mi||!tt||this._dateAdapter.compareDate(Mi,tt)>=0?null:{matDatepickerMax:{max:Mi,actual:tt}}},this._lastValueValid=!1,this._localeSubscription=ae.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(k){(function pc(Oe,ci){const k=Object.keys(Oe);for(let ae of k){const{previousValue:X,currentValue:xe}=Oe[ae];if(!ci.isDateInstance(X)||!ci.isDateInstance(xe))return!0;if(!ci.sameDate(X,xe))return!0}return!1})(k,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(k){this._validatorOnChange=k}validate(k){return this._validator?this._validator(k):null}writeValue(k){this._assignValueProgrammatically(k)}registerOnChange(k){this._cvaOnChange=k}registerOnTouched(k){this._onTouched=k}setDisabledState(k){this.disabled=k}_onKeydown(k){(0,Lt.Vb)(k,"altKey")&&k.keyCode===Lt.JH&&["ctrlKey","shiftKey","metaKey"].every(xe=>!(0,Lt.Vb)(k,xe))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),k.preventDefault())}_onInput(k){const ae=this._lastValueValid;let X=this._dateAdapter.parse(k,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(X),X=this._dateAdapter.getValidDateOrNull(X);const xe=!this._dateAdapter.sameDate(X,this.value);!X||xe?this._cvaOnChange(X):(k&&!this.value&&this._cvaOnChange(X),ae!==this._lastValueValid&&this._validatorOnChange()),xe&&(this._assignValue(X),this.dateInput.emit(new Mr(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Mr(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(k){this._elementRef.nativeElement.value=null!=k?this._dateAdapter.format(k,this._dateFormats.display.dateInput):""}_assignValue(k){this._model?(this._assignValueToModel(k),this._pendingValue=null):this._pendingValue=k}_isValidValue(k){return!k||this._dateAdapter.isValid(k)}_parentDisabled(){return!1}_assignValueProgrammatically(k){k=this._dateAdapter.deserialize(k),this._lastValueValid=this._isValidValue(k),k=this._dateAdapter.getValidDateOrNull(k),this._assignValue(k),this._formatValue(k)}_matchesFilter(k){const ae=this._getDateFilter();return!ae||ae(k)}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(h.SBq),h.Y36(Wt._A,8),h.Y36(Wt.sG,8))};static#t=this.\u0275dir=h.lG2({type:Oe,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[h.TTD]})}return Oe})();const sA={provide:ni.JU,useExisting:(0,h.Gpc)(()=>Yc),multi:!0},La={provide:ni.Cf,useExisting:(0,h.Gpc)(()=>Yc),multi:!0};let Yc=(()=>{class Oe extends ga{set matDatepicker(k){k&&(this._datepicker=k,this._closedSubscription=k.closedStream.subscribe(()=>this._onTouched()),this._registerModel(k.registerInput(this)))}get min(){return this._min}set min(k){const ae=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k));this._dateAdapter.sameDate(ae,this._min)||(this._min=ae,this._validatorOnChange())}get max(){return this._max}set max(k){const ae=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(k));this._dateAdapter.sameDate(ae,this._max)||(this._max=ae,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(k){const ae=this._matchesFilter(this.value);this._dateFilter=k,this._matchesFilter(this.value)!==ae&&this._validatorOnChange()}constructor(k,ae,X,xe){super(k,ae,X),this._formField=xe,this._closedSubscription=qi.w0.EMPTY,this._validator=ni.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(k){return k}_assignValueToModel(k){this._model&&this._model.updateSelection(k,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(k){return k.source!==this}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(h.SBq),h.Y36(Wt._A,8),h.Y36(Wt.sG,8),h.Y36(Hr.G_,8))};static#t=this.\u0275dir=h.lG2({type:Oe,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(ae,X){1&ae&&h.NdJ("input",function(tt){return X._onInput(tt.target.value)})("change",function(){return X._onChange()})("blur",function(){return X._onBlur()})("keydown",function(tt){return X._onKeydown(tt)}),2&ae&&(h.Ikx("disabled",X.disabled),h.uIk("aria-haspopup",X._datepicker?"dialog":null)("aria-owns",(null==X._datepicker?null:X._datepicker.opened)&&X._datepicker.id||null)("min",X.min?X._dateAdapter.toIso8601(X.min):null)("max",X.max?X._dateAdapter.toIso8601(X.max):null)("data-mat-calendar",X._datepicker?X._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[h._Bn([sA,La,{provide:Vr.Jk,useExisting:Oe}]),h.qOj]})}return Oe})(),Wc=(()=>{class Oe{static#e=this.\u0275fac=function(ae){return new(ae||Oe)};static#t=this.\u0275dir=h.lG2({type:Oe,selectors:[["","matDatepickerToggleIcon",""]]})}return Oe})(),Vc=(()=>{class Oe{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(k){this._disabled=(0,Jn.Ig)(k)}constructor(k,ae,X){this._intl=k,this._changeDetectorRef=ae,this._stateChanges=qi.w0.EMPTY;const xe=Number(X);this.tabIndex=xe||0===xe?xe:null}ngOnChanges(k){k.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(k){this.datepicker&&!this.disabled&&(this.datepicker.open(),k.stopPropagation())}_watchStateChanges(){const k=this.datepicker?this.datepicker.stateChanges:(0,Et.of)(),ae=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Et.of)(),X=this.datepicker?(0,kn.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Et.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,kn.T)(this._intl.changes,k,ae,X).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(ae){return new(ae||Oe)(h.Y36(ka),h.Y36(h.sBO),h.$8M("tabindex"))};static#t=this.\u0275cmp=h.Xpm({type:Oe,selectors:[["mat-datepicker-toggle"]],contentQueries:function(ae,X,xe){if(1&ae&&h.Suo(xe,Wc,5),2&ae){let tt;h.iGM(tt=h.CRH())&&(X._customIcon=tt.first)}},viewQuery:function(ae,X){if(1&ae&&h.Gf(El,5),2&ae){let xe;h.iGM(xe=h.CRH())&&(X._button=xe.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(ae,X){1&ae&&h.NdJ("click",function(tt){return X._open(tt)}),2&ae&&(h.uIk("tabindex",null)("data-mat-calendar",X.datepicker?X.datepicker.id:null),h.ekj("mat-datepicker-toggle-active",X.datepicker&&X.datepicker.opened)("mat-accent",X.datepicker&&"accent"===X.datepicker.color)("mat-warn",X.datepicker&&"warn"===X.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[h.TTD],ngContentSelectors:ms,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(ae,X){1&ae&&(h.F$t(pa),h.TgZ(0,"button",0,1),h.YNc(2,Ml,2,0,"svg",2),h.Hsn(3),h.qZA()),2&ae&&(h.Q6J("disabled",X.disabled)("disableRipple",X.disableRipple),h.uIk("aria-haspopup",X.datepicker?"dialog":null)("aria-label",X.ariaLabel||X._intl.openCalendarLabel)("tabindex",X.disabled?-1:X.tabIndex),h.xp6(2),h.Q6J("ngIf",!X._customIcon))},dependencies:[jt.O5,Qt.RK],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Oe})(),Dn=(()=>{class Oe{static#e=this.\u0275fac=function(ae){return new(ae||Oe)};static#t=this.\u0275mod=h.oAB({type:Oe});static#i=this.\u0275inj=h.cJS({providers:[ka,zc],imports:[jt.ez,Qt.ot,G.U8,R.rt,Dt.eL,Wt.BQ,Bi.ZD]})}return Oe})()},4424:(ti,_i,ge)=>{"use strict";ge.d(_i,{NW:()=>fa,TU:()=>zl});var R=ge(6733),G=ge(755),Dt=ge(8748),jt=ge(393),h=ge(8675),Qt=ge(5191),Bi=ge(4220),Wt=ge(2561),_t=ge(6125);function qi(on,Ia){if(1&on&&(G.TgZ(0,"mat-option",19),G._uU(1),G.qZA()),2&on){const li=Ia.$implicit;G.Q6J("value",li),G.xp6(1),G.hij(" ",li," ")}}function kn(on,Ia){if(1&on){const li=G.EpF();G.TgZ(0,"mat-form-field",16)(1,"mat-select",17),G.NdJ("selectionChange",function(nn){G.CHM(li);const wr=G.oxw(2);return G.KtG(wr._changePageSize(nn.value))}),G.YNc(2,qi,2,2,"mat-option",18),G.qZA()()}if(2&on){const li=G.oxw(2);G.Q6J("appearance",li._formFieldAppearance)("color",li.color),G.xp6(1),G.Q6J("value",li.pageSize)("disabled",li.disabled)("aria-labelledby",li._pageSizeLabelId)("panelClass",li.selectConfig.panelClass||"")("disableOptionCentering",li.selectConfig.disableOptionCentering),G.xp6(1),G.Q6J("ngForOf",li._displayedPageSizeOptions)}}function Et(on,Ia){if(1&on&&(G.TgZ(0,"div",20),G._uU(1),G.qZA()),2&on){const li=G.oxw(2);G.xp6(1),G.Oqu(li.pageSize)}}function Lt(on,Ia){if(1&on&&(G.TgZ(0,"div",12)(1,"div",13),G._uU(2),G.qZA(),G.YNc(3,kn,3,8,"mat-form-field",14),G.YNc(4,Et,2,1,"div",15),G.qZA()),2&on){const li=G.oxw();G.xp6(1),G.s9C("id",li._pageSizeLabelId),G.xp6(1),G.hij(" ",li._intl.itemsPerPageLabel," "),G.xp6(1),G.Q6J("ngIf",li._displayedPageSizeOptions.length>1),G.xp6(1),G.Q6J("ngIf",li._displayedPageSizeOptions.length<=1)}}function Si(on,Ia){if(1&on){const li=G.EpF();G.TgZ(0,"button",21),G.NdJ("click",function(){G.CHM(li);const nn=G.oxw();return G.KtG(nn.firstPage())}),G.O4$(),G.TgZ(1,"svg",7),G._UZ(2,"path",22),G.qZA()()}if(2&on){const li=G.oxw();G.Q6J("matTooltip",li._intl.firstPageLabel)("matTooltipDisabled",li._previousButtonsDisabled())("matTooltipPosition","above")("disabled",li._previousButtonsDisabled()),G.uIk("aria-label",li._intl.firstPageLabel)}}function sn(on,Ia){if(1&on){const li=G.EpF();G.O4$(),G.kcU(),G.TgZ(0,"button",23),G.NdJ("click",function(){G.CHM(li);const nn=G.oxw();return G.KtG(nn.lastPage())}),G.O4$(),G.TgZ(1,"svg",7),G._UZ(2,"path",24),G.qZA()()}if(2&on){const li=G.oxw();G.Q6J("matTooltip",li._intl.lastPageLabel)("matTooltipDisabled",li._nextButtonsDisabled())("matTooltipPosition","above")("disabled",li._nextButtonsDisabled()),G.uIk("aria-label",li._intl.lastPageLabel)}}let an=(()=>{class on{constructor(){this.changes=new Dt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(li,Zn,nn)=>{if(0==nn||0==Zn)return`0 of ${nn}`;const wr=li*Zn;return`${wr+1} \u2013 ${wr<(nn=Math.max(nn,0))?Math.min(wr+Zn,nn):wr+Zn} of ${nn}`}}static#e=this.\u0275fac=function(Zn){return new(Zn||on)};static#t=this.\u0275prov=G.Yz7({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})();const Ys={provide:an,deps:[[new G.FiY,new G.tp0,an]],useFactory:function Fr(on){return on||new an}},ni=new G.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Hr=(0,Bi.Id)((0,Bi.dB)(class{}));let Vr=(()=>{class on extends Hr{get pageIndex(){return this._pageIndex}set pageIndex(li){this._pageIndex=Math.max((0,Wt.su)(li),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(li){this._length=(0,Wt.su)(li),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(li){this._pageSize=Math.max((0,Wt.su)(li),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(li){this._pageSizeOptions=(li||[]).map(Zn=>(0,Wt.su)(Zn)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(li){this._hidePageSize=(0,Wt.Ig)(li)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(li){this._showFirstLastButtons=(0,Wt.Ig)(li)}constructor(li,Zn,nn){if(super(),this._intl=li,this._changeDetectorRef=Zn,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new G.vpe,this._intlChanges=li.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),nn){const{pageSize:wr,pageSizeOptions:eo,hidePageSize:Fa,showFirstLastButtons:to}=nn;null!=wr&&(this._pageSize=wr),null!=eo&&(this._pageSizeOptions=eo),null!=Fa&&(this._hidePageSize=Fa),null!=to&&(this._showFirstLastButtons=to)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const li=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(li)}previousPage(){if(!this.hasPreviousPage())return;const li=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(li)}firstPage(){if(!this.hasPreviousPage())return;const li=this.pageIndex;this.pageIndex=0,this._emitPageEvent(li)}lastPage(){if(!this.hasNextPage())return;const li=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(li)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const li=this.getNumberOfPages()-1;return this.pageIndex<li&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(li){const nn=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/li)||0,this.pageSize=li,this._emitPageEvent(nn)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((li,Zn)=>li-Zn),this._changeDetectorRef.markForCheck())}_emitPageEvent(li){this.page.emit({previousPageIndex:li,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(Zn){G.$Z()};static#t=this.\u0275dir=G.lG2({type:on,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[G.qOj]})}return on})(),Oo=0,fa=(()=>{class on extends Vr{constructor(li,Zn,nn){super(li,Zn,nn),this._pageSizeLabelId="mat-paginator-page-size-label-"+Oo++,this._formFieldAppearance=nn?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(Zn){return new(Zn||on)(G.Y36(an),G.Y36(G.sBO),G.Y36(ni,8))};static#t=this.\u0275cmp=G.Xpm({type:on,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[G.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(Zn,nn){1&Zn&&(G.TgZ(0,"div",0)(1,"div",1),G.YNc(2,Lt,5,4,"div",2),G.TgZ(3,"div",3)(4,"div",4),G._uU(5),G.qZA(),G.YNc(6,Si,3,5,"button",5),G.TgZ(7,"button",6),G.NdJ("click",function(){return nn.previousPage()}),G.O4$(),G.TgZ(8,"svg",7),G._UZ(9,"path",8),G.qZA()(),G.kcU(),G.TgZ(10,"button",9),G.NdJ("click",function(){return nn.nextPage()}),G.O4$(),G.TgZ(11,"svg",7),G._UZ(12,"path",10),G.qZA()(),G.YNc(13,sn,3,5,"button",11),G.qZA()()()),2&Zn&&(G.xp6(2),G.Q6J("ngIf",!nn.hidePageSize),G.xp6(3),G.hij(" ",nn._intl.getRangeLabel(nn.pageIndex,nn.pageSize,nn.length)," "),G.xp6(1),G.Q6J("ngIf",nn.showFirstLastButtons),G.xp6(1),G.Q6J("matTooltip",nn._intl.previousPageLabel)("matTooltipDisabled",nn._previousButtonsDisabled())("matTooltipPosition","above")("disabled",nn._previousButtonsDisabled()),G.uIk("aria-label",nn._intl.previousPageLabel),G.xp6(3),G.Q6J("matTooltip",nn._intl.nextPageLabel)("matTooltipDisabled",nn._nextButtonsDisabled())("matTooltipPosition","above")("disabled",nn._nextButtonsDisabled()),G.uIk("aria-label",nn._intl.nextPageLabel),G.xp6(3),G.Q6J("ngIf",nn.showFirstLastButtons))},dependencies:[R.sg,R.O5,jt.RK,_t.KE,h.gD,Bi.ey,Qt.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return on})(),zl=(()=>{class on{static#e=this.\u0275fac=function(Zn){return new(Zn||on)};static#t=this.\u0275mod=G.oAB({type:on});static#i=this.\u0275inj=G.cJS({providers:[Ys],imports:[R.ez,jt.ot,h.LD,Qt.AV]})}return on})()},5464:(ti,_i,ge)=>{"use strict";function R(G){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Dt){return typeof Dt}:function(Dt){return Dt&&"function"==typeof Symbol&&Dt.constructor===Symbol&&Dt!==Symbol.prototype?"symbol":typeof Dt})(G)}ge.d(_i,{Z:()=>R})}}]);