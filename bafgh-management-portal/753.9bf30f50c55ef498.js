"use strict";(self.webpackChunkbafgh_management_portal=self.webpackChunkbafgh_management_portal||[]).push([[753],{7753:(dt,P,i)=>{i.r(P),i.d(P,{AuthModule:()=>it});var l=i(6814),p=i(1896),L=i(8942),m=i(5861),s=i(6223),C=i(2890),u=i(2426),t=i(5879),y=i(7080),v=i(9483),Z=i(265),T=i(8672),A=i(9255),O=i(3718),b=i(5565),M=i(617),F=i(2032),d=i(9157),g=i(2296),k=i(7069),I=i(4537);const q=["captcha"];function S(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Email is required.")," "))}function R(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Old Password is required.")," "))}function U(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Old Password must be at least 8 characters long.")," "))}function J(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Old Password cannot be more than 20 characters long.")," "))}function E(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Old Password must contain at least one uppercase letter, one lowercase letter, one number, and one specialcharacter.")," "))}function N(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"New password is required.")," "))}function Y(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"New password must be at least 8 characters long.")," "))}function Q(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"New password cannot be more than 20 characters long.")," "))}function j(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"New password must contain at least one uppercase letter, one lowercase letter, one number, and one special character.")," "))}function H(o,c){if(1&o&&(t.ynx(0),t._UZ(1,"app-captcha",15,16),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("cipherInput",e.formControls.cipher)("captchaInput",e.formControls.captcha)}}const G=function(o){return{"count-down-mode":o}};function B(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"form",5),t.NdJ("submit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.resetPassword())}),t.TgZ(1,"mat-form-field",6)(2,"mat-label"),t._uU(3),t.ALo(4,"myTranslation"),t.qZA(),t._UZ(5,"input",7),t.YNc(6,S,3,3,"mat-error",8),t.qZA(),t.TgZ(7,"mat-form-field",6)(8,"mat-label"),t._uU(9),t.ALo(10,"myTranslation"),t.qZA(),t._UZ(11,"input",9),t.TgZ(12,"button",10),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.oldHide=!n.oldHide)}),t.TgZ(13,"mat-icon"),t._uU(14),t.qZA()(),t.TgZ(15,"mat-hint"),t._uU(16),t.ALo(17,"myTranslation"),t.qZA(),t.YNc(18,R,3,3,"mat-error",8),t.YNc(19,U,3,3,"mat-error",8),t.YNc(20,J,3,3,"mat-error",8),t.YNc(21,E,3,3,"mat-error",8),t.qZA(),t.TgZ(22,"mat-form-field",6)(23,"mat-label"),t._uU(24),t.ALo(25,"myTranslation"),t.qZA(),t._UZ(26,"input",11),t.TgZ(27,"button",10),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.newHide=!n.newHide)}),t.TgZ(28,"mat-icon"),t._uU(29),t.qZA()(),t.TgZ(30,"mat-hint"),t._uU(31),t.ALo(32,"myTranslation"),t.qZA(),t.YNc(33,N,3,3,"mat-error",8),t.YNc(34,Y,3,3,"mat-error",8),t.YNc(35,Q,3,3,"mat-error",8),t.YNc(36,j,3,3,"mat-error",8),t.qZA(),t.YNc(37,H,3,2,"ng-container",8),t.TgZ(38,"mat-form-field",6)(39,"button",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSendCode())}),t._uU(40),t.qZA(),t.TgZ(41,"mat-label"),t._uU(42),t.ALo(43,"myTranslation"),t.qZA(),t._UZ(44,"input",13),t.qZA(),t.TgZ(45,"button",14),t._uU(46),t.ALo(47,"myTranslation"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.resetPasswordForm),t.xp6(3),t.Oqu(t.lcZ(4,31,"Email")),t.xp6(3),t.Q6J("ngIf",e.resetPasswordForm.get("email").hasError("required")),t.xp6(3),t.Oqu(t.lcZ(10,33,"Enter your Old password")),t.xp6(2),t.Q6J("type",e.oldHide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide Old Password")("aria-pressed",e.oldHide),t.xp6(2),t.Oqu(e.oldHide?"visibility_off":"visibility"),t.xp6(2),t.hij(" ",t.lcZ(17,35,"Old Password character should be between 8 and 20"),". "),t.xp6(2),t.Q6J("ngIf",e.resetPasswordForm.get("oldPassword").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.resetPasswordForm.get("oldPassword").hasError("minlength")),t.xp6(1),t.Q6J("ngIf",e.resetPasswordForm.get("oldPassword").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",e.resetPasswordForm.get("oldPassword").hasError("strongPassword")),t.xp6(3),t.Oqu(t.lcZ(25,37,"Enter your new Password")),t.xp6(2),t.Q6J("type",e.newHide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide New Password")("aria-pressed",e.newHide),t.xp6(2),t.Oqu(e.newHide?"visibility_off":"visibility"),t.xp6(2),t.hij(" ",t.lcZ(32,39,"New password characters should be between 8 and 20"),". "),t.xp6(2),t.Q6J("ngIf",e.resetPasswordForm.get("newPassword").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.resetPasswordForm.get("newPassword").hasError("minlength")),t.xp6(1),t.Q6J("ngIf",e.resetPasswordForm.get("newPassword").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",e.resetPasswordForm.get("newPassword").hasError("strongPassword")),t.xp6(1),t.Q6J("ngIf","true"===e.CaptchaActivationStatus),t.xp6(2),t.Q6J("ngClass",t.VKq(45,G,e.countdown))("disabled",0!==e.countdown||e.resetPasswordForm.controls.email.invalid||"true"===e.CaptchaActivationStatus&&e.resetPasswordForm.controls.captcha.invalid),t.xp6(1),t.hij(" ",e.displayTime," "),t.xp6(2),t.Oqu(t.lcZ(43,41,"Verification code")),t.xp6(2),t.Q6J("disabled",e.otpLoading),t.xp6(1),t.Q6J("disabled",e.resetPasswordForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(47,43,"Reset Password")," ")}}let z=(()=>{class o{constructor(e,r,n,a,f,h,_,w,x){this._router=e,this._otpService=r,this._formBuilder=n,this._authService=a,this._httpService=f,this._spinner=h,this._notify=_,this._localeService=w,this._configService=x,this.resetPasswordForm=null,this.oldHide=!0,this.newHide=!0,this.CaptchaActivationStatus="true",this.isLoading=!0,this.countdown=0,this.displayTime="Send code",this.otpLoading=!1,this._httpService.getTokens()&&this._authService.logout()}ngOnInit(){this.initForm()}initForm(){var e=this;return(0,m.Z)(function*(){e.isLoading=!0,e.resetPasswordForm=e._formBuilder.group({email:["",[s.kI.required,s.kI.email]],oldPassword:["",[s.kI.required]],newPassword:[null,[s.kI.required,s.kI.minLength(8),s.kI.maxLength(20),C.p.strongPassword()]],token:["",[s.kI.required]],portal:[u.N.PORTAL,s.kI.required]});const r=yield e._configService.getPublicConfigs(["CaptchaActivationStatus"]);r&&r.length&&r.find(n=>n.key.includes("CaptchaActivationStatus"))&&(e.CaptchaActivationStatus=r.find(n=>n.key.includes("CaptchaActivationStatus"))?.value?.toLowerCase()),"true"===e.CaptchaActivationStatus&&(e.resetPasswordForm.addControl("captcha",e._formBuilder.control("",s.kI.required)),e.resetPasswordForm.addControl("cipher",e._formBuilder.control("",s.kI.required))),e.isLoading=!1})()}get formControls(){return this.resetPasswordForm?.controls}resetPassword(){var e=this;return(0,m.Z)(function*(){if(e.resetPasswordForm)if(e.resetPasswordForm.valid){e._spinner.show();let r={...e.resetPasswordForm.getRawValue()};const n=r.token;delete r.token;const a=yield e._authService.resetExpiredPassword(n,r);e._notify.snack(a.message),e._spinner.hide(),a&&a.success?(e._router.navigateByUrl("/auth/login"),e._notify.snack(a.data&&a.data?.message?a.data?.message:a.message)):e._notify.snack(a.message)}else e._notify.snack("Please insert Valid Data!")})()}onSendCode(){var e=this;return(0,m.Z)(function*(){if(!e.resetPasswordForm)return;e.otpLoading=!0,e.otpTimer=yield e._configService.getOTPTimer();let r={username:e.resetPasswordForm.value.email,tokenType:"ForgotPassword",portal:u.N.PORTAL};"true"===e.CaptchaActivationStatus&&(r.captcha=e.resetPasswordForm.value.captcha,r.cipher=e.resetPasswordForm.value.cipher);const n=yield e._otpService.getOtpPublic(r);n&&n.success&&e.startCountDown(),e.captcha.getCaptcha(),e.otpLoading=!1})()}startCountDown(){this.countdown=this.otpTimer??300;const e=setInterval(()=>{this.countdown--;const r=Math.floor(this.countdown/60),n=this.countdown%60;this.displayTime=`0${r}:${n<10?"0":""}${n}`,this.countdown<=0&&(this.displayTime="Send the code",clearInterval(e))},1e3)}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(p.F0),t.Y36(y.Z),t.Y36(s.qu),t.Y36(v.e),t.Y36(Z.O),t.Y36(T.t2),t.Y36(A.d),t.Y36(O.O),t.Y36(b.E))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-reset-expired-password"]],viewQuery:function(r,n){if(1&r&&t.Gf(q,5),2&r){let a;t.iGM(a=t.CRH())&&(n.captcha=a.first)}},decls:8,vars:4,consts:[[1,"container"],[1,"forget-page"],["src","/assets/shared/images/forget.svg"],[1,"form"],["class","example-form",3,"formGroup","submit",4,"ngIf"],[1,"example-form",3,"formGroup","submit"],[2,"width","100%"],["formControlName","email","matInput",""],[4,"ngIf"],["matInput","","formControlName","oldPassword",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","newPassword",3,"type"],["matPrefix","","mat-raised-button","","type","button","color","primary",1,"code-button",3,"ngClass","disabled","click"],["matInput","","type","text","formControlName","token",1,"otp",3,"disabled"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],[3,"cipherInput","captchaInput"],["captcha",""]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"myTranslation"),t.qZA(),t.YNc(7,B,48,47,"form",4),t.qZA()()()),2&r&&(t.xp6(5),t.Oqu(t.lcZ(6,2,"Reset Your Password")),t.xp6(2),t.Q6J("ngIf",n.resetPasswordForm&&!n.isLoading))},dependencies:[l.mk,l.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,M.Hw,F.Nt,d.KE,d.hX,d.bx,d.TO,d.qo,d.R9,g.lW,g.RK,k.h,I.X],styles:[".container[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;align-items:center;justify-content:center;padding:1.25rem 2rem}.forget-page[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;grid-template-rows:40% 60%;border-radius:12px;box-shadow:0 0 10px 12px #00000040}.forget-page[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;background-color:#f0efef;padding:1rem;border-radius:12px 12px 0 0}.form[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow-y:auto;background-color:#fff;padding:2rem;border-radius:0 0 12px 12px}.form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#111;font-size:22px}.form[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center;color:#747373;font-size:15px}.form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.code-button[_ngcontent-%COMP%]{height:55px;min-width:100px;font-size:12px}.goto-login[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column;align-items:flex-start;width:95%}.goto-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;cursor:pointer}@media (min-width: 922px){.forget-page[_ngcontent-%COMP%]{display:flex}.forget-page[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;border-radius:12px 0 0 12px}.forget-page[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.forget-page[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:22px;line-height:30px}.forget-page[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}}@media only screen and (max-width: 1000px){form[_ngcontent-%COMP%]{justify-content:space-evenly;max-width:350px}.goto-login[_ngcontent-%COMP%]{max-width:350px}.container[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;min-width:100%;max-width:100%!important}}  .mat-mdc-form-field-error-wrapper{position:relative!important;margin-top:-1rem;margin-bottom:1rem}"]})}return o})();var K=i(9388);const V=["captcha"];function D(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Email is required.")," "))}function X(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Password is required.")," "))}function $(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Password must be at least 8 characters long.")," "))}function W(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Password cannot be more than 20 characters long.")," "))}function tt(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"myTranslation"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character.")," "))}function et(o,c){if(1&o&&(t.ynx(0),t._UZ(1,"app-captcha",16,17),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("cipherInput",e.formControls.cipher)("captchaInput",e.formControls.captcha)}}const ot=function(o){return{"count-down-mode":o}};function rt(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"form",7),t.NdJ("submit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.resetPassword())}),t.TgZ(1,"mat-form-field",8)(2,"mat-label"),t._uU(3),t.ALo(4,"myTranslation"),t.qZA(),t._UZ(5,"input",9),t.YNc(6,D,3,3,"mat-error",10),t.qZA(),t.TgZ(7,"mat-form-field",8)(8,"mat-label"),t._uU(9),t.ALo(10,"myTranslation"),t.qZA(),t._UZ(11,"input",11),t.TgZ(12,"button",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.hide=!n.hide)}),t.TgZ(13,"mat-icon"),t._uU(14),t.qZA()(),t.TgZ(15,"mat-hint"),t._uU(16),t.ALo(17,"myTranslation"),t.qZA(),t.YNc(18,X,3,3,"mat-error",10),t.YNc(19,$,3,3,"mat-error",10),t.YNc(20,W,3,3,"mat-error",10),t.YNc(21,tt,3,3,"mat-error",10),t.qZA(),t.YNc(22,et,3,2,"ng-container",10),t.TgZ(23,"mat-form-field",8)(24,"button",13),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSendCode())}),t._uU(25),t.ALo(26,"myTranslation"),t.qZA(),t.TgZ(27,"mat-label"),t._uU(28),t.ALo(29,"myTranslation"),t.qZA(),t._UZ(30,"input",14),t.qZA(),t.TgZ(31,"button",15),t._uU(32),t.ALo(33,"myTranslation"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.resetPasswordForm)("dir",e.localeService.changeDirection.getValue()),t.xp6(3),t.Oqu(t.lcZ(4,22,"Email")),t.xp6(3),t.Q6J("ngIf",e.resetPasswordForm.get("email").hasError("required")),t.xp6(3),t.Oqu(t.lcZ(10,24,"Enter your new password")),t.xp6(2),t.Q6J("type",e.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide),t.xp6(2),t.Oqu(e.hide?"visibility_off":"visibility"),t.xp6(2),t.hij(" ",t.lcZ(17,26,"Password charecters should be between 8 and 20"),". "),t.xp6(2),t.Q6J("ngIf",e.resetPasswordForm.get("password").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.resetPasswordForm.get("password").hasError("minlength")),t.xp6(1),t.Q6J("ngIf",e.resetPasswordForm.get("password").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",e.resetPasswordForm.get("password").hasError("strongPassword")),t.xp6(1),t.Q6J("ngIf","true"===e.CaptchaActivationStatus),t.xp6(2),t.Q6J("ngClass",t.VKq(34,ot,e.countdown))("disabled",0!==e.countdown||e.resetPasswordForm.controls.email.invalid||"true"===e.CaptchaActivationStatus&&e.resetPasswordForm.controls.captcha.invalid),t.xp6(1),t.hij(" ",t.lcZ(26,28,e.displayTime)," "),t.xp6(3),t.Oqu(t.lcZ(29,30,"Verification code")),t.xp6(2),t.Q6J("disabled",e.otpLoading),t.xp6(1),t.Q6J("disabled",e.resetPasswordForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(33,32,"Reset Password")," ")}}const st=[{path:"login",component:L.G},{path:"forget",component:(()=>{class o{constructor(e,r,n,a,f,h,_,w,x){this._router=e,this._otpService=r,this._httpService=n,this._formBuilder=a,this._authService=f,this.localeService=h,this._spinner=_,this._notify=w,this._configService=x,this.resetPasswordForm=null,this.hide=!0,this.CaptchaActivationStatus="true",this.ForgetPasswordActivationStatus="true",this.isLoading=!0,this.countdown=0,this.displayTime="Send code",this.otpLoading=!1,this._httpService.getTokens()&&this._authService.logout()}ngOnInit(){this.initForm()}initForm(){var e=this;return(0,m.Z)(function*(){e.isLoading=!0,e.resetPasswordForm=e._formBuilder.group({email:["",[s.kI.required,s.kI.email]],password:[null,[s.kI.required,s.kI.minLength(8),s.kI.maxLength(20),C.p.strongPassword()]],token:["",[s.kI.required]],portal:[u.N.PORTAL,s.kI.required]});const r=yield e._configService.getPublicConfigs(["CaptchaActivationStatus","ForgetPasswordActivationStatus"]);r&&r.length&&(r.find(n=>n.key.includes("CaptchaActivationStatus"))&&(e.CaptchaActivationStatus=r.find(n=>n.key.includes("CaptchaActivationStatus"))?.value?.toLowerCase()),r.find(n=>n.key.includes("ForgetPasswordActivationStatus"))&&(e.ForgetPasswordActivationStatus=r.find(n=>n.key.includes("ForgetPasswordActivationStatus"))?.value?.toLowerCase())),"true"!==e.ForgetPasswordActivationStatus&&(e._notify.errorSnack("\u064bReset password is disable!"),e.gotoLink(e.loginRoute)),"true"===e.CaptchaActivationStatus&&(e.resetPasswordForm.addControl("captcha",e._formBuilder.control("",s.kI.required)),e.resetPasswordForm.addControl("cipher",e._formBuilder.control("",s.kI.required))),e.isLoading=!1})()}get formControls(){return this.resetPasswordForm?.controls}resetPassword(){var e=this;return(0,m.Z)(function*(){if(e.resetPasswordForm)if(e.resetPasswordForm.valid){e._spinner.show();let r={...e.resetPasswordForm.getRawValue()};const n=r.token;delete r.token;const a=yield e._authService.resetPassword(n,r);e._notify.snack(a.message),e._spinner.hide(),a&&a.success?(e._router.navigateByUrl("/auth/login"),e._notify.snack(a.data&&a.data?.message?a.data?.message:a.message)):e._notify.snack(a.message)}else e._notify.snack("Please insert Valid Data!")})()}onSendCode(){var e=this;return(0,m.Z)(function*(){if(!e.resetPasswordForm)return;e.otpLoading=!0,e.otpTimer=yield e._configService.getOTPTimer();let r={username:e.resetPasswordForm.value.email,tokenType:"ForgotPassword",portal:u.N.PORTAL};"true"===e.CaptchaActivationStatus&&(r.captcha=e.resetPasswordForm.value.captcha,r.cipher=e.resetPasswordForm.value.cipher);const n=yield e._otpService.getOtpPublic(r);n&&n.success&&e.startCountDown(),e.captcha.getCaptcha(),e.otpLoading=!1})()}startCountDown(){this.countdown=this.otpTimer??300;const e=setInterval(()=>{this.countdown--;const r=Math.floor(this.countdown/60),n=this.countdown%60;this.displayTime=`0${r}:${n<10?"0":""}${n}`,this.countdown<=0&&(this.displayTime="Send the code",clearInterval(e))},1e3)}get loginRoute(){return"/auth/login"}gotoLink(e){this._router.navigateByUrl(e)}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(p.F0),t.Y36(y.Z),t.Y36(Z.O),t.Y36(s.qu),t.Y36(v.e),t.Y36(O.O),t.Y36(T.t2),t.Y36(A.d),t.Y36(b.E))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-reset-password"]],viewQuery:function(r,n){if(1&r&&t.Gf(V,5),2&r){let a;t.iGM(a=t.CRH())&&(n.captcha=a.first)}},decls:12,vars:7,consts:[[1,"container"],[1,"forget-page"],["src","/assets/shared/images/forget.svg"],[1,"form"],["class","example-form",3,"formGroup","dir","submit",4,"ngIf"],[1,"goto-login"],[3,"click"],[1,"example-form",3,"formGroup","dir","submit"],[2,"width","100%"],["formControlName","email","matInput",""],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matPrefix","","mat-raised-button","","type","button","color","primary",1,"code-button",3,"ngClass","disabled","click"],["matInput","","type","text","formControlName","token",1,"otp",3,"disabled"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],[3,"cipherInput","captchaInput"],["captcha",""]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"h1"),t._uU(5),t.ALo(6,"myTranslation"),t.qZA(),t.YNc(7,rt,34,36,"form",4),t.TgZ(8,"div",5)(9,"a",6),t.NdJ("click",function(){return n.gotoLink(n.loginRoute)}),t._uU(10),t.ALo(11,"myTranslation"),t.qZA()()()()()),2&r&&(t.xp6(5),t.Oqu(t.lcZ(6,3,"Reset Your Password")),t.xp6(2),t.Q6J("ngIf",n.resetPasswordForm&&!n.isLoading),t.xp6(3),t.hij(" ",t.lcZ(11,5,"Back to Login")," "))},dependencies:[l.mk,l.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,M.Hw,K.Lv,F.Nt,d.KE,d.hX,d.bx,d.TO,d.qo,d.R9,g.lW,g.RK,k.h,I.X],styles:[".container[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;align-items:center;justify-content:center;padding:1.25rem 2rem;direction:ltr}.forget-page[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;grid-template-rows:40% 60%;border-radius:12px;box-shadow:0 0 10px 12px #00000040}.forget-page[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;background-color:#f0efef;padding:1rem;border-radius:12px 12px 0 0}.form[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow-y:auto;background-color:#fff;padding:2rem;border-radius:0 0 12px 12px}.form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#111;font-size:22px}.form[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center;color:#747373;font-size:15px}.form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.code-button[_ngcontent-%COMP%]{height:55px;min-width:100px;font-size:12px}.goto-login[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column;align-items:flex-start;width:95%}.goto-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;cursor:pointer}@media (min-width: 922px){.forget-page[_ngcontent-%COMP%]{display:flex}.forget-page[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;border-radius:12px 0 0 12px}.forget-page[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.forget-page[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:22px;line-height:30px}.forget-page[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}}@media only screen and (max-width: 1000px){form[_ngcontent-%COMP%]{justify-content:space-evenly;max-width:350px}.goto-login[_ngcontent-%COMP%]{max-width:350px}.container[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;min-width:100%;max-width:100%!important}}  .mat-mdc-form-field-error-wrapper{position:relative!important;margin-top:-1rem;margin-bottom:1rem}"]})}return o})()},{path:"reset-expired-password",component:z},{path:"**",redirectTo:"login",pathMatch:"full"}];let at=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(st),p.Bz]})}return o})(),it=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[l.ez,at]})}return o})()}}]);